!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,c=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={0:0};var i={};var o={XqV8:function(){return{"./index.js":{__wbindgen_memory:function(){return n.p4lg.exports.__wbindgen_memory()},__wbg_new_59cb74e423758ede:function(){return n.p4lg.exports.__wbg_new_59cb74e423758ede()},__wbg_stack_558ba5917b466edd:function(e,t){return n.p4lg.exports.__wbg_stack_558ba5917b466edd(e,t)},__wbg_error_4bb6c2a97407129a:function(e,t){return n.p4lg.exports.__wbg_error_4bb6c2a97407129a(e,t)},__wbindgen_object_drop_ref:function(e){return n.p4lg.exports.__wbindgen_object_drop_ref(e)},__wbindgen_throw:function(e,t){return n.p4lg.exports.__wbindgen_throw(e,t)}}}}};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+""+e+".index.cc816b38a99416e5bfe1.js"}(e);var u=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(h);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[e]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return({1:["XqV8"]}[e]||[]).forEach((function(e){var n=i[e];if(n)t.push(n);else{var r,s=o[e](),c=fetch(a.p+""+{XqV8:"128aecb5579bb96142b2"}[e]+".module.wasm");if(s instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)r=Promise.all([WebAssembly.compileStreaming(c),s]).then((function(e){return WebAssembly.instantiate(e[0],e[1])}));else if("function"==typeof WebAssembly.instantiateStreaming)r=WebAssembly.instantiateStreaming(c,s);else{r=c.then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,s)}))}t.push(i[e]=r.then((function(t){return a.w[e]=(t.instance||t).exports})))}})),Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e},a.w={};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a(a.s="7RL8")}({"+6XX":function(e,t,n){var r=n("y1pI");e.exports=function(e){return r(this.__data__,e)>-1}},"+JPL":function(e,t,n){e.exports={default:n("+SFK"),__esModule:!0}},"+K+b":function(e,t,n){var r=n("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},"+K1i":function(e,t,n){var r=n("UCHQ");n("OqVj")(r,["TFClient"],e.exports={TFClient:n("dzCc")})},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),o=n("cq/+"),a=n("T1AV"),s=n("GoyQ"),c=n("mTTR"),l=n("itsj");e.exports=function e(t,n,u,h,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),s(o))a(t,n,c,u,e,h,d);else{var f=h?h(l(t,c),o,c+"",t,n,d):void 0;void 0===f&&(f=o),i(t,c,f)}}),c)}},"+SFK":function(e,t,n){n("AUvm"),n("wgeU"),n("adOz"),n("dl0q"),e.exports=n("WEpk").Symbol},"+XMi":function(e,t,n){"use strict";(function(t){var r=n("33yf"),i=n("48q5"),o=n("BEtg");e.exports=l;var a={}.hasOwnProperty,s=l.prototype;s.toString=function(e){var t=this.contents||"";return o(t)?t.toString(e):String(t)};var c=["history","path","basename","stem","extname","dirname"];function l(e){var n,r,i;if(e){if("string"==typeof e||o(e))e={contents:e};else if("message"in e&&"messages"in e)return e}else e={};if(!(this instanceof l))return new l(e);for(this.data={},this.messages=[],this.history=[],this.cwd=t.cwd(),r=-1,i=c.length;++r<i;)n=c[r],a.call(e,n)&&(this[n]=e[n]);for(n in e)-1===c.indexOf(n)&&(this[n]=e[n])}function u(e,t){if(-1!==e.indexOf(r.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+r.sep+"`")}function h(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function d(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}Object.defineProperty(s,"path",{get:function(){return this.history[this.history.length-1]},set:function(e){h(e,"path"),e!==this.path&&this.history.push(e)}}),Object.defineProperty(s,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(e){d(this.path,"dirname"),this.path=r.join(e||"",this.basename)}}),Object.defineProperty(s,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(e){h(e,"basename"),u(e,"basename"),this.path=r.join(this.dirname||"",e)}}),Object.defineProperty(s,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(e){var t=e||"";if(u(t,"extname"),d(this.path,"extname"),t){if("."!==t.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==t.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=i(this.path,t)}}),Object.defineProperty(s,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(e){h(e,"stem"),u(e,"stem"),this.path=r.join(this.dirname||"",e+(this.extname||""))}})}).call(this,n("8oxB"))},"+c4W":function(e,t,n){var r=n("711d"),i=n("4/ic"),o=n("9ggG"),a=n("9Nap");e.exports=function(e){return o(e)?r(a(e)):i(e)}},"+hVR":function(e,t,n){"use strict";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,c=a,l=function(e,t){null==t&&(t=u);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o};function u(e,t){return[e,t]}var h=function(e,t,n){var r,i,o,a,s=e.length,c=t.length,l=new Array(s*c);for(null==n&&(n=u),r=o=0;r<s;++r)for(a=e[r],i=0;i<c;++i,++o)l[o]=n(a,t[i]);return l},d=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},f=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,o=0,a=-1,s=0,c=0;if(null==t)for(;++a<i;)isNaN(n=f(e[a]))||(c+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=f(t(e[a],a,e)))||(c+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return c/(o-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},g=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,b=v.map,w=function(e){return function(){return e}},x=function(e){return e},_=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o},E=Math.sqrt(50),S=Math.sqrt(10),C=Math.sqrt(2),A=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=T(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o};function T(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=E?10:o>=S?5:o>=C?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=S?5:o>=C?2:1)}function M(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=E?i*=10:o>=S?i*=5:o>=C&&(i*=2),t<e?-i:i}var k=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},O=function(){var e=x,t=g,n=k;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var l=t(s),u=l[0],h=l[1],d=n(s,u,h);Array.isArray(d)||(d=M(u,h,d),d=_(Math.ceil(u/d)*d,Math.floor(h/d)*d,d));for(var f=d.length;d[0]<=u;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,m=new Array(f+1);for(i=0;i<=f;++i)(p=m[i]=[]).x0=i>0?d[i-1]:u,p.x1=i<f?d[i]:h;for(i=0;i<a;++i)u<=(o=s[i])&&o<=h&&m[c(d,o,0,f)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:w(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:w([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?w(y.call(e)):w(e),r):n},r},P=function(e,t,n){if(null==n&&(n=f),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}},R=function(e,t,n){return e=b.call(e,f).sort(r),Math.ceil((n-t)/(2*(P(e,.75)-P(e,.25))*Math.pow(e.length,-1/3)))},F=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},L=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},D=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=f(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=f(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},j=function(e,t){var n,i=e.length,o=-1,a=[];if(null==t)for(;++o<i;)isNaN(n=f(e[o]))||a.push(n);else for(;++o<i;)isNaN(n=f(t(e[o],o,e)))||a.push(n);return P(a.sort(r),.5)},N=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},I=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}},U=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},V=function(e){if(!(i=e.length))return[];for(var t=-1,n=I(e,W),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r};function W(e){return e.length}var $=function(){return V(arguments)},G=Array.prototype.slice,q=function(e){return e},Y=1,X=2,K=3,Z=4,J=1e-6;function Q(e){return"translate("+(e+.5)+",0)"}function ee(e){return"translate(0,"+(e+.5)+")"}function te(e){return function(t){return+e(t)}}function ne(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function re(){return!this.__axis}function ie(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,c=e===Y||e===Z?-1:1,l=e===Z||e===X?"x":"y",u=e===Y||e===K?Q:ee;function h(h){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,f=null==i?t.tickFormat?t.tickFormat.apply(t,n):q:i,p=Math.max(o,0)+s,m=t.range(),g=+m[0]+.5,v=+m[m.length-1]+.5,y=(t.bandwidth?ne:te)(t.copy()),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(d,t).order(),_=x.exit(),E=x.enter().append("g").attr("class","tick"),S=x.select("line"),C=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),x=x.merge(E),S=S.merge(E.append("line").attr("stroke","#000").attr(l+"2",c*o)),C=C.merge(E.append("text").attr("fill","#000").attr(l,c*p).attr("dy",e===Y?"0em":e===K?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),x=x.transition(h),S=S.transition(h),C=C.transition(h),_=_.transition(h).attr("opacity",J).attr("transform",(function(e){return isFinite(e=y(e))?u(e):this.getAttribute("transform")})),E.attr("opacity",J).attr("transform",(function(e){var t=this.parentNode.__axis;return u(t&&isFinite(t=t(e))?t:y(e))}))),_.remove(),w.attr("d",e===Z||e==X?"M"+c*a+","+g+"H0.5V"+v+"H"+c*a:"M"+g+","+c*a+"V0.5H"+v+"V"+c*a),x.attr("opacity",1).attr("transform",(function(e){return u(y(e))})),S.attr(l+"2",c*o),C.attr(l,c*p).text(f),b.filter(re).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===X?"start":e===Z?"end":"middle"),b.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=G.call(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:G.call(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:G.call(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h}function oe(e){return ie(Y,e)}function ae(e){return ie(X,e)}function se(e){return ie(K,e)}function ce(e){return ie(Z,e)}var le={value:function(){}};function ue(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new he(r)}function he(e){this._=e}function de(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function fe(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function pe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=le,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}he.prototype=ue.prototype={constructor:he,on:function(e,t){var n,r=this._,i=de(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=pe(r[n],e.name,t);else if(null==t)for(n in r)r[n]=pe(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=fe(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new he(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var me=ue,ge="http://www.w3.org/1999/xhtml",ve={svg:"http://www.w3.org/2000/svg",xhtml:ge,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ye=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ve.hasOwnProperty(t)?{space:ve[t],local:e}:e};function be(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ge&&t.documentElement.namespaceURI===ge?t.createElement(e):t.createElementNS(n,e)}}function we(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var xe=function(e){var t=ye(e);return(t.local?we:be)(t)};function _e(){}var Ee=function(e){return null==e?_e:function(){return this.querySelector(e)}};function Se(){return[]}var Ce=function(e){return null==e?Se:function(){return this.querySelectorAll(e)}},Ae=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var Te=document.documentElement;if(!Te.matches){var Me=Te.webkitMatchesSelector||Te.msMatchesSelector||Te.mozMatchesSelector||Te.oMatchesSelector;Ae=function(e){return function(){return Me.call(this,e)}}}}var ke=Ae,Oe=function(e){return new Array(e.length)};function Pe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pe.prototype={constructor:Pe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Re="$";function Fe(e,t,n,r,i,o){for(var a,s=0,c=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Pe(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function Le(e,t,n,r,i,o,a){var s,c,l,u={},h=t.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(c=t[s])&&(f[s]=l=Re+a.call(c,c.__data__,s,t),l in u?i[s]=c:u[l]=c);for(s=0;s<d;++s)(c=u[l=Re+a.call(e,o[s],s,o)])?(r[s]=c,c.__data__=o[s],u[l]=null):n[s]=new Pe(e,o[s]);for(s=0;s<h;++s)(c=t[s])&&u[f[s]]===c&&(i[s]=c)}function De(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function je(e){return function(){this.removeAttribute(e)}}function Ne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ie(e,t){return function(){this.setAttribute(e,t)}}function Be(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ze(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ue(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var He=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Ve(e){return function(){this.style.removeProperty(e)}}function We(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $e(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ge(e,t){return e.style.getPropertyValue(t)||He(e).getComputedStyle(e,null).getPropertyValue(t)}function qe(e){return function(){delete this[e]}}function Ye(e,t){return function(){this[e]=t}}function Xe(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Ke(e){return e.trim().split(/^|\s+/)}function Ze(e){return e.classList||new Je(e)}function Je(e){this._node=e,this._names=Ke(e.getAttribute("class")||"")}function Qe(e,t){for(var n=Ze(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function et(e,t){for(var n=Ze(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function tt(e){return function(){Qe(this,e)}}function nt(e){return function(){et(this,e)}}function rt(e,t){return function(){(t.apply(this,arguments)?Qe:et)(this,e)}}Je.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function it(){this.textContent=""}function ot(e){return function(){this.textContent=e}}function at(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function st(){this.innerHTML=""}function ct(e){return function(){this.innerHTML=e}}function lt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ut(){this.nextSibling&&this.parentNode.appendChild(this)}function ht(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dt(){return null}function ft(){var e=this.parentNode;e&&e.removeChild(this)}function pt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function mt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var gt={},vt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(gt={mouseenter:"mouseover",mouseleave:"mouseout"}));function yt(e,t,n){return e=bt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function bt(e,t,n){return function(r){var i=vt;vt=r;try{e.call(this,this.__data__,t,n)}finally{vt=i}}}function wt(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function xt(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function _t(e,t,n){var r=gt.hasOwnProperty(e.type)?yt:bt;return function(i,o,a){var s,c=this.__on,l=r(t,o,a);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function Et(e,t,n,r){var i=vt;e.sourceEvent=vt,vt=e;try{return t.apply(n,r)}finally{vt=i}}function St(e,t,n){var r=He(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ct(e,t){return function(){return St(this,e,t)}}function At(e,t){return function(){return St(this,e,t.apply(this,arguments))}}var Tt=[null];function Mt(e,t){this._groups=e,this._parents=t}function kt(){return new Mt([[document.documentElement]],Tt)}Mt.prototype=kt.prototype={constructor:Mt,select:function(e){"function"!=typeof e&&(e=Ee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new Mt(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Ce(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new Mt(r,i)},filter:function(e){"function"!=typeof e&&(e=ke(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new Mt(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each((function(e){p[++u]=e})),p;var n,r=t?Le:Fe,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],f=d.length,p=e.call(h,h&&h.__data__,u,i),m=p.length,g=c[u]=new Array(m),v=s[u]=new Array(m);r(h,d,g,v,l[u]=new Array(f),p,t);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(s=new Mt(s,i))._enter=c,s._exit=l,s},enter:function(){return new Mt(this._enter||this._groups.map(Oe),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(Oe),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=t[s];return new Mt(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=De);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new Mt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=ye(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Ne:je:"function"==typeof t?n.local?Ue:ze:n.local?Be:Ie)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ve:"function"==typeof t?$e:We)(e,t,null==n?"":n)):Ge(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?qe:"function"==typeof t?Xe:Ye)(e,t)):this.node()[e]},classed:function(e,t){var n=Ke(e+"");if(arguments.length<2){for(var r=Ze(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?rt:t?tt:nt)(n,t))},text:function(e){return arguments.length?this.each(null==e?it:("function"==typeof e?at:ot)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?st:("function"==typeof e?lt:ct)(e)):this.node().innerHTML},raise:function(){return this.each(ut)},lower:function(){return this.each(ht)},append:function(e){var t="function"==typeof e?e:xe(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:xe(e),r=null==t?dt:"function"==typeof t?t:Ee(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ft)},clone:function(e){return this.select(e?mt:pt)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=wt(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?_t:xt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?At:Ct)(e,t))}};var Ot=kt,Pt=function(e){return"string"==typeof e?new Mt([[document.querySelector(e)]],[document.documentElement]):new Mt([[e]],Tt)},Rt=function(e){return Pt(xe(e).call(document.documentElement))},Ft=0;function Lt(){return new Dt}function Dt(){this._="@"+(++Ft).toString(36)}Dt.prototype=Lt.prototype={constructor:Dt,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var jt=function(){for(var e,t=vt;e=t.sourceEvent;)t=e;return t},Nt=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},It=function(e){var t=jt();return t.changedTouches&&(t=t.changedTouches[0]),Nt(e,t)},Bt=function(e){return"string"==typeof e?new Mt([document.querySelectorAll(e)],[document.documentElement]):new Mt([null==e?[]:e],Tt)},zt=function(e,t,n){arguments.length<3&&(n=t,t=jt().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return Nt(e,r);return null},Ut=function(e,t){null==t&&(t=jt().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=Nt(e,t[n]);return i};function Ht(){vt.stopImmediatePropagation()}var Vt=function(){vt.preventDefault(),vt.stopImmediatePropagation()},Wt=function(e){var t=e.document.documentElement,n=Pt(e).on("dragstart.drag",Vt,!0);"onselectstart"in t?n.on("selectstart.drag",Vt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function $t(e,t){var n=e.document.documentElement,r=Pt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Gt=function(e){return function(){return e}};function qt(e,t,n,r,i,o,a,s,c,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}function Yt(){return!vt.button}function Xt(){return this.parentNode}function Kt(e){return null==e?{x:vt.x,y:vt.y}:e}function Zt(){return"ontouchstart"in this}qt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Jt=function(){var e,t,n,r,i=Yt,o=Xt,a=Kt,s=Zt,c={},l=me("start","drag","end"),u=0,h=0;function d(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),It,this,arguments);a&&(Pt(vt.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),Wt(vt.view),Ht(),n=!1,e=vt.clientX,t=vt.clientY,a("start"))}}function p(){if(Vt(),!n){var r=vt.clientX-e,i=vt.clientY-t;n=r*r+i*i>h}c.mouse("drag")}function m(){Pt(vt.view).on("mousemove.drag mouseup.drag",null),$t(vt.view,n),Vt(),c.mouse("end")}function g(){if(i.apply(this,arguments)){var e,t,n=vt.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=b(n[e].identifier,r,zt,this,arguments))&&(Ht(),t("start"))}}function v(){var e,t,n=vt.changedTouches,r=n.length;for(e=0;e<r;++e)(t=c[n[e].identifier])&&(Vt(),t("drag"))}function y(){var e,t,n=vt.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(t=c[n[e].identifier])&&(Ht(),t("end"))}function b(e,t,n,r,i){var o,s,h,f=n(t,e),p=l.copy();if(Et(new qt(d,"beforestart",o,e,u,f[0],f[1],0,0,p),(function(){return null!=(vt.subject=o=a.apply(r,i))&&(s=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function a(l){var m,g=f;switch(l){case"start":c[e]=a,m=u++;break;case"end":delete c[e],--u;case"drag":f=n(t,e),m=u}Et(new qt(d,l,o,e,m,f[0]+s,f[1]+h,f[0]-g[0],f[1]-g[1],p),p.apply,p,[l,r,i])}}return d.filter=function(e){return arguments.length?(i="function"==typeof e?e:Gt(!!e),d):i},d.container=function(e){return arguments.length?(o="function"==typeof e?e:Gt(e),d):o},d.subject=function(e){return arguments.length?(a="function"==typeof e?e:Gt(e),d):a},d.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Gt(!!e),d):s},d.on=function(){var e=l.on.apply(l,arguments);return e===l?d:e},d.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,d):Math.sqrt(h)},d},Qt=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function en(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tn(){}var nn="\\s*([+-]?\\d+)\\s*",rn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",an=/^#([0-9a-f]{3})$/,sn=/^#([0-9a-f]{6})$/,cn=new RegExp("^rgb\\("+[nn,nn,nn]+"\\)$"),ln=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),un=new RegExp("^rgba\\("+[nn,nn,nn,rn]+"\\)$"),hn=new RegExp("^rgba\\("+[on,on,on,rn]+"\\)$"),dn=new RegExp("^hsl\\("+[rn,on,on]+"\\)$"),fn=new RegExp("^hsla\\("+[rn,on,on,rn]+"\\)$"),pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function mn(e){var t;return e=(e+"").trim().toLowerCase(),(t=an.exec(e))?new wn((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=sn.exec(e))?gn(parseInt(t[1],16)):(t=cn.exec(e))?new wn(t[1],t[2],t[3],1):(t=ln.exec(e))?new wn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=un.exec(e))?vn(t[1],t[2],t[3],t[4]):(t=hn.exec(e))?vn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=dn.exec(e))?xn(t[1],t[2]/100,t[3]/100,1):(t=fn.exec(e))?xn(t[1],t[2]/100,t[3]/100,t[4]):pn.hasOwnProperty(e)?gn(pn[e]):"transparent"===e?new wn(NaN,NaN,NaN,0):null}function gn(e){return new wn(e>>16&255,e>>8&255,255&e,1)}function vn(e,t,n,r){return r<=0&&(e=t=n=NaN),new wn(e,t,n,r)}function yn(e){return e instanceof tn||(e=mn(e)),e?new wn((e=e.rgb()).r,e.g,e.b,e.opacity):new wn}function bn(e,t,n,r){return 1===arguments.length?yn(e):new wn(e,t,n,null==r?1:r)}function wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new En(e,t,n,r)}function _n(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof En)return new En(e.h,e.s,e.l,e.opacity);if(e instanceof tn||(e=mn(e)),!e)return new En;if(e instanceof En)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new En(a,s,c,e.opacity)}(e):new En(e,t,n,null==r?1:r)}function En(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Sn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Qt(tn,mn,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Qt(wn,bn,en(tn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Qt(En,_n,en(tn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new En(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new En(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wn(Sn(e>=240?e-240:e+120,i,r),Sn(e,i,r),Sn(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Cn=Math.PI/180,An=180/Math.PI,Tn=.95047,Mn=1,kn=1.08883,On=4/29,Pn=6/29,Rn=3*Pn*Pn,Fn=Pn*Pn*Pn;function Ln(e){if(e instanceof jn)return new jn(e.l,e.a,e.b,e.opacity);if(e instanceof Hn){var t=e.h*Cn;return new jn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof wn||(e=yn(e));var n=zn(e.r),r=zn(e.g),i=zn(e.b),o=Nn((.4124564*n+.3575761*r+.1804375*i)/Tn),a=Nn((.2126729*n+.7151522*r+.072175*i)/Mn);return new jn(116*a-16,500*(o-a),200*(a-Nn((.0193339*n+.119192*r+.9503041*i)/kn)),e.opacity)}function Dn(e,t,n,r){return 1===arguments.length?Ln(e):new jn(e,t,n,null==r?1:r)}function jn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Nn(e){return e>Fn?Math.pow(e,1/3):e/Rn+On}function In(e){return e>Pn?e*e*e:Rn*(e-On)}function Bn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function zn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Un(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Hn)return new Hn(e.h,e.c,e.l,e.opacity);e instanceof jn||(e=Ln(e));var t=Math.atan2(e.b,e.a)*An;return new Hn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Hn(e,t,n,null==r?1:r)}function Hn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}Qt(jn,Dn,en(tn,{brighter:function(e){return new jn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new jn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=Mn*In(e),new wn(Bn(3.2404542*(t=Tn*In(t))-1.5371385*e-.4985314*(n=kn*In(n))),Bn(-.969266*t+1.8760108*e+.041556*n),Bn(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),Qt(Hn,Un,en(tn,{brighter:function(e){return new Hn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Ln(this).rgb()}}));var Vn=-.29227,Wn=-.90649,$n=1.97294,Gn=$n*Wn,qn=1.78277*$n,Yn=1.78277*Vn- -.14861*Wn;function Xn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Kn)return new Kn(e.h,e.s,e.l,e.opacity);e instanceof wn||(e=yn(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Yn*r+Gn*t-qn*n)/(Yn+Gn-qn),o=r-i,a=($n*(n-i)-Vn*o)/Wn,s=Math.sqrt(a*a+o*o)/($n*i*(1-i)),c=s?Math.atan2(a,o)*An-120:NaN;return new Kn(c<0?c+360:c,s,i,e.opacity)}(e):new Kn(e,t,n,null==r?1:r)}function Kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Zn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Qt(Kn,Xn,en(tn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Kn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Kn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Cn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new wn(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(Vn*r+Wn*i)),255*(t+n*($n*r)),this.opacity)}}));var Jn=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Zn((n-r/t)*t,a,i,o,s)}},Qn=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Zn((n-r/t)*t,i,o,a,s)}},er=function(e){return function(){return e}};function tr(e,t){return function(n){return e+n*t}}function nr(e,t){var n=t-e;return n?tr(e,n>180||n<-180?n-360*Math.round(n/360):n):er(isNaN(e)?t:e)}function rr(e){return 1==(e=+e)?ir:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):er(isNaN(t)?n:t)}}function ir(e,t){var n=t-e;return n?tr(e,n):er(isNaN(e)?t:e)}var or=function e(t){var n=rr(t);function r(e,t){var r=n((e=bn(e)).r,(t=bn(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=ir(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function ar(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=bn(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}var sr=ar(Jn),cr=ar(Qn),lr=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=wr(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}},ur=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},hr=function(e,t){return t-=e=+e,function(n){return e+t*n}},dr=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=wr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},fr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pr=new RegExp(fr.source,"g");var mr,gr,vr,yr,br=function(e,t){var n,r,i,o=fr.lastIndex=pr.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=fr.exec(e))&&(r=pr.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:hr(n,r)})),o=pr.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})},wr=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?er(t):("number"===r?hr:"string"===r?(n=mn(t))?(t=n,or):br:t instanceof mn?or:t instanceof Date?ur:Array.isArray(t)?lr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?dr:hr)(e,t)},xr=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},_r=180/Math.PI,Er={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Sr=function(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*_r,skewX:Math.atan(c)*_r,scaleX:a,scaleY:s}};function Cr(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],c=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:hr(e,i)},{i:c-2,x:hr(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:hr(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:hr(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,c),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:hr(e,n)},{i:s-2,x:hr(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var Ar=Cr((function(e){return"none"===e?Er:(mr||(mr=document.createElement("DIV"),gr=document.documentElement,vr=document.defaultView),mr.style.transform=e,e=vr.getComputedStyle(gr.appendChild(mr),null).getPropertyValue("transform"),gr.removeChild(mr),e=e.slice(7,-1).split(","),Sr(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Tr=Cr((function(e){return null==e?Er:(yr||(yr=document.createElementNS("http://www.w3.org/2000/svg","g")),yr.setAttribute("transform",e),(e=yr.transform.baseVal.consolidate())?(e=e.matrix,Sr(e.a,e.b,e.c,e.d,e.e,e.f)):Er)}),", ",")",")"),Mr=Math.SQRT2;function kr(e){return((e=Math.exp(e))+1/e)/2}var Or=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],c=t[1],l=t[2],u=s-i,h=c-o,d=u*u+h*h;if(d<1e-12)r=Math.log(l/a)/Mr,n=function(e){return[i+e*u,o+e*h,a*Math.exp(Mr*e*r)]};else{var f=Math.sqrt(d),p=(l*l-a*a+4*d)/(2*a*2*f),m=(l*l-a*a-4*d)/(2*l*2*f),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/Mr,n=function(e){var t,n=e*r,s=kr(g),c=a/(2*f)*(s*(t=Mr*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+c*u,o+c*h,a*s/kr(Mr*n+g)]}}return n.duration=1e3*r,n};function Pr(e){return function(t,n){var r=e((t=_n(t)).h,(n=_n(n)).h),i=ir(t.s,n.s),o=ir(t.l,n.l),a=ir(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var Rr=Pr(nr),Fr=Pr(ir);function Lr(e,t){var n=ir((e=Dn(e)).l,(t=Dn(t)).l),r=ir(e.a,t.a),i=ir(e.b,t.b),o=ir(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function Dr(e){return function(t,n){var r=e((t=Un(t)).h,(n=Un(n)).h),i=ir(t.c,n.c),o=ir(t.l,n.l),a=ir(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=o(e),t.opacity=a(e),t+""}}}var jr=Dr(nr),Nr=Dr(ir);function Ir(e){return function t(n){function r(t,r){var i=e((t=Xn(t)).h,(r=Xn(r)).h),o=ir(t.s,r.s),a=ir(t.l,r.l),s=ir(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var Br,zr,Ur=Ir(nr),Hr=Ir(ir),Vr=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},Wr=0,$r=0,Gr=0,qr=1e3,Yr=0,Xr=0,Kr=0,Zr="object"==typeof performance&&performance.now?performance:Date,Jr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qr(){return Xr||(Jr(ei),Xr=Zr.now()+Kr)}function ei(){Xr=0}function ti(){this._call=this._time=this._next=null}function ni(e,t,n){var r=new ti;return r.restart(e,t,n),r}function ri(){Qr(),++Wr;for(var e,t=Br;t;)(e=Xr-t._time)>=0&&t._call.call(null,e),t=t._next;--Wr}function ii(){Xr=(Yr=Zr.now())+Kr,Wr=$r=0;try{ri()}finally{Wr=0,function(){var e,t,n=Br,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Br=t);zr=e,ai(r)}(),Xr=0}}function oi(){var e=Zr.now(),t=e-Yr;t>qr&&(Kr-=t,Yr=e)}function ai(e){Wr||($r&&($r=clearTimeout($r)),e-Xr>24?(e<1/0&&($r=setTimeout(ii,e-Zr.now()-Kr)),Gr&&(Gr=clearInterval(Gr))):(Gr||(Yr=Zr.now(),Gr=setInterval(oi,qr)),Wr=1,Jr(ii)))}ti.prototype=ni.prototype={constructor:ti,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Qr():+n)+(null==t?0:+t),this._next||zr===this||(zr?zr._next=this:Br=this,zr=this),this._call=e,this._time=n,ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,ai())}};var si=function(e,t,n){var r=new ti;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},ci=function(e,t,n){var r=new ti,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Qr():+n,r.restart((function o(a){a+=i,r.restart(o,i+=t,n),e(a)}),t,n),r)},li=me("start","end","interrupt"),ui=[],hi=0,di=1,fi=2,pi=3,mi=4,gi=5,vi=6,yi=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(c){var l,u,h,d;if(n.state!==di)return s();for(l in i)if((d=i[l]).name===n.name){if(d.state===pi)return si(o);d.state===mi?(d.state=vi,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=vi,d.timer.stop(),delete i[l])}if(si((function(){n.state===pi&&(n.state=mi,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=fi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fi){for(n.state=pi,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=gi,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===gi&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=vi,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=ni((function(e){n.state=di,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:li,tween:ui,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hi})};function bi(e,t){var n=xi(e,t);if(n.state>hi)throw new Error("too late; already scheduled");return n}function wi(e,t){var n=xi(e,t);if(n.state>fi)throw new Error("too late; already started");return n}function xi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var _i=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>fi&&n.state<gi,n.state=vi,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}};function Ei(e,t){var n,r;return function(){var i=wi(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function Si(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=wi(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function Ci(e,t,n){var r=e._id;return e.each((function(){var e=wi(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return xi(e,r).value[t]}}var Ai=function(e,t){var n;return("number"==typeof t?hr:t instanceof mn?or:(n=mn(t))?(t=n,or):br)(e,t)};function Ti(e){return function(){this.removeAttribute(e)}}function Mi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ki(e,t,n){var r,i;return function(){var o=this.getAttribute(e);return o===n?null:o===r?i:i=t(r=o,n)}}function Oi(e,t,n){var r,i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===n?null:o===r?i:i=t(r=o,n)}}function Pi(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(e))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttribute(e)}}function Ri(e,t,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(e.space,e.local))===s?null:a===r&&s===i?o:o=t(r=a,i=s);this.removeAttributeNS(e.space,e.local)}}function Fi(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function Li(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}function Di(e,t){return function(){bi(this,e).delay=+t.apply(this,arguments)}}function ji(e,t){return t=+t,function(){bi(this,e).delay=t}}function Ni(e,t){return function(){wi(this,e).duration=+t.apply(this,arguments)}}function Ii(e,t){return t=+t,function(){wi(this,e).duration=t}}function Bi(e,t){if("function"!=typeof t)throw new Error;return function(){wi(this,e).ease=t}}function zi(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?bi:wi;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var Ui=Ot.prototype.constructor;function Hi(e,t,n){function r(){var r=this,i=t.apply(r,arguments);return i&&function(t){r.style.setProperty(e,i(t),n)}}return r._value=t,r}var Vi=0;function Wi(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $i(e){return Ot().transition(e)}function Gi(){return++Vi}var qi=Ot.prototype;function Yi(e){return+e}function Xi(e){return e*e}function Ki(e){return e*(2-e)}function Zi(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Ji(e){return e*e*e}function Qi(e){return--e*e*e+1}function eo(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Wi.prototype=$i.prototype={constructor:Wi,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ee(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=l[d])&&(c=e.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c,yi(h[d],t,n,d,h,xi(s,n)));return new Wi(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Ce(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=e.call(c,c.__data__,h,l),p=xi(c,n),m=0,g=f.length;m<g;++m)(d=f[m])&&yi(d,t,n,m,f,p);o.push(f),a.push(c)}return new Wi(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=ke(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new Wi(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=t[s];return new Wi(a,this._parents,this._name,this._id)},selection:function(){return new Ui(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Gi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=xi(a,t);yi(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wi(r,this._parents,e,n)},call:qi.call,nodes:qi.nodes,node:qi.node,size:qi.size,empty:qi.empty,each:qi.each,on:function(e,t){var n=this._id;return arguments.length<2?xi(this.node(),n).on.on(e):this.each(zi(n,e,t))},attr:function(e,t){var n=ye(e),r="transform"===n?Tr:Ai;return this.attrTween(e,"function"==typeof t?(n.local?Ri:Pi)(n,r,Ci(this,"attr."+e,t)):null==t?(n.local?Mi:Ti)(n):(n.local?Oi:ki)(n,r,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=ye(e);return this.tween(n,(r.local?Fi:Li)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Ar:Ai;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Ge(this,e),a=(this.style.removeProperty(e),Ge(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,n){var r,i,o;return function(){var a=Ge(this,e),s=n(this);return null==s&&(this.style.removeProperty(e),s=Ge(this,e)),a===s?null:a===r&&s===i?o:o=t(r=a,i=s)}}(e,r,Ci(this,"style."+e,t)):function(e,t,n){var r,i;return function(){var o=Ge(this,e);return o===n?null:o===r?i:i=t(r=o,n)}}(e,r,t+""),n)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Hi(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Ci(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=xi(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?Ei:Si)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Di:ji)(t,e)):xi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ni:Ii)(t,e)):xi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Bi(t,e)):xi(this.node(),t).ease}};var to=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),no=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),ro=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),io=Math.PI,oo=io/2;function ao(e){return 1-Math.cos(e*oo)}function so(e){return Math.sin(e*oo)}function co(e){return(1-Math.cos(io*e))/2}function lo(e){return Math.pow(2,10*e-10)}function uo(e){return 1-Math.pow(2,-10*e)}function ho(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function fo(e){return 1-Math.sqrt(1-e*e)}function po(e){return Math.sqrt(1- --e*e)}function mo(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var go=4/11,vo=6/11,yo=8/11,bo=.75,wo=9/11,xo=10/11,_o=.9375,Eo=21/22,So=63/64,Co=1/go/go;function Ao(e){return 1-To(1-e)}function To(e){return(e=+e)<go?Co*e*e:e<yo?Co*(e-=vo)*e+bo:e<xo?Co*(e-=wo)*e+_o:Co*(e-=Eo)*e+So}function Mo(e){return((e*=2)<=1?1-To(1-e):To(e-1)+1)/2}var ko=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Oo=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Po=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Ro=2*Math.PI,Fo=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ro);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ro)},i.period=function(n){return e(t,n)},i}(1,.3),Lo=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ro);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ro)},i.period=function(n){return e(t,n)},i}(1,.3),Do=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ro);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ro)},i.period=function(n){return e(t,n)},i}(1,.3),jo={time:null,delay:0,duration:250,ease:eo};function No(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return jo.time=Qr(),jo;return n}Ot.prototype.interrupt=function(e){return this.each((function(){_i(this,e)}))},Ot.prototype.transition=function(e){var t,n;e instanceof Wi?(t=e._id,e=e._name):(t=Gi(),(n=jo).time=Qr(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&yi(a,e,t,l,s,n||No(a,t));return new Wi(r,this._parents,e,t)};var Io=[null],Bo=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>di&&n.name===t)return new Wi([[e]],Io,t,+r);return null},zo=function(e){return function(){return e}},Uo=function(e,t,n){this.target=e,this.type=t,this.selection=n};function Ho(){vt.stopImmediatePropagation()}var Vo=function(){vt.preventDefault(),vt.stopImmediatePropagation()},Wo={name:"drag"},$o={name:"space"},Go={name:"handle"},qo={name:"center"},Yo={name:"x",handles:["e","w"].map(na),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Xo={name:"y",handles:["n","s"].map(na),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Ko={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(na),input:function(e){return e},output:function(e){return e}},Zo={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Jo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Qo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},ea={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ta={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function na(e){return{type:e}}function ra(){return!vt.button}function ia(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function oa(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function aa(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function sa(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function ca(){return ha(Yo)}function la(){return ha(Xo)}var ua=function(){return ha(Ko)};function ha(e){var t,n=ia,r=ra,i=me(a,"start","brush","end"),o=6;function a(t){var n=t.property("__brush",h).selectAll(".overlay").data([na("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Zo.overlay).merge(n).each((function(){var e=oa(this).extent;Pt(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([na("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Zo.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return Zo[e.type]})),t.each(s).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function s(){var e=Pt(this),t=oa(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-o/2:t[0][0]-o/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-o/2:t[0][1]-o/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+o:o})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+o:o}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(e,t){return e.__brush.emitter||new l(e,t)}function l(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function u(){if(vt.touches){if(vt.changedTouches.length<vt.touches.length)return Vo()}else if(t)return;if(r.apply(this,arguments)){var n,i,o,a,l,u,h,d,f,p,m,g,v,y=this,b=vt.target.__data__.type,w="selection"===(vt.metaKey?b="overlay":b)?Wo:vt.altKey?qo:Go,x=e===Xo?null:ea[b],_=e===Yo?null:ta[b],E=oa(y),S=E.extent,C=E.selection,A=S[0][0],T=S[0][1],M=S[1][0],k=S[1][1],O=x&&_&&vt.shiftKey,P=It(y),R=P,F=c(y,arguments).beforestart();"overlay"===b?E.selection=C=[[n=e===Xo?A:P[0],o=e===Yo?T:P[1]],[l=e===Xo?M:n,h=e===Yo?k:o]]:(n=C[0][0],o=C[0][1],l=C[1][0],h=C[1][1]),i=n,a=o,u=l,d=h;var L=Pt(y).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",Zo[b]);if(vt.touches)L.on("touchmove.brush",N,!0).on("touchend.brush touchcancel.brush",B,!0);else{var j=Pt(vt.view).on("keydown.brush",(function(){switch(vt.keyCode){case 16:O=x&&_;break;case 18:w===Go&&(x&&(l=u-f*x,n=i+f*x),_&&(h=d-p*_,o=a+p*_),w=qo,I());break;case 32:w!==Go&&w!==qo||(x<0?l=u-f:x>0&&(n=i-f),_<0?h=d-p:_>0&&(o=a-p),w=$o,D.attr("cursor",Zo.selection),I());break;default:return}Vo()}),!0).on("keyup.brush",(function(){switch(vt.keyCode){case 16:O&&(g=v=O=!1,I());break;case 18:w===qo&&(x<0?l=u:x>0&&(n=i),_<0?h=d:_>0&&(o=a),w=Go,I());break;case 32:w===$o&&(vt.altKey?(x&&(l=u-f*x,n=i+f*x),_&&(h=d-p*_,o=a+p*_),w=qo):(x<0?l=u:x>0&&(n=i),_<0?h=d:_>0&&(o=a),w=Go),D.attr("cursor",Zo[b]),I());break;default:return}Vo()}),!0).on("mousemove.brush",N,!0).on("mouseup.brush",B,!0);Wt(vt.view)}Ho(),_i(y),s.call(y),F.start()}function N(){var e=It(y);!O||g||v||(Math.abs(e[0]-R[0])>Math.abs(e[1]-R[1])?v=!0:g=!0),R=e,m=!0,Vo(),I()}function I(){var e;switch(f=R[0]-P[0],p=R[1]-P[1],w){case $o:case Wo:x&&(f=Math.max(A-n,Math.min(M-l,f)),i=n+f,u=l+f),_&&(p=Math.max(T-o,Math.min(k-h,p)),a=o+p,d=h+p);break;case Go:x<0?(f=Math.max(A-n,Math.min(M-n,f)),i=n+f,u=l):x>0&&(f=Math.max(A-l,Math.min(M-l,f)),i=n,u=l+f),_<0?(p=Math.max(T-o,Math.min(k-o,p)),a=o+p,d=h):_>0&&(p=Math.max(T-h,Math.min(k-h,p)),a=o,d=h+p);break;case qo:x&&(i=Math.max(A,Math.min(M,n-f*x)),u=Math.max(A,Math.min(M,l+f*x))),_&&(a=Math.max(T,Math.min(k,o-p*_)),d=Math.max(T,Math.min(k,h+p*_)))}u<i&&(x*=-1,e=n,n=l,l=e,e=i,i=u,u=e,b in Jo&&D.attr("cursor",Zo[b=Jo[b]])),d<a&&(_*=-1,e=o,o=h,h=e,e=a,a=d,d=e,b in Qo&&D.attr("cursor",Zo[b=Qo[b]])),E.selection&&(C=E.selection),g&&(i=C[0][0],u=C[1][0]),v&&(a=C[0][1],d=C[1][1]),C[0][0]===i&&C[0][1]===a&&C[1][0]===u&&C[1][1]===d||(E.selection=[[i,a],[u,d]],s.call(y),F.brush())}function B(){if(Ho(),vt.touches){if(vt.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else $t(vt.view,m),j.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",Zo.overlay),E.selection&&(C=E.selection),aa(C)&&(E.selection=null,s.call(y)),F.end()}}function h(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on("start.brush",(function(){c(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){c(this,arguments).end()})).tween("brush",(function(){var t=this,r=t.__brush,i=c(t,arguments),o=r.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),l=wr(o,a);function u(e){r.selection=1===e&&aa(a)?null:l(e),s.call(t),i.brush()}return o&&a?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,r):n,i.extent),a=c(t,r).beforestart();_i(t),i.selection=null==o||aa(o)?null:o,s.call(t),a.start().brush().end()}))},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Et(new Uo(a,t,e.output(this.state.selection)),i.apply,i,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n="function"==typeof e?e:zo([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(r="function"==typeof e?e:zo(!!e),a):r},a.handleSize=function(e){return arguments.length?(o=+e,a):o},a.on=function(){var e=i.on.apply(i,arguments);return e===i?a:e},a}var da=Math.cos,fa=Math.sin,pa=Math.PI,ma=pa/2,ga=2*pa,va=Math.max;function ya(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}var ba=function(){var e=0,t=null,n=null,r=null;function i(i){var o,a,s,c,l,u,h=i.length,d=[],f=_(h),p=[],m=[],g=m.groups=new Array(h),v=new Array(h*h);for(o=0,l=-1;++l<h;){for(a=0,u=-1;++u<h;)a+=i[l][u];d.push(a),p.push(_(h)),o+=a}for(t&&f.sort((function(e,n){return t(d[e],d[n])})),n&&p.forEach((function(e,t){e.sort((function(e,r){return n(i[t][e],i[t][r])}))})),c=(o=va(0,ga-e*h)/o)?e:ga/h,a=0,l=-1;++l<h;){for(s=a,u=-1;++u<h;){var y=f[l],b=p[y][u],w=i[y][b],x=a,E=a+=w*o;v[b*h+y]={index:y,subindex:b,startAngle:x,endAngle:E,value:w}}g[y]={index:y,startAngle:s,endAngle:a,value:d[y]},a+=c}for(l=-1;++l<h;)for(u=l-1;++u<h;){var S=v[u*h+l],C=v[l*h+u];(S.value||C.value)&&m.push(S.value<C.value?{source:C,target:S}:{source:S,target:C})}return r?m.sort(r):m}return i.padAngle=function(t){return arguments.length?(e=va(0,t),i):e},i.sortGroups=function(e){return arguments.length?(t=e,i):t},i.sortSubgroups=function(e){return arguments.length?(n=e,i):n},i.sortChords=function(e){return arguments.length?(null==e?r=null:(r=ya(e))._=e,i):r&&r._},i},wa=Array.prototype.slice,xa=function(e){return function(){return e}},_a=Math.PI,Ea=2*_a,Sa=Ea-1e-6;function Ca(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Aa(){return new Ca}Ca.prototype=Aa.prototype={constructor:Ca,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*s-c*l)>1e-6&&i){var d=n-o,f=r-a,p=s*s+c*c,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((_a-Math.acos((p+h-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*l)+","+(t+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*f)+","+(this._x1=e+w*s)+","+(this._y1=t+w*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Ea+Ea),h>Sa?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=_a)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ta=Aa;function Ma(e){return e.source}function ka(e){return e.target}function Oa(e){return e.radius}function Pa(e){return e.startAngle}function Ra(e){return e.endAngle}var Fa=function(){var e=Ma,t=ka,n=Oa,r=Pa,i=Ra,o=null;function a(){var a,s=wa.call(arguments),c=e.apply(this,s),l=t.apply(this,s),u=+n.apply(this,(s[0]=c,s)),h=r.apply(this,s)-ma,d=i.apply(this,s)-ma,f=u*da(h),p=u*fa(h),m=+n.apply(this,(s[0]=l,s)),g=r.apply(this,s)-ma,v=i.apply(this,s)-ma;if(o||(o=a=Ta()),o.moveTo(f,p),o.arc(0,0,u,h,d),h===g&&d===v||(o.quadraticCurveTo(0,0,m*da(g),m*fa(g)),o.arc(0,0,m,g,v)),o.quadraticCurveTo(0,0,f,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"==typeof e?e:xa(+e),a):n},a.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:xa(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:xa(+e),a):i},a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(e){return arguments.length?(t=e,a):t},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a};function La(){}function Da(e,t){var n=new La;if(e instanceof La)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}La.prototype=Da.prototype={constructor:La,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var ja=Da,Na=function(){var e,t,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var c,l,u,h=-1,d=n.length,f=r[i++],p=ja(),m=a();++h<d;)(u=p.get(c=f(l=n[h])+""))?u.push(l):p.set(c,[l]);return p.each((function(e,t){s(m,t,o(e,i,a,s))})),m}return n={object:function(e){return o(e,0,Ia,Ba)},map:function(e){return o(e,0,za,Ua)},entries:function(e){return function e(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=t&&o>=r.length?a=n.entries():(a=[],n.each((function(t,n){a.push({key:n,values:e(t,o)})}))),null!=s?a.sort((function(e,t){return s(e.key,t.key)})):a}(o(e,0,za,Ua),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function Ia(){return{}}function Ba(e,t,n){e[t]=n}function za(){return ja()}function Ua(e,t,n){e.set(t,n)}function Ha(){}var Va=ja.prototype;function Wa(e,t){var n=new Ha;if(e instanceof Ha)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}Ha.prototype=Wa.prototype={constructor:Ha,has:Va.has,add:function(e){return this["$"+(e+="")]=e,this},remove:Va.remove,clear:Va.clear,values:Va.keys,size:Va.size,empty:Va.empty,each:Va.each};var $a=Wa,Ga=function(e){var t=[];for(var n in e)t.push(n);return t},qa=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Ya=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Xa={},Ka={},Za=34,Ja=10,Qa=13;function es(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}var ts=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,c=o<=0,l=!1;function u(){if(c)return Ka;if(l)return l=!1,Xa;var t,r,i=a;if(e.charCodeAt(i)===Za){for(;a++<o&&e.charCodeAt(a)!==Za||e.charCodeAt(++a)===Za;);return(t=a)>=o?c=!0:(r=e.charCodeAt(a++))===Ja?l=!0:r===Qa&&(l=!0,e.charCodeAt(a)===Ja&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if((r=e.charCodeAt(t=a++))===Ja)l=!0;else if(r===Qa)l=!0,e.charCodeAt(a)===Ja&&++a;else if(r!==n)continue;return e.slice(i,t)}return c=!0,e.slice(i,o)}for(e.charCodeAt(o-1)===Ja&&--o,e.charCodeAt(o-1)===Qa&&--o;(r=u())!==Ka;){for(var h=[];r!==Xa&&r!==Ka;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t){return t.map(o).join(e)}function o(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=es(e);return function(r,i){return t(n(r),i,e)}}(e,t):es(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}(t)),[n.map(o).join(e)].concat(t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))).join("\n")},formatRows:function(e){return e.map(i).join("\n")}}},ns=ts(","),rs=ns.parse,is=ns.parseRows,os=ns.format,as=ns.formatRows,ss=ts("\t"),cs=ss.parse,ls=ss.parseRows,us=ss.format,hs=ss.formatRows,ds=function(e,t){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-e,s=s/o-t,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},fs=function(e){return function(){return e}},ps=function(){return 1e-6*(Math.random()-.5)};function ms(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,c,l,u,h,d,f=e._root,p={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((l=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[h=u<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,f.data),c=+e._y.call(null,f.data),t===s&&n===c)return p.next=f,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((h=u<<1|l)==(d=(c>=a)<<1|s>=o));return i[d]=f,i[h]=p,e}var gs=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function vs(e){return e[0]}function ys(e){return e[1]}function bs(e,t,n){var r=new ws(null==t?vs:t,null==n?ys:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ws(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function xs(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var _s=bs.prototype=ws.prototype;function Es(e){return e.x+e.vx}function Ss(e){return e.y+e.vy}_s.copy=function(){var e,t,n=new ws(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xs(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=xs(t));return n},_s.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return ms(this.cover(t,n),t,n,e)},_s.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<c&&(c=r),r>u&&(u=r),i<l&&(l=i),i>h&&(h=i));for(u<c&&(c=this._x0,u=this._x1),h<l&&(l=this._y0,h=this._y1),this.cover(c,l).cover(u,h),n=0;n<o;++n)ms(this,a[n],s[n],e[n]);return this},_s.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>o))return this;var a,s,c=i-n,l=this._root;switch(s=(t<(r+o)/2)<<1|e<(n+i)/2){case 0:do{(a=new Array(4))[s]=l,l=a}while(o=r+(c*=2),e>(i=n+c)||t>o);break;case 1:do{(a=new Array(4))[s]=l,l=a}while(o=r+(c*=2),(n=i-c)>e||t>o);break;case 2:do{(a=new Array(4))[s]=l,l=a}while(r=o-(c*=2),e>(i=n+c)||r>t);break;case 3:do{(a=new Array(4))[s]=l,l=a}while(r=o-(c*=2),(n=i-c)>e||r>t)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},_s.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},_s.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},_s.find=function(e,t,n){var r,i,o,a,s,c,l,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new gs(m,u,h,d,f)),null==n?n=1/0:(u=e-n,h=t-n,d=e+n,f=t+n,n*=n);c=p.pop();)if(!(!(m=c.node)||(i=c.x0)>d||(o=c.y0)>f||(a=c.x1)<u||(s=c.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new gs(m[3],g,v,a,s),new gs(m[2],i,v,g,s),new gs(m[1],g,o,a,v),new gs(m[0],i,o,g,v)),(l=(t>=v)<<1|e>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=e-x,h=t-x,d=e+x,f=t+x,r=m.data}}return r},_s.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,c,l,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((l=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(c=(m+v)/2))?m=c:v=c,t=f,!(f=f[h=u<<1|l]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},_s.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},_s.root=function(){return this._root},_s.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},_s.visit=function(e){var t,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new gs(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&c.length){var l=(r+o)/2,u=(i+a)/2;(n=c[3])&&s.push(new gs(n,l,u,o,a)),(n=c[2])&&s.push(new gs(n,r,u,l,a)),(n=c[1])&&s.push(new gs(n,l,i,o,u)),(n=c[0])&&s.push(new gs(n,r,i,l,u))}return this},_s.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new gs(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,c=t.x1,l=t.y1,u=(a+c)/2,h=(s+l)/2;(o=i[0])&&n.push(new gs(o,a,s,u,h)),(o=i[1])&&n.push(new gs(o,u,s,c,h)),(o=i[2])&&n.push(new gs(o,a,h,u,l)),(o=i[3])&&n.push(new gs(o,u,h,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},_s.x=function(e){return arguments.length?(this._x=e,this):this._x},_s.y=function(e){return arguments.length?(this._y=e,this):this._y};var Cs=function(e){var t,n,r=1,i=1;function o(){for(var e,o,s,c,l,u,h,d=t.length,f=0;f<i;++f)for(o=bs(t,Es,Ss).visitAfter(a),e=0;e<d;++e)s=t[e],u=n[s.index],h=u*u,c=s.x+s.vx,l=s.y+s.vy,o.visit(p);function p(e,t,n,i,o){var a=e.data,d=e.r,f=u+d;if(!a)return t>c+f||i<c-f||n>l+f||o<l-f;if(a.index>s.index){var p=c-a.x-a.vx,m=l-a.y-a.vy,g=p*p+m*m;g<f*f&&(0===p&&(g+=(p=ps())*p),0===m&&(g+=(m=ps())*m),g=(f-(g=Math.sqrt(g)))/g*r,s.vx+=(p*=g)*(f=(d*=d)/(h+d)),s.vy+=(m*=g)*f,a.vx-=p*(f=1-f),a.vy-=m*f)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,o=t.length;for(n=new Array(o),r=0;r<o;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!=typeof e&&(e=fs(null==e?1:+e)),o.initialize=function(e){t=e,s()},o.iterations=function(e){return arguments.length?(i=+e,o):i},o.strength=function(e){return arguments.length?(r=+e,o):r},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:fs(+t),s(),o):e},o};function As(e){return e.index}function Ts(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Ms=function(e){var t,n,r,i,o,a=As,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=fs(30),l=1;function u(r){for(var i=0,a=e.length;i<l;++i)for(var s,c,u,h,d,f,p,m=0;m<a;++m)c=(s=e[m]).source,h=(u=s.target).x+u.vx-c.x-c.vx||ps(),d=u.y+u.vy-c.y-c.vy||ps(),h*=f=((f=Math.sqrt(h*h+d*d))-n[m])/f*r*t[m],d*=f,u.vx-=h*(p=o[m]),u.vy-=d*p,c.vx+=h*(p=1-p),c.vy+=d*p}function h(){if(r){var s,c,l=r.length,u=e.length,h=ja(r,a);for(s=0,i=new Array(l);s<u;++s)(c=e[s]).index=s,"object"!=typeof c.source&&(c.source=Ts(h,c.source)),"object"!=typeof c.target&&(c.target=Ts(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)c=e[s],o[s]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);t=new Array(u),d(),n=new Array(u),f()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function f(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e){r=e,h()},u.links=function(t){return arguments.length?(e=t,h(),u):e},u.id=function(e){return arguments.length?(a=e,u):a},u.iterations=function(e){return arguments.length?(l=+e,u):l},u.strength=function(e){return arguments.length?(s="function"==typeof e?e:fs(+e),d(),u):s},u.distance=function(e){return arguments.length?(c="function"==typeof e?e:fs(+e),f(),u):c},u};function ks(e){return e.x}function Os(e){return e.y}var Ps,Rs=10,Fs=Math.PI*(3-Math.sqrt(5)),Ls=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=ja(),c=ni(u),l=me("tick","end");function u(){h(),l.call("tick",t),n<r&&(c.stop(),l.call("end",t))}function h(){var t,r,c=e.length;for(n+=(o-n)*i,s.each((function(e){e(n)})),t=0;t<c;++t)null==(r=e[t]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,isNaN(t.x)||isNaN(t.y)){var i=Rs*Math.sqrt(n),o=n*Fs;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),d(),t={tick:h,restart:function(){return c.restart(u),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),s.each(f),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,f(n)),t):s.get(e)},find:function(t,n,r){var i,o,a,s,c,l=0,u=e.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)(a=(i=t-(s=e[l]).x)*i+(o=n-s.y)*o)<r&&(c=s,r=a);return c},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}},Ds=function(){var e,t,n,r,i=fs(-30),o=1,a=1/0,s=.81;function c(r){var i,o=e.length,a=bs(e,ks,Os).visitAfter(u);for(n=r,i=0;i<o;++i)t=e[i],a.visit(h)}function l(){if(e){var t,n,o=e.length;for(r=new Array(o),t=0;t<o;++t)n=e[t],r[n.index]=+i(n,t,e)}}function u(e){var t,n,i,o,a,s=0,c=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,c+=n,i+=n*t.x,o+=n*t.y);e.x=i/c,e.y=o/c}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function h(e,i,c,l){if(!e.value)return!0;var u=e.x-t.x,h=e.y-t.y,d=l-i,f=u*u+h*h;if(d*d/s<f)return f<a&&(0===u&&(f+=(u=ps())*u),0===h&&(f+=(h=ps())*h),f<o&&(f=Math.sqrt(o*f)),t.vx+=u*e.value*n/f,t.vy+=h*e.value*n/f),!0;if(!(e.length||f>=a)){(e.data!==t||e.next)&&(0===u&&(f+=(u=ps())*u),0===h&&(f+=(h=ps())*h),f<o&&(f=Math.sqrt(o*f)));do{e.data!==t&&(d=r[e.data.index]*n/f,t.vx+=u*d,t.vy+=h*d)}while(e=e.next)}}return c.initialize=function(t){e=t,l()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:fs(+e),l(),c):i},c.distanceMin=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c},js=function(e,t,n){var r,i,o,a=fs(.1);function s(e){for(var a=0,s=r.length;a<s;++a){var c=r[a],l=c.x-t||1e-6,u=c.y-n||1e-6,h=Math.sqrt(l*l+u*u),d=(o[a]-h)*i[a]*e/h;c.vx+=l*d,c.vy+=u*d}}function c(){if(r){var t,n=r.length;for(i=new Array(n),o=new Array(n),t=0;t<n;++t)o[t]=+e(r[t],t,r),i[t]=isNaN(o[t])?0:+a(r[t],t,r)}}return"function"!=typeof e&&(e=fs(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,c()},s.strength=function(e){return arguments.length?(a="function"==typeof e?e:fs(+e),c(),s):a},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:fs(+t),c(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},Ns=function(e){var t,n,r,i=fs(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=fs(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:fs(+e),a(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:fs(+t),a(),o):e},o},Is=function(e){var t,n,r,i=fs(.1);function o(e){for(var i,o=0,a=t.length;o<a;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=fs(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:fs(+e),a(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:fs(+t),a(),o):e},o},Bs=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},zs=function(e){return(e=Bs(Math.abs(e)))?e[1]:NaN},Us=function(e,t){var n=Bs(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Hs={"":function(e,t){e:for(var n,r=(e=e.toPrecision(t)).length,i=1,o=-1;i<r;++i)switch(e[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Us(100*e,t)},r:Us,s:function(e,t){var n=Bs(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ps=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Bs(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Vs=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Ws(e){return new $s(e)}function $s(e){if(!(t=Vs.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",o=t[4]||"",a=!!t[5],s=t[6]&&+t[6],c=!!t[7],l=t[8]&&+t[8].slice(1),u=t[9]||"";"n"===u?(c=!0,u="g"):Hs[u]||(u=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=c,this.precision=l,this.type=u}Ws.prototype=$s.prototype,$s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Gs,qs,Ys,Xs=function(e){return e},Ks=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Zs=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}):Xs,i=e.currency,o=e.decimal,a=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):Xs,s=e.percent||"%";function c(e){var t=(e=Ws(e)).fill,n=e.align,c=e.sign,l=e.symbol,u=e.zero,h=e.width,d=e.comma,f=e.precision,p=e.type,m="$"===l?i[0]:"#"===l&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===l?i[1]:/[%p]/.test(p)?s:"",v=Hs[p],y=!p||/[defgprs%]/.test(p);function b(e){var i,s,l,b=m,w=g;if("c"===p)w=v(e)+w,e="";else{var x=(e=+e)<0;if(e=v(Math.abs(e),f),x&&0==+e&&(x=!1),b=(x?"("===c?c:"-":"-"===c||"("===c?"":c)+b,w=("s"===p?Ks[8+Ps/3]:"")+w+(x&&"("===c?")":""),y)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){w=(46===l?o+e.slice(i+1):e.slice(i))+w,e=e.slice(0,i);break}}d&&!u&&(e=r(e,1/0));var _=b.length+e.length+w.length,E=_<h?new Array(h-_+1).join(t):"";switch(d&&u&&(e=r(E+e,E.length?h-w.length:1/0),E=""),n){case"<":e=b+e+w+E;break;case"=":e=b+E+e+w;break;case"^":e=E.slice(0,_=E.length>>1)+b+e+w+E.slice(_);break;default:e=E+b+e+w}return a(e)}return f=null==f?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),b.toString=function(){return e+""},b}return{format:c,formatPrefix:function(e,t){var n=c(((e=Ws(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(zs(t)/3))),i=Math.pow(10,-r),o=Ks[8+r/3];return function(e){return n(i*e)+o}}}};function Js(e){return Gs=Zs(e),qs=Gs.format,Ys=Gs.formatPrefix,Gs}Js({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Qs=function(e){return Math.max(0,-zs(Math.abs(e)))},ec=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zs(t)/3)))-zs(Math.abs(e)))},tc=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zs(t)-zs(e))+1},nc=function(){return new rc};function rc(){this.reset()}rc.prototype={constructor:rc,reset:function(){this.s=this.t=0},add:function(e){oc(ic,e,this.t),oc(this,ic.s,this.s),this.s?this.t+=ic.t:this.s=ic.t},valueOf:function(){return this.s}};var ic=new rc;function oc(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var ac=1e-6,sc=Math.PI,cc=sc/2,lc=sc/4,uc=2*sc,hc=180/sc,dc=sc/180,fc=Math.abs,pc=Math.atan,mc=Math.atan2,gc=Math.cos,vc=Math.ceil,yc=Math.exp,bc=(Math.floor,Math.log),wc=Math.pow,xc=Math.sin,_c=Math.sign||function(e){return e>0?1:e<0?-1:0},Ec=Math.sqrt,Sc=Math.tan;function Cc(e){return e>1?0:e<-1?sc:Math.acos(e)}function Ac(e){return e>1?cc:e<-1?-cc:Math.asin(e)}function Tc(e){return(e=xc(e/2))*e}function Mc(){}function kc(e,t){e&&Pc.hasOwnProperty(e.type)&&Pc[e.type](e,t)}var Oc={Feature:function(e,t){kc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)kc(n[r].geometry,t)}},Pc={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Rc(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Rc(n[r],t,0)},Polygon:function(e,t){Fc(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Fc(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)kc(n[r],t)}};function Rc(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Fc(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Rc(e[n],t,1);t.polygonEnd()}var Lc,Dc,jc,Nc,Ic,Bc=function(e,t){e&&Oc.hasOwnProperty(e.type)?Oc[e.type](e,t):kc(e,t)},zc=nc(),Uc=nc(),Hc={point:Mc,lineStart:Mc,lineEnd:Mc,polygonStart:function(){zc.reset(),Hc.lineStart=Vc,Hc.lineEnd=Wc},polygonEnd:function(){var e=+zc;Uc.add(e<0?uc+e:e),this.lineStart=this.lineEnd=this.point=Mc},sphere:function(){Uc.add(uc)}};function Vc(){Hc.point=$c}function Wc(){Gc(Lc,Dc)}function $c(e,t){Hc.point=Gc,Lc=e,Dc=t,jc=e*=dc,Nc=gc(t=(t*=dc)/2+lc),Ic=xc(t)}function Gc(e,t){var n=(e*=dc)-jc,r=n>=0?1:-1,i=r*n,o=gc(t=(t*=dc)/2+lc),a=xc(t),s=Ic*a,c=Nc*o+s*gc(i),l=s*r*xc(i);zc.add(mc(l,c)),jc=e,Nc=o,Ic=a}var qc=function(e){return Uc.reset(),Bc(e,Hc),2*Uc};function Yc(e){return[mc(e[1],e[0]),Ac(e[2])]}function Xc(e){var t=e[0],n=e[1],r=gc(n);return[r*gc(t),r*xc(t),xc(n)]}function Kc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Zc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Jc(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qc(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function el(e){var t=Ec(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var tl,nl,rl,il,ol,al,sl,cl,ll,ul,hl=nc(),dl={point:fl,lineStart:ml,lineEnd:gl,polygonStart:function(){dl.point=vl,dl.lineStart=yl,dl.lineEnd=bl,hl.reset(),Hc.polygonStart()},polygonEnd:function(){Hc.polygonEnd(),dl.point=fl,dl.lineStart=ml,dl.lineEnd=gl,zc<0?(tl=-(rl=180),nl=-(il=90)):hl>ac?il=90:hl<-ac&&(nl=-90),ul[0]=tl,ul[1]=rl}};function fl(e,t){ll.push(ul=[tl=e,rl=e]),t<nl&&(nl=t),t>il&&(il=t)}function pl(e,t){var n=Xc([e*dc,t*dc]);if(cl){var r=Zc(cl,n),i=Zc([r[1],-r[0],0],r);el(i),i=Yc(i);var o,a=e-ol,s=a>0?1:-1,c=i[0]*hc*s,l=fc(a)>180;l^(s*ol<c&&c<s*e)?(o=i[1]*hc)>il&&(il=o):l^(s*ol<(c=(c+360)%360-180)&&c<s*e)?(o=-i[1]*hc)<nl&&(nl=o):(t<nl&&(nl=t),t>il&&(il=t)),l?e<ol?wl(tl,e)>wl(tl,rl)&&(rl=e):wl(e,rl)>wl(tl,rl)&&(tl=e):rl>=tl?(e<tl&&(tl=e),e>rl&&(rl=e)):e>ol?wl(tl,e)>wl(tl,rl)&&(rl=e):wl(e,rl)>wl(tl,rl)&&(tl=e)}else ll.push(ul=[tl=e,rl=e]);t<nl&&(nl=t),t>il&&(il=t),cl=n,ol=e}function ml(){dl.point=pl}function gl(){ul[0]=tl,ul[1]=rl,dl.point=fl,cl=null}function vl(e,t){if(cl){var n=e-ol;hl.add(fc(n)>180?n+(n>0?360:-360):n)}else al=e,sl=t;Hc.point(e,t),pl(e,t)}function yl(){Hc.lineStart()}function bl(){vl(al,sl),Hc.lineEnd(),fc(hl)>ac&&(tl=-(rl=180)),ul[0]=tl,ul[1]=rl,cl=null}function wl(e,t){return(t-=e)<0?t+360:t}function xl(e,t){return e[0]-t[0]}function _l(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var El,Sl,Cl,Al,Tl,Ml,kl,Ol,Pl,Rl,Fl,Ll,Dl,jl,Nl,Il,Bl=function(e){var t,n,r,i,o,a,s;if(il=rl=-(tl=nl=1/0),ll=[],Bc(e,dl),n=ll.length){for(ll.sort(xl),t=1,o=[r=ll[0]];t<n;++t)_l(r,(i=ll[t])[0])||_l(r,i[1])?(wl(r[0],i[1])>wl(r[0],r[1])&&(r[1]=i[1]),wl(i[0],r[1])>wl(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=wl(r[1],i[0]))>a&&(a=s,tl=i[0],rl=r[1])}return ll=ul=null,tl===1/0||nl===1/0?[[NaN,NaN],[NaN,NaN]]:[[tl,nl],[rl,il]]},zl={sphere:Mc,point:Ul,lineStart:Vl,lineEnd:Gl,polygonStart:function(){zl.lineStart=ql,zl.lineEnd=Yl},polygonEnd:function(){zl.lineStart=Vl,zl.lineEnd=Gl}};function Ul(e,t){e*=dc;var n=gc(t*=dc);Hl(n*gc(e),n*xc(e),xc(t))}function Hl(e,t,n){Cl+=(e-Cl)/++El,Al+=(t-Al)/El,Tl+=(n-Tl)/El}function Vl(){zl.point=Wl}function Wl(e,t){e*=dc;var n=gc(t*=dc);jl=n*gc(e),Nl=n*xc(e),Il=xc(t),zl.point=$l,Hl(jl,Nl,Il)}function $l(e,t){e*=dc;var n=gc(t*=dc),r=n*gc(e),i=n*xc(e),o=xc(t),a=mc(Ec((a=Nl*o-Il*i)*a+(a=Il*r-jl*o)*a+(a=jl*i-Nl*r)*a),jl*r+Nl*i+Il*o);Sl+=a,Ml+=a*(jl+(jl=r)),kl+=a*(Nl+(Nl=i)),Ol+=a*(Il+(Il=o)),Hl(jl,Nl,Il)}function Gl(){zl.point=Ul}function ql(){zl.point=Xl}function Yl(){Kl(Ll,Dl),zl.point=Ul}function Xl(e,t){Ll=e,Dl=t,e*=dc,t*=dc,zl.point=Kl;var n=gc(t);jl=n*gc(e),Nl=n*xc(e),Il=xc(t),Hl(jl,Nl,Il)}function Kl(e,t){e*=dc;var n=gc(t*=dc),r=n*gc(e),i=n*xc(e),o=xc(t),a=Nl*o-Il*i,s=Il*r-jl*o,c=jl*i-Nl*r,l=Ec(a*a+s*s+c*c),u=Ac(l),h=l&&-u/l;Pl+=h*a,Rl+=h*s,Fl+=h*c,Sl+=u,Ml+=u*(jl+(jl=r)),kl+=u*(Nl+(Nl=i)),Ol+=u*(Il+(Il=o)),Hl(jl,Nl,Il)}var Zl=function(e){El=Sl=Cl=Al=Tl=Ml=kl=Ol=Pl=Rl=Fl=0,Bc(e,zl);var t=Pl,n=Rl,r=Fl,i=t*t+n*n+r*r;return i<1e-12&&(t=Ml,n=kl,r=Ol,Sl<ac&&(t=Cl,n=Al,r=Tl),(i=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[mc(n,t)*hc,Ac(r/Ec(i))*hc]},Jl=function(e){return function(){return e}},Ql=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function eu(e,t){return[e>sc?e-uc:e<-sc?e+uc:e,t]}function tu(e,t,n){return(e%=uc)?t||n?Ql(ru(e),iu(t,n)):ru(e):t||n?iu(t,n):eu}function nu(e){return function(t,n){return[(t+=e)>sc?t-uc:t<-sc?t+uc:t,n]}}function ru(e){var t=nu(e);return t.invert=nu(-e),t}function iu(e,t){var n=gc(e),r=xc(e),i=gc(t),o=xc(t);function a(e,t){var a=gc(t),s=gc(e)*a,c=xc(e)*a,l=xc(t),u=l*n+s*r;return[mc(c*i-u*o,s*n-l*r),Ac(u*i+c*o)]}return a.invert=function(e,t){var a=gc(t),s=gc(e)*a,c=xc(e)*a,l=xc(t),u=l*i-c*o;return[mc(c*i+l*o,s*n+u*r),Ac(u*n-s*r)]},a}eu.invert=eu;var ou=function(e){function t(t){return(t=e(t[0]*dc,t[1]*dc))[0]*=hc,t[1]*=hc,t}return e=tu(e[0]*dc,e[1]*dc,e.length>2?e[2]*dc:0),t.invert=function(t){return(t=e.invert(t[0]*dc,t[1]*dc))[0]*=hc,t[1]*=hc,t},t};function au(e,t,n,r,i,o){if(n){var a=gc(t),s=xc(t),c=r*n;null==i?(i=t+r*uc,o=t-c/2):(i=su(a,i),o=su(a,o),(r>0?i<o:i>o)&&(i+=r*uc));for(var l,u=i;r>0?u>o:u<o;u-=c)l=Yc([a,-s*gc(u),-s*xc(u)]),e.point(l[0],l[1])}}function su(e,t){(t=Xc(t))[0]-=e,el(t);var n=Cc(-t[1]);return((-t[2]<0?-n:n)+uc-ac)%uc}var cu=function(){var e,t,n=Jl([0,0]),r=Jl(90),i=Jl(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=hc,n[1]*=hc}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*dc,c=i.apply(this,arguments)*dc;return e=[],t=tu(-a[0]*dc,-a[1]*dc,0).invert,au(o,s,c,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Jl([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:Jl(+e),a):r},a.precision=function(e){return arguments.length?(i="function"==typeof e?e:Jl(+e),a):i},a},lu=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Mc,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},uu=function(e,t){return fc(e[0]-t[0])<ac&&fc(e[1]-t[1])<ac};function hu(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var du=function(e,t,n,r,i){var o,a,s=[],c=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(uu(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new hu(r,e,null,!0)),c.push(n.o=new hu(r,null,n,!1)),s.push(n=new hu(a,e,null,!1)),c.push(n.o=new hu(a,null,n,!0))}})),s.length){for(c.sort(t),fu(s),fu(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(l=d.p.z,o=l.length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}};function fu(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var pu=nc(),mu=function(e,t){var n=t[0],r=t[1],i=[xc(n),-gc(n),0],o=0,a=0;pu.reset();for(var s=0,c=e.length;s<c;++s)if(u=(l=e[s]).length)for(var l,u,h=l[u-1],d=h[0],f=h[1]/2+lc,p=xc(f),m=gc(f),g=0;g<u;++g,d=y,p=w,m=x,h=v){var v=l[g],y=v[0],b=v[1]/2+lc,w=xc(b),x=gc(b),_=y-d,E=_>=0?1:-1,S=E*_,C=S>sc,A=p*w;if(pu.add(mc(A*E*xc(S),m*x+A*gc(S))),o+=C?_+E*uc:_,C^d>=n^y>=n){var T=Zc(Xc(h),Xc(v));el(T);var M=Zc(i,T);el(M);var k=(C^_>=0?-1:1)*Ac(M[2]);(r>k||r===k&&(T[0]||T[1]))&&(a+=C^_>=0?1:-1)}}return(o<-ac||o<ac&&pu<-ac)^1&a},gu=function(e,t,n,r){return function(i){var o,a,s,c=t(i),l=lu(),u=t(l),h=!1,d={point:f,lineStart:m,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=m,d.lineEnd=g,a=N(a);var e=mu(o,r);a.length?(h||(i.polygonStart(),h=!0),du(a,yu,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(t,n){e(t,n)&&i.point(t,n)}function p(e,t){c.point(e,t)}function m(){d.point=p,c.lineStart()}function g(){d.point=f,c.lineEnd()}function v(e,t){s.push([e,t]),u.point(e,t)}function y(){u.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),u.lineEnd();var e,t,n,r,c=u.clean(),d=l.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&c){if((t=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&c&&d.push(d.pop().concat(d.shift())),a.push(d.filter(vu))}return d}};function vu(e){return e.length>1}function yu(e,t){return((e=e.x)[0]<0?e[1]-cc-ac:cc-e[1])-((t=t.x)[0]<0?t[1]-cc-ac:cc-t[1])}var bu=gu((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?sc:-sc,c=fc(o-n);fc(c-sc)<ac?(e.point(n,r=(r+a)/2>0?cc:-cc),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&c>=sc&&(fc(n-i)<ac&&(n-=i*ac),fc(o-s)<ac&&(o-=s*ac),r=function(e,t,n,r){var i,o,a=xc(e-n);return fc(a)>ac?pc((xc(t)*(o=gc(r))*xc(n)-xc(r)*(i=gc(t))*xc(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*cc,r.point(-sc,i),r.point(0,i),r.point(sc,i),r.point(sc,0),r.point(sc,-i),r.point(0,-i),r.point(-sc,-i),r.point(-sc,0),r.point(-sc,i);else if(fc(e[0]-t[0])>ac){var o=e[0]<t[0]?sc:-sc;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-sc,-cc]);var wu=function(e){var t=gc(e),n=6*dc,r=t>0,i=fc(t)>ac;function o(e,n){return gc(e)*gc(n)>t}function a(e,n,r){var i=[1,0,0],o=Zc(Xc(e),Xc(n)),a=Kc(o,o),s=o[0],c=a-s*s;if(!c)return!r&&e;var l=t*a/c,u=-t*s/c,h=Zc(i,o),d=Qc(i,l);Jc(d,Qc(o,u));var f=h,p=Kc(d,f),m=Kc(f,f),g=p*p-m*(Kc(d,d)-1);if(!(g<0)){var v=Ec(g),y=Qc(f,(-p-v)/m);if(Jc(y,d),y=Yc(y),!r)return y;var b,w=e[0],x=n[0],_=e[1],E=n[1];x<w&&(b=w,w=x,x=b);var S=x-w,C=fc(S-sc)<ac;if(!C&&E<_&&(b=_,_=E,E=b),C||S<ac?C?_+E>0^y[1]<(fc(y[0]-w)<ac?_:E):_<=y[1]&&y[1]<=E:S>sc^(w<=y[0]&&y[0]<=x)){var A=Qc(f,(-p+v)/m);return Jc(A,d),[y,Yc(A)]}}}function s(t,n){var i=r?e:sc-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return gu(o,(function(e){var t,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,d){var f,p=[h,d],m=o(h,d),g=r?m?0:s(h,d):m?s(h+(h<0?sc:-sc),d):0;if(!t&&(l=c=m)&&e.lineStart(),m!==c&&(!(f=a(t,p))||uu(t,f)||uu(p,f))&&(p[0]+=ac,p[1]+=ac,m=o(p[0],p[1])),m!==c)u=0,m?(e.lineStart(),f=a(p,t),e.point(f[0],f[1])):(f=a(t,p),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(i&&t&&r^m){var v;g&n||!(v=a(p,t,!0))||(u=0,r?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&uu(t,p)||e.point(p[0],p[1]),t=p,c=m,n=g},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return u|(l&&c)<<1}}}),(function(t,r,i,o){au(o,e,n,i,t,r)}),r?[0,-e]:[-sc,e-sc])},xu=function(e,t,n,r,i,o){var a,s=e[0],c=e[1],l=0,u=1,h=t[0]-s,d=t[1]-c;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<u&&(u=a)}return l>0&&(e[0]=s+l*h,e[1]=c+l*d),u<1&&(t[0]=s+u*h,t[1]=c+u*d),!0}}}}},_u=1e9,Eu=-_u;function Su(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||c(i,o)<0^s>0)do{l.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return fc(r[0]-e)<ac?i>0?0:3:fc(r[0]-n)<ac?i>0?2:1:fc(r[1]-t)<ac?i>0?1:0:i>0?3:2}function s(e,t){return c(e.x,t.x)}function c(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var c,l,u,h,d,f,p,m,g,v,y,b=a,w=lu(),x={point:_,lineStart:function(){x.point=E,l&&l.push(u=[]);v=!0,g=!1,p=m=NaN},lineEnd:function(){c&&(E(h,d),f&&g&&w.rejoin(),c.push(w.result()));x.point=_,g&&b.lineEnd()},polygonStart:function(){b=w,c=[],l=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],c=1,u=s.length,h=s[0],d=h[0],f=h[1];c<u;++c)o=d,a=f,h=s[c],d=h[0],f=h[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(e-o)&&++t:f<=r&&(d-o)*(r-a)<(f-a)*(e-o)&&--t;return t}(),n=y&&t,i=(c=N(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&du(c,s,t,o,a),a.polygonEnd());b=a,c=l=u=null}};function _(e,t){i(e,t)&&b.point(e,t)}function E(o,a){var s=i(o,a);if(l&&u.push([o,a]),v)h=o,d=a,f=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var c=[p=Math.max(Eu,Math.min(_u,p)),m=Math.max(Eu,Math.min(_u,m))],w=[o=Math.max(Eu,Math.min(_u,o)),a=Math.max(Eu,Math.min(_u,a))];xu(c,w,e,t,n,r)?(g||(b.lineStart(),b.point(c[0],c[1])),b.point(w[0],w[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(o,a),y=!1)}p=o,m=a,g=s}return x}}var Cu,Au,Tu,Mu=function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Su(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},ku=nc(),Ou={sphere:Mc,point:Mc,lineStart:function(){Ou.point=Ru,Ou.lineEnd=Pu},lineEnd:Mc,polygonStart:Mc,polygonEnd:Mc};function Pu(){Ou.point=Ou.lineEnd=Mc}function Ru(e,t){Cu=e*=dc,Au=xc(t*=dc),Tu=gc(t),Ou.point=Fu}function Fu(e,t){e*=dc;var n=xc(t*=dc),r=gc(t),i=fc(e-Cu),o=gc(i),a=r*xc(i),s=Tu*n-Au*r*o,c=Au*n+Tu*r*o;ku.add(mc(Ec(a*a+s*s),c)),Cu=e,Au=n,Tu=r}var Lu=function(e){return ku.reset(),Bc(e,Ou),+ku},Du=[null,null],ju={type:"LineString",coordinates:Du},Nu=function(e,t){return Du[0]=e,Du[1]=t,Lu(ju)},Iu={Feature:function(e,t){return zu(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(zu(n[r].geometry,t))return!0;return!1}},Bu={Sphere:function(){return!0},Point:function(e,t){return Uu(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Uu(n[r],t))return!0;return!1},LineString:function(e,t){return Hu(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Hu(n[r],t))return!0;return!1},Polygon:function(e,t){return Vu(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Vu(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(zu(n[r],t))return!0;return!1}};function zu(e,t){return!(!e||!Bu.hasOwnProperty(e.type))&&Bu[e.type](e,t)}function Uu(e,t){return 0===Nu(e,t)}function Hu(e,t){var n=Nu(e[0],e[1]);return Nu(e[0],t)+Nu(t,e[1])<=n+ac}function Vu(e,t){return!!mu(e.map(Wu),$u(t))}function Wu(e){return(e=e.map($u)).pop(),e}function $u(e){return[e[0]*dc,e[1]*dc]}var Gu=function(e,t){return(e&&Iu.hasOwnProperty(e.type)?Iu[e.type]:zu)(e,t)};function qu(e,t,n){var r=_(e,t-ac,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Yu(e,t,n){var r=_(e,t-ac,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Xu(){var e,t,n,r,i,o,a,s,c,l,u,h,d=10,f=d,p=90,m=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return _(vc(r/p)*p,n,p).map(u).concat(_(vc(s/m)*m,a,m).map(h)).concat(_(vc(t/d)*d,e,d).filter((function(e){return fc(e%p)>ac})).map(c)).concat(_(vc(o/f)*f,i,f).filter((function(e){return fc(e%m)>ac})).map(l))}return v.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),v.precision(g)):[[r,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),v.precision(g)):[[t,o],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],v):[p,m]},v.stepMinor=function(e){return arguments.length?(d=+e[0],f=+e[1],v):[d,f]},v.precision=function(d){return arguments.length?(g=+d,c=qu(o,i,90),l=Yu(t,e,g),u=qu(s,a,90),h=Yu(r,n,g),v):g},v.extentMajor([[-180,-90+ac],[180,90-ac]]).extentMinor([[-180,-80-ac],[180,80+ac]])}function Ku(){return Xu()()}var Zu,Ju,Qu,eh,th=function(e,t){var n=e[0]*dc,r=e[1]*dc,i=t[0]*dc,o=t[1]*dc,a=gc(r),s=xc(r),c=gc(o),l=xc(o),u=a*gc(n),h=a*xc(n),d=c*gc(i),f=c*xc(i),p=2*Ac(Ec(Tc(o-r)+a*c*Tc(i-n))),m=xc(p),g=p?function(e){var t=xc(e*=p)/m,n=xc(p-e)/m,r=n*u+t*d,i=n*h+t*f,o=n*s+t*l;return[mc(i,r)*hc,mc(o,Ec(r*r+i*i))*hc]}:function(){return[n*hc,r*hc]};return g.distance=p,g},nh=function(e){return e},rh=nc(),ih=nc(),oh={point:Mc,lineStart:Mc,lineEnd:Mc,polygonStart:function(){oh.lineStart=ah,oh.lineEnd=lh},polygonEnd:function(){oh.lineStart=oh.lineEnd=oh.point=Mc,rh.add(fc(ih)),ih.reset()},result:function(){var e=rh/2;return rh.reset(),e}};function ah(){oh.point=sh}function sh(e,t){oh.point=ch,Zu=Qu=e,Ju=eh=t}function ch(e,t){ih.add(eh*e-Qu*t),Qu=e,eh=t}function lh(){ch(Zu,Ju)}var uh=oh,hh=1/0,dh=hh,fh=-hh,ph=fh;var mh,gh,vh,yh,bh={point:function(e,t){e<hh&&(hh=e);e>fh&&(fh=e);t<dh&&(dh=t);t>ph&&(ph=t)},lineStart:Mc,lineEnd:Mc,polygonStart:Mc,polygonEnd:Mc,result:function(){var e=[[hh,dh],[fh,ph]];return fh=ph=-(dh=hh=1/0),e}},wh=0,xh=0,_h=0,Eh=0,Sh=0,Ch=0,Ah=0,Th=0,Mh=0,kh={point:Oh,lineStart:Ph,lineEnd:Lh,polygonStart:function(){kh.lineStart=Dh,kh.lineEnd=jh},polygonEnd:function(){kh.point=Oh,kh.lineStart=Ph,kh.lineEnd=Lh},result:function(){var e=Mh?[Ah/Mh,Th/Mh]:Ch?[Eh/Ch,Sh/Ch]:_h?[wh/_h,xh/_h]:[NaN,NaN];return wh=xh=_h=Eh=Sh=Ch=Ah=Th=Mh=0,e}};function Oh(e,t){wh+=e,xh+=t,++_h}function Ph(){kh.point=Rh}function Rh(e,t){kh.point=Fh,Oh(vh=e,yh=t)}function Fh(e,t){var n=e-vh,r=t-yh,i=Ec(n*n+r*r);Eh+=i*(vh+e)/2,Sh+=i*(yh+t)/2,Ch+=i,Oh(vh=e,yh=t)}function Lh(){kh.point=Oh}function Dh(){kh.point=Nh}function jh(){Ih(mh,gh)}function Nh(e,t){kh.point=Ih,Oh(mh=vh=e,gh=yh=t)}function Ih(e,t){var n=e-vh,r=t-yh,i=Ec(n*n+r*r);Eh+=i*(vh+e)/2,Sh+=i*(yh+t)/2,Ch+=i,Ah+=(i=yh*e-vh*t)*(vh+e),Th+=i*(yh+t),Mh+=3*i,Oh(vh=e,yh=t)}var Bh=kh;function zh(e){this._context=e}zh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,uc)}},result:Mc};var Uh,Hh,Vh,Wh,$h,Gh=nc(),qh={point:Mc,lineStart:function(){qh.point=Yh},lineEnd:function(){Uh&&Xh(Hh,Vh),qh.point=Mc},polygonStart:function(){Uh=!0},polygonEnd:function(){Uh=null},result:function(){var e=+Gh;return Gh.reset(),e}};function Yh(e,t){qh.point=Xh,Hh=Wh=e,Vh=$h=t}function Xh(e,t){Wh-=e,$h-=t,Gh.add(Ec(Wh*Wh+$h*$h)),Wh=e,$h=t}var Kh=qh;function Zh(){this._string=[]}function Jh(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Zh.prototype={_radius:4.5,_circle:Jh(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Jh(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Qh=function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Bc(e,n(r))),r.result()}return o.area=function(e){return Bc(e,n(uh)),uh.result()},o.measure=function(e){return Bc(e,n(Kh)),Kh.result()},o.bounds=function(e){return Bc(e,n(bh)),bh.result()},o.centroid=function(e){return Bc(e,n(Bh)),Bh.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,nh):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new Zh):new zh(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},ed=function(e){return{stream:td(e)}};function td(e){return function(t){var n=new nd;for(var r in e)n[r]=e[r];return n.stream=t,n}}function nd(){}function rd(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Bc(n,e.stream(bh)),t(bh.result()),null!=r&&e.clipExtent(r),e}function id(e,t,n){return rd(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function od(e,t,n){return id(e,[[0,0],t],n)}function ad(e,t,n){return rd(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function sd(e,t,n){return rd(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}nd.prototype={constructor:nd,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var cd=16,ld=gc(30*dc),ud=function(e,t){return+t?function(e,t){function n(r,i,o,a,s,c,l,u,h,d,f,p,m,g){var v=l-r,y=u-i,b=v*v+y*y;if(b>4*t&&m--){var w=a+d,x=s+f,_=c+p,E=Ec(w*w+x*x+_*_),S=Ac(_/=E),C=fc(fc(_)-1)<ac||fc(o-h)<ac?(o+h)/2:mc(x,w),A=e(C,S),T=A[0],M=A[1],k=T-r,O=M-i,P=y*k-v*O;(P*P/b>t||fc((v*k+y*O)/b-.5)>.3||a*d+s*f+c*p<ld)&&(n(r,i,o,a,s,c,T,M,C,w/=E,x/=E,_,m,g),g.point(T,M),n(T,M,C,w,x,_,l,u,h,d,f,p,m,g))}}return function(t){var r,i,o,a,s,c,l,u,h,d,f,p,m={point:g,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=w},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,m.point=y,t.lineStart()}function y(r,i){var o=Xc([r,i]),a=e(r,i);n(u,h,l,d,f,p,u=a[0],h=a[1],l=r,d=o[0],f=o[1],p=o[2],cd,t),t.point(u,h)}function b(){m.point=g,t.lineEnd()}function w(){v(),m.point=x,m.lineEnd=_}function x(e,t){y(r=e,t),i=u,o=h,a=d,s=f,c=p,m.point=y}function _(){n(u,h,l,d,f,p,i,o,r,a,s,c,cd,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return td({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var hd=td({point:function(e,t){this.stream.point(e*dc,t*dc)}});function dd(e){return fd((function(){return e}))()}function fd(e){var t,n,r,i,o,a,s,c,l,u,h=150,d=480,f=250,p=0,m=0,g=0,v=0,y=0,b=null,w=bu,x=null,_=nh,E=.5,S=ud(T,E);function C(e){return[(e=o(e[0]*dc,e[1]*dc))[0]*h+n,r-e[1]*h]}function A(e){return(e=o.invert((e[0]-n)/h,(r-e[1])/h))&&[e[0]*hc,e[1]*hc]}function T(e,i){return[(e=t(e,i))[0]*h+n,r-e[1]*h]}function M(){o=Ql(i=tu(g,v,y),t);var e=t(p,m);return n=d-e[0]*h,r=f+e[1]*h,k()}function k(){return l=u=null,C}return C.stream=function(e){return l&&u===e?l:l=hd(function(e){return td({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(i)(w(S(_(u=e)))))},C.preclip=function(e){return arguments.length?(w=e,b=void 0,k()):w},C.postclip=function(e){return arguments.length?(_=e,x=a=s=c=null,k()):_},C.clipAngle=function(e){return arguments.length?(w=+e?wu(b=e*dc):(b=null,bu),k()):b*hc},C.clipExtent=function(e){return arguments.length?(_=null==e?(x=a=s=c=null,nh):Su(x=+e[0][0],a=+e[0][1],s=+e[1][0],c=+e[1][1]),k()):null==x?null:[[x,a],[s,c]]},C.scale=function(e){return arguments.length?(h=+e,M()):h},C.translate=function(e){return arguments.length?(d=+e[0],f=+e[1],M()):[d,f]},C.center=function(e){return arguments.length?(p=e[0]%360*dc,m=e[1]%360*dc,M()):[p*hc,m*hc]},C.rotate=function(e){return arguments.length?(g=e[0]%360*dc,v=e[1]%360*dc,y=e.length>2?e[2]%360*dc:0,M()):[g*hc,v*hc,y*hc]},C.precision=function(e){return arguments.length?(S=ud(T,E=e*e),k()):Ec(E)},C.fitExtent=function(e,t){return id(C,e,t)},C.fitSize=function(e,t){return od(C,e,t)},C.fitWidth=function(e,t){return ad(C,e,t)},C.fitHeight=function(e,t){return sd(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&A,M()}}function pd(e){var t=0,n=sc/3,r=fd(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*dc,n=e[1]*dc):[t*hc,n*hc]},i}function md(e,t){var n=xc(e),r=(n+xc(t))/2;if(fc(r)<ac)return function(e){var t=gc(e);function n(e,n){return[e*t,xc(n)/t]}return n.invert=function(e,n){return[e/t,Ac(n*t)]},n}(e);var i=1+n*(2*r-n),o=Ec(i)/r;function a(e,t){var n=Ec(i-2*r*xc(t))/r;return[n*xc(e*=r),o-n*gc(e)]}return a.invert=function(e,t){var n=o-t;return[mc(e,fc(n))/r*_c(n),Ac((i-(e*e+n*n)*r*r)/(2*r))]},a}var gd=function(){return pd(md).scale(155.424).center([0,33.6442])},vd=function(){return gd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var yd=function(){var e,t,n,r,i,o,a=vd(),s=gd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,t){o=[e,t]}};function u(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function h(){return e=t=null,u}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),s.stream(n),c.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),c.precision(e),h()):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),c.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],u=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,u-.238*t],[o+.455*t,u+.238*t]]).stream(l),r=s.translate([o-.307*t,u+.201*t]).clipExtent([[o-.425*t+ac,u+.12*t+ac],[o-.214*t-ac,u+.234*t-ac]]).stream(l),i=c.translate([o-.205*t,u+.212*t]).clipExtent([[o-.214*t+ac,u+.166*t+ac],[o-.115*t-ac,u+.234*t-ac]]).stream(l),h()},u.fitExtent=function(e,t){return id(u,e,t)},u.fitSize=function(e,t){return od(u,e,t)},u.fitWidth=function(e,t){return ad(u,e,t)},u.fitHeight=function(e,t){return sd(u,e,t)},u.scale(1070)};function bd(e){return function(t,n){var r=gc(t),i=gc(n),o=e(r*i);return[o*i*xc(t),o*xc(n)]}}function wd(e){return function(t,n){var r=Ec(t*t+n*n),i=e(r),o=xc(i),a=gc(i);return[mc(t*o,r*a),Ac(r&&n*o/r)]}}var xd=bd((function(e){return Ec(2/(1+e))}));xd.invert=wd((function(e){return 2*Ac(e/2)}));var _d=function(){return dd(xd).scale(124.75).clipAngle(179.999)},Ed=bd((function(e){return(e=Cc(e))&&e/xc(e)}));Ed.invert=wd((function(e){return e}));var Sd=function(){return dd(Ed).scale(79.4188).clipAngle(179.999)};function Cd(e,t){return[e,bc(Sc((cc+t)/2))]}Cd.invert=function(e,t){return[e,2*pc(yc(t))-cc]};var Ad=function(){return Td(Cd).scale(961/uc)};function Td(e){var t,n,r,i=dd(e),o=i.center,a=i.scale,s=i.translate,c=i.clipExtent,l=null;function u(){var o=sc*a(),s=i(ou(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===Cd?[[Math.max(s[0]-o,l),t],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),u()):a()},i.translate=function(e){return arguments.length?(s(e),u()):s()},i.center=function(e){return arguments.length?(o(e),u()):o()},i.clipExtent=function(e){return arguments.length?(null==e?l=t=n=r=null:(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==l?null:[[l,t],[n,r]]},u()}function Md(e){return Sc((cc+e)/2)}function kd(e,t){var n=gc(e),r=e===t?xc(e):bc(n/gc(t))/bc(Md(t)/Md(e)),i=n*wc(Md(e),r)/r;if(!r)return Cd;function o(e,t){i>0?t<-cc+ac&&(t=-cc+ac):t>cc-ac&&(t=cc-ac);var n=i/wc(Md(t),r);return[n*xc(r*e),i-n*gc(r*e)]}return o.invert=function(e,t){var n=i-t,o=_c(r)*Ec(e*e+n*n);return[mc(e,fc(n))/r*_c(n),2*pc(wc(i/o,1/r))-cc]},o}var Od=function(){return pd(kd).scale(109.5).parallels([30,30])};function Pd(e,t){return[e,t]}Pd.invert=Pd;var Rd=function(){return dd(Pd).scale(152.63)};function Fd(e,t){var n=gc(e),r=e===t?xc(e):(n-gc(t))/(t-e),i=n/r+e;if(fc(r)<ac)return Pd;function o(e,t){var n=i-t,o=r*e;return[n*xc(o),i-n*gc(o)]}return o.invert=function(e,t){var n=i-t;return[mc(e,fc(n))/r*_c(n),i-_c(r)*Ec(e*e+n*n)]},o}var Ld=function(){return pd(Fd).scale(131.154).center([0,13.9389])};function Dd(e,t){var n=gc(t),r=gc(e)*n;return[n*xc(e)/r,xc(t)/r]}Dd.invert=wd(pc);var jd=function(){return dd(Dd).scale(144.049).clipAngle(60)};function Nd(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?nh:td({point:function(i,o){this.stream.point(i*e+n,o*t+r)}})}var Id=function(){var e,t,n,r,i,o,a=1,s=0,c=0,l=1,u=1,h=nh,d=null,f=nh;function p(){return r=i=null,o}return o={stream:function(e){return r&&i===e?r:r=h(f(i=e))},postclip:function(r){return arguments.length?(f=r,d=e=t=n=null,p()):f},clipExtent:function(r){return arguments.length?(f=null==r?(d=e=t=n=null,nh):Su(d=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==d?null:[[d,e],[t,n]]},scale:function(e){return arguments.length?(h=Nd((a=+e)*l,a*u,s,c),p()):a},translate:function(e){return arguments.length?(h=Nd(a*l,a*u,s=+e[0],c=+e[1]),p()):[s,c]},reflectX:function(e){return arguments.length?(h=Nd(a*(l=e?-1:1),a*u,s,c),p()):l<0},reflectY:function(e){return arguments.length?(h=Nd(a*l,a*(u=e?-1:1),s,c),p()):u<0},fitExtent:function(e,t){return id(o,e,t)},fitSize:function(e,t){return od(o,e,t)},fitWidth:function(e,t){return ad(o,e,t)},fitHeight:function(e,t){return sd(o,e,t)}}};function Bd(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Bd.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(fc(n)>ac&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var zd=function(){return dd(Bd).scale(175.295)};function Ud(e,t){return[gc(t)*xc(e),xc(t)]}Ud.invert=wd(Ac);var Hd=function(){return dd(Ud).scale(249.5).clipAngle(90+ac)};function Vd(e,t){var n=gc(t),r=1+gc(e)*n;return[n*xc(e)/r,xc(t)/r]}Vd.invert=wd((function(e){return 2*pc(e)}));var Wd=function(){return dd(Vd).scale(250).clipAngle(142)};function $d(e,t){return[bc(Sc((cc+t)/2)),-e]}$d.invert=function(e,t){return[-t,2*pc(yc(e))-cc]};var Gd=function(){var e=Td($d),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};function qd(e,t){return e.parent===t.parent?1:2}function Yd(e,t){return e+t.x}function Xd(e,t){return Math.max(e,t.y)}var Kd=function(){var e=qd,t=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Yd,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Xd,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),c=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),l=s.x-e(s,c)/2,u=c.x+e(c,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-l)/(u-l)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i};function Zd(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Jd(e,t){var n,r,i,o,a,s=new nf(e),c=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=Qd);n=l.pop();)if(c&&(n.value=+n.data.value),(i=t(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new nf(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(tf)}function Qd(e){return e.children}function ef(e){e.data=e.data.data}function tf(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function nf(e){this.data=e,this.depth=this.height=0,this.parent=null}nf.prototype=Jd.prototype={constructor:nf,count:function(){return this.eachAfter(Zd)},each:function(e){var t,n,r,i,o=this,a=[o];do{for(t=a.reverse(),a=[];o=t.pop();)if(e(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(e){for(var t,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)o.push(t[n]);for(;i=a.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Jd(this).eachBefore(ef)}};var rf=Array.prototype.slice;var of=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(rf.call(e))).length,o=[];r<i;)t=e[r],n&&cf(n,t)?++r:(n=uf(o=af(o,t)),r=0);return n};function af(e,t){var n,r;if(lf(t,e))return[t];for(n=0;n<e.length;++n)if(sf(t,e[n])&&lf(hf(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(sf(hf(e[n],e[r]),t)&&sf(hf(e[n],t),e[r])&&sf(hf(e[r],t),e[n])&&lf(df(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function sf(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function cf(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function lf(e,t){for(var n=0;n<t.length;++n)if(!cf(e,t[n]))return!1;return!0}function uf(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return hf(e[0],e[1]);case 3:return df(e[0],e[1],e[2])}var t}function hf(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,a=t.y,s=t.r,c=o-n,l=a-r,u=s-i,h=Math.sqrt(c*c+l*l);return{x:(n+o+c/h*u)/2,y:(r+a+l/h*u)/2,r:(h+i+s)/2}}function df(e,t,n){var r=e.x,i=e.y,o=e.r,a=t.x,s=t.y,c=t.r,l=n.x,u=n.y,h=n.r,d=r-a,f=r-l,p=i-s,m=i-u,g=c-o,v=h-o,y=r*r+i*i-o*o,b=y-a*a-s*s+c*c,w=y-l*l-u*u+h*h,x=f*p-d*m,_=(p*w-m*b)/(2*x)-r,E=(m*g-p*v)/x,S=(f*b-d*w)/(2*x)-i,C=(d*v-f*g)/x,A=E*E+C*C-1,T=2*(o+_*E+S*C),M=_*_+S*S-o*o,k=-(A?(T+Math.sqrt(T*T-4*A*M))/(2*A):M/T);return{x:r+_+E*k,y:i+S+C*k,r:k}}function ff(e,t,n){var r=e.x,i=e.y,o=t.r+n.r,a=e.r+n.r,s=t.x-r,c=t.y-i,l=s*s+c*c;if(l){var u=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=r+u*s+h*c,n.y=i+u*c-h*s}else n.x=r+a,n.y=i}function pf(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function mf(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function gf(e){this._=e,this.next=null,this.previous=null}function vf(e){if(!(i=e.length))return 0;var t,n,r,i,o,a,s,c,l,u,h;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;ff(n,t,r=e[2]),t=new gf(t),n=new gf(n),r=new gf(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){ff(t._,n._,r=e[s]),r=new gf(r),c=n.next,l=t.previous,u=n._.r,h=t._.r;do{if(u<=h){if(pf(c._,r._)){n=c,t.next=n,n.previous=t,--s;continue e}u+=c._.r,c=c.next}else{if(pf(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}h+=l._.r,l=l.previous}}while(c!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=mf(t);(r=r.next)!==n;)(a=mf(r))<o&&(t=r,o=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=of(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}var yf=function(e){return vf(e),e};function bf(e){return null==e?null:wf(e)}function wf(e){if("function"!=typeof e)throw new Error;return e}function xf(){return 0}var _f=function(e){return function(){return e}};function Ef(e){return Math.sqrt(e.value)}var Sf=function(){var e=null,t=1,n=1,r=xf;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Cf(e)).eachAfter(Af(r,.5)).eachBefore(Tf(1)):i.eachBefore(Cf(Ef)).eachAfter(Af(xf,1)).eachAfter(Af(r,i.r/Math.min(t,n))).eachBefore(Tf(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=bf(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"==typeof e?e:_f(+e),i):r},i};function Cf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Af(e,t){return function(n){if(r=n.children){var r,i,o,a=r.length,s=e(n)*t||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=vf(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Tf(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Mf=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},kf=function(e,t,n,r,i){for(var o,a=e.children,s=-1,c=a.length,l=e.value&&(r-t)/e.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l},Of=function(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(function(e,t){return function(r){r.children&&kf(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(t,o)),r&&i.eachBefore(Mf),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},Pf="$",Rf={depth:-1},Ff={};function Lf(e){return e.id}function Df(e){return e.parentId}var jf=function(){var e=Lf,t=Df;function n(n){var r,i,o,a,s,c,l,u=n.length,h=new Array(u),d={};for(i=0;i<u;++i)r=n[i],s=h[i]=new nf(r),null!=(c=e(r,i,n))&&(c+="")&&(d[l=Pf+(s.id=c)]=l in d?Ff:s);for(i=0;i<u;++i)if(s=h[i],null!=(c=t(n[i],i,n))&&(c+="")){if(!(a=d[Pf+c]))throw new Error("missing: "+c);if(a===Ff)throw new Error("ambiguous: "+c);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Rf,o.eachBefore((function(e){e.depth=e.parent.depth+1,--u})).eachBefore(tf),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(t){return arguments.length?(e=wf(t),n):e},n.parentId=function(e){return arguments.length?(t=wf(e),n):t},n};function Nf(e,t){return e.parent===t.parent?1:2}function If(e){var t=e.children;return t?t[0]:e.t}function Bf(e){var t=e.children;return t?t[t.length-1]:e.t}function zf(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Uf(e,t,n){return e.a.parent===t.parent?e.a:n}function Hf(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Hf.prototype=Object.create(nf.prototype);var Vf=function(){var e=Nf,t=1,n=1,r=null;function i(i){var c=function(e){for(var t,n,r,i,o,a=new Hf(e,0),s=[a];t=s.pop();)if(r=t._.children)for(t.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=t.children[i]=new Hf(r[i],i)),n.parent=t;return(a.parent=new Hf(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(s);else{var l=i,u=i,h=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>u.x&&(u=e),e.depth>h.depth&&(h=e)}));var d=l===u?1:e(l,u)/2,f=d-l.x,p=t/(u.x+d+f),m=n/(h.depth||1);i.eachBefore((function(e){e.x=(e.x+f)*p,e.y=e.depth*m}))}return i}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,s=n,c=o.parent.children[0],l=o.m,u=a.m,h=s.m,d=c.m;s=Bf(s),o=If(o),s&&o;)c=If(c),(a=Bf(a)).a=t,(i=s.z+h-o.z-l+e(s._,o._))>0&&(zf(Uf(s,t,r),t,i),l+=i,u+=i),h+=s.m,l+=o.m,d+=c.m,u+=a.m;s&&!Bf(a)&&(a.t=s,a.m+=h-u),o&&!If(c)&&(c.t=o,c.m+=l-d,r=t)}return r}(t,i,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},Wf=function(e,t,n,r,i){for(var o,a=e.children,s=-1,c=a.length,l=e.value&&(i-n)/e.value;++s<c;)(o=a[s]).x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l},$f=(1+Math.sqrt(5))/2;function Gf(e,t,n,r,i,o){for(var a,s,c,l,u,h,d,f,p,m,g,v=[],y=t.children,b=0,w=0,x=y.length,_=t.value;b<x;){c=i-n,l=o-r;do{u=y[w++].value}while(!u&&w<x);for(h=d=u,g=u*u*(m=Math.max(l/c,c/l)/(_*e)),p=Math.max(d/g,g/h);w<x;++w){if(u+=s=y[w].value,s<h&&(h=s),s>d&&(d=s),g=u*u*m,(f=Math.max(d/g,g/h))>p){u-=s;break}p=f}v.push(a={value:u,dice:c<l,children:y.slice(b,w)}),a.dice?kf(a,n,r,i,_?r+=l*u/_:o):Wf(a,n,r,_?n+=c*u/_:i,o),_-=u,b=w}return v}var qf=function e(t){function n(e,n,r,i,o){Gf(t,e,n,r,i,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}($f),Yf=function(){var e=qf,t=!1,n=1,r=1,i=[0],o=xf,a=xf,s=xf,c=xf,l=xf;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(h),i=[0],t&&e.eachBefore(Mf),e}function h(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,h=t.x1-n,d=t.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),t.x0=r,t.y0=u,t.x1=h,t.y1=d,t.children&&(n=i[t.depth+1]=o(t)/2,r+=l(t)-n,u+=a(t)-n,(h-=s(t)-n)<r&&(r=h=(r+h)/2),(d-=c(t)-n)<u&&(u=d=(u+d)/2),e(t,r,u,h,d))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=wf(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(o="function"==typeof e?e:_f(+e),u):o},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:_f(+e),u):a},u.paddingRight=function(e){return arguments.length?(s="function"==typeof e?e:_f(+e),u):s},u.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:_f(+e),u):c},u.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:_f(+e),u):l},u},Xf=function(e,t,n,r,i){var o,a,s=e.children,c=s.length,l=new Array(c+1);for(l[0]=a=o=0;o<c;++o)l[o+1]=a+=s[o].value;!function e(t,n,r,i,o,a,c){if(t>=n-1){var u=s[t];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=c)}var h=l[t],d=r/2+h,f=t+1,p=n-1;for(;f<p;){var m=f+p>>>1;l[m]<d?f=m+1:p=m}d-l[f-1]<l[f]-d&&t+1<f&&--f;var g=l[f]-h,v=r-g;if(a-i>c-o){var y=(i*v+a*g)/r;e(t,f,g,i,o,y,c),e(f,n,v,y,o,a,c)}else{var b=(o*v+c*g)/r;e(t,f,g,i,o,a,b),e(f,n,v,i,b,a,c)}}(0,c,e.value,t,n,r,i)},Kf=function(e,t,n,r,i){(1&e.depth?Wf:kf)(e,t,n,r,i)},Zf=function e(t){function n(e,n,r,i,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,c,l,u,h=-1,d=a.length,f=e.value;++h<d;){for(c=(s=a[h]).children,l=s.value=0,u=c.length;l<u;++l)s.value+=c[l].value;s.dice?kf(s,n,r,i,r+=(o-r)*s.value/f):Wf(s,n,r,n+=(i-n)*s.value/f,o),f-=s.value}else e._squarify=a=Gf(t,e,n,r,i,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}($f),Jf=function(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[1]*i[0]-t[0]*i[1];return o/2},Qf=function(e){for(var t,n,r=-1,i=e.length,o=0,a=0,s=e[i-1],c=0;++r<i;)t=s,s=e[r],c+=n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o/(c*=3),a/c]},ep=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function tp(e,t){return e[0]-t[0]||e[1]-t[1]}function np(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&ep(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var rp=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(tp),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=np(r),a=np(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],l=[];for(t=o.length-1;t>=0;--t)l.push(e[r[o[t]][2]]);for(t=+s;t<a.length-c;++t)l.push(e[r[a[t]][2]]);return l},ip=function(e,t){for(var n,r,i=e.length,o=e[i-1],a=t[0],s=t[1],c=o[0],l=o[1],u=!1,h=0;h<i;++h)n=(o=e[h])[0],(r=o[1])>s!=l>s&&a<(c-n)*(s-r)/(l-r)+n&&(u=!u),c=n,l=r;return u},op=function(e){for(var t,n,r=-1,i=e.length,o=e[i-1],a=o[0],s=o[1],c=0;++r<i;)t=a,n=s,t-=a=(o=e[r])[0],n-=s=o[1],c+=Math.sqrt(t*t+n*n);return c},ap=[].slice,sp={};function cp(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function lp(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,i=n[r];n[r]=up(e,t),--e._waiting,++e._active,n=i.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||sp)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])hp(e,t);else if(!e._data)throw t}}function up(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?hp(e,n):(e._data[t]=r,e._waiting?lp(e):dp(e))))}}function hp(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(t){}e._active=NaN,dp(e)}function dp(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function fp(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new cp(e)}cp.prototype=fp.prototype={constructor:cp,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=ap.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),lp(this),this},abort:function(){return null==this._error&&hp(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},dp(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,dp(this),this}};var pp=function(){return Math.random()},mp=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(pp),gp=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(pp),vp=function e(t){function n(){var e=gp.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(pp),yp=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(pp),bp=function e(t){function n(e){var n=yp.source(t)(e);return function(){return n()/e}}return n.source=e,n}(pp),wp=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(pp),xp=n("bwSX"),_p=n("xo8x"),Ep=function(e,t){var n,r,i,o,a=Object(_p.a)("beforesend","progress","load","error"),s=Object(xp.a)(),c=new XMLHttpRequest,l=null,u=null,h=0;function d(e){var t,r=c.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||r>=200&&r<300||304===r){if(i)try{t=i.call(n,c)}catch(e){return void a.call("error",n,e)}else t=c;a.call("load",n,t)}else a.call("error",n,e)}if("undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=d:c.onreadystatechange=function(e){c.readyState>3&&d(e)},c.onprogress=function(e){a.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s.get(e):(null==t?s.remove(e):s.set(e,t+""),n)},mimeType:function(e){return arguments.length?(r=null==e?null:e+"",n):r},responseType:function(e){return arguments.length?(o=e,n):o},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?l:(l=null==e?null:e+"",n)},password:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},response:function(e){return i=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,i,d){return c.open(t,e,!0,l,u),null==r||s.has("accept")||s.set("accept",r+",*/*"),c.setRequestHeader&&s.each((function(e,t){c.setRequestHeader(t,e)})),null!=r&&c.overrideMimeType&&c.overrideMimeType(r),null!=o&&(c.responseType=o),h>0&&(c.timeout=h),null==d&&"function"==typeof i&&(d=i,i=null),null!=d&&1===d.length&&(d=function(e){return function(t,n){e(null==t?n:null)}}(d)),null!=d&&n.on("error",d).on("load",(function(e){d(null,e)})),a.call("beforesend",n,c),c.send(null==i?null:i),n},abort:function(){return c.abort(),n},on:function(){var e=a.on.apply(a,arguments);return e===a?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};var Sp=function(e,t){return function(n,r){var i=Ep(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Cp=Sp("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),Ap=Sp("application/json",(function(e){return JSON.parse(e.responseText)})),Tp=Sp("text/plain",(function(e){return e.responseText})),Mp=Sp("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),kp=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=Ep(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(Op(t,r=e)):r},o.row(r),i?o.get(i):o}};function Op(e,t){return function(n){return e(n.responseText,t)}}var Pp=kp("text/csv",n("Vibt").a),Rp=kp("text/tab-separated-values",n("wWUp").a),Fp=Array.prototype,Lp=Fp.map,Dp=Fp.slice,jp={name:"implicit"};function Np(e){var t=ja(),n=[],r=jp;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==jp)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return e=null==e?[]:Dp.call(e),i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=ja();for(var r,o,a=-1,s=e.length;++a<s;)t.has(o=(r=e[a])+"")||t.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(e=Dp.call(t),i):e.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return Np().domain(n).range(e).unknown(r)},i}function Ip(){var e,t,n=Np().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,c=0,l=.5;function u(){var n=r().length,u=o[1]<o[0],h=o[u-0],d=o[1-u];e=(d-h)/Math.max(1,n-s+2*c),a&&(e=Math.floor(e)),h+=(d-h-e*(n-s))*l,t=e*(1-s),a&&(h=Math.round(h),t=Math.round(t));var f=_(n).map((function(t){return h+e*t}));return i(u?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],u()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,u()):a},n.padding=function(e){return arguments.length?(s=c=Math.max(0,Math.min(1,e)),u()):s},n.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),u()):s},n.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),u()):l},n.copy=function(){return Ip().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(c).align(l)},u()}function Bp(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Ip().paddingInner(1))}var zp=function(e){return function(){return e}},Up=function(e){return+e},Hp=[0,1];function Vp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zp(t)}function Wp(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function $p(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=c(e,t,1,i)-1;return a[n](o[n](t))}}function Gp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function qp(e,t){var n,r,i,o=Hp,a=Hp,s=wr,c=!1;function l(){return n=Math.min(o.length,a.length)>2?$p:Wp,r=i=null,u}function u(t){return(r||(r=n(o,a,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}(e):e,s)))(+t)}return u.invert=function(e){return(i||(i=n(a,o,Vp,c?function(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}(t):t)))(+e)},u.domain=function(e){return arguments.length?(o=Lp.call(e,Up),l()):o.slice()},u.range=function(e){return arguments.length?(a=Dp.call(e),l()):a.slice()},u.rangeRound=function(e){return a=Dp.call(e),s=xr,l()},u.clamp=function(e){return arguments.length?(c=!!e,l()):c},u.interpolate=function(e){return arguments.length?(s=e,l()):s},l()}var Yp=function(e,t,n){var r,i=e[0],o=e[e.length-1],a=M(i,o,null==t?10:t);switch((n=Ws(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=ec(a,s))||(n.precision=r),Ys(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=tc(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Qs(a))||(n.precision=r-2*("%"===n.type))}return qs(n)};function Xp(e){var t=e.domain;return e.ticks=function(e){var n=t();return A(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Yp(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],c=i[a];return c<s&&(r=s,s=c,c=r,r=o,o=a,a=r),(r=T(s,c,n))>0?r=T(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=T(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(c/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(c*r)/r,t(i)),e},e}function Kp(){var e=qp(Vp,hr);return e.copy=function(){return Gp(e,Kp())},Xp(e)}function Zp(){var e=[0,1];function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Lp.call(n,Up),t):e.slice()},t.copy=function(){return Zp().domain(e)},Xp(t)}var Jp=function(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e};function Qp(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:zp(t)}function em(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function tm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nm(e){return 10===e?tm:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function rm(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function im(e){return function(t){return-e(-t)}}function om(){var e=qp(Qp,em).domain([1,10]),t=e.domain,n=10,r=rm(10),i=nm(10);function o(){return r=rm(n),i=nm(n),t()[0]<0&&(r=im(r),i=im(i)),e}return e.base=function(e){return arguments.length?(n=+e,o()):n},e.domain=function(e){return arguments.length?(t(e),o()):t()},e.ticks=function(e){var o,a=t(),s=a[0],c=a[a.length-1];(o=c<s)&&(d=s,s=c,c=d);var l,u,h,d=r(s),f=r(c),p=null==e?10:+e,m=[];if(!(n%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,s>0){for(;d<f;++d)for(u=1,l=i(d);u<n;++u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}}else for(;d<f;++d)for(u=n-1,l=i(d);u>=1;--u)if(!((h=l*u)<s)){if(h>c)break;m.push(h)}}else m=A(d,f,Math.min(f-d,p)).map(i);return o?m.reverse():m},e.tickFormat=function(t,o){if(null==o&&(o=10===n?".0e":","),"function"!=typeof o&&(o=qs(o)),t===1/0)return o;null==t&&(t=10);var a=Math.max(1,n*t/e.ticks().length);return function(e){var t=e/i(Math.round(r(e)));return t*n<n-.5&&(t*=n),t<=a?o(e):""}},e.nice=function(){return t(Jp(t(),{floor:function(e){return i(Math.floor(r(e)))},ceil:function(e){return i(Math.ceil(r(e)))}}))},e.copy=function(){return Gp(e,om().base(n))},e}function am(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function sm(){var e=1,t=qp((function(t,n){return(n=am(n,e)-(t=am(t,e)))?function(r){return(am(r,e)-t)/n}:zp(n)}),(function(t,n){return n=am(n,e)-(t=am(t,e)),function(r){return am(t+n*r,1/e)}})),n=t.domain;return t.exponent=function(t){return arguments.length?(e=+t,n(n())):e},t.copy=function(){return Gp(t,sm().exponent(e))},Xp(t)}function cm(){return sm().exponent(.5)}function lm(){var e=[],t=[],n=[];function i(){var r=0,i=Math.max(1,t.length);for(n=new Array(i-1);++r<i;)n[r-1]=P(e,r/i);return o}function o(e){if(!isNaN(e=+e))return t[c(n,e)]}return o.invertExtent=function(r){var i=t.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:e[0],i<n.length?n[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,o=0,a=t.length;o<a;++o)null==(n=t[o])||isNaN(n=+n)||e.push(n);return e.sort(r),i()},o.range=function(e){return arguments.length?(t=Dp.call(e),i()):t.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return lm().domain(e).range(t)},o}function um(){var e=0,t=1,n=1,r=[.5],i=[0,1];function o(e){if(e<=e)return i[c(r,e,0,n)]}function a(){var i=-1;for(r=new Array(n);++i<n;)r[i]=((i+1)*t-(i-n)*e)/(n+1);return o}return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[1],a()):[e,t]},o.range=function(e){return arguments.length?(n=(i=Dp.call(e)).length-1,a()):i.slice()},o.invertExtent=function(o){var a=i.indexOf(o);return a<0?[NaN,NaN]:a<1?[e,r[0]]:a>=n?[r[n-1],t]:[r[a-1],r[a]]},o.copy=function(){return um().domain([e,t]).range(i)},Xp(o)}function hm(){var e=[.5],t=[0,1],n=1;function r(r){if(r<=r)return t[c(e,r,0,n)]}return r.domain=function(i){return arguments.length?(e=Dp.call(i),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(i){return arguments.length?(t=Dp.call(i),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(n){var r=t.indexOf(n);return[e[r-1],e[r]]},r.copy=function(){return hm().domain(e).range(t)},r}var dm=new Date,fm=new Date;function pm(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return pm((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return dm.setTime(+t),fm.setTime(+r),e(dm),e(fm),Math.floor(n(dm,fm))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var mm=pm((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));mm.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?pm((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):mm:null};var gm=mm,vm=mm.range,ym=6e4,bm=6048e5,wm=pm((function(e){e.setTime(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),xm=wm,_m=wm.range,Em=pm((function(e){e.setTime(Math.floor(e/ym)*ym)}),(function(e,t){e.setTime(+e+t*ym)}),(function(e,t){return(t-e)/ym}),(function(e){return e.getMinutes()})),Sm=Em,Cm=Em.range,Am=pm((function(e){var t=e.getTimezoneOffset()*ym%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),Tm=Am,Mm=Am.range,km=pm((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ym)/864e5}),(function(e){return e.getDate()-1})),Om=km,Pm=km.range;function Rm(e){return pm((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ym)/bm}))}var Fm=Rm(0),Lm=Rm(1),Dm=Rm(2),jm=Rm(3),Nm=Rm(4),Im=Rm(5),Bm=Rm(6),zm=Fm.range,Um=Lm.range,Hm=Dm.range,Vm=jm.range,Wm=Nm.range,$m=Im.range,Gm=Bm.range,qm=pm((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),Ym=qm,Xm=qm.range,Km=pm((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Km.every=function(e){return isFinite(e=Math.floor(e))&&e>0?pm((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Zm=Km,Jm=Km.range,Qm=pm((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*ym)}),(function(e,t){return(t-e)/ym}),(function(e){return e.getUTCMinutes()})),eg=Qm,tg=Qm.range,ng=pm((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),rg=ng,ig=ng.range,og=pm((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),ag=og,sg=og.range;function cg(e){return pm((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/bm}))}var lg=cg(0),ug=cg(1),hg=cg(2),dg=cg(3),fg=cg(4),pg=cg(5),mg=cg(6),gg=lg.range,vg=ug.range,yg=hg.range,bg=dg.range,wg=fg.range,xg=pg.range,_g=mg.range,Eg=pm((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Sg=Eg,Cg=Eg.range,Ag=pm((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Ag.every=function(e){return isFinite(e=Math.floor(e))&&e>0?pm((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Tg=Ag,Mg=Ag.range;function kg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Og(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pg(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Rg(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Wg(i),u=$g(i),h=Wg(o),d=$g(o),f=Wg(a),p=$g(a),m=Wg(s),g=$g(s),v=Wg(c),y=$g(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:hv,e:hv,f:gv,H:dv,I:fv,j:pv,L:mv,m:vv,M:yv,p:function(e){return i[+(e.getHours()>=12)]},Q:Gv,s:qv,S:bv,u:wv,U:xv,V:_v,w:Ev,W:Sv,x:null,X:null,y:Cv,Y:Av,Z:Tv,"%":$v},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Mv,e:Mv,f:Fv,H:kv,I:Ov,j:Pv,L:Rv,m:Lv,M:Dv,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:Gv,s:qv,S:jv,u:Nv,U:Iv,V:Bv,w:zv,W:Uv,x:null,X:null,y:Hv,Y:Vv,Z:Wv,"%":$v},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:tv,e:tv,f:sv,H:rv,I:rv,j:nv,L:av,m:ev,M:iv,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:lv,s:uv,S:ov,u:qg,U:Yg,V:Xg,w:Gg,W:Kg,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Jg,Y:Zg,Z:Qg,"%":cv};function _(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=Ig[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=Pg(1900);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Og(Pg(o.y))).getUTCDay(),r=i>4||0===i?ug.ceil(r):ug(r),r=ag.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=t(Pg(o.y))).getDay(),r=i>4||0===i?Lm.ceil(r):Lm(r),r=Om.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Og(Pg(o.y)).getUTCDay():t(Pg(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Og(o)):t(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in Ig?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",kg);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e,Og);return t.toString=function(){return e},t}})}var Fg,Lg,Dg,jg,Ng,Ig={"-":"",_:" ",0:"0"},Bg=/^\s*\d+/,zg=/^%/,Ug=/[\\^$*+?|[\]().{}]/g;function Hg(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Vg(e){return e.replace(Ug,"\\$&")}function Wg(e){return new RegExp("^(?:"+e.map(Vg).join("|")+")","i")}function $g(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Gg(e,t,n){var r=Bg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qg(e,t,n){var r=Bg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Yg(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xg(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Kg(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Zg(e,t,n){var r=Bg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Jg(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ev(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function tv(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nv(e,t,n){var r=Bg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rv(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function iv(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ov(e,t,n){var r=Bg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function av(e,t,n){var r=Bg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function sv(e,t,n){var r=Bg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cv(e,t,n){var r=zg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lv(e,t,n){var r=Bg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function uv(e,t,n){var r=Bg.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function hv(e,t){return Hg(e.getDate(),t,2)}function dv(e,t){return Hg(e.getHours(),t,2)}function fv(e,t){return Hg(e.getHours()%12||12,t,2)}function pv(e,t){return Hg(1+Om.count(Zm(e),e),t,3)}function mv(e,t){return Hg(e.getMilliseconds(),t,3)}function gv(e,t){return mv(e,t)+"000"}function vv(e,t){return Hg(e.getMonth()+1,t,2)}function yv(e,t){return Hg(e.getMinutes(),t,2)}function bv(e,t){return Hg(e.getSeconds(),t,2)}function wv(e){var t=e.getDay();return 0===t?7:t}function xv(e,t){return Hg(Fm.count(Zm(e),e),t,2)}function _v(e,t){var n=e.getDay();return e=n>=4||0===n?Nm(e):Nm.ceil(e),Hg(Nm.count(Zm(e),e)+(4===Zm(e).getDay()),t,2)}function Ev(e){return e.getDay()}function Sv(e,t){return Hg(Lm.count(Zm(e),e),t,2)}function Cv(e,t){return Hg(e.getFullYear()%100,t,2)}function Av(e,t){return Hg(e.getFullYear()%1e4,t,4)}function Tv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Hg(t/60|0,"0",2)+Hg(t%60,"0",2)}function Mv(e,t){return Hg(e.getUTCDate(),t,2)}function kv(e,t){return Hg(e.getUTCHours(),t,2)}function Ov(e,t){return Hg(e.getUTCHours()%12||12,t,2)}function Pv(e,t){return Hg(1+ag.count(Tg(e),e),t,3)}function Rv(e,t){return Hg(e.getUTCMilliseconds(),t,3)}function Fv(e,t){return Rv(e,t)+"000"}function Lv(e,t){return Hg(e.getUTCMonth()+1,t,2)}function Dv(e,t){return Hg(e.getUTCMinutes(),t,2)}function jv(e,t){return Hg(e.getUTCSeconds(),t,2)}function Nv(e){var t=e.getUTCDay();return 0===t?7:t}function Iv(e,t){return Hg(lg.count(Tg(e),e),t,2)}function Bv(e,t){var n=e.getUTCDay();return e=n>=4||0===n?fg(e):fg.ceil(e),Hg(fg.count(Tg(e),e)+(4===Tg(e).getUTCDay()),t,2)}function zv(e){return e.getUTCDay()}function Uv(e,t){return Hg(ug.count(Tg(e),e),t,2)}function Hv(e,t){return Hg(e.getUTCFullYear()%100,t,2)}function Vv(e,t){return Hg(e.getUTCFullYear()%1e4,t,4)}function Wv(){return"+0000"}function $v(){return"%"}function Gv(e){return+e}function qv(e){return Math.floor(+e/1e3)}function Yv(e){return Fg=Rg(e),Lg=Fg.format,Dg=Fg.parse,jg=Fg.utcFormat,Ng=Fg.utcParse,Fg}Yv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Xv=Date.prototype.toISOString?function(e){return e.toISOString()}:jg("%Y-%m-%dT%H:%M:%S.%LZ");var Kv=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:Ng("%Y-%m-%dT%H:%M:%S.%LZ"),Zv=1e3,Jv=60*Zv,Qv=60*Jv,ey=24*Qv,ty=7*ey,ny=30*ey,ry=365*ey;function iy(e){return new Date(e)}function oy(e){return e instanceof Date?+e:+new Date(+e)}function ay(e,t,n,r,o,a,s,c,l){var u=qp(Vp,hr),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y"),x=[[s,1,Zv],[s,5,5*Zv],[s,15,15*Zv],[s,30,30*Zv],[a,1,Jv],[a,5,5*Jv],[a,15,15*Jv],[a,30,30*Jv],[o,1,Qv],[o,3,3*Qv],[o,6,6*Qv],[o,12,12*Qv],[r,1,ey],[r,2,2*ey],[n,1,ty],[t,1,ny],[t,3,3*ny],[e,1,ry]];function _(i){return(s(i)<i?f:a(i)<i?p:o(i)<i?m:r(i)<i?g:t(i)<i?n(i)<i?v:y:e(i)<i?b:w)(i)}function E(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,s=i((function(e){return e[2]})).right(x,a);s===x.length?(o=M(n/ry,r/ry,t),t=e):s?(o=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],t=s[0]):(o=Math.max(M(n,r,t),1),t=c)}return null==o?t:t.every(o)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Lp.call(e,oy)):d().map(iy)},u.ticks=function(e,t){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=E(e,i,o,t))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(e,t){return null==t?_:l(t)},u.nice=function(e,t){var n=d();return(e=E(e,n[0],n[n.length-1],t))?d(Jp(n,e)):u},u.copy=function(){return Gp(u,ay(e,t,n,r,o,a,s,c,l))},u}var sy=function(){return ay(Zm,Ym,Fm,Om,Tm,Sm,xm,gm,Lg).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},cy=function(){return ay(Tg,Sg,lg,ag,rg,eg,xm,gm,jg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},ly=function(e){return e.match(/.{6}/g).map((function(e){return"#"+e}))},uy=ly("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hy=ly("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),dy=ly("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),fy=ly("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),py=Hr(Xn(300,.5,0),Xn(-240,.5,1)),my=Hr(Xn(-100,.75,.35),Xn(80,1.5,.8)),gy=Hr(Xn(260,.75,.35),Xn(80,1.5,.8)),vy=Xn(),yy=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return vy.h=360*e-100,vy.s=1.5-1.5*t,vy.l=.8-.9*t,vy+""};function by(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var wy=by(ly("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),xy=by(ly("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_y=by(ly("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ey=by(ly("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Sy(e){var t=0,n=1,r=!1;function i(i){var o=(i-t)/(n-t);return e(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.clamp=function(e){return arguments.length?(r=!!e,i):r},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Sy(e).domain([t,n]).clamp(r)},Xp(i)}var Cy=function(e){return function(){return e}},Ay=Math.abs,Ty=Math.atan2,My=Math.cos,ky=Math.max,Oy=Math.min,Py=Math.sin,Ry=Math.sqrt,Fy=1e-12,Ly=Math.PI,Dy=Ly/2,jy=2*Ly;function Ny(e){return e>=1?Dy:e<=-1?-Dy:Math.asin(e)}function Iy(e){return e.innerRadius}function By(e){return e.outerRadius}function zy(e){return e.startAngle}function Uy(e){return e.endAngle}function Hy(e){return e&&e.padAngle}function Vy(e,t,n,r,i,o,a){var s=e-n,c=t-r,l=(a?o:-o)/Ry(s*s+c*c),u=l*c,h=-l*s,d=e+u,f=t+h,p=n+u,m=r+h,g=(d+p)/2,v=(f+m)/2,y=p-d,b=m-f,w=y*y+b*b,x=i-o,_=d*m-p*f,E=(b<0?-1:1)*Ry(ky(0,x*x*w-_*_)),S=(_*b-y*E)/w,C=(-_*y-b*E)/w,A=(_*b+y*E)/w,T=(-_*y+b*E)/w,M=S-g,k=C-v,O=A-g,P=T-v;return M*M+k*k>O*O+P*P&&(S=A,C=T),{cx:S,cy:C,x01:-u,y01:-h,x11:S*(i/x-1),y11:C*(i/x-1)}}var Wy=function(){var e=Iy,t=By,n=Cy(0),r=null,i=zy,o=Uy,a=Hy,s=null;function c(){var c,l,u,h=+e.apply(this,arguments),d=+t.apply(this,arguments),f=i.apply(this,arguments)-Dy,p=o.apply(this,arguments)-Dy,m=Ay(p-f),g=p>f;if(s||(s=c=Ta()),d<h&&(l=d,d=h,h=l),d>Fy)if(m>jy-Fy)s.moveTo(d*My(f),d*Py(f)),s.arc(0,0,d,f,p,!g),h>Fy&&(s.moveTo(h*My(p),h*Py(p)),s.arc(0,0,h,p,f,g));else{var v,y,b=f,w=p,x=f,_=p,E=m,S=m,C=a.apply(this,arguments)/2,A=C>Fy&&(r?+r.apply(this,arguments):Ry(h*h+d*d)),T=Oy(Ay(d-h)/2,+n.apply(this,arguments)),M=T,k=T;if(A>Fy){var O=Ny(A/h*Py(C)),P=Ny(A/d*Py(C));(E-=2*O)>Fy?(x+=O*=g?1:-1,_-=O):(E=0,x=_=(f+p)/2),(S-=2*P)>Fy?(b+=P*=g?1:-1,w-=P):(S=0,b=w=(f+p)/2)}var R=d*My(b),F=d*Py(b),L=h*My(_),D=h*Py(_);if(T>Fy){var j=d*My(w),N=d*Py(w),I=h*My(x),B=h*Py(x);if(m<Ly){var z=E>Fy?function(e,t,n,r,i,o,a,s){var c=n-e,l=r-t,u=a-i,h=s-o,d=(u*(t-o)-h*(e-i))/(h*c-u*l);return[e+d*c,t+d*l]}(R,F,I,B,j,N,L,D):[L,D],U=R-z[0],H=F-z[1],V=j-z[0],W=N-z[1],$=1/Py(((u=(U*V+H*W)/(Ry(U*U+H*H)*Ry(V*V+W*W)))>1?0:u<-1?Ly:Math.acos(u))/2),G=Ry(z[0]*z[0]+z[1]*z[1]);M=Oy(T,(h-G)/($-1)),k=Oy(T,(d-G)/($+1))}}S>Fy?k>Fy?(v=Vy(I,B,R,F,d,k,g),y=Vy(j,N,L,D,d,k,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),k<T?s.arc(v.cx,v.cy,k,Ty(v.y01,v.x01),Ty(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,k,Ty(v.y01,v.x01),Ty(v.y11,v.x11),!g),s.arc(0,0,d,Ty(v.cy+v.y11,v.cx+v.x11),Ty(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,k,Ty(y.y11,y.x11),Ty(y.y01,y.x01),!g))):(s.moveTo(R,F),s.arc(0,0,d,b,w,!g)):s.moveTo(R,F),h>Fy&&E>Fy?M>Fy?(v=Vy(L,D,j,N,h,-M,g),y=Vy(R,F,I,B,h,-M,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),M<T?s.arc(v.cx,v.cy,M,Ty(v.y01,v.x01),Ty(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,M,Ty(v.y01,v.x01),Ty(v.y11,v.x11),!g),s.arc(0,0,h,Ty(v.cy+v.y11,v.cx+v.x11),Ty(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,M,Ty(y.y11,y.x11),Ty(y.y01,y.x01),!g))):s.arc(0,0,h,_,x,g):s.lineTo(L,D)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ly/2;return[My(r)*n,Py(r)*n]},c.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Cy(+t),c):e},c.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Cy(+e),c):t},c.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Cy(+e),c):n},c.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Cy(+e),c):r},c.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Cy(+e),c):i},c.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Cy(+e),c):o},c.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Cy(+e),c):a},c.context=function(e){return arguments.length?(s=null==e?null:e,c):s},c};function $y(e){this._context=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Gy=function(e){return new $y(e)};function qy(e){return e[0]}function Yy(e){return e[1]}var Xy=function(){var e=qy,t=Yy,n=Cy(!0),r=null,i=Gy,o=null;function a(a){var s,c,l,u=a.length,h=!1;for(null==r&&(o=i(l=Ta())),s=0;s<=u;++s)!(s<u&&n(c=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(c,s,a),+t(c,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:Cy(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Cy(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:Cy(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a},Ky=function(){var e=qy,t=null,n=Cy(0),r=Yy,i=Cy(!0),o=null,a=Gy,s=null;function c(c){var l,u,h,d,f,p=c.length,m=!1,g=new Array(p),v=new Array(p);for(null==o&&(s=a(f=Ta())),l=0;l<=p;++l){if(!(l<p&&i(d=c[l],l,c))===m)if(m=!m)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(g[h],v[h]);s.lineEnd(),s.areaEnd()}m&&(g[l]=+e(d,l,c),v[l]=+n(d,l,c),s.point(t?+t(d,l,c):g[l],r?+r(d,l,c):v[l]))}if(f)return s=null,f+""||null}function l(){return Xy().defined(i).curve(a).context(o)}return c.x=function(n){return arguments.length?(e="function"==typeof n?n:Cy(+n),t=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Cy(+t),c):e},c.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:Cy(+e),c):t},c.y=function(e){return arguments.length?(n="function"==typeof e?e:Cy(+e),r=null,c):n},c.y0=function(e){return arguments.length?(n="function"==typeof e?e:Cy(+e),c):n},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Cy(+e),c):r},c.lineX0=c.lineY0=function(){return l().x(e).y(n)},c.lineY1=function(){return l().x(e).y(r)},c.lineX1=function(){return l().x(t).y(n)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:Cy(!!e),c):i},c.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),c):a},c.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),c):o},c},Zy=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Jy=function(e){return e},Qy=function(){var e=Jy,t=Zy,n=null,r=Cy(0),i=Cy(jy),o=Cy(0);function a(a){var s,c,l,u,h,d=a.length,f=0,p=new Array(d),m=new Array(d),g=+r.apply(this,arguments),v=Math.min(jy,Math.max(-jy,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+e(a[s],s,a))>0&&(f+=h);for(null!=t?p.sort((function(e,n){return t(m[e],m[n])})):null!=n&&p.sort((function(e,t){return n(a[e],a[t])})),s=0,l=f?(v-d*b)/f:0;s<d;++s,g=u)c=p[s],u=g+((h=m[c])>0?h*l:0)+b,m[c]={data:a[c],index:s,value:h,startAngle:g,endAngle:u,padAngle:y};return m}return a.value=function(t){return arguments.length?(e="function"==typeof t?t:Cy(+t),a):e},a.sortValues=function(e){return arguments.length?(t=e,n=null,a):t},a.sort=function(e){return arguments.length?(n=e,t=null,a):n},a.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Cy(+e),a):r},a.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:Cy(+e),a):i},a.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:Cy(+e),a):o},a},eb=nb(Gy);function tb(e){this._curve=e}function nb(e){function t(t){return new tb(e(t))}return t._curve=e,t}function rb(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(nb(e)):t()._curve},e}tb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var ib=function(){return rb(Xy().curve(eb))},ob=function(){var e=Ky().curve(eb),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return rb(n())},delete e.lineX0,e.lineEndAngle=function(){return rb(r())},delete e.lineX1,e.lineInnerRadius=function(){return rb(i())},delete e.lineY0,e.lineOuterRadius=function(){return rb(o())},delete e.lineY1,e.curve=function(e){return arguments.length?t(nb(e)):t()._curve},e},ab=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},sb=Array.prototype.slice;function cb(e){return e.source}function lb(e){return e.target}function ub(e){var t=cb,n=lb,r=qy,i=Yy,o=null;function a(){var a,s=sb.call(arguments),c=t.apply(this,s),l=n.apply(this,s);if(o||(o=a=Ta()),e(o,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"==typeof e?e:Cy(+e),a):r},a.y=function(e){return arguments.length?(i="function"==typeof e?e:Cy(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}function hb(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function db(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function fb(e,t,n,r,i){var o=ab(t,n),a=ab(t,n=(n+i)/2),s=ab(r,n),c=ab(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function pb(){return ub(hb)}function mb(){return ub(db)}function gb(){var e=ub(fb);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var vb={draw:function(e,t){var n=Math.sqrt(t/Ly);e.moveTo(n,0),e.arc(0,0,n,0,jy)}},yb={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},bb=Math.sqrt(1/3),wb=2*bb,xb={draw:function(e,t){var n=Math.sqrt(t/wb),r=n*bb;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},_b=Math.sin(Ly/10)/Math.sin(7*Ly/10),Eb=Math.sin(jy/10)*_b,Sb=-Math.cos(jy/10)*_b,Cb={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Eb*n,i=Sb*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=jy*o/5,s=Math.cos(a),c=Math.sin(a);e.lineTo(c*n,-s*n),e.lineTo(s*r-c*i,c*r+s*i)}e.closePath()}},Ab={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Tb=Math.sqrt(3),Mb={draw:function(e,t){var n=-Math.sqrt(t/(3*Tb));e.moveTo(0,2*n),e.lineTo(-Tb*n,-n),e.lineTo(Tb*n,-n),e.closePath()}},kb=Math.sqrt(3)/2,Ob=1/Math.sqrt(12),Pb=3*(Ob/2+1),Rb={draw:function(e,t){var n=Math.sqrt(t/Pb),r=n/2,i=n*Ob,o=r,a=n*Ob+n,s=-o,c=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,c),e.lineTo(-.5*r-kb*i,kb*r+-.5*i),e.lineTo(-.5*o-kb*a,kb*o+-.5*a),e.lineTo(-.5*s-kb*c,kb*s+-.5*c),e.lineTo(-.5*r+kb*i,-.5*i-kb*r),e.lineTo(-.5*o+kb*a,-.5*a-kb*o),e.lineTo(-.5*s+kb*c,-.5*c-kb*s),e.closePath()}},Fb=[vb,yb,xb,Ab,Cb,Mb,Rb],Lb=function(){var e=Cy(vb),t=Cy(64),n=null;function r(){var r;if(n||(n=r=Ta()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:Cy(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:Cy(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},Db=function(){};function jb(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Nb(e){this._context=e}Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ib=function(e){return new Nb(e)};function Bb(e){this._context=e}Bb.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var zb=function(e){return new Bb(e)};function Ub(e){this._context=e}Ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Hb=function(e){return new Ub(e)};function Vb(e,t){this._basis=new Nb(e),this._beta=t}Vb.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+r*a),this._beta*t[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Wb=function e(t){function n(e){return 1===t?new Nb(e):new Vb(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function $b(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Gb(e,t){this._context=e,this._k=(1-t)/6}Gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$b(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:$b(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qb=function e(t){function n(e){return new Gb(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Yb(e,t){this._context=e,this._k=(1-t)/6}Yb.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$b(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xb=function e(t){function n(e){return new Yb(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Kb(e,t){this._context=e,this._k=(1-t)/6}Kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$b(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Zb=function e(t){function n(e){return new Kb(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Jb(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Fy){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Fy){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function Qb(e,t){this._context=e,this._alpha=t}Qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Jb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ew=function e(t){function n(e){return t?new Qb(e,t):new Gb(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function tw(e,t){this._context=e,this._alpha=t}tw.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Jb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nw=function e(t){function n(e){return t?new tw(e,t):new Yb(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function rw(e,t){this._context=e,this._alpha=t}rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jb(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var iw=function e(t){function n(e){return t?new rw(e,t):new Kb(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ow(e){this._context=e}ow.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var aw=function(e){return new ow(e)};function sw(e){return e<0?-1:1}function cw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(sw(o)+sw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function lw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uw(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function hw(e){this._context=e}function dw(e){this._context=new fw(e)}function fw(e){this._context=e}function pw(e){return new hw(e)}function mw(e){return new dw(e)}function gw(e){this._context=e}function vw(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uw(this,this._t0,lw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uw(this,lw(this,n=cw(this,e,t)),n);break;default:uw(this,this._t0,n=cw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dw.prototype=Object.create(hw.prototype)).point=function(e,t){hw.prototype.point.call(this,t,e)},fw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=vw(e),i=vw(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var yw=function(e){return new gw(e)};function bw(e,t){this._context=e,this._t=t}bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ww=function(e){return new bw(e,.5)};function xw(e){return new bw(e,0)}function _w(e){return new bw(e,1)}var Ew=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Sw=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function Cw(e,t){return e[t]}var Aw=function(){var e=Cy([]),t=Sw,n=Ew,r=Cw;function i(i){var o,a,s=e.apply(this,arguments),c=i.length,l=s.length,u=new Array(l);for(o=0;o<l;++o){for(var h,d=s[o],f=u[o]=new Array(c),p=0;p<c;++p)f[p]=h=[0,+r(i[p],d,p,i)],h.data=i[p];f.key=d}for(o=0,a=t(u);o<l;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:Cy(sb.call(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:Cy(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Sw:"function"==typeof e?e:Cy(sb.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Ew:e,i):n},i},Tw=function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}Ew(e,t)}},Mw=function(e,t){if((s=e.length)>1)for(var n,r,i,o,a,s,c=0,l=e[t[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},kw=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ew(e,t)}},Ow=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=e[t[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,l+=d*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,Ew(e,t)}},Pw=function(e){var t=e.map(Rw);return Sw(e).sort((function(e,n){return t[e]-t[n]}))};function Rw(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var Fw=function(e){return Pw(e).reverse()},Lw=function(e){var t,n,r=e.length,i=e.map(Rw),o=Sw(e).sort((function(e,t){return i[t]-i[e]})),a=0,s=0,c=[],l=[];for(t=0;t<r;++t)n=o[t],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)},Dw=function(e){return Sw(e).reverse()},jw=function(e){return function(){return e}};function Nw(e){return e[0]}function Iw(e){return e[1]}function Bw(){this._=null}function zw(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Uw(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Hw(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Vw(e){for(;e.L;)e=e.L;return e}Bw.prototype={constructor:Bw,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Vw(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Uw(this,n),n=(e=n).U),n.C=!1,r.C=!0,Hw(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Hw(this,n),n=(e=n).U),n.C=!1,r.C=!0,Uw(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Vw(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Uw(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Hw(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Uw(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Hw(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Uw(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Hw(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var Ww=Bw;function $w(e,t,n,r){var i=[null,null],o=mx.push(i)-1;return i.left=e,i.right=t,n&&qw(i,e,t,n),r&&qw(i,t,e,r),fx[e.index].halfedges.push(o),fx[t.index].halfedges.push(o),i}function Gw(e,t,n){var r=[t,n];return r.left=e,r}function qw(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Yw(e,t,n,r,i){var o,a=e[0],s=e[1],c=a[0],l=a[1],u=0,h=1,d=s[0]-c,f=s[1]-l;if(o=t-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(e[0]=[c+u*d,l+u*f]),h<1&&(e[1]=[c+h*d,l+h*f]),!0)}}}}}function Xw(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,c=e[0],l=e.left,u=e.right,h=l[0],d=l[1],f=u[0],p=u[1],m=(h+f)/2,g=(d+p)/2;if(p===d){if(m<t||m>=r)return;if(h>f){if(c){if(c[1]>=i)return}else c=[m,n];o=[m,i]}else{if(c){if(c[1]<n)return}else c=[m,i];o=[m,n]}}else if(s=g-(a=(h-f)/(p-d))*m,a<-1||a>1)if(h>f){if(c){if(c[1]>=i)return}else c=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(c){if(c[0]>=r)return}else c=[t,a*t+s];o=[r,a*r+s]}else{if(c){if(c[0]<t)return}else c=[r,a*r+s];o=[t,a*t+s]}return e[0]=c,e[1]=o,!0}function Kw(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Zw(e,t){return t[+(t.left!==e.site)]}function Jw(e,t){return t[+(t.left===e.site)]}var Qw,ex=[];function tx(){zw(this),this.x=this.y=this.arc=this.site=this.cy=null}function nx(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,l=r[1]-s,u=o[0]-a,h=o[1]-s,d=2*(c*h-l*u);if(!(d>=-vx)){var f=c*c+l*l,p=u*u+h*h,m=(h*f-l*p)/d,g=(c*p-u*f)/d,v=ex.pop()||new tx;v.arc=e,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=v;for(var y=null,b=px._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}px.insert(y,v),y||(Qw=v)}}}}function rx(e){var t=e.circle;t&&(t.P||(Qw=t.N),px.remove(t),ex.push(t),zw(t),e.circle=null)}var ix=[];function ox(){zw(this),this.edge=this.site=this.circle=null}function ax(e){var t=ix.pop()||new ox;return t.site=e,t}function sx(e){rx(e),dx.remove(e),ix.push(e),zw(e)}function cx(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];sx(e);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<gx&&Math.abs(r-c.circle.cy)<gx;)o=c.P,s.unshift(c),sx(c),c=o;s.unshift(c),rx(c);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<gx&&Math.abs(r-l.circle.cy)<gx;)a=l.N,s.push(l),sx(l),l=a;s.push(l),rx(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],qw(l.edge,c.site,l.site,i);c=s[0],(l=s[h-1]).edge=$w(c.site,l.site,null,i),nx(c),nx(l)}function lx(e){for(var t,n,r,i,o=e[0],a=e[1],s=dx._;s;)if((r=ux(s,a)-o)>gx)s=s.L;else{if(!((i=o-hx(s,a))>gx)){r>-gx?(t=s.P,n=s):i>-gx?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){fx[e.index]={site:e,halfedges:[]}}(e);var c=ax(e);if(dx.insert(t,c),t||n){if(t===n)return rx(t),n=ax(t.site),dx.insert(c,n),c.edge=n.edge=$w(t.site,c.site),nx(t),void nx(n);if(n){rx(t),rx(n);var l=t.site,u=l[0],h=l[1],d=e[0]-u,f=e[1]-h,p=n.site,m=p[0]-u,g=p[1]-h,v=2*(d*g-f*m),y=d*d+f*f,b=m*m+g*g,w=[(g*y-f*b)/v+u,(d*b-m*y)/v+h];qw(n.edge,l,p,w),c.edge=$w(l,e,null,w),n.edge=$w(e,p,null,w),nx(t),nx(n)}else c.edge=$w(t.site,c.site)}}function ux(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],c=n[1],l=c-t;if(!l)return s;var u=s-r,h=1/o-1/l,d=u/l;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*l)-c+l/2+i-o/2)))/h+r:(r+s)/2}function hx(e,t){var n=e.N;if(n)return ux(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var dx,fx,px,mx,gx=1e-6,vx=1e-12;function yx(e,t){return t[1]-e[1]||t[0]-e[0]}function bx(e,t){var n,r,i,o=e.sort(yx).pop();for(mx=[],fx=new Array(e.length),dx=new Ww,px=new Ww;;)if(i=Qw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(lx(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;cx(i.arc)}if(function(){for(var e,t,n,r,i=0,o=fx.length;i<o;++i)if((e=fx[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Kw(e,mx[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],c=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=mx.length;o--;)Xw(i=mx[o],e,t,n,r)&&Yw(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>gx||Math.abs(i[0][1]-i[1][1])>gx)||delete mx[o]}(a,s,c,l),function(e,t,n,r){var i,o,a,s,c,l,u,h,d,f,p,m,g=fx.length,v=!0;for(i=0;i<g;++i)if(o=fx[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)mx[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)p=(f=Jw(o,mx[c[s]]))[0],m=f[1],h=(u=Zw(o,mx[c[++s%l]]))[0],d=u[1],(Math.abs(p-h)>gx||Math.abs(m-d)>gx)&&(c.splice(s,0,mx.push(Gw(a,f,Math.abs(p-e)<gx&&r-m>gx?[e,Math.abs(h-e)<gx?d:r]:Math.abs(m-r)<gx&&n-p>gx?[Math.abs(d-r)<gx?h:n,r]:Math.abs(p-n)<gx&&m-t>gx?[n,Math.abs(h-n)<gx?d:t]:Math.abs(m-t)<gx&&p-e>gx?[Math.abs(d-t)<gx?h:e,t]:null))-1),++l);l&&(v=!1)}if(v){var y,b,w,x=1/0;for(i=0,v=null;i<g;++i)(o=fx[i])&&(w=(y=(a=o.site)[0]-e)*y+(b=a[1]-t)*b)<x&&(x=w,v=o);if(v){var _=[e,t],E=[e,r],S=[n,r],C=[n,t];v.halfedges.push(mx.push(Gw(a=v.site,_,E))-1,mx.push(Gw(a,E,S))-1,mx.push(Gw(a,S,C))-1,mx.push(Gw(a,C,_))-1)}}for(i=0;i<g;++i)(o=fx[i])&&(o.halfedges.length||delete fx[i])}(a,s,c,l)}this.edges=mx,this.cells=fx,dx=px=mx=fx=null}bx.prototype={constructor:bx,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return Zw(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,c,l,u=n.site,h=-1,d=t[i[o-1]],f=d.left===u?d.right:d.left;++h<o;)a=f,f=(d=t[i[h]]).left===u?d.right:d.left,a&&f&&r<a.index&&r<f.index&&(c=a,l=f,((s=u)[0]-l[0])*(c[1]-s[1])-(s[0]-c[0])*(l[1]-s[1])<0)&&e.push([u.data,a.data,f.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=e-i.site[0],l=t-i.site[1],u=c*c+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=e-s[0],l=t-s[1],h=c*c+l*l;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}};var wx=function(){var e=Nw,t=Iw,n=null;function r(r){return new bx(r.map((function(n,i){var o=[Math.round(e(n,i,r)/gx)*gx,Math.round(t(n,i,r)/gx)*gx];return o.index=i,o.data=n,o})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e="function"==typeof t?t:jw(+t),r):e},r.y=function(e){return arguments.length?(t="function"==typeof e?e:jw(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},xx=function(e){return function(){return e}};function _x(e,t,n){this.target=e,this.type=t,this.transform=n}function Ex(e,t,n){this.k=e,this.x=t,this.y=n}Ex.prototype={constructor:Ex,scale:function(e){return 1===e?this:new Ex(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ex(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sx=new Ex(1,0,0);function Cx(e){return e.__zoom||Sx}function Ax(){vt.stopImmediatePropagation()}Cx.prototype=Ex.prototype;var Tx=function(){vt.preventDefault(),vt.stopImmediatePropagation()};function Mx(){return!vt.button}function kx(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function Ox(){return this.__zoom||Sx}function Px(){return-vt.deltaY*(vt.deltaMode?120:1)/500}function Rx(){return"ontouchstart"in this}function Fx(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Lx=function(){var e,t,n=Mx,r=kx,i=Fx,o=Px,a=Rx,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=Or,h=[],d=me("start","zoom","end"),f=500,p=150,m=0;function g(e){e.property("__zoom",Ox).on("wheel.zoom",E).on("mousedown.zoom",S).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new Ex(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Ex(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n){e.on("start.zoom",(function(){x(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).end()})).tween("zoom",(function(){var e=this,i=arguments,o=x(e,i),a=r.apply(e,i),s=n||b(a),c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=e.__zoom,h="function"==typeof t?t.apply(e,i):t,d=u(l.invert(s).concat(c/l.k),h.invert(s).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=d(e),n=c/t[2];e=new Ex(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function x(e,t){for(var n,r=0,i=h.length;r<i;++r)if((n=h[r]).that===e)return n;return new _(e,t)}function _(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=r.apply(e,t)}function E(){if(n.apply(this,arguments)){var e=x(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,o.apply(this,arguments)))),a=It(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],_i(this),e.start()}Tx(),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),p),e.zoom("mouse",i(y(v(t,r),e.mouse[0],e.mouse[1]),e.extent,c))}}function S(){if(!t&&n.apply(this,arguments)){var e=x(this,arguments),r=Pt(vt.view).on("mousemove.zoom",(function(){if(Tx(),!e.moved){var t=vt.clientX-a,n=vt.clientY-s;e.moved=t*t+n*n>m}e.zoom("mouse",i(y(e.that.__zoom,e.mouse[0]=It(e.that),e.mouse[1]),e.extent,c))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),$t(vt.view,e.moved),Tx(),e.end()}),!0),o=It(this),a=vt.clientX,s=vt.clientY;Wt(vt.view),Ax(),e.mouse=[o,this.__zoom.invert(o)],_i(this),e.start()}}function C(){if(n.apply(this,arguments)){var e=this.__zoom,t=It(this),o=e.invert(t),a=e.k*(vt.shiftKey?.5:2),s=i(y(v(e,a),t,o),r.apply(this,arguments),c);Tx(),l>0?Pt(this).transition().duration(l).call(w,s,t):Pt(this).call(g.transform,s)}}function A(){if(n.apply(this,arguments)){var t,r,i,o,a=x(this,arguments),s=vt.changedTouches,c=s.length;for(Ax(),r=0;r<c;++r)i=s[r],o=[o=zt(this,s,i.identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,t=!0);if(e&&(e=clearTimeout(e),!a.touch1))return a.end(),void((o=Pt(this).on("dblclick.zoom"))&&o.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),f),_i(this),a.start())}}function T(){var t,n,r,o,a=x(this,arguments),s=vt.changedTouches,l=s.length;for(Tx(),e&&(e=clearTimeout(e)),t=0;t<l;++t)n=s[t],r=zt(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m;n=v(n,Math.sqrt(p/m)),r=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(y(n,r,o),a.extent,c))}function M(){var e,n,r=x(this,arguments),i=vt.changedTouches,o=i.length;for(Ax(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),f),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",Ox),e!==n?w(e,t):n.interrupt().each((function(){x(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t){g.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}))},g.scaleTo=function(e,t){g.transform(e,(function(){var e=r.apply(this,arguments),n=this.__zoom,o=b(e),a=n.invert(o),s="function"==typeof t?t.apply(this,arguments):t;return i(y(v(n,s),o,a),e,c)}))},g.translateBy=function(e,t,n){g.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},g.translateTo=function(e,t,n){g.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,a=b(e);return i(Sx.translate(a[0],a[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}))},_.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Et(new _x(g,e,this.that.__zoom),d.apply,d,[e,this.that,this.args])}},g.wheelDelta=function(e){return arguments.length?(o="function"==typeof e?e:xx(+e),g):o},g.filter=function(e){return arguments.length?(n="function"==typeof e?e:xx(!!e),g):n},g.touchable=function(e){return arguments.length?(a="function"==typeof e?e:xx(!!e),g):a},g.extent=function(e){return arguments.length?(r="function"==typeof e?e:xx([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):r},g.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],g):[s[0],s[1]]},g.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(e){return arguments.length?(i=e,g):i},g.duration=function(e){return arguments.length?(l=+e,g):l},g.interpolate=function(e){return arguments.length?(u=e,g):u},g.on=function(){var e=d.on.apply(d,arguments);return e===d?g:e},g.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,g):Math.sqrt(m)},g};n.d(t,"version",(function(){return"4.13.0"})),n.d(t,"bisect",(function(){return c})),n.d(t,"bisectRight",(function(){return a})),n.d(t,"bisectLeft",(function(){return s})),n.d(t,"ascending",(function(){return r})),n.d(t,"bisector",(function(){return i})),n.d(t,"cross",(function(){return h})),n.d(t,"descending",(function(){return d})),n.d(t,"deviation",(function(){return m})),n.d(t,"extent",(function(){return g})),n.d(t,"histogram",(function(){return O})),n.d(t,"thresholdFreedmanDiaconis",(function(){return R})),n.d(t,"thresholdScott",(function(){return F})),n.d(t,"thresholdSturges",(function(){return k})),n.d(t,"max",(function(){return L})),n.d(t,"mean",(function(){return D})),n.d(t,"median",(function(){return j})),n.d(t,"merge",(function(){return N})),n.d(t,"min",(function(){return I})),n.d(t,"pairs",(function(){return l})),n.d(t,"permute",(function(){return B})),n.d(t,"quantile",(function(){return P})),n.d(t,"range",(function(){return _})),n.d(t,"scan",(function(){return z})),n.d(t,"shuffle",(function(){return U})),n.d(t,"sum",(function(){return H})),n.d(t,"ticks",(function(){return A})),n.d(t,"tickIncrement",(function(){return T})),n.d(t,"tickStep",(function(){return M})),n.d(t,"transpose",(function(){return V})),n.d(t,"variance",(function(){return p})),n.d(t,"zip",(function(){return $})),n.d(t,"axisTop",(function(){return oe})),n.d(t,"axisRight",(function(){return ae})),n.d(t,"axisBottom",(function(){return se})),n.d(t,"axisLeft",(function(){return ce})),n.d(t,"brush",(function(){return ua})),n.d(t,"brushX",(function(){return ca})),n.d(t,"brushY",(function(){return la})),n.d(t,"brushSelection",(function(){return sa})),n.d(t,"chord",(function(){return ba})),n.d(t,"ribbon",(function(){return Fa})),n.d(t,"nest",(function(){return Na})),n.d(t,"set",(function(){return $a})),n.d(t,"map",(function(){return ja})),n.d(t,"keys",(function(){return Ga})),n.d(t,"values",(function(){return qa})),n.d(t,"entries",(function(){return Ya})),n.d(t,"color",(function(){return mn})),n.d(t,"rgb",(function(){return bn})),n.d(t,"hsl",(function(){return _n})),n.d(t,"lab",(function(){return Dn})),n.d(t,"hcl",(function(){return Un})),n.d(t,"cubehelix",(function(){return Xn})),n.d(t,"dispatch",(function(){return me})),n.d(t,"drag",(function(){return Jt})),n.d(t,"dragDisable",(function(){return Wt})),n.d(t,"dragEnable",(function(){return $t})),n.d(t,"dsvFormat",(function(){return ts})),n.d(t,"csvParse",(function(){return rs})),n.d(t,"csvParseRows",(function(){return is})),n.d(t,"csvFormat",(function(){return os})),n.d(t,"csvFormatRows",(function(){return as})),n.d(t,"tsvParse",(function(){return cs})),n.d(t,"tsvParseRows",(function(){return ls})),n.d(t,"tsvFormat",(function(){return us})),n.d(t,"tsvFormatRows",(function(){return hs})),n.d(t,"easeLinear",(function(){return Yi})),n.d(t,"easeQuad",(function(){return Zi})),n.d(t,"easeQuadIn",(function(){return Xi})),n.d(t,"easeQuadOut",(function(){return Ki})),n.d(t,"easeQuadInOut",(function(){return Zi})),n.d(t,"easeCubic",(function(){return eo})),n.d(t,"easeCubicIn",(function(){return Ji})),n.d(t,"easeCubicOut",(function(){return Qi})),n.d(t,"easeCubicInOut",(function(){return eo})),n.d(t,"easePoly",(function(){return ro})),n.d(t,"easePolyIn",(function(){return to})),n.d(t,"easePolyOut",(function(){return no})),n.d(t,"easePolyInOut",(function(){return ro})),n.d(t,"easeSin",(function(){return co})),n.d(t,"easeSinIn",(function(){return ao})),n.d(t,"easeSinOut",(function(){return so})),n.d(t,"easeSinInOut",(function(){return co})),n.d(t,"easeExp",(function(){return ho})),n.d(t,"easeExpIn",(function(){return lo})),n.d(t,"easeExpOut",(function(){return uo})),n.d(t,"easeExpInOut",(function(){return ho})),n.d(t,"easeCircle",(function(){return mo})),n.d(t,"easeCircleIn",(function(){return fo})),n.d(t,"easeCircleOut",(function(){return po})),n.d(t,"easeCircleInOut",(function(){return mo})),n.d(t,"easeBounce",(function(){return To})),n.d(t,"easeBounceIn",(function(){return Ao})),n.d(t,"easeBounceOut",(function(){return To})),n.d(t,"easeBounceInOut",(function(){return Mo})),n.d(t,"easeBack",(function(){return Po})),n.d(t,"easeBackIn",(function(){return ko})),n.d(t,"easeBackOut",(function(){return Oo})),n.d(t,"easeBackInOut",(function(){return Po})),n.d(t,"easeElastic",(function(){return Lo})),n.d(t,"easeElasticIn",(function(){return Fo})),n.d(t,"easeElasticOut",(function(){return Lo})),n.d(t,"easeElasticInOut",(function(){return Do})),n.d(t,"forceCenter",(function(){return ds})),n.d(t,"forceCollide",(function(){return Cs})),n.d(t,"forceLink",(function(){return Ms})),n.d(t,"forceManyBody",(function(){return Ds})),n.d(t,"forceRadial",(function(){return js})),n.d(t,"forceSimulation",(function(){return Ls})),n.d(t,"forceX",(function(){return Ns})),n.d(t,"forceY",(function(){return Is})),n.d(t,"formatDefaultLocale",(function(){return Js})),n.d(t,"format",(function(){return qs})),n.d(t,"formatPrefix",(function(){return Ys})),n.d(t,"formatLocale",(function(){return Zs})),n.d(t,"formatSpecifier",(function(){return Ws})),n.d(t,"precisionFixed",(function(){return Qs})),n.d(t,"precisionPrefix",(function(){return ec})),n.d(t,"precisionRound",(function(){return tc})),n.d(t,"geoArea",(function(){return qc})),n.d(t,"geoBounds",(function(){return Bl})),n.d(t,"geoCentroid",(function(){return Zl})),n.d(t,"geoCircle",(function(){return cu})),n.d(t,"geoClipAntimeridian",(function(){return bu})),n.d(t,"geoClipCircle",(function(){return wu})),n.d(t,"geoClipExtent",(function(){return Mu})),n.d(t,"geoClipRectangle",(function(){return Su})),n.d(t,"geoContains",(function(){return Gu})),n.d(t,"geoDistance",(function(){return Nu})),n.d(t,"geoGraticule",(function(){return Xu})),n.d(t,"geoGraticule10",(function(){return Ku})),n.d(t,"geoInterpolate",(function(){return th})),n.d(t,"geoLength",(function(){return Lu})),n.d(t,"geoPath",(function(){return Qh})),n.d(t,"geoAlbers",(function(){return vd})),n.d(t,"geoAlbersUsa",(function(){return yd})),n.d(t,"geoAzimuthalEqualArea",(function(){return _d})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return xd})),n.d(t,"geoAzimuthalEquidistant",(function(){return Sd})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Ed})),n.d(t,"geoConicConformal",(function(){return Od})),n.d(t,"geoConicConformalRaw",(function(){return kd})),n.d(t,"geoConicEqualArea",(function(){return gd})),n.d(t,"geoConicEqualAreaRaw",(function(){return md})),n.d(t,"geoConicEquidistant",(function(){return Ld})),n.d(t,"geoConicEquidistantRaw",(function(){return Fd})),n.d(t,"geoEquirectangular",(function(){return Rd})),n.d(t,"geoEquirectangularRaw",(function(){return Pd})),n.d(t,"geoGnomonic",(function(){return jd})),n.d(t,"geoGnomonicRaw",(function(){return Dd})),n.d(t,"geoIdentity",(function(){return Id})),n.d(t,"geoProjection",(function(){return dd})),n.d(t,"geoProjectionMutator",(function(){return fd})),n.d(t,"geoMercator",(function(){return Ad})),n.d(t,"geoMercatorRaw",(function(){return Cd})),n.d(t,"geoNaturalEarth1",(function(){return zd})),n.d(t,"geoNaturalEarth1Raw",(function(){return Bd})),n.d(t,"geoOrthographic",(function(){return Hd})),n.d(t,"geoOrthographicRaw",(function(){return Ud})),n.d(t,"geoStereographic",(function(){return Wd})),n.d(t,"geoStereographicRaw",(function(){return Vd})),n.d(t,"geoTransverseMercator",(function(){return Gd})),n.d(t,"geoTransverseMercatorRaw",(function(){return $d})),n.d(t,"geoRotation",(function(){return ou})),n.d(t,"geoStream",(function(){return Bc})),n.d(t,"geoTransform",(function(){return ed})),n.d(t,"cluster",(function(){return Kd})),n.d(t,"hierarchy",(function(){return Jd})),n.d(t,"pack",(function(){return Sf})),n.d(t,"packSiblings",(function(){return yf})),n.d(t,"packEnclose",(function(){return of})),n.d(t,"partition",(function(){return Of})),n.d(t,"stratify",(function(){return jf})),n.d(t,"tree",(function(){return Vf})),n.d(t,"treemap",(function(){return Yf})),n.d(t,"treemapBinary",(function(){return Xf})),n.d(t,"treemapDice",(function(){return kf})),n.d(t,"treemapSlice",(function(){return Wf})),n.d(t,"treemapSliceDice",(function(){return Kf})),n.d(t,"treemapSquarify",(function(){return qf})),n.d(t,"treemapResquarify",(function(){return Zf})),n.d(t,"interpolate",(function(){return wr})),n.d(t,"interpolateArray",(function(){return lr})),n.d(t,"interpolateBasis",(function(){return Jn})),n.d(t,"interpolateBasisClosed",(function(){return Qn})),n.d(t,"interpolateDate",(function(){return ur})),n.d(t,"interpolateNumber",(function(){return hr})),n.d(t,"interpolateObject",(function(){return dr})),n.d(t,"interpolateRound",(function(){return xr})),n.d(t,"interpolateString",(function(){return br})),n.d(t,"interpolateTransformCss",(function(){return Ar})),n.d(t,"interpolateTransformSvg",(function(){return Tr})),n.d(t,"interpolateZoom",(function(){return Or})),n.d(t,"interpolateRgb",(function(){return or})),n.d(t,"interpolateRgbBasis",(function(){return sr})),n.d(t,"interpolateRgbBasisClosed",(function(){return cr})),n.d(t,"interpolateHsl",(function(){return Rr})),n.d(t,"interpolateHslLong",(function(){return Fr})),n.d(t,"interpolateLab",(function(){return Lr})),n.d(t,"interpolateHcl",(function(){return jr})),n.d(t,"interpolateHclLong",(function(){return Nr})),n.d(t,"interpolateCubehelix",(function(){return Ur})),n.d(t,"interpolateCubehelixLong",(function(){return Hr})),n.d(t,"quantize",(function(){return Vr})),n.d(t,"path",(function(){return Ta})),n.d(t,"polygonArea",(function(){return Jf})),n.d(t,"polygonCentroid",(function(){return Qf})),n.d(t,"polygonHull",(function(){return rp})),n.d(t,"polygonContains",(function(){return ip})),n.d(t,"polygonLength",(function(){return op})),n.d(t,"quadtree",(function(){return bs})),n.d(t,"queue",(function(){return fp})),n.d(t,"randomUniform",(function(){return mp})),n.d(t,"randomNormal",(function(){return gp})),n.d(t,"randomLogNormal",(function(){return vp})),n.d(t,"randomBates",(function(){return bp})),n.d(t,"randomIrwinHall",(function(){return yp})),n.d(t,"randomExponential",(function(){return wp})),n.d(t,"request",(function(){return Ep})),n.d(t,"html",(function(){return Cp})),n.d(t,"json",(function(){return Ap})),n.d(t,"text",(function(){return Tp})),n.d(t,"xml",(function(){return Mp})),n.d(t,"csv",(function(){return Pp})),n.d(t,"tsv",(function(){return Rp})),n.d(t,"scaleBand",(function(){return Ip})),n.d(t,"scalePoint",(function(){return Bp})),n.d(t,"scaleIdentity",(function(){return Zp})),n.d(t,"scaleLinear",(function(){return Kp})),n.d(t,"scaleLog",(function(){return om})),n.d(t,"scaleOrdinal",(function(){return Np})),n.d(t,"scaleImplicit",(function(){return jp})),n.d(t,"scalePow",(function(){return sm})),n.d(t,"scaleSqrt",(function(){return cm})),n.d(t,"scaleQuantile",(function(){return lm})),n.d(t,"scaleQuantize",(function(){return um})),n.d(t,"scaleThreshold",(function(){return hm})),n.d(t,"scaleTime",(function(){return sy})),n.d(t,"scaleUtc",(function(){return cy})),n.d(t,"schemeCategory10",(function(){return uy})),n.d(t,"schemeCategory20b",(function(){return hy})),n.d(t,"schemeCategory20c",(function(){return dy})),n.d(t,"schemeCategory20",(function(){return fy})),n.d(t,"interpolateCubehelixDefault",(function(){return py})),n.d(t,"interpolateRainbow",(function(){return yy})),n.d(t,"interpolateWarm",(function(){return my})),n.d(t,"interpolateCool",(function(){return gy})),n.d(t,"interpolateViridis",(function(){return wy})),n.d(t,"interpolateMagma",(function(){return xy})),n.d(t,"interpolateInferno",(function(){return _y})),n.d(t,"interpolatePlasma",(function(){return Ey})),n.d(t,"scaleSequential",(function(){return Sy})),n.d(t,"create",(function(){return Rt})),n.d(t,"creator",(function(){return xe})),n.d(t,"local",(function(){return Lt})),n.d(t,"matcher",(function(){return ke})),n.d(t,"mouse",(function(){return It})),n.d(t,"namespace",(function(){return ye})),n.d(t,"namespaces",(function(){return ve})),n.d(t,"clientPoint",(function(){return Nt})),n.d(t,"select",(function(){return Pt})),n.d(t,"selectAll",(function(){return Bt})),n.d(t,"selection",(function(){return Ot})),n.d(t,"selector",(function(){return Ee})),n.d(t,"selectorAll",(function(){return Ce})),n.d(t,"style",(function(){return Ge})),n.d(t,"touch",(function(){return zt})),n.d(t,"touches",(function(){return Ut})),n.d(t,"window",(function(){return He})),n.d(t,"event",(function(){return vt})),n.d(t,"customEvent",(function(){return Et})),n.d(t,"arc",(function(){return Wy})),n.d(t,"area",(function(){return Ky})),n.d(t,"line",(function(){return Xy})),n.d(t,"pie",(function(){return Qy})),n.d(t,"areaRadial",(function(){return ob})),n.d(t,"radialArea",(function(){return ob})),n.d(t,"lineRadial",(function(){return ib})),n.d(t,"radialLine",(function(){return ib})),n.d(t,"pointRadial",(function(){return ab})),n.d(t,"linkHorizontal",(function(){return pb})),n.d(t,"linkVertical",(function(){return mb})),n.d(t,"linkRadial",(function(){return gb})),n.d(t,"symbol",(function(){return Lb})),n.d(t,"symbols",(function(){return Fb})),n.d(t,"symbolCircle",(function(){return vb})),n.d(t,"symbolCross",(function(){return yb})),n.d(t,"symbolDiamond",(function(){return xb})),n.d(t,"symbolSquare",(function(){return Ab})),n.d(t,"symbolStar",(function(){return Cb})),n.d(t,"symbolTriangle",(function(){return Mb})),n.d(t,"symbolWye",(function(){return Rb})),n.d(t,"curveBasisClosed",(function(){return zb})),n.d(t,"curveBasisOpen",(function(){return Hb})),n.d(t,"curveBasis",(function(){return Ib})),n.d(t,"curveBundle",(function(){return Wb})),n.d(t,"curveCardinalClosed",(function(){return Xb})),n.d(t,"curveCardinalOpen",(function(){return Zb})),n.d(t,"curveCardinal",(function(){return qb})),n.d(t,"curveCatmullRomClosed",(function(){return nw})),n.d(t,"curveCatmullRomOpen",(function(){return iw})),n.d(t,"curveCatmullRom",(function(){return ew})),n.d(t,"curveLinearClosed",(function(){return aw})),n.d(t,"curveLinear",(function(){return Gy})),n.d(t,"curveMonotoneX",(function(){return pw})),n.d(t,"curveMonotoneY",(function(){return mw})),n.d(t,"curveNatural",(function(){return yw})),n.d(t,"curveStep",(function(){return ww})),n.d(t,"curveStepAfter",(function(){return _w})),n.d(t,"curveStepBefore",(function(){return xw})),n.d(t,"stack",(function(){return Aw})),n.d(t,"stackOffsetExpand",(function(){return Tw})),n.d(t,"stackOffsetDiverging",(function(){return Mw})),n.d(t,"stackOffsetNone",(function(){return Ew})),n.d(t,"stackOffsetSilhouette",(function(){return kw})),n.d(t,"stackOffsetWiggle",(function(){return Ow})),n.d(t,"stackOrderAscending",(function(){return Pw})),n.d(t,"stackOrderDescending",(function(){return Fw})),n.d(t,"stackOrderInsideOut",(function(){return Lw})),n.d(t,"stackOrderNone",(function(){return Sw})),n.d(t,"stackOrderReverse",(function(){return Dw})),n.d(t,"timeInterval",(function(){return pm})),n.d(t,"timeMillisecond",(function(){return gm})),n.d(t,"timeMilliseconds",(function(){return vm})),n.d(t,"utcMillisecond",(function(){return gm})),n.d(t,"utcMilliseconds",(function(){return vm})),n.d(t,"timeSecond",(function(){return xm})),n.d(t,"timeSeconds",(function(){return _m})),n.d(t,"utcSecond",(function(){return xm})),n.d(t,"utcSeconds",(function(){return _m})),n.d(t,"timeMinute",(function(){return Sm})),n.d(t,"timeMinutes",(function(){return Cm})),n.d(t,"timeHour",(function(){return Tm})),n.d(t,"timeHours",(function(){return Mm})),n.d(t,"timeDay",(function(){return Om})),n.d(t,"timeDays",(function(){return Pm})),n.d(t,"timeWeek",(function(){return Fm})),n.d(t,"timeWeeks",(function(){return zm})),n.d(t,"timeSunday",(function(){return Fm})),n.d(t,"timeSundays",(function(){return zm})),n.d(t,"timeMonday",(function(){return Lm})),n.d(t,"timeMondays",(function(){return Um})),n.d(t,"timeTuesday",(function(){return Dm})),n.d(t,"timeTuesdays",(function(){return Hm})),n.d(t,"timeWednesday",(function(){return jm})),n.d(t,"timeWednesdays",(function(){return Vm})),n.d(t,"timeThursday",(function(){return Nm})),n.d(t,"timeThursdays",(function(){return Wm})),n.d(t,"timeFriday",(function(){return Im})),n.d(t,"timeFridays",(function(){return $m})),n.d(t,"timeSaturday",(function(){return Bm})),n.d(t,"timeSaturdays",(function(){return Gm})),n.d(t,"timeMonth",(function(){return Ym})),n.d(t,"timeMonths",(function(){return Xm})),n.d(t,"timeYear",(function(){return Zm})),n.d(t,"timeYears",(function(){return Jm})),n.d(t,"utcMinute",(function(){return eg})),n.d(t,"utcMinutes",(function(){return tg})),n.d(t,"utcHour",(function(){return rg})),n.d(t,"utcHours",(function(){return ig})),n.d(t,"utcDay",(function(){return ag})),n.d(t,"utcDays",(function(){return sg})),n.d(t,"utcWeek",(function(){return lg})),n.d(t,"utcWeeks",(function(){return gg})),n.d(t,"utcSunday",(function(){return lg})),n.d(t,"utcSundays",(function(){return gg})),n.d(t,"utcMonday",(function(){return ug})),n.d(t,"utcMondays",(function(){return vg})),n.d(t,"utcTuesday",(function(){return hg})),n.d(t,"utcTuesdays",(function(){return yg})),n.d(t,"utcWednesday",(function(){return dg})),n.d(t,"utcWednesdays",(function(){return bg})),n.d(t,"utcThursday",(function(){return fg})),n.d(t,"utcThursdays",(function(){return wg})),n.d(t,"utcFriday",(function(){return pg})),n.d(t,"utcFridays",(function(){return xg})),n.d(t,"utcSaturday",(function(){return mg})),n.d(t,"utcSaturdays",(function(){return _g})),n.d(t,"utcMonth",(function(){return Sg})),n.d(t,"utcMonths",(function(){return Cg})),n.d(t,"utcYear",(function(){return Tg})),n.d(t,"utcYears",(function(){return Mg})),n.d(t,"timeFormatDefaultLocale",(function(){return Yv})),n.d(t,"timeFormat",(function(){return Lg})),n.d(t,"timeParse",(function(){return Dg})),n.d(t,"utcFormat",(function(){return jg})),n.d(t,"utcParse",(function(){return Ng})),n.d(t,"timeFormatLocale",(function(){return Rg})),n.d(t,"isoFormat",(function(){return Xv})),n.d(t,"isoParse",(function(){return Kv})),n.d(t,"now",(function(){return Qr})),n.d(t,"timer",(function(){return ni})),n.d(t,"timerFlush",(function(){return ri})),n.d(t,"timeout",(function(){return si})),n.d(t,"interval",(function(){return ci})),n.d(t,"transition",(function(){return $i})),n.d(t,"active",(function(){return Bo})),n.d(t,"interrupt",(function(){return _i})),n.d(t,"voronoi",(function(){return wx})),n.d(t,"zoom",(function(){return Lx})),n.d(t,"zoomTransform",(function(){return Cx})),n.d(t,"zoomIdentity",(function(){return Sx}))},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),o=n("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},"+plK":function(e,t,n){n("ApPD"),e.exports=n("WEpk").Object.getPrototypeOf},"+wdc":function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(u,0))},i=function(e,t){l=setTimeout(e,t)},o=function(){clearTimeout(l)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,f=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,b=null,w=-1,x=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+x;try{b(!0,e)?S.postMessage(null):(y=!1,b=null)}catch(e){throw S.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,S.postMessage(null))},i=function(e,n){w=p((function(){e(t.unstable_now())}),n)},o=function(){m(w),w=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<M(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>M(a,n))void 0!==c&&0>M(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>M(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],O=[],P=1,R=null,F=3,L=!1,D=!1,j=!1;function N(e){for(var t=A(O);null!==t;){if(null===t.callback)T(O);else{if(!(t.startTime<=e))break;T(O),t.sortIndex=t.expirationTime,C(k,t)}t=A(O)}}function I(e){if(j=!1,N(e),!D)if(null!==A(k))D=!0,r(B);else{var t=A(O);null!==t&&i(I,t.startTime-e)}}function B(e,n){D=!1,j&&(j=!1,o()),L=!0;var r=F;try{for(N(n),R=A(k);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,F=R.priorityLevel;var c=s(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?R.callback=c:R===A(k)&&T(k),N(n)}else T(k);R=A(k)}if(null!==R)var l=!0;else{var u=A(O);null!==u&&i(I,u.startTime-n),l=!1}return l}finally{R=null,F=r,L=!1}}function z(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=F;F=e;try{return t()}finally{F=n}},t.unstable_next=function(e){switch(F){case 1:case 2:case 3:var t=3;break;default:t=F}var n=F;F=t;try{return e()}finally{F=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:z(e)}else a=z(e),c=s;return e={id:P++,callback:n,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,C(O,e),null===A(k)&&e===A(O)&&(j?o():j=!0,i(I,c-s))):(e.sortIndex=a,C(k,e),D||L||(D=!0,r(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=F;return function(){var n=F;F=t;try{return e.apply(this,arguments)}finally{F=n}}},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var n=A(k);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){D||L||(D=!0,r(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return A(k)},t.unstable_Profiling=null},"/9aa":function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},"/eQG":function(e,t,n){n("v5Dd");var r=n("WEpk").Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},"/qNp":function(e,t,n){"use strict";var r={}.hasOwnProperty;function i(e){return e&&"object"==typeof e||(e={}),a(e.line)+":"+a(e.column)}function o(e){return e&&"object"==typeof e||(e={}),i(e.start)+"-"+i(e.end)}function a(e){return e&&"number"==typeof e?e:1}e.exports=function(e){if(!e||"object"!=typeof e)return null;if(r.call(e,"position")||r.call(e,"type"))return o(e.position);if(r.call(e,"start")||r.call(e,"end"))return o(e);if(r.call(e,"line")||r.call(e,"column"))return i(e);return null}},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},"0C9X":function(e,t,n){e.exports={Pose:n("N6n/"),Quaternion:n("ACFR"),Transform:n("4wl8"),Vector3:n("OEc2")}},"0Cz8":function(e,t,n){var r=n("Xi7e"),i=n("ebwN"),o=n("e4Nc"),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},"0K0V":function(e,t){e.exports=function(){return document.createElement("canvas")}},"0lR2":function(e,t,n){"use strict";e.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:n("WwTg")}},"0tVQ":function(e,t,n){n("FlQf"),n("VJsP"),e.exports=n("WEpk").Array.from},"0xIU":function(e,t,n){var r=n("pHPU"),i=n("M96O");e.exports=function(e,t,n){return i.transform(e.nodes(),(function(i,o){i[o]=r(e,o,t,n)}),{})}},"0ycA":function(e,t){e.exports=function(){return[]}},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"14Cm":function(e,t,n){"use strict";var r=n("b5wT");function i(e,t,n){for(var i=r.zipObject(n,r.map(n,(function(e,t){return t}))),o=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:i[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var c=r.map(new Array(s),(function(){return 0})),l=0;return r.forEach(o.forEach((function(e){var t=e.pos+a;c[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=c[t+1]),c[t=t-1>>1]+=e.weight;l+=e.weight*n}))),l}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},"16Al":function(e,t,n){"use strict";var r=n("WbBG");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},"17x9":function(e,t,n){e.exports=n("16Al")()},"197s":function(e,t,n){var r,i,o;i=[e,t,n("q1tI"),n("17x9")],void 0===(o="function"==typeof(r=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}o(r);var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function c(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var l={className:"react-tagsinput-input",placeholder:"Add a tag"},u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={tag:"",isFocused:!1},e.focus=e.focus.bind(e),e.blur=e.blur.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"_getTagDisplayValue",value:function(e){var t=this.props.tagDisplayProp;return t?e[t]:e}},{key:"_makeTag",value:function(e){var t,n,r,i=this.props.tagDisplayProp;return i?(r=e,(n=i)in(t={})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t):e}},{key:"_removeTag",value:function(e){var t=this.props.value.concat([]);if(e>-1&&e<t.length){var n=t.splice(e,1);this.props.onChange(t,n,[e])}}},{key:"_clearInput",value:function(){this.hasControlledInput()?this.props.onChangeInput(""):this.setState({tag:""})}},{key:"_tag",value:function(){return this.hasControlledInput()?this.props.inputValue:this.state.tag}},{key:"_addTags",value:function(e){var t=this,n=this.props,r=n.validationRegex,i=n.onChange,o=n.onValidationReject,a=n.onlyUnique,s=n.maxTags,c=n.value;a&&(e=(e=function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e)).filter((function(e){return c.every((function(n){return t._getTagDisplayValue(n)!==t._getTagDisplayValue(e)}))})));var l=e.filter((function(e){return!r.test(t._getTagDisplayValue(e))}));if(e=(e=e.filter((function(e){return r.test(t._getTagDisplayValue(e))}))).filter((function(e){var n=t._getTagDisplayValue(e);return"function"==typeof n.trim?n.trim().length>0:n})),s>=0){var u=Math.max(s-c.length,0);e=e.slice(0,u)}if(o&&l.length>0&&o(l),e.length>0){for(var h=c.concat(e),d=[],f=0;f<e.length;f++)d.push(c.length+f);return i(h,e,d),this._clearInput(),!0}return!(l.length>0||(this._clearInput(),1))}},{key:"_shouldPreventDefaultEventOnAdd",value:function(e,t,n){return!!e||13===n&&(this.props.preventSubmit||!this.props.preventSubmit&&!t)}},{key:"focus",value:function(){this.input&&"function"==typeof this.input.focus&&this.input.focus(),this.handleOnFocus()}},{key:"blur",value:function(){this.input&&"function"==typeof this.input.blur&&this.input.blur(),this.handleOnBlur()}},{key:"accept",value:function(){var e=this._tag();return""!==e&&(e=this._makeTag(e),this._addTags([e]))}},{key:"addTag",value:function(e){return this._addTags([e])}},{key:"clearInput",value:function(){this._clearInput()}},{key:"handlePaste",value:function(e){var t=this,n=this.props,r=n.addOnPaste,i=n.pasteSplit;if(r){e.preventDefault();var o=i(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map((function(e){return t._makeTag(e)}));this._addTags(o)}}},{key:"handleKeyDown",value:function(e){if(!e.defaultPrevented){var t=this.props,n=t.value,r=t.removeKeys,i=t.addKeys,o=""===this._tag(),a=e.keyCode,s=e.key,c=-1!==i.indexOf(a)||-1!==i.indexOf(s),l=-1!==r.indexOf(a)||-1!==r.indexOf(s);if(c){var u=this.accept();this._shouldPreventDefaultEventOnAdd(u,o,a)&&e.preventDefault()}l&&n.length>0&&o&&(e.preventDefault(),this._removeTag(n.length-1))}}},{key:"handleClick",value:function(e){e.target===this.div&&this.focus()}},{key:"handleChange",value:function(e){var t=this.props.onChangeInput,n=this.props.inputProps.onChange,r=e.target.value;n&&n(e),this.hasControlledInput()?t(r):this.setState({tag:r})}},{key:"handleOnFocus",value:function(e){var t=this.props.inputProps.onFocus;t&&t(e),this.setState({isFocused:!0})}},{key:"handleOnBlur",value:function(e){var t=this.props.inputProps.onBlur;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var n=this._makeTag(e.target.value);this._addTags([n])}}},{key:"handleRemove",value:function(e){this._removeTag(e)}},{key:"inputProps",value:function(){var e=this.props.inputProps,t=(e.onChange,e.onFocus,e.onBlur,c(e,["onChange","onFocus","onBlur"])),n=s({},l,t);return this.props.disabled&&(n.disabled=!0),n}},{key:"inputValue",value:function(e){return e.currentValue||e.inputValue||""}},{key:"hasControlledInput",value:function(){var e=this.props,t=e.inputValue;return"function"==typeof e.onChangeInput&&"string"==typeof t}},{key:"componentDidMount",value:function(){this.hasControlledInput()||this.setState({tag:this.inputValue(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.hasControlledInput()||this.inputValue(e)&&this.setState({tag:this.inputValue(e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=(t.onChange,t.tagProps),o=t.renderLayout,a=t.renderTag,l=t.renderInput,u=(t.addKeys,t.removeKeys,t.className),h=t.focusedClassName,d=(t.addOnBlur,t.addOnPaste,t.inputProps,t.pasteSplit,t.onlyUnique,t.maxTags,t.validationRegex,t.disabled);t.tagDisplayProp,t.inputValue,t.onChangeInput,c(t,["value","onChange","tagProps","renderLayout","renderTag","renderInput","addKeys","removeKeys","className","focusedClassName","addOnBlur","addOnPaste","inputProps","pasteSplit","onlyUnique","maxTags","validationRegex","disabled","tagDisplayProp","inputValue","onChangeInput"]),this.state.isFocused&&(u+=" "+h);var f=n.map((function(t,n){return a(s({key:n,tag:t,onRemove:e.handleRemove.bind(e),disabled:d,getTagDisplayValue:e._getTagDisplayValue.bind(e)},r))})),p=l(s({ref:function(t){e.input=t},value:this._tag(),onPaste:this.handlePaste.bind(this),onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleChange.bind(this),onFocus:this.handleOnFocus.bind(this),onBlur:this.handleOnBlur.bind(this),addTag:this.addTag.bind(this)},this.inputProps()));return i.default.createElement("div",{ref:function(t){e.div=t},onClick:this.handleClick.bind(this),className:u},o(f,p))}}]),t}(i.default.Component);u.defaultProps={className:"react-tagsinput",focusedClassName:"react-tagsinput--focused",addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],renderInput:function(e){e.addTag;var t=c(e,["addTag"]),n=t.onChange,r=t.value,o=c(t,["onChange","value"]);return i.default.createElement("input",s({type:"text",onChange:n,value:r},o))},renderTag:function(e){var t=e.tag,n=e.key,r=e.disabled,o=e.onRemove,a=e.classNameRemove,l=e.getTagDisplayValue,u=c(e,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return i.default.createElement("span",s({key:n},u),l(t),!r&&i.default.createElement("a",{className:a,onClick:function(e){return o(n)}}))},renderLayout:function(e,t){return i.default.createElement("span",null,e,t)},pasteSplit:function(e){return e.split(" ").map((function(e){return e.trim()}))},tagProps:{className:"react-tagsinput-tag",classNameRemove:"react-tagsinput-remove"},onlyUnique:!1,maxTags:-1,validationRegex:/.*/,disabled:!1,tagDisplayProp:null,preventSubmit:!0},t.default=u,e.exports=t.default})?r.apply(t,i):r)||(e.exports=o)},"1LK5":function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},"1PPP":function(e,t,n){var r=n("b5wT");e.exports=function(e,t,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}},"1VtT":function(e,t,n){"use strict";var r=n("6dBs"),i=n("Gdbo"),o=n("Esvb"),a=n("xkQk"),s=n("IRYA"),c=n("NkL+");e.exports=function e(){var t=[];var n=a();var y={};var b=!1;var w=-1;x.data=function(e,t){if(s(e))return 2===arguments.length?(m("data",b),y[e]=t,x):u.call(y,e)&&y[e]||null;if(e)return m("data",b),y=e,x;return y};x.freeze=_;x.attachers=t;x.use=function(e){var n;if(m("use",b),null==e);else if("function"==typeof e)s.apply(null,arguments);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?a(e):i(e)}n&&(y.settings=r(y.settings||{},n));return x;function i(e){a(e.plugins),e.settings&&(n=r(n||{},e.settings))}function o(e){if("function"==typeof e)s(e);else{if("object"!=typeof e)throw new Error("Expected usable value, not `"+e+"`");"length"in e?s.apply(null,e):i(e)}}function a(e){var t,n;if(null==e);else{if(!("object"==typeof e&&"length"in e))throw new Error("Expected a list of plugins, not `"+e+"`");for(t=e.length,n=-1;++n<t;)o(e[n])}}function s(e,n){var i=function(e){var n,r=t.length,i=-1;for(;++i<r;)if((n=t[i])[0]===e)return n}(e);i?(c(i[1])&&c(n)&&(n=r(i[1],n)),i[1]=n):t.push(l.call(arguments))}};x.parse=function(e){var t,n=o(e);if(_(),f("parse",t=x.Parser),d(t))return new t(String(n),n).parse();return t(String(n),n)};x.stringify=function(e,t){var n,r=o(t);if(_(),p("stringify",n=x.Compiler),g(e),d(n))return new n(e,r).compile();return n(e,r)};x.run=E;x.runSync=function(e,t){var n,r=!1;return E(e,t,(function(e,t){r=!0,i(e),n=t})),v("runSync","run",r),n};x.process=S;x.processSync=function(e){var t,n=!1;return _(),f("processSync",x.Parser),p("processSync",x.Compiler),S(t=o(e),(function(e){n=!0,i(e)})),v("processSync","process",n),t};return x;function x(){for(var n=e(),i=t.length,o=-1;++o<i;)n.use.apply(null,t[o]);return n.data(r(!0,{},y)),n}function _(){var e,r,i,o;if(b)return x;for(;++w<t.length;)r=(e=t[w])[0],null,!1!==(i=e[1])&&(!0===i&&(e[1]=void 0),"function"==typeof(o=r.apply(x,e.slice(1)))&&n.use(o));return b=!0,w=1/0,x}function E(e,t,r){if(g(e),_(),r||"function"!=typeof t||(r=t,t=null),!r)return new Promise(i);function i(i,a){n.run(e,o(t),(function(t,n,o){n=n||e,t?a(t):i?i(n):r(null,n,o)}))}i(null,r)}function S(e,t){if(_(),f("process",x.Parser),p("process",x.Compiler),!t)return new Promise(n);function n(n,r){var i=o(e);h.run(x,{file:i},(function(e){e?r(e):n?n(i):t(null,i)}))}n(null,t)}}().freeze();var l=[].slice,u={}.hasOwnProperty,h=a().use((function(e,t){t.tree=e.parse(t.file)})).use((function(e,t,n){e.run(t.tree,t.file,(function(e,r,i){e?n(e):(t.tree=r,t.file=i,n())}))})).use((function(e,t){t.file.contents=e.stringify(t.tree,t.file)}));function d(e){return"function"==typeof e&&function(e){var t;for(t in e)return!0;return!1}(e.prototype)}function f(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Parser`")}function p(e,t){if("function"!=typeof t)throw new Error("Cannot `"+e+"` without `Compiler`")}function m(e,t){if(t)throw new Error(["Cannot invoke `"+e+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function g(e){if(!e||!s(e.type))throw new Error("Expected node, got `"+e+"`")}function v(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),o=n("3A9y");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1iAE":function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}},"1iNE":function(e,t,n){var r=n("A90E"),i=n("QqLw"),o=n("MMmD"),a=n("4qC0"),s=n("Z1HP"),c="[object Map]",l="[object Set]";e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return t==c||t==l?e.size:r(e).length}},"1w02":function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=r<o?t[r]:void 0;n(a,e[r],s)}return a}},"29s/":function(e,t,n){var r=n("WEpk"),i=n("5T2Y"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("uOPS")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"2GTP":function(e,t,n){var r=n("eaoh");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"2J+T":function(e,t,n){e.exports={components:n("5EqP"),dijkstra:n("pHPU"),dijkstraAll:n("0xIU"),findCycles:n("3azA"),floydWarshall:n("ZzYp"),isAcyclic:n("Q+g8"),postorder:n("Txda"),preorder:n("qvmO"),prim:n("Yen4"),tarjan:n("z6cq"),topsort:n("gYXE")}},"2Nb0":function(e,t,n){n("FlQf"),n("bBy9"),e.exports=n("zLkG").f("iterator")},"2Vzt":function(e,t,n){var r=this.ROSLIB||{REVISION:"1.0.1"},i=n("e1dK");i(r,n("LOD6")),i(r,n("v5S5")),i(r,n("ms/C")),i(r,n("+K1i")),i(r,n("iFRm")),e.exports=r},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2fNS":function(e,t,n){"use strict";var r=n("b5wT");e.exports=function(e,t){var n={};return r.forEach(e,(function(e,t){var i=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(i.barycenter=e.barycenter,i.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],i=n[e.w];r.isUndefined(t)||r.isUndefined(i)||(i.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function i(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}for(;e.length;){var o=e.pop();t.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(e){return!e.indegree})))}},"2faE":function(e,t,n){var r=n("5K7Z"),i=n("eUtF"),o=n("G8Mo"),a=Object.defineProperty;t.f=n("jmDH")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"2gN3":function(e,t,n){var r=n("Kz5y")["__core-js_shared__"];e.exports=r},"2yk8":function(e,t,n){"use strict";var r=n("IPAr"),i=n("ZWk2"),o=n("afWh");e.exports=d,d.locator=o,d.notInLink=!0;var a="<",s=">",c="@",l="/",u="mailto:",h=u.length;function d(e,t,n){var o,d,f,p,m,g,v,y,b,w,x;if(t.charAt(0)===a){for(this,o="",d=t.length,f=0,p="",g=!1,v="",f++,o=a;f<d&&(m=t.charAt(f),!(r(m)||m===s||m===c||":"===m&&t.charAt(f+1)===l));)p+=m,f++;if(p){if(v+=p,p="",v+=m=t.charAt(f),f++,m===c)g=!0;else{if(":"!==m||t.charAt(f+1)!==l)return;v+=l,f++}for(;f<d&&(m=t.charAt(f),!r(m)&&m!==s);)p+=m,f++;if(m=t.charAt(f),p&&m===s)return!!n||(b=v+=p,o+=v+m,(y=e.now()).column++,y.offset++,g&&(v.slice(0,h).toLowerCase()===u?(b=b.substr(h),y.column+=h,y.offset+=h):v=u+v),w=this.inlineTokenizers,this.inlineTokenizers={text:w.text},x=this.enterLink(),b=this.tokenizeInline(b,y),this.inlineTokenizers=w,x(),e(o)({type:"link",title:null,url:i(v,{nonTerminated:!1}),children:b}))}}}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var l=[];for(c=s;c<i.length;c++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("8oxB"))},"3A9y":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},"3GJH":function(e,t,n){n("lCc8");var r=n("WEpk").Object;e.exports=function(e,t){return r.create(e,t)}},"3GlI":function(e,t,n){"use strict";e.exports=function(e){var t=String(e),n=t.length;for(;t.charAt(--n)===r;);return t.slice(0,n+1)};var r="\n"},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");e.exports=function(e){return i(e)&&r(e)}},"3RSX":function(e,t,n){"use strict";var r=n("Qfp6");e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3WF5":function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),o=n("l9OW"),a=n("Z0cm");e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},"3azA":function(e,t,n){var r=n("M96O"),i=n("z6cq");e.exports=function(e){return r.filter(i(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},"3m36":function(e,t,n){"use strict";var r=n("U6jy"),i=n("q1tI"),o=parseInt((i.version||"16").slice(0,2),10)>=16,a=i.createElement;function s(e,t){return a(e,c(t),t.children)}function c(e){return e["data-sourcepos"]?{"data-sourcepos":e["data-sourcepos"]}:{}}e.exports={break:"br",paragraph:"p",emphasis:"em",strong:"strong",thematicBreak:"hr",blockquote:"blockquote",delete:"del",link:"a",image:"img",linkReference:"a",imageReference:"img",table:s.bind(null,"table"),tableHead:s.bind(null,"thead"),tableBody:s.bind(null,"tbody"),tableRow:s.bind(null,"tr"),tableCell:function(e){var t=e.align?{textAlign:e.align}:void 0,n=c(e);return a(e.isHeader?"th":"td",t?r({style:t},n):n,e.children)},root:function(e){var t=!e.className,n=t&&i.Fragment||"div";return a(n,t?null:e,e.children)},text:function(e){return o?e.children:a("span",null,e.children)},list:function(e){var t=c(e);null!==e.start&&1!==e.start&&void 0!==e.start&&(t.start=e.start.toString());return a(e.ordered?"ol":"ul",t,e.children)},listItem:function(e){var t=null;if(null!==e.checked&&void 0!==e.checked){var n=e.checked;t=a("input",{type:"checkbox",checked:n,readOnly:!0})}return a("li",c(e),t,e.children)},definition:function(){return null},heading:function(e){return a("h".concat(e.level),c(e),e.children)},inlineCode:function(e){return a("code",c(e),e.children)},code:function(e){var t=e.language&&"language-".concat(e.language),n=a("code",t?{className:t}:null,e.value);return a("pre",c(e),n)},html:function(e){if(e.skipHtml)return null;var t=e.isBlock?"div":"span";if(e.escapeHtml){var n=i.Fragment||t;return a(n,null,e.value)}var r={dangerouslySetInnerHTML:{__html:e.value}};return a(t,r)},virtualHtml:function(e){return a(e.tag,c(e),e.children)},parsedHtml:function(e){return e["data-sourcepos"]?i.cloneElement(e.element,{"data-sourcepos":e["data-sourcepos"]}):e.element}}},"3th9":function(e,t,n){var r=n("Sdz8");e.exports=function(e,t,n){return r(e,t,t,n)}},"3y7U":function(e,t,n){var r=n("M96O");e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],a={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(t,n,i,o,a,s){r.has(o,n)||(o[n]=!0,i||s.push(n),r.each(a(n),(function(n){e(t,n,i,o,a,s)})),i&&s.push(n))}(e,t,"post"===n,a,i,o)})),o}},"4/ic":function(e,t,n){var r=n("ZWtO");e.exports=function(e){return function(t){return r(t,e)}}},"409L":function(e,t,n){e.exports={graphlib:n("F9We"),layout:n("epwv"),debug:n("4JAw"),util:{time:n("tQ6r").time,notime:n("tQ6r").notime},version:n("khRU")}},"44Ds":function(e,t,n){var r=n("e4Nc"),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},"48TB":function(e,t,n){"use strict";n.r(t),function(e,r){var i,o=n("cja7");i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(o.a)(i);t.default=a}.call(this,n("yLpj"),n("3UD+")(e))},"48q5":function(e,t,n){"use strict";var r=n("33yf");e.exports=function(e,t){if("string"!=typeof e)return e;if(0===e.length)return e;var n=r.basename(e,r.extname(e))+t;return r.join(r.dirname(e),n)}},"497W":function(e,t,n){"use strict";var r=n("aTp6");e.exports=o,o.locator=r;var i=2;function o(e,t,n){for(var r,o=t.length,a=-1,s="";++a<o;){if("\n"===(r=t.charAt(a))){if(a<i)return;return!!n||e(s+=r)({type:"break"})}if(" "!==r)return;s+=r}}},"4Ai+":function(e,t,n){var r=n("Ac7g");e.exports={Graph:r.Graph,json:n("GbLa"),alg:n("2J+T"),version:r.version}},"4JAw":function(e,t,n){var r=n("b5wT"),i=n("tQ6r"),o=n("F9We").Graph;e.exports={debugOrdering:function(e){var t=i.buildLayerMatrix(e),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var i="layer"+t;n.setNode(i,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},"4MqD":function(e,t,n){"use strict";e.exports=function(e,t,n){return function(){var r=n||this,i=r[e];return r[e]=!t,function(){r[e]=i}}}},"4P+C":function(e,t,n){"use strict";var r=n("PEyx"),i=n("Ve/E");e.exports=function(e,t){function n(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}e.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(e,t).style("opacity",1).attr("transform",n)}},"4XN4":function(e,t,n){var r=n("PjQo"),i=n("cjKa").EventEmitter2;function o(e){var t=this;this.actionClient=e.actionClient,this.goalMessage=e.goalMessage,this.isFinished=!1;var n=new Date;this.goalID="goal_"+Math.random()+"_"+n.getTime(),this.goalMessage=new r({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",(function(e){t.status=e})),this.on("result",(function(e){t.isFinished=!0,t.result=e})),this.on("feedback",(function(e){t.feedback=e})),this.actionClient.goals[this.goalID]=this}o.prototype.__proto__=i.prototype,o.prototype.send=function(e){var t=this;t.actionClient.goalTopic.publish(t.goalMessage),e&&setTimeout((function(){t.isFinished||t.emit("timeout")}),e)},o.prototype.cancel=function(){var e=new r({id:this.goalID});this.actionClient.cancelTopic.publish(e)},e.exports=o},"4d7F":function(e,t,n){e.exports={default:n("aW7e"),__esModule:!0}},"4kuk":function(e,t,n){var r=n("SfRM"),i=n("Hvzi"),o=n("u8Dt"),a=n("ekgI"),s=n("JSQU");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),o=n("ExA7"),a="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&r(e)==a}},"4qRI":function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},"4sDh":function(e,t,n){var r=n("4uTw"),i=n("03A+"),o=n("Z0cm"),a=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,h=!1;++l<u;){var d=c(t[l]);if(!(h=null!=e&&n(e,d)))break;e=e[d]}return h||++l!=u?h:!!(u=null==e?0:e.length)&&s(u)&&a(d,u)&&(o(e)||i(e))}},"4uTw":function(e,t,n){var r=n("Z0cm"),i=n("9ggG"),o=n("GNiM"),a=n("dt0z");e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},"4wl8":function(e,t,n){var r=n("OEc2"),i=n("ACFR");function o(e){e=e||{},this.translation=new r(e.translation),this.rotation=new i(e.rotation)}o.prototype.clone=function(){return new o(this)},e.exports=o},"55cE":function(e,t,n){var r=n("E9ZH");e.exports=function(e){this.type=r.URDF_SPHERE,this.radius=parseFloat(e.xml.getAttribute("radius"))}},"5EqP":function(e,t,n){var r=n("M96O");e.exports=function(e){var t,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}return r.each(e.nodes(),(function(e){t=[],o(e),t.length&&i.push(t)})),i}},"5HGo":function(e,t){e.exports=window.WebSocket},"5K7Z":function(e,t,n){var r=n("93I4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"5R+2":function(e,t){e.exports=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=Math.ceil(1.6*r*n/t.length),o="";;)for(var a=i,s=e(a);a--;)if((o+=t[s[a]&r]||"").length===+n)return o}},"5T2Y":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"5Tg0":function(e,t,n){(function(e){var r=n("Kz5y"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n("YuTi")(e))},"5adj":function(e,t,n){var r=n("e1dK");e.exports=function(e){r(this,e)}},"5jIi":function(e,t,n){"use strict";var r=n("b5wT");e.exports=function(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),i=r.max(r.map(n,(function(t){return e.node(t).rank}))),o=r.map(r.range(i+1),(function(){return[]}));var a=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(a,(function n(i){if(r.has(t,i))return;t[i]=!0;var a=e.node(i);o[a.rank].push(i);r.forEach(e.successors(i),n)})),o}},"5nXd":function(e,t,n){var r=n("MFOe"),i=r.slice,o=r.pluck,a=r.each,s=r.bind,c=r.create,l=r.isList,u=r.isFunction,h=r.isObject;e.exports={createStore:f};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return f(this.storage,this.plugins,e)}};function f(e,t,n){n||(n=""),e&&!l(e)&&(e=[e]),t&&!l(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var p=c({_namespacePrefix:r,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=i(arguments,0),r=this;function o(){if(n)return a(arguments,(function(e,n){t[n]=e})),n.apply(r,t)}var s=[o].concat(t);return e.apply(r,s)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(l(e))a(e,(function(e){t._addPlugin(e)}));else if(!o(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!u(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!h(n))throw new Error("Plugins must return an object of function properties");a(n,(function(n,r){if(!u(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},d,{plugins:[]});return p.raw={},a(p,(function(e,t){u(e)&&(p.raw[t]=s(p,e))})),a(e,(function(e){p._addStorage(e)})),a(t,(function(e){p._addPlugin(e)})),p}},"5t69":function(e,t,n){"use strict";var r=n("U6jy"),i=n("P7XM");e.exports=function(e){var t,n,o;for(n in i(s,e),i(a,s),t=s.prototype)(o=t[n])&&"object"==typeof o&&(t[n]="concat"in o?o.concat():r(o));return s;function a(t){return e.apply(this,t)}function s(){return this instanceof s?e.apply(this,arguments):new a(arguments)}}},"5vMV":function(e,t,n){var r=n("B+OT"),i=n("NsO/"),o=n("W070")(!1),a=n("VVlx")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},"6/1s":function(e,t,n){var r=n("YqAc")("meta"),i=n("93I4"),o=n("B+OT"),a=n("2faE").f,s=0,c=Object.isExtensible||function(){return!0},l=!n("KUxP")((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&h.NEED&&c(e)&&!o(e,r)&&u(e),e}}},"6Ekc":function(e,t,n){"use strict";var r=n("b5wT");e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),(function n(i){var o=e.node(i);if(r.has(t,i))return o.rank;t[i]=!0;var a=r.min(r.map(e.outEdges(i),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),o.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},"6GvM":function(e,t,n){var r=this.ROSLIB||{REVISION:"1.0.1"},i=n("MgzW");i(r,n("Ivbl")),i(r,n("79nV")),i(r,n("0C9X")),i(r,n("dxEu")),i(r,n("OHWT")),e.exports=r},"6IMF":function(e,t,n){var r=n("PEyx");e.exports=function(e,t){for(var n=e.append("text"),i=function(e){for(var t,n="",r=!1,i=0;i<e.length;++i)if(t=e[i],r){switch(t){case"n":n+="\n";break;default:n+=t}r=!1}else"\\"===t?r=!0:n+=t;return n}(t.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,t.labelStyle),n}},"6P8j":function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},"6cd3":function(module,exports,__webpack_require__){var factory;"undefined"!=typeof self&&self,factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/web/index.js")}({"./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),c=0,u=a>0?r-4:r,h=0;h<u;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[c++]=255&t),1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/heap/index.js":
/*!************************************!*\
  !*** ./node_modules/heap/index.js ***!
  \************************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! ./lib/heap */"./node_modules/heap/lib/heap.js")},"./node_modules/heap/lib/heap.js":
/*!***************************************!*\
  !*** ./node_modules/heap/lib/heap.js ***!
  \***************************************/
/*! no static exports found */function(e,t,n){var r,i,o;(function(){var n,a,s,c,l,u,h,d,f,p,m,g,v,y,b;s=Math.floor,p=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},f=function(e,t,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[o=s((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},u=function(e,t,n){return null==n&&(n=a),e.push(t),y(e,0,e.length-1,n)},l=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},d=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},h=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},c=function(e,t){var n,r,i,o,c,l;for(null==t&&(t=a),c=[],r=0,i=(o=function(){l=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse()).length;r<i;r++)n=o[r],c.push(b(e,n,t));return c},v=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return y(e,0,r,n),b(e,r,n)},m=function(e,t,n){var r,i,o,s,l;if(null==n&&(n=a),!(i=e.slice(0,t)).length)return i;for(c(i,n),o=0,s=(l=e.slice(t)).length;o<s;o++)r=l[o],h(i,r,n);return i.sort(n).reverse()},g=function(e,t,n){var r,i,o,s,u,h,d,m,g;if(null==n&&(n=a),10*t<=e.length){if(!(o=e.slice(0,t).sort(n)).length)return o;for(i=o[o.length-1],s=0,h=(d=e.slice(t)).length;s<h;s++)n(r=d[s],i)<0&&(f(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(c(e,n),g=[],u=0,m=p(t,e.length);0<=m?u<m:u>m;0<=m?++u:--u)g.push(l(e,n));return g},y=function(e,t,n,r){var i,o,s;for(null==r&&(r=a),i=e[n];n>t&&r(i,o=e[s=n-1>>1])<0;)e[n]=o,n=s;return e[n]=i},b=function(e,t,n){var r,i,o,s,c;for(null==n&&(n=a),i=e.length,c=t,o=e[t],r=2*t+1;r<i;)(s=r+1)<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=o,y(e,c,t,n)},n=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=u,e.pop=l,e.replace=d,e.pushpop=h,e.heapify=c,e.updateItem=v,e.nlargest=m,e.nsmallest=g,e.prototype.push=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pop=function(){return l(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return h(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return c(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),i=[],void 0===(o="function"==typeof(r=function(){return n})?r.apply(t,i):r)||(e.exports=o)}).call(this)},"./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*c-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*m}},"./node_modules/int53/index.js":
/*!*************************************!*\
  !*** ./node_modules/int53/index.js ***!
  \*************************************/
/*! no static exports found */function(e,t){var n={},r=4294967295,i=9007199254740991;function o(e){return(e=~e)<0&&(e=2147483648+(2147483647&e)),e}function a(e){console.assert(e>-1&&e<=i,"number out of range"),console.assert(Math.floor(e)===e,"number must be an integer");var t=0,n=4294967295&e,o=n<0?2147483648+(2147483647&e):n;return e>r&&(t=(e-o)/(r+1)),[t,o]}function s(e){if(e>-1)return a(e);var t=a(-e),n=o(t[0]),i=o(t[1]);return i===r?(n+=1,i=0):i+=1,[n,i]}function c(e,t,n){return n&&0!=(2147483648&e)?(e=o(e),t=o(t),console.assert(e<2097152,"number too small"),-(e*(r+1)+t+1)):(console.assert(e<2097152,"number too large"),e*(r+1)+t)}n.readInt64BE=function(e,t){return t=t||0,c(e.readUInt32BE(t),e.readUInt32BE(t+4),!0)},n.readInt64LE=function(e,t){t=t||0;var n=e.readUInt32LE(t);return c(e.readUInt32LE(t+4),n,!0)},n.readUInt64BE=function(e,t){return t=t||0,c(e.readUInt32BE(t),e.readUInt32BE(t+4),!1)},n.readUInt64LE=function(e,t){t=t||0;var n=e.readUInt32LE(t);return c(e.readUInt32LE(t+4),n,!1)},n.writeInt64BE=function(e,t,n){n=n||0;var r=s(e);t.writeUInt32BE(r[0],n),t.writeUInt32BE(r[1],n+4)},n.writeInt64LE=function(e,t,n){n=n||0;var r=s(e);t.writeUInt32LE(r[1],n),t.writeUInt32LE(r[0],n+4)},n.writeUInt64BE=function(e,t,n){n=n||0;var r=a(e);t.writeUInt32BE(r[0],n),t.writeUInt32BE(r[1],n+4)},n.writeUInt64LE=function(e,t,n){n=n||0;var r=a(e);t.writeUInt32LE(r[1],n),t.writeUInt32LE(r[0],n+4)},e.exports=n},"./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/buffer/index.js ***!
  \*********************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(/*! base64-js */"./node_modules/base64-js/index.js"),i=n(/*! ieee754 */"./node_modules/ieee754/index.js"),o=n(/*! isarray */"./node_modules/isarray/index.js");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(l(e,o+d)!==l(t,d)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return H(z(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return x(e,t,n,r)}function E(e,t,n,r){return H(U(t),e,n,r)}function S(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,l=e[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),u=e.slice(t,n),h=0;h<s;++h)if(l[h]!==u[h]){o=l[h],a=u[h];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||F(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:z(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(/*! ./../../../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":
/*!***************************************************!*\
  !*** ./node_modules/setimmediate/setImmediate.js ***!
  \***************************************************/
/*! no static exports found */function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,c=1,l={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[c]=i,r(c),c++},d.clearImmediate=f}function f(e){delete l[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"),n(/*! ./../process/browser.js */"./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":
/*!************************************************!*\
  !*** ./node_modules/timers-browserify/main.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(/*! setimmediate */"./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(/*! ./../webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/BagReader.js":
/*!**************************!*\
  !*** ./src/BagReader.js ***!
  \**************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return u}));var r=n(/*! ./header */"./src/header.js"),i=n(/*! ./nmerge */"./src/nmerge.js"),o=n(/*! ./record */"./src/record.js"),a=n(/*! ./TimeUtil */"./src/TimeUtil.js");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=4096,l=13;class u{constructor(e){s(this,"_lastReadResult",void 0),s(this,"_file",void 0),s(this,"_lastChunkInfo",void 0),this._file=e,this._lastChunkInfo=void 0}verifyBagHeader(e,t){this._file.read(0,l,(n,r)=>n||!r?e(n||new Error("Missing both error and buffer")):this._file.size()<l?e(new Error("Missing file header.")):"#ROSBAG V2.0\n"!==r.toString()?e(new Error("Cannot identify bag format.")):void t())}readHeader(e){this.verifyBagHeader(e,()=>this._file.read(l,c,(t,n)=>{if(t||!n)return e(t||new Error("Missing both error and buffer"));const r=n.length;if(r<8)return e(new Error(`Record at position ${l} is truncated.`));const i=n.readInt32LE(0);if(r<i+8)return e(new Error(`Record at position ${l} header too large: ${i}.`));try{const t=this.readRecordFromBuffer(n,l,o.BagHeader);return e(null,t)}catch(t){return e(new Error(`Could not read header from rosbag file buffer - ${t.message}`))}}))}readHeaderAsync(){return new Promise((e,t)=>this.readHeader((n,r)=>n||!r?t(n):e(r)))}readConnectionsAndChunkInfo(e,t,n,r){this._file.read(e,this._file.size()-e,(i,a)=>{if(i||!a)return r(i||new Error("Missing both error and buffer"));if(0===t)return r(null,{connections:[],chunkInfos:[]});const s=this.readRecordsFromBuffer(a,t,e,o.Connection),c=s[t-1].end-s[0].offset,l=this.readRecordsFromBuffer(a.slice(c),n,e+c,o.ChunkInfo);if(n>0){for(let e=0;e<n-1;e++)l[e].nextChunk=l[e+1];l[n-1].nextChunk=null}return r(null,{connections:s,chunkInfos:l})})}readConnectionsAndChunkInfoAsync(e,t,n){return new Promise((r,i)=>{this.readConnectionsAndChunkInfo(e,t,n,(e,t)=>e||!t?i(e):r(t))})}readChunkMessages(e,t,n,r,s,c){const l=n||{sec:0,nsec:0},u=r||{sec:Number.MAX_VALUE,nsec:Number.MAX_VALUE},h=t||e.connections.map(e=>e.conn);this.readChunk(e,s,(e,t)=>{if(e||!t)return c(e||new Error("Missing both error and result"));const n=t.chunk,r={};t.indices.forEach(e=>{r[e.conn]=e});const s=h.filter(e=>void 0!==r[e]).map(e=>r[e].indices[Symbol.iterator]()),d=Object(i.default)((e,t)=>a.compare(e.time,t.time),...s),f=[];let p=d.next();for(;!p.done;){const{value:e}=p;if(p=d.next(),e&&!a.isGreaterThan(l,e.time)){if(a.isGreaterThan(e.time,u))break;f.push(e)}}const m=f.map(e=>this.readRecordFromBuffer(n.data.slice(e.offset),n.dataOffset,o.MessageData));return c(null,m)})}readChunkMessagesAsync(e,t,n,r,i){return new Promise((o,a)=>{this.readChunkMessages(e,t,n,r,i,(e,t)=>e||!t?a(e):o(t))})}readChunk(t,n,r){if(t===this._lastChunkInfo&&this._lastReadResult){const t=this._lastReadResult;return e(()=>r(null,t))}const{nextChunk:i}=t,a=i?i.chunkPosition-t.chunkPosition:this._file.size()-t.chunkPosition;this._file.read(t.chunkPosition,a,(e,i)=>{if(e||!i)return r(e||new Error("Missing both error and buffer"));const a=this.readRecordFromBuffer(i,t.chunkPosition,o.Chunk),{compression:s}=a;if("none"!==s){const e=n[s];if(!e)return r(new Error(`Unsupported compression type ${a.compression}`));const t=e(a.data,a.size);a.data=t}const c=this.readRecordsFromBuffer(i.slice(a.length),t.count,t.chunkPosition+a.length,o.IndexData);return this._lastChunkInfo=t,this._lastReadResult={chunk:a,indices:c},r(null,this._lastReadResult)})}readRecordsFromBuffer(e,t,n,r){const i=[];let o=0;for(let a=0;a<t;a++){const t=this.readRecordFromBuffer(e.slice(o),n+o,r);o+=t.end-t.offset,i.push(t)}return i}readRecordFromBuffer(e,t,n){const i=e.readInt32LE(0),o=Object(r.parseHeader)(e.slice(4,4+i),n),a=4+i+4,s=e.readInt32LE(4+i),c=e.slice(a,a+s);return o.parseData(c),o.offset=t,o.dataOffset=o.offset+4+i+4,o.end=o.dataOffset+s,o.length=o.end-o.offset,o}}}.call(this,n(/*! ./../node_modules/timers-browserify/main.js */"./node_modules/timers-browserify/main.js").setImmediate)},"./src/MessageReader.js":
/*!******************************!*\
  !*** ./src/MessageReader.js ***!
  \******************************/
/*! exports provided: MessageReader */function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MessageReader",(function(){return MessageReader}));var int53__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! int53 */"./node_modules/int53/index.js"),int53__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(int53__WEBPACK_IMPORTED_MODULE_0__),_fields__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! ./fields */"./src/fields.js"),_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! ./parseMessageDefinition */"./src/parseMessageDefinition.js");function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class StandardTypeReader{constructor(e){_defineProperty(this,"buffer",void 0),_defineProperty(this,"offset",void 0),_defineProperty(this,"view",void 0),this.buffer=e,this.offset=0,this.view=new DataView(e.buffer,e.byteOffset)}string(){const e=this.int32(),t=new Uint8Array(this.buffer.buffer,this.buffer.byteOffset+this.offset,e);if(this.offset+=e,t.length<1e3)return String.fromCharCode.apply(null,t);let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}bool(){return 0!==this.uint8()}int8(){return this.view.getInt8(this.offset++)}uint8(){return this.view.getUint8(this.offset++)}typedArray(e,t){const n=null==e?this.uint32():e,r=new t(this.view.buffer,this.offset+this.view.byteOffset,n);return this.offset+=n,r}int16(){const e=this.view.getInt16(this.offset,!0);return this.offset+=2,e}uint16(){const e=this.view.getUint16(this.offset,!0);return this.offset+=2,e}int32(){const e=this.view.getInt32(this.offset,!0);return this.offset+=4,e}uint32(){const e=this.view.getUint32(this.offset,!0);return this.offset+=4,e}float32(){const e=this.view.getFloat32(this.offset,!0);return this.offset+=4,e}float64(){const e=this.view.getFloat64(this.offset,!0);return this.offset+=8,e}int64(){const e=this.offset;return this.offset+=8,int53__WEBPACK_IMPORTED_MODULE_0___default.a.readInt64LE(this.buffer,e)}uint64(){const e=this.offset;return this.offset+=8,int53__WEBPACK_IMPORTED_MODULE_0___default.a.readUInt64LE(this.buffer,e)}time(){const e=this.offset;return this.offset+=8,Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(this.buffer,e)}duration(){const e=this.offset;return this.offset+=8,Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(this.buffer,e)}}const findTypeByName=(e,t="")=>{let n="";const r=e.filter(e=>{const r=e.name||"";if(!t)return!r;const i=t.indexOf("/")>-1?t:`/${t}`;return!!r.endsWith(i)&&(n=r,!0)});if(1!==r.length)throw new Error(`Expected 1 top level type definition for '${t}' but found ${r.length}`);return{...r[0],name:n}},constructorBody=e=>e.definitions.filter(e=>!e.isConstant).map(e=>`this.${e.name} = undefined`).join(";\n"),friendlyName=e=>e.replace("/","_"),createParser=types=>{const unnamedTypes=types.filter(e=>!e.name);if(1!==unnamedTypes.length)throw new Error("multiple unnamed types");const[unnamedType]=unnamedTypes,namedTypes=types.filter(e=>!!e.name);let js=`\n  var Record = function () {\n    ${constructorBody(unnamedType)}\n  };\n`;namedTypes.forEach(e=>{js+=`\nRecord.${friendlyName(e.name)} = function() {\n  ${constructorBody(e)}\n};\n`});let stack=0;const getReaderLines=(e,t="record")=>{let n=[];return e.definitions.forEach(e=>{if(!e.isConstant)if(e.isArray){if("uint8"===e.type||"int8"===e.type){const r="uint8"===e.type?"Uint8Array":"Int8Array";return void n.push(`${t}.${e.name} = reader.typedArray(${String(e.arrayLength)}, ${r});`)}const r=`length_${++stack}`,i=`cplx_${stack}`,o=`${i}_inc_${stack}`;n.push(`var ${r} = ${e.arrayLength?e.arrayLength:"reader.uint32();"}`);const a=`${t}.${e.name}`;if(n.push(`${a} = new Array(${r})`),n.push(`for (var ${o} = 0; ${o} < ${r}; ${o}++) {`),e.isComplex){const t=findTypeByName(types,e.type);n.push(`var ${i} = new Record.${friendlyName(t.name)}();`),(n=n.concat(getReaderLines(t,`${i}`))).push(`${a}[${o}] = ${i}`)}else n.push(`${a}[${o}] = reader.${e.type}();`);n.push("}")}else if(e.isComplex){const r=findTypeByName(types,e.type);n.push(`${t}.${e.name} = new Record.${friendlyName(r.name)}();`),n=n.concat(getReaderLines(r,`${t}.${e.name}`))}else n.push(`${t}.${e.name} = reader.${e.type}();`)}),n},lines=getReaderLines(unnamedType).join("\n"),readerFn=`\n  return function read(reader) {\n    var record = new Record();\n    ${lines}\n    return record;\n  };`;let _read;js+=readerFn;try{_read=eval(`(function buildReader() { ${js} })()`)}catch(e){throw console.error("error building parser:",js),e}return function(e){const t=new StandardTypeReader(e);return _read(t)}};class MessageReader{constructor(e){_defineProperty(this,"reader",void 0);const t=Object(_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_2__.parseMessageDefinition)(e);this.reader=createParser(t)}readMessage(e){return this.reader(e)}}},"./src/ReadResult.js":
/*!***************************!*\
  !*** ./src/ReadResult.js ***!
  \***************************/
/*! exports provided: default */function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t,n,i,o,a){r(this,"topic",void 0),r(this,"message",void 0),r(this,"timestamp",void 0),r(this,"data",void 0),r(this,"chunkOffset",void 0),r(this,"totalChunks",void 0),this.topic=e,this.message=t,this.timestamp=n,this.data=i,this.chunkOffset=o,this.totalChunks=a}}},"./src/TimeUtil.js":
/*!*************************!*\
  !*** ./src/TimeUtil.js ***!
  \*************************/
/*! exports provided: fromDate, toDate, compare, isLessThan, isGreaterThan, areSame, add */function(e,t,n){"use strict";function r(e){return{sec:Math.floor(e.getTime()/1e3),nsec:1e6*e.getMilliseconds()}}function i(e){return new Date(1e3*e.sec+e.nsec/1e6)}function o(e,t){return e.sec-t.sec||e.nsec-t.nsec}function a(e,t){return this.compare(e,t)<0}function s(e,t){return this.compare(e,t)>0}function c(e,t){return e.sec===t.sec&&e.nsec===t.nsec}function l(e){return`{${e.sec}, ${e.nsec}}`}function u(e,t){const n=e.nsec+t.nsec,r=Math.floor(n/1e9),i=n%1e9,o={sec:e.sec+t.sec+r,nsec:Math.abs(-1===Math.sign(i)?1e9+i:i)};if(o.sec<0||o.nsec<0)throw new Error(`Invalid time: ${l(o)} produced from TimeUtil.add(${l(e)}, ${l(t)}})`);return o}n.r(t),n.d(t,"fromDate",(function(){return r})),n.d(t,"toDate",(function(){return i})),n.d(t,"compare",(function(){return o})),n.d(t,"isLessThan",(function(){return a})),n.d(t,"isGreaterThan",(function(){return s})),n.d(t,"areSame",(function(){return c})),n.d(t,"add",(function(){return u}))},"./src/bag.js":
/*!********************!*\
  !*** ./src/bag.js ***!
  \********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s})),n(/*! ./BagReader */"./src/BagReader.js");var r=n(/*! ./MessageReader */"./src/MessageReader.js"),i=n(/*! ./ReadResult */"./src/ReadResult.js"),o=(n(/*! ./record */"./src/record.js"),n(/*! ./TimeUtil */"./src/TimeUtil.js"));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e){a(this,"reader",void 0),a(this,"header",void 0),a(this,"connections",void 0),a(this,"chunkInfos",void 0),a(this,"startTime",void 0),a(this,"endTime",void 0),this.reader=e}async open(){this.header=await this.reader.readHeaderAsync();const{connectionCount:e,chunkCount:t,indexPosition:n}=this.header,r=await this.reader.readConnectionsAndChunkInfoAsync(n,e,t);this.connections={},r.connections.forEach(e=>{this.connections[e.conn]=e}),this.chunkInfos=r.chunkInfos,t>0&&(this.startTime=this.chunkInfos[0].startTime,this.endTime=this.chunkInfos[t-1].endTime)}async readMessages(e,t){const n=this.connections,a=e.startTime||{sec:0,nsec:0},s=e.endTime||{sec:Number.MAX_VALUE,nsec:Number.MAX_VALUE},c=e.topics||Object.keys(n).map(e=>n[e].topic),l=Object.keys(n).filter(e=>-1!==c.indexOf(n[e].topic)).map(e=>+e),{decompress:u={}}=e,h=this.chunkInfos.filter(e=>o.compare(e.startTime,s)<=0&&o.compare(a,e.endTime)<=0);function d(t,o){const a=n[t.conn],{topic:s}=a,{data:c,time:l}=t;let u=null;return e.noParse||(a.reader=a.reader||new r.MessageReader(a.messageDefinition),u=a.reader.readMessage(c)),new i.default(s,u,l,c,o,h.length)}for(let e=0;e<h.length;e++){const n=h[e];(await this.reader.readChunkMessagesAsync(n,l,a,s,u)).forEach(n=>t(d(n,e)))}}}a(s,"open",e=>{throw new Error("This method should have been overridden based on the environment. Make sure you are correctly importing the node or web version of Bag.")})},"./src/fields.js":
/*!***********************!*\
  !*** ./src/fields.js ***!
  \***********************/
/*! exports provided: extractFields, extractTime */function(e,t,n){"use strict";function r(e){if(e.length<4)throw new Error("Header fields are truncated.");let t=0;const n={};for(;t<e.length;){const r=e.readInt32LE(t);if((t+=4)+r>e.length)throw new Error("Header fields are corrupt.");const i=e.slice(t,t+r),o=i.indexOf("=");if(-1===o)throw new Error("Header field is missing equals sign.");n[i.slice(0,o).toString()]=i.slice(o+1),t+=r}return n}function i(e,t){return{sec:e.readUInt32LE(t),nsec:e.readUInt32LE(t+4)}}n.r(t),n.d(t,"extractFields",(function(){return r})),n.d(t,"extractTime",(function(){return i}))},"./src/header.js":
/*!***********************!*\
  !*** ./src/header.js ***!
  \***********************/
/*! exports provided: parseHeader */function(e,t,n){"use strict";n.r(t),n.d(t,"parseHeader",(function(){return i}));var r=n(/*! ./fields */"./src/fields.js");function i(e,t){const n=Object(r.extractFields)(e);if(void 0===n.op)throw new Error("Header is missing 'op' field.");const i=n.op.readUInt8(0);if(i!==t.opcode)throw new Error(`Expected ${t.name} (${t.opcode}) but found ${i}`);return new t(n)}n(/*! ./record */"./src/record.js")},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./TimeUtil */"./src/TimeUtil.js");n.d(t,"TimeUtil",(function(){return r})),n(/*! ./bag */"./src/bag.js"),n(/*! ./BagReader */"./src/BagReader.js");var i=n(/*! ./MessageReader */"./src/MessageReader.js");n.d(t,"MessageReader",(function(){return i.MessageReader}));var o=n(/*! ./parseMessageDefinition */"./src/parseMessageDefinition.js");n.d(t,"rosPrimitiveTypes",(function(){return o.rosPrimitiveTypes})),n.d(t,"parseMessageDefinition",(function(){return o.parseMessageDefinition}));var a=n(/*! ./types */"./src/types.js");for(var s in a)["TimeUtil","default","MessageReader","rosPrimitiveTypes","parseMessageDefinition","default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s)},"./src/nmerge.js":
/*!***********************!*\
  !*** ./src/nmerge.js ***!
  \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! heap */"./node_modules/heap/index.js"),i=n.n(r);t.default=function(e,...t){const n=new i.a((t,n)=>e(t.value,n.value));for(let e=0;e<t.length;e++){const{value:r,done:i}=t[e].next();i||n.push({i:e,value:r})}return{next:()=>{if(n.empty())return{done:!0};const{i:e}=n.front(),r=t[e].next();return r.done?{value:n.pop().value,done:!1}:{value:n.replace({i:e,value:r.value}).value,done:!1}}}}},"./src/parseMessageDefinition.js":
/*!***************************************!*\
  !*** ./src/parseMessageDefinition.js ***!
  \***************************************/
/*! exports provided: rosPrimitiveTypes, parseMessageDefinition */function(e,t,n){"use strict";n.r(t),n.d(t,"rosPrimitiveTypes",(function(){return r})),n.d(t,"parseMessageDefinition",(function(){return s}));const r=new Set(["string","bool","int8","uint8","int16","uint16","int32","uint32","float32","float64","int64","uint64","time","duration"]);function i(e){let t=e;return"char"===e&&(t="uint8"),"byte"===e&&(t="int8"),t}const o=e=>{const t=[];let n;return e.forEach(e=>{const o=e.replace(/#.*/gi,"").split(" ").filter(e=>e);if(!o[1])return;const a=o[0].trim(),s=o[1].trim();if("MSG:"===a)n=s;else if(s.indexOf("=")>-1||o.indexOf("=")>-1){const n=e.match(/(\S+)\s*=\s*(.*)\s*/);if(!n)throw new Error("Malformed line: "+e);let r=n[2];if("string"!==a){r=(r=r.replace(/True/gi,"true")).replace(/False/gi,"false");try{r=JSON.parse(r.replace(/\s*#.*/g,""))}catch(t){throw console.warn(`Error in this constant definition: ${e}`),t}"bool"===a&&(r=Boolean(r))}(a.includes("int")&&r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&console.warn(`Found integer constant outside safe integer range: ${e}`),t.push({type:i(a),name:n[1],isConstant:!0,value:r})}else if(a.indexOf("]")===a.length-1){const e=a.split("["),n=e[0],o=e[1].replace("]","");t.push(function(e,t,n){const o=i(e);return{type:o,name:t,isArray:!0,arrayLength:null===n?void 0:n,isComplex:!r.has(o)}}(n,s,o?parseInt(o,10):void 0))}else t.push(function(e,t){const n=i(e);return{type:n,name:t,isArray:!1,isComplex:!r.has(n)}}(a,s))}),{name:n,definitions:t}},a=(e,t)=>{const n=e.filter(e=>{const n=e.name||"";if(!t)return!n;const r=t.indexOf("/")>-1?t:`/${t}`;return n.endsWith(r)});if(1!==n.length)throw new Error(`Expected 1 top level type definition for '${t}' but found ${n.length}`);return n[0]};function s(e){const t=e.split("\n").map(e=>e.trim()).filter(e=>e);let n=[];const r=[];return t.forEach(e=>{0!==e.indexOf("#")&&(0===e.indexOf("==")?(r.push(o(n)),n=[]):n.push(e))}),r.push(o(n)),r.forEach(({definitions:e})=>{e.forEach(e=>{if(e.isComplex){const t=a(r,e.type).name;if(void 0===t)throw new Error(`Missing type definition for ${e.type}`);e.type=t}})}),r}},"./src/record.js":
/*!***********************!*\
  !*** ./src/record.js ***!
  \***********************/
/*! exports provided: Record, BagHeader, Chunk, Connection, MessageData, IndexData, ChunkInfo */function(e,t,n){"use strict";n.r(t),n.d(t,"Record",(function(){return c})),n.d(t,"BagHeader",(function(){return l})),n.d(t,"Chunk",(function(){return u})),n.d(t,"Connection",(function(){return d})),n.d(t,"MessageData",(function(){return f})),n.d(t,"IndexData",(function(){return p})),n.d(t,"ChunkInfo",(function(){return m}));var r=n(/*! int53 */"./node_modules/int53/index.js"),i=n.n(r),o=n(/*! ./fields */"./src/fields.js");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(/*! ./MessageReader */"./src/MessageReader.js");const s=e=>i.a.readUInt64LE(e,0);class c{constructor(e){a(this,"offset",void 0),a(this,"dataOffset",void 0),a(this,"end",void 0),a(this,"length",void 0)}parseData(e){}}class l extends c{constructor(e){super(e),a(this,"indexPosition",void 0),a(this,"connectionCount",void 0),a(this,"chunkCount",void 0),this.indexPosition=s(e.index_pos),this.connectionCount=e.conn_count.readInt32LE(0),this.chunkCount=e.chunk_count.readInt32LE(0)}}a(l,"opcode",3);class u extends c{constructor(e){super(e),a(this,"compression",void 0),a(this,"size",void 0),a(this,"data",void 0),this.compression=e.compression.toString(),this.size=e.size.readUInt32LE(0)}parseData(e){this.data=e}}a(u,"opcode",5);const h=(e,t)=>{if(void 0===e[t])throw new Error(`Connection header is missing ${t}.`);return e[t].toString()};class d extends c{constructor(e){super(e),a(this,"conn",void 0),a(this,"topic",void 0),a(this,"type",void 0),a(this,"md5sum",void 0),a(this,"messageDefinition",void 0),a(this,"callerid",void 0),a(this,"latching",void 0),a(this,"reader",void 0),this.conn=e.conn.readUInt32LE(0),this.topic=e.topic.toString(),this.type=void 0,this.md5sum=void 0,this.messageDefinition=""}parseData(e){const t=Object(o.extractFields)(e);this.type=h(t,"type"),this.md5sum=h(t,"md5sum"),this.messageDefinition=h(t,"message_definition"),void 0!==t.callerid&&(this.callerid=t.callerid.toString()),void 0!==t.latching&&(this.latching="1"===t.latching.toString())}}a(d,"opcode",7);class f extends c{constructor(e){super(e),a(this,"conn",void 0),a(this,"time",void 0),a(this,"data",void 0),this.conn=e.conn.readUInt32LE(0),this.time=Object(o.extractTime)(e.time,0)}parseData(e){this.data=e}}a(f,"opcode",2);class p extends c{constructor(e){super(e),a(this,"ver",void 0),a(this,"conn",void 0),a(this,"count",void 0),a(this,"indices",void 0),this.ver=e.ver.readUInt32LE(0),this.conn=e.conn.readUInt32LE(0),this.count=e.count.readUInt32LE(0)}parseData(e){this.indices=[];for(let t=0;t<this.count;t++)this.indices.push({time:Object(o.extractTime)(e,12*t),offset:e.readUInt32LE(12*t+8)})}}a(p,"opcode",4);class m extends c{constructor(e){super(e),a(this,"ver",void 0),a(this,"chunkPosition",void 0),a(this,"startTime",void 0),a(this,"endTime",void 0),a(this,"count",void 0),a(this,"connections",void 0),a(this,"nextChunk",void 0),this.ver=e.ver.readUInt32LE(0),this.chunkPosition=s(e.chunk_pos),this.startTime=Object(o.extractTime)(e.start_time,0),this.endTime=Object(o.extractTime)(e.end_time,0),this.count=e.count.readUInt32LE(0)}parseData(e){this.connections=[];for(let t=0;t<this.count;t++)this.connections.push({conn:e.readUInt32LE(8*t),count:e.readUInt32LE(8*t+4)})}}a(m,"opcode",6)},"./src/types.js":
/*!**********************!*\
  !*** ./src/types.js ***!
  \**********************/
/*! no static exports found */function(e,t){},"./src/web/index.js":
/*!**************************!*\
  !*** ./src/web/index.js ***!
  \**************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Reader",(function(){return u})),n.d(t,"open",(function(){return h}));var r=n(/*! buffer */"./node_modules/node-libs-browser/node_modules/buffer/index.js"),i=n(/*! ../index */"./src/index.js");n.d(t,"TimeUtil",(function(){return i.TimeUtil})),n.d(t,"MessageReader",(function(){return i.MessageReader})),n.d(t,"parseMessageDefinition",(function(){return i.parseMessageDefinition})),n.d(t,"rosPrimitiveTypes",(function(){return i.rosPrimitiveTypes}));var o=n(/*! ../bag */"./src/bag.js"),a=n(/*! ../BagReader */"./src/BagReader.js");n.d(t,"BagReader",(function(){return a.default}));var s=n(/*! ../types */"./src/types.js");for(var c in s)["Reader","TimeUtil","BagReader","MessageReader","open","parseMessageDefinition","rosPrimitiveTypes","default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(c);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u{constructor(e){l(this,"_blob",void 0),l(this,"_size",void 0),this._blob=e,this._size=e.size}read(t,n,i){const o=new FileReader;o.onload=function(){o.onload=null,o.onerror=null,e(i,null,r.Buffer.from(o.result))},o.onerror=function(){o.onload=null,o.onerror=null,e(i,new Error(o.error))},o.readAsArrayBuffer(this._blob.slice(t,t+n))}size(){return this._size}}const h=async e=>{if(!(e instanceof Blob))throw new Error("Expected file to be a File or Blob. Make sure you are correctly importing the node or web version of Bag.");const t=new o.default(new a.default(new u(e)));return await t.open(),t};o.default.open=h,t.default=o.default}.call(this,n(/*! ./../../node_modules/timers-browserify/main.js */"./node_modules/timers-browserify/main.js").setImmediate)}})},module.exports=factory()},"6dBs":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},c=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,n=r.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!o)return!1;for(t in e);return void 0===t||r.call(e,t)},l=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,r,i,o,a,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"==typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});d<f;++d)if(null!=(t=arguments[d]))for(n in t)r=u(h,n),h!==(i=u(t,n))&&(p&&i&&(c(i)||(o=s(i)))?(o?(o=!1,a=r&&s(r)?r:[]):a=r&&c(r)?r:{},l(h,{name:n,newValue:e(p,a,i)})):void 0!==i&&l(h,{name:n,newValue:i}));return h}},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"6tYh":function(e,t,n){var r=n("93I4"),i=n("5K7Z"),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n("2GTP")(Function.call,n("vwuL").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"75pU":function(e,t){function n(e,t,n,r){var i,o=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(o);return void 0===a&&(a=e.call(this,r),t.set(o,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=t.get(i);return void 0===o&&(o=e.apply(this,r),t.set(i,o)),o}function i(e,t,n,r,i){return n.bind(t,e,r,i)}function o(e,t){return i(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:o)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return i(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return i(e,this,n,t.cache.create(),t.serializer)}}},"77Zs":function(e,t,n){var r=n("Xi7e");e.exports=function(){this.__data__=new r,this.size=0}},"79nV":function(e,t,n){var r=n("U1bi");n("epdU")(r,["ActionClient","SimpleActionServer"],e.exports={ActionClient:n("qesz"),ActionListener:n("BCdy"),Goal:n("4XN4"),SimpleActionServer:n("jcpv")})},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),o=n("MMmD");e.exports=function(e){return o(e)?r(e):i(e)}},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"7RL8":function(e,t,n){"use strict";n.r(t);var r=n("i8i4"),i=n.n(r),o=n("q1tI"),a=n.n(o),s=n("LvDl"),c=n.n(s),l=n("je4i"),u=n.n(l),h=n("lTd2"),d=n.n(h),f=n("je13"),p=n.n(f),m=n("6GvM"),g=n.n(m),v=n("G6B7"),y=n.n(v),b={fill:"none",stroke:"#dc1d30",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1px"},w={fill:"#dc1d30"},x="TOOL_TYPE_CONTROLS",_="TOOL_TYPE_POINT",E="TOOL_TYPE_NAV_GOAL",S="TOOL_TYPE_POSE_ESTIMATE",C=v.CONSTANTS.MESSAGE_TYPE_IMAGE,A=v.CONSTANTS.VIZ_TYPE_WRENCH,T=v.CONSTANTS.MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK,M=v.CONSTANTS.MESSAGE_TYPE_INTERACTIVEMARKER_UPDATE,k=v.CONSTANTS.MESSAGE_TYPE_LASERSCAN,O=v.CONSTANTS.MESSAGE_TYPE_MARKER,P=v.CONSTANTS.MESSAGE_TYPE_MARKERARRAY,R=v.CONSTANTS.MESSAGE_TYPE_OCCUPANCYGRID,F=v.CONSTANTS.MESSAGE_TYPE_ODOMETRY,L=v.CONSTANTS.MESSAGE_TYPE_PATH,D=v.CONSTANTS.MESSAGE_TYPE_POINTCLOUD2,j=v.CONSTANTS.MESSAGE_TYPE_POINTSTAMPED,N=v.CONSTANTS.MESSAGE_TYPE_POSEARRAY,I=v.CONSTANTS.MESSAGE_TYPE_POSESTAMPED,B=v.CONSTANTS.MESSAGE_TYPE_RANGE,z=v.CONSTANTS.MESSAGE_TYPE_ROBOT_MODEL,U=v.CONSTANTS.MESSAGE_TYPE_TF,H=v.CONSTANTS.MESSAGE_TYPE_INTERACTIVEMARKER,V=v.CONSTANTS.MESSAGE_TYPE_WRENCHSTAMPED,W=v.CONSTANTS.VIZ_TYPE_IMAGE,$=v.CONSTANTS.VIZ_TYPE_INTERACTIVEMARKER,G=v.CONSTANTS.VIZ_TYPE_LASERSCAN,q=v.CONSTANTS.VIZ_TYPE_MAP,Y=v.CONSTANTS.VIZ_TYPE_MARKER,X=v.CONSTANTS.VIZ_TYPE_MARKERARRAY,K=v.CONSTANTS.VIZ_TYPE_ODOMETRY,Z=v.CONSTANTS.VIZ_TYPE_PATH,J=v.CONSTANTS.VIZ_TYPE_POINT,Q=v.CONSTANTS.VIZ_TYPE_POINTCLOUD,ee=v.CONSTANTS.VIZ_TYPE_POSE,te=v.CONSTANTS.VIZ_TYPE_POSEARRAY,ne=v.CONSTANTS.VIZ_TYPE_RANGE,re=v.CONSTANTS.VIZ_TYPE_ROBOTMODEL,ie=v.CONSTANTS.VIZ_TYPE_TF,oe=v.CONSTANTS.MESSAGE_TYPE_TF2,ae=[U,oe],se="https://github.com/rapyuta-robotics/zethus/wiki/",ce=a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"32.1",y:"15.05",width:"18.75",height:"36.66",transform:"translate(74.85 -8.1) rotate(90)"}),a.a.createElement("rect",{style:b,x:"53.84",y:"35.93",width:"24.72",height:"24.72"}),a.a.createElement("circle",{style:b,cx:"35.51",cy:"46.59",r:"14.07"}),a.a.createElement("rect",{style:b,x:"41.05",y:"51.28",width:"24.72",height:"24.72"})),le=[{type:W,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"17.5",y:"30",width:"65",height:"40",rx:"2"}),a.a.createElement("polyline",{style:b,points:"18 67.5 46 49.5 52 55.5 71 42.5 82.5 49.29"}),a.a.createElement("circle",{style:w,cx:"62",cy:"40.5",r:"2.5"})),messageTypes:[C],description:'Creates a container to visualize the image data represented by a sensor_msgs/Image topic.\n    ![](/image/viz/viz-image.png "")',docsLink:"".concat(se,"Image")},{type:"Image stream",icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"17.5",y:"30",width:"65",height:"40",rx:"2"}),a.a.createElement("polyline",{style:b,points:"18 67.5 46 49.5 52 55.5 71 42.5 82.5 49.29"}),a.a.createElement("circle",{style:w,cx:"62",cy:"40.5",r:"2.5"})),messageTypes:[],description:'Creates a container to visualize the image data as a video stream coming via\n    [web-video-server](http://wiki.ros.org/web_video_server).\n    ![](/image/viz/viz-image.png "")',docsLink:"".concat(se,"ImageStream")},{type:G,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("path",{style:b,d:"M20,53.9C33.44,53.23,56.29,43.82,67.05,25"}),a.a.createElement("circle",{style:w,cx:"77.5",cy:"72.5",r:"2.5"}),a.a.createElement("line",{style:b,x1:"70.67",y1:"31.28",x2:"77",y2:"66.57"}),a.a.createElement("line",{style:b,x1:"60.71",y1:"43.05",x2:"74.29",y2:"67.47"}),a.a.createElement("line",{style:b,x1:"43.52",y1:"53.9",x2:"72.48",y2:"69.28"}),a.a.createElement("line",{style:b,x1:"27.24",y1:"59.33",x2:"71.57",y2:"72"})),messageTypes:[k],description:'Adds a visualization represented by a sensor_msgs/LaserScan topic to the scene.\n    ![](/image/viz/viz-laserscan.png "")',docsLink:"".concat(se,"Laser-Scan")},{type:q,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("polygon",{style:b,points:"24.83 26.16 75.17 26.27 84 74.73 16 74.73 24.83 26.16"}),a.a.createElement("polyline",{style:b,points:"22.9 36.8 61 36.8 55 43 55 54 35 54"}),a.a.createElement("line",{style:b,x1:"77.29",y1:"37.89",x2:"36",y2:"50"}),a.a.createElement("polyline",{style:b,points:"78.21 42.94 64 49 64 62 43 62 43 74.73"}),a.a.createElement("polyline",{style:b,points:"80.45 55.26 73 68 55 70 55 74.73"}),a.a.createElement("polyline",{style:b,points:"30.4 74.73 33 67 17.77 64.99"}),a.a.createElement("polyline",{style:b,points:"31.07 36.8 38 46 33 57 23 57 25 49"}),a.a.createElement("line",{style:b,x1:"20.23",y1:"51.47",x2:"35.69",y2:"42.94"}),a.a.createElement("line",{style:b,x1:"35.69",y1:"26.18",x2:"38",y2:"36.8"}),a.a.createElement("line",{style:b,x1:"51.91",y1:"26.16",x2:"46.37",y2:"36.8"}),a.a.createElement("line",{style:b,x1:"61",y1:"37",x2:"59.67",y2:"26.24"}),a.a.createElement("polyline",{style:b,points:"67.73 26.16 71 35 76.5 33.57"})),messageTypes:[R],description:'Adds a visualization represented by a nav_msgs/OccupancyGrid topic to the scene.\n    ![](/image/viz/viz-map.png "")',docsLink:"".concat(se,"Map")},{type:Y,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"24",y:"17",width:"22",height:"43"}),a.a.createElement("circle",{style:b,cx:"48.5",cy:"53.5",r:"16.5"}),a.a.createElement("rect",{style:b,x:"51",y:"50",width:"29",height:"29"})),messageTypes:[O],description:'Adds a visualization represented by a visualization_msgs/Marker or visualization_msgs/MarkerArray topic to the scene.\n    ![](/image/viz/viz-marker.png "")',docsLink:"".concat(se,"Marker")},{type:X,icon:ce,messageTypes:[P],description:'Adds a visualization represented by a visualization_msgs/Marker or visualization_msgs/MarkerArray topic to the scene.\n    ![](/image/viz/viz-markerarray.png "")',docsLink:"".concat(se,"Marker-Array")},{type:$,icon:ce,messageTypes:[H],additionalMessageTypes:[M,T],description:"Adds an interactive visualization represented by a visualization_msgs/InteractiveMarker topic to the scene.\n    ![](/image/viz/viz-interactive-marker.png)",docsLink:"".concat(se,"Interactive-Marker")},{type:K,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("polyline",{style:b,points:"27 32 32 29 20 74"}),a.a.createElement("line",{style:b,x1:"35",y1:"34",x2:"32",y2:"29"}),a.a.createElement("polyline",{style:b,points:"44.16 27.83 49.85 26.56 24.3 65.5"}),a.a.createElement("line",{style:b,x1:"51.13",y1:"32.25",x2:"49.85",y2:"26.56"}),a.a.createElement("polyline",{style:b,points:"63.41 27.33 69.22 27.79 33.34 57.47"}),a.a.createElement("line",{style:b,x1:"68.76",y1:"33.6",x2:"69.22",y2:"27.79"}),a.a.createElement("polyline",{style:b,points:"78.81 31.24 84.36 33.01 42.66 53.74"}),a.a.createElement("line",{style:b,x1:"82.59",y1:"38.57",x2:"84.36",y2:"33.01"})),messageTypes:[F],description:'Adds a visualization represented by a nav_msgs/Odometry topic to the scene.\n    ![](/image/viz/viz-odometry.png "")',docsLink:"".concat(se,"Odometry"),isDisplay:!1},{type:Z,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("path",{style:b,d:"M25,77c-5-21-5-47,15-38s38,10,40-8"}),a.a.createElement("line",{style:b,x1:"77",y1:"21",x2:"83.5",y2:"27.5"}),a.a.createElement("line",{style:b,x1:"83.5",y1:"21",x2:"77",y2:"27.5"})),messageTypes:[L],description:'Adds a visualization represented by a nav_msgs/Path topic to the scene.\n    ![](/image/viz/viz-path.png "")',docsLink:"".concat(se,"Path")},{type:J,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("circle",{style:b,cx:"49.4",cy:"49.6",r:"30.3"})),messageTypes:[j],description:'Adds a visualization represented by a geometry_msgs/PointStamped topic to the scene.\n    ![](/image/viz/viz-point.png "")',docsLink:"".concat(se,"Point")},{type:Q,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("path",{style:b,d:"M42.68,38s-4.29-5.07-13-2.12-8.24,10-8.24,10S13.16,53.09,16,59.07s7.55,6.33,9.89,6.33h5.62"}),a.a.createElement("path",{style:b,d:"M81.33,58.72c0-6.24-8.06-9.62-12.14-8.93,0,0-2.25-9.88-12.66-8.15a13.12,13.12,0,0,0-14-3.12C34,41.47,34.33,48.58,34.33,48.58S26,55.69,28.87,61.67,36.41,68,38.76,68H81.85"})),messageTypes:[D],description:'Adds a visualization represented by a sensor_msgs/PointCloud2 topic to the scene.\n    ![](/image/viz/viz-pointcloud.png "")',docsLink:"".concat(se,"Point-Cloud-2")},{type:ee,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"17.72",y:"63.34",width:"11.42",height:"11.42"}),a.a.createElement("line",{style:b,x1:"35.84",y1:"58.49",x2:"78.2",y2:"32.71"}),a.a.createElement("polyline",{style:b,points:"69.2 29.92 79.32 31.85 77.4 41.96"})),messageTypes:[I],description:'Adds a visualization represented by a geometry_msgs/PoseStamped topic to the scene.\n    ![](/image/viz/viz-pose.png "")',docsLink:"".concat(se,"Pose")},{type:te,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("rect",{style:b,x:"23.14",y:"76.1",width:"11.42",height:"11.42"}),a.a.createElement("line",{style:b,x1:"41.65",y1:"73.36",x2:"83.62",y2:"45.47"}),a.a.createElement("polyline",{style:b,points:"74.62 42.67 84.74 44.6 82.81 54.72"}),a.a.createElement("line",{style:b,x1:"23.45",y1:"56.06",x2:"35.99",y2:"16.59"}),a.a.createElement("polyline",{style:b,points:"27.16 19.86 36.35 15.22 41 24.4"}),a.a.createElement("circle",{style:b,cx:"21.12",cy:"64.75",r:"5.04"})),messageTypes:[N],description:'Adds a visualization represented by a geometry_msgs/PoseArray topic to the scene. An array of pose is added to the scene based on the Shape type selected.\n    ![](/image/viz/viz-posearray.png "")',docsLink:"".concat(se,"Pose-Array")},{type:ne,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("polygon",{style:b,points:"83.7,58 18.2,74.8 18.2,29.5 83.6,46.2 "})),messageTypes:[B],description:'Adds a visualization represented by a sensor_msgs/Range topic to the scene.\n    ![](/image/viz/viz-range.png "")',docsLink:"".concat(se,"Range")},{type:"Depthcloud stream",icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("path",{style:b,d:"M42.68,38s-4.29-5.07-13-2.12-8.24,10-8.24,10S13.16,53.09,16,59.07s7.55,6.33,9.89,6.33h5.62"}),a.a.createElement("path",{style:b,d:"M81.33,58.72c0-6.24-8.06-9.62-12.14-8.93,0,0-2.25-9.88-12.66-8.15a13.12,13.12,0,0,0-14-3.12C34,41.47,34.33,48.58,34.33,48.58S26,55.69,28.87,61.67,36.41,68,38.76,68H81.85"})),messageTypes:[],description:"Visualizes depthcloud from the \n    [depthcloud_encoder](http://wiki.ros.org/depthcloud_encoder) \n    via [web-video-server](http://wiki.ros.org/web_video_server) stream",docsLink:"".concat(se,"Depthcloud")},{type:re,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("g",null,a.a.createElement("rect",{style:b,x:"23.39",y:"38.67",width:"53.21",height:"36.09",rx:"7.08"})),a.a.createElement("g",null,a.a.createElement("circle",{style:w,cx:"35.09",cy:"53.4",r:"3.31"}),a.a.createElement("circle",{style:w,cx:"64.91",cy:"53.4",r:"3.31"})),a.a.createElement("circle",{style:w,cx:"50",cy:"28.55",r:"3.31"}),a.a.createElement("g",null,a.a.createElement("line",{style:b,x1:"81.76",y1:"46.36",x2:"81.76",y2:"63.76"}),a.a.createElement("line",{style:b,x1:"18.24",y1:"64.18",x2:"18.24",y2:"46.78"})),a.a.createElement("line",{style:b,x1:"50",y1:"38.08",x2:"50",y2:"31.45"}),a.a.createElement("g",null,a.a.createElement("path",{style:w,d:"M38.12,65.42a22.94,22.94,0,0,0,23.76,0"}))),messageTypes:[z],description:'Adds a robot model to the scene from a ros parameter.\n    ![](/image/viz/viz-robotmodel.png "")',docsLink:"".concat(se,"Robot-Model")},{type:ie,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("line",{style:b,x1:"27.34",y1:"72.45",x2:"12.63",y2:"80.75"}),a.a.createElement("polyline",{style:b,points:"27.34 43.45 27.34 72.45 55.38 72.45"}),a.a.createElement("line",{style:b,x1:"65.33",y1:"38.54",x2:"77.6",y2:"44.07"}),a.a.createElement("polyline",{style:b,points:"49.35 16.48 65.33 38.54 78.74 22.09"}),a.a.createElement("line",{style:b,x1:"27.34",y1:"72.45",x2:"63",y2:"39.54"}),a.a.createElement("polyline",{style:b,points:"56.15 39.2 63.38 39.2 62.43 47.7"})),messageTypes:ae,description:'Adds a visualization represented by a tf/tfMessage and tf2_msgs/TFMessage topic to the scene.\n    ![](/image/viz/viz-tf.png "")',docsLink:"".concat(se,"Tf")},{type:A,icon:a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},a.a.createElement("line",{x1:"30.74",y1:"72.45",x2:"72.42",y2:"16.7",style:b}),a.a.createElement("polyline",{points:"63.04 17.46 73.14 15.47 75.13 25.58",style:b}),a.a.createElement("path",{d:"M29.85,56.69a42.48,42.48,0,0,1,8.32,3.72c10.54,6.09,16.7,15.16,13.75,20.27S38,85,27.49,78.9,10.79,63.74,13.74,58.63a6.59,6.59,0,0,1,4.18-2.92",style:b}),a.a.createElement("line",{x1:"30.5",y1:"68.57",x2:"33.08",y2:"49.47",style:b}),a.a.createElement("polyline",{points:"27.92 52.19 33.16 48.05 37.04 52.96",style:b})),messageTypes:[V],description:'Adds a visualization represented by a geometry_msgs/WrenchStamped topic to the scene.\n    ![](/image/viz/viz-wrench.png "")',docsLink:"".concat(se,"Wrench")}];function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var he=v.CONSTANTS.DEFAULT_OPTIONS_SCENE,de={INITIAL:"Idle. Not Connected",CONNECTING:"Connecting",CONNECTED:"Connected successfully",CONNECTION_ERROR:"Error in connection"},fe=function(e){return c.a.filter(e,(function(e){return c.a.includes(ae,e.messageType)}))},pe=function(e){return e.stopPropagation()},me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement("a");r.setAttribute("href","data:".concat(n.mimetype||"text/json",";charset=utf-8,").concat(encodeURIComponent(e))),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},ge={panels:{sidebar:{display:!0,collapsed:!1},header:{display:!0},info:{display:!0,collapsed:!0}},ros:{endpoint:"ws://localhost:9090"},infoTabs:[],visualizations:[],globalOptions:{display:!0,backgroundColor:{display:!0,value:he.backgroundColor},fixedFrame:{display:!0,value:"world"},grid:{display:!0,size:he.gridSize,divisions:he.gridDivisions,color:he.gridColor,centerlineColor:he.gridCenterlineColor}},tools:{mode:"controls",controls:{display:!1,enabled:!0},measure:{display:!1},custom:[]}};function ve(e){var t=this.props,n=t.options.key,r=t.updateVizOptions,i=e.target,o=i.checked,a=i.dataset.id,s=i.value;r(n,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,c.a.has(e.target,"checked")?o:s))}function ye(e){var t={};return new Promise((function(n,r){e.getNodes((function(i){t.nodes=c.a.map(i,(function(e){return{id:e,label:e,type:"ellipse"}})),e.getTopics((function(o){var a=o.topics;Promise.all(i.map((function(t){return function(e,t){return new Promise((function(n,r){try{e.getNodeDetails(t,(function(e){var r=e.publishing,i=e.subscribing;n({publishing:r,subscribing:i,node:t})}))}catch(e){r(e)}}))}(e,t)}))).then((function(e){t.auxGraphData=function(e,t){var n={};return e.forEach((function(e){n[e]={publishers:[],subscribers:[]}})),t.forEach((function(e){var t=e.publishing,r=e.subscribing,i=e.node;t.forEach((function(e){n[e].publishers.push(i)})),r.forEach((function(e){n[e].subscribers.push(i)}))})),n}(a,e),n(t)})).catch((function(e){r(e)}))}))}))}))}var be=n("vOnD"),we=n("EiaH"),xe=n.n(we),_e=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Ee=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return _e(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var Se=Ee(_e);Se.right,Se.left;var Ce=Array.prototype;Ce.slice,Ce.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Array.prototype.slice;var Ae=n("xo8x");function Te(){}var Me=function(e){return null==e?Te:function(){return this.querySelector(e)}};function ke(){return[]}var Oe=function(e){return null==e?ke:function(){return this.querySelectorAll(e)}},Pe=function(e){return function(){return this.matches(e)}},Re=function(e){return new Array(e.length)};function Fe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Fe.prototype={constructor:Fe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Le="$";function De(e,t,n,r,i,o){for(var a,s=0,c=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Fe(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function je(e,t,n,r,i,o,a){var s,c,l,u={},h=t.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(c=t[s])&&(f[s]=l=Le+a.call(c,c.__data__,s,t),l in u?i[s]=c:u[l]=c);for(s=0;s<d;++s)(c=u[l=Le+a.call(e,o[s],s,o)])?(r[s]=c,c.__data__=o[s],u[l]=null):n[s]=new Fe(e,o[s]);for(s=0;s<h;++s)(c=t[s])&&u[f[s]]===c&&(i[s]=c)}function Ne(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var Ie="http://www.w3.org/1999/xhtml",Be={svg:"http://www.w3.org/2000/svg",xhtml:Ie,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ze=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Be.hasOwnProperty(t)?{space:Be[t],local:e}:e};function Ue(e){return function(){this.removeAttribute(e)}}function He(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ve(e,t){return function(){this.setAttribute(e,t)}}function We(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function $e(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Ge(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var qe=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function Ye(e){return function(){this.style.removeProperty(e)}}function Xe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ke(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ze(e,t){return e.style.getPropertyValue(t)||qe(e).getComputedStyle(e,null).getPropertyValue(t)}function Je(e){return function(){delete this[e]}}function Qe(e,t){return function(){this[e]=t}}function et(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function tt(e){return e.trim().split(/^|\s+/)}function nt(e){return e.classList||new rt(e)}function rt(e){this._node=e,this._names=tt(e.getAttribute("class")||"")}function it(e,t){for(var n=nt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ot(e,t){for(var n=nt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function at(e){return function(){it(this,e)}}function st(e){return function(){ot(this,e)}}function ct(e,t){return function(){(t.apply(this,arguments)?it:ot)(this,e)}}rt.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lt(){this.textContent=""}function ut(e){return function(){this.textContent=e}}function ht(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function dt(){this.innerHTML=""}function ft(e){return function(){this.innerHTML=e}}function pt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function mt(){this.nextSibling&&this.parentNode.appendChild(this)}function gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ie&&t.documentElement.namespaceURI===Ie?t.createElement(e):t.createElementNS(n,e)}}function yt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var bt=function(e){var t=ze(e);return(t.local?yt:vt)(t)};function wt(){return null}function xt(){var e=this.parentNode;e&&e.removeChild(this)}function _t(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Et(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var St={},Ct=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(St={mouseenter:"mouseover",mouseleave:"mouseout"}));function At(e,t,n){return e=Tt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Tt(e,t,n){return function(r){var i=Ct;Ct=r;try{e.call(this,this.__data__,t,n)}finally{Ct=i}}}function Mt(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function kt(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Ot(e,t,n){var r=St.hasOwnProperty(e.type)?At:Tt;return function(i,o,a){var s,c=this.__on,l=r(t,o,a);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function Pt(e,t,n,r){var i=Ct;e.sourceEvent=Ct,Ct=e;try{return t.apply(n,r)}finally{Ct=i}}function Rt(e,t,n){var r=qe(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ft(e,t){return function(){return Rt(this,e,t)}}function Lt(e,t){return function(){return Rt(this,e,t.apply(this,arguments))}}var Dt=[null];function jt(e,t){this._groups=e,this._parents=t}function Nt(){return new jt([[document.documentElement]],Dt)}jt.prototype=Nt.prototype={constructor:jt,select:function(e){"function"!=typeof e&&(e=Me(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new jt(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=Oe(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new jt(r,i)},filter:function(e){"function"!=typeof e&&(e=Pe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new jt(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each((function(e){p[++u]=e})),p;var n,r=t?je:De,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],f=d.length,p=e.call(h,h&&h.__data__,u,i),m=p.length,g=c[u]=new Array(m),v=s[u]=new Array(m);r(h,d,g,v,l[u]=new Array(f),p,t);for(var y,b,w=0,x=0;w<m;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<m;);y._next=b||null}}return(s=new jt(s,i))._enter=c,s._exit=l,s},enter:function(){return new jt(this._enter||this._groups.map(Re),this._parents)},exit:function(){return new jt(this._exit||this._groups.map(Re),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=t[s];return new jt(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Ne);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new jt(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=ze(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?He:Ue:"function"==typeof t?n.local?Ge:$e:n.local?We:Ve)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Ye:"function"==typeof t?Ke:Xe)(e,t,null==n?"":n)):Ze(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Je:"function"==typeof t?et:Qe)(e,t)):this.node()[e]},classed:function(e,t){var n=tt(e+"");if(arguments.length<2){for(var r=nt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ct:t?at:st)(n,t))},text:function(e){return arguments.length?this.each(null==e?lt:("function"==typeof e?ht:ut)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?dt:("function"==typeof e?pt:ft)(e)):this.node().innerHTML},raise:function(){return this.each(mt)},lower:function(){return this.each(gt)},append:function(e){var t="function"==typeof e?e:bt(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:bt(e),r=null==t?wt:"function"==typeof t?t:Me(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(xt)},clone:function(e){return this.select(e?Et:_t)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=Mt(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Ot:kt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?Lt:Ft)(e,t))}};var It=Nt,Bt=function(e){return"string"==typeof e?new jt([[document.querySelector(e)]],[document.documentElement]):new jt([[e]],Dt)};var zt=function(){Ct.preventDefault(),Ct.stopImmediatePropagation()},Ut=function(e){var t=e.document.documentElement,n=Bt(e).on("dragstart.drag",zt,!0);"onselectstart"in t?n.on("selectstart.drag",zt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function Ht(e,t){var n=e.document.documentElement,r=Bt(e).on("dragstart.drag",null);t&&(r.on("click.drag",zt,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Vt=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Wt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $t(){}var Gt="\\s*([+-]?\\d+)\\s*",qt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xt=/^#([0-9a-f]{3,8})$/,Kt=new RegExp("^rgb\\("+[Gt,Gt,Gt]+"\\)$"),Zt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Jt=new RegExp("^rgba\\("+[Gt,Gt,Gt,qt]+"\\)$"),Qt=new RegExp("^rgba\\("+[Yt,Yt,Yt,qt]+"\\)$"),en=new RegExp("^hsl\\("+[qt,Yt,Yt]+"\\)$"),tn=new RegExp("^hsla\\("+[qt,Yt,Yt,qt]+"\\)$"),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rn(){return this.rgb().formatHex()}function on(){return this.rgb().formatRgb()}function an(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Xt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sn(t):3===n?new un(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new un(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new un(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Kt.exec(e))?new un(t[1],t[2],t[3],1):(t=Zt.exec(e))?new un(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Jt.exec(e))?cn(t[1],t[2],t[3],t[4]):(t=Qt.exec(e))?cn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=en.exec(e))?pn(t[1],t[2]/100,t[3]/100,1):(t=tn.exec(e))?pn(t[1],t[2]/100,t[3]/100,t[4]):nn.hasOwnProperty(e)?sn(nn[e]):"transparent"===e?new un(NaN,NaN,NaN,0):null}function sn(e){return new un(e>>16&255,e>>8&255,255&e,1)}function cn(e,t,n,r){return r<=0&&(e=t=n=NaN),new un(e,t,n,r)}function ln(e,t,n,r){return 1===arguments.length?((i=e)instanceof $t||(i=an(i)),i?new un((i=i.rgb()).r,i.g,i.b,i.opacity):new un):new un(e,t,n,null==r?1:r);var i}function un(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hn(){return"#"+fn(this.r)+fn(this.g)+fn(this.b)}function dn(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function fn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function pn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new gn(e,t,n,r)}function mn(e){if(e instanceof gn)return new gn(e.h,e.s,e.l,e.opacity);if(e instanceof $t||(e=an(e)),!e)return new gn;if(e instanceof gn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new gn(a,s,c,e.opacity)}function gn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function vn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function yn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Vt($t,an,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHsl:function(){return mn(this).formatHsl()},formatRgb:on,toString:on}),Vt(un,ln,Wt($t,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hn,formatHex:hn,formatRgb:dn,toString:dn})),Vt(gn,(function(e,t,n,r){return 1===arguments.length?mn(e):new gn(e,t,n,null==r?1:r)}),Wt($t,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new gn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new gn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new un(vn(e>=240?e-240:e+120,i,r),vn(e,i,r),vn(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var bn=function(e){return function(){return e}};function wn(e,t){return function(n){return e+n*t}}function xn(e){return 1==(e=+e)?_n:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):bn(isNaN(t)?n:t)}}function _n(e,t){var n=t-e;return n?wn(e,n):bn(isNaN(e)?t:e)}var En=function e(t){var n=xn(t);function r(e,t){var r=n((e=ln(e)).r,(t=ln(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=_n(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Sn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ln(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Sn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return yn((n-r/t)*t,a,i,o,s)}})),Sn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return yn((n-r/t)*t,i,o,a,s)}}));var Cn=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},An=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tn=new RegExp(An.source,"g");var Mn,kn,On=function(e,t){var n,r,i,o=An.lastIndex=Tn.lastIndex=0,a=-1,s=[],c=[];for(e+="",t+="";(n=An.exec(e))&&(r=Tn.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:Cn(n,r)})),o=Tn.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,r=0;r<t;++r)s[(n=c[r]).i]=n.x(e);return s.join("")})},Pn=function(){for(var e,t=Ct;e=t.sourceEvent;)t=e;return t},Rn=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},Fn=function(e,t,n){arguments.length<3&&(n=t,t=Pn().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return Rn(e,r);return null},Ln=function(e){var t=Pn();return t.changedTouches&&(t=t.changedTouches[0]),Rn(e,t)},Dn=0,jn=0,Nn=0,In=1e3,Bn=0,zn=0,Un=0,Hn="object"==typeof performance&&performance.now?performance:Date,Vn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wn(){return zn||(Vn($n),zn=Hn.now()+Un)}function $n(){zn=0}function Gn(){this._call=this._time=this._next=null}function qn(e,t,n){var r=new Gn;return r.restart(e,t,n),r}function Yn(){zn=(Bn=Hn.now())+Un,Dn=jn=0;try{!function(){Wn(),++Dn;for(var e,t=Mn;t;)(e=zn-t._time)>=0&&t._call.call(null,e),t=t._next;--Dn}()}finally{Dn=0,function(){var e,t,n=Mn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Mn=t);kn=e,Kn(r)}(),zn=0}}function Xn(){var e=Hn.now(),t=e-Bn;t>In&&(Un-=t,Bn=e)}function Kn(e){Dn||(jn&&(jn=clearTimeout(jn)),e-zn>24?(e<1/0&&(jn=setTimeout(Yn,e-Hn.now()-Un)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Bn=Hn.now(),Nn=setInterval(Xn,In)),Dn=1,Vn(Yn)))}Gn.prototype=qn.prototype={constructor:Gn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Wn():+n)+(null==t?0:+t),this._next||kn===this||(kn?kn._next=this:Mn=this,kn=this),this._call=e,this._time=n,Kn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kn())}};var Zn=function(e,t,n){var r=new Gn;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},Jn=Object(Ae.a)("start","end","cancel","interrupt"),Qn=[],er=0,tr=1,nr=2,rr=3,ir=4,or=5,ar=6,sr=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(c){var l,u,h,d;if(n.state!==tr)return s();for(l in i)if((d=i[l]).name===n.name){if(d.state===rr)return Zn(o);d.state===ir?(d.state=ar,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=ar,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(Zn((function(){n.state===rr&&(n.state=ir,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=nr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===nr){for(n.state=rr,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=or,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);n.state===or&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=ar,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=qn((function(e){n.state=tr,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:Jn,tween:Qn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:er})};function cr(e,t){var n=ur(e,t);if(n.state>er)throw new Error("too late; already scheduled");return n}function lr(e,t){var n=ur(e,t);if(n.state>rr)throw new Error("too late; already running");return n}function ur(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var hr,dr,fr,pr,mr=function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>nr&&n.state<or,n.state=ar,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}},gr=180/Math.PI,vr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},yr=function(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*gr,skewX:Math.atan(c)*gr,scaleX:a,scaleY:s}};function br(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],c=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:Cn(e,i)},{i:c-2,x:Cn(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Cn(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,c),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Cn(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,c),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Cn(e,n)},{i:s-2,x:Cn(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(e){for(var t,n=-1,r=c.length;++n<r;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var wr=br((function(e){return"none"===e?vr:(hr||(hr=document.createElement("DIV"),dr=document.documentElement,fr=document.defaultView),hr.style.transform=e,e=fr.getComputedStyle(dr.appendChild(hr),null).getPropertyValue("transform"),dr.removeChild(hr),e=e.slice(7,-1).split(","),yr(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),xr=br((function(e){return null==e?vr:(pr||(pr=document.createElementNS("http://www.w3.org/2000/svg","g")),pr.setAttribute("transform",e),(e=pr.transform.baseVal.consolidate())?(e=e.matrix,yr(e.a,e.b,e.c,e.d,e.e,e.f)):vr)}),", ",")",")");function _r(e,t){var n,r;return function(){var i=lr(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function Er(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=lr(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function Sr(e,t,n){var r=e._id;return e.each((function(){var e=lr(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ur(e,r).value[t]}}var Cr=function(e,t){var n;return("number"==typeof t?Cn:t instanceof an?En:(n=an(t))?(t=n,En):On)(e,t)};function Ar(e){return function(){this.removeAttribute(e)}}function Tr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mr(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function kr(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function Or(e,t,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,c));this.removeAttribute(e)}}function Pr(e,t,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,c));this.removeAttributeNS(e.space,e.local)}}function Rr(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Fr(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Lr(e,t){return function(){cr(this,e).delay=+t.apply(this,arguments)}}function Dr(e,t){return t=+t,function(){cr(this,e).delay=t}}function jr(e,t){return function(){lr(this,e).duration=+t.apply(this,arguments)}}function Nr(e,t){return t=+t,function(){lr(this,e).duration=t}}function Ir(e,t){if("function"!=typeof t)throw new Error;return function(){lr(this,e).ease=t}}function Br(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?cr:lr;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var zr=It.prototype.constructor;function Ur(e){return function(){this.style.removeProperty(e)}}function Hr(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}function Vr(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}var Wr=0;function $r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gr(){return++Wr}var qr=It.prototype;$r.prototype=function(e){return It().transition(e)}.prototype={constructor:$r,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Me(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=l[d])&&(c=e.call(s,s.__data__,d,l))&&("__data__"in s&&(c.__data__=s.__data__),h[d]=c,sr(h[d],t,n,d,h,ur(s,n)));return new $r(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Oe(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=e.call(c,c.__data__,h,l),p=ur(c,n),m=0,g=f.length;m<g;++m)(d=f[m])&&sr(d,t,n,m,f,p);o.push(f),a.push(c)}return new $r(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Pe(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&c.push(o);return new $r(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=t[s],u=n[s],h=l.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=l[f]||u[f])&&(d[f]=c);for(;s<r;++s)a[s]=t[s];return new $r(a,this._parents,this._name,this._id)},selection:function(){return new zr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Gr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=ur(a,t);sr(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new $r(r,this._parents,e,n)},call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:function(e,t){var n=this._id;return arguments.length<2?ur(this.node(),n).on.on(e):this.each(Br(n,e,t))},attr:function(e,t){var n=ze(e),r="transform"===n?xr:Cr;return this.attrTween(e,"function"==typeof t?(n.local?Pr:Or)(n,r,Sr(this,"attr."+e,t)):null==t?(n.local?Tr:Ar)(n):(n.local?kr:Mr)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=ze(e);return this.tween(n,(r.local?Rr:Fr)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?wr:Cr;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Ze(this,e),a=(this.style.removeProperty(e),Ze(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,Ur(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=Ze(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=Ze(this,e)),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}(e,r,Sr(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var c=lr(this,e),l=c.on,u=null==c.value[a]?o||(o=Ur(t)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=Ze(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,Hr(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Sr(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,Vr(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=ur(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?_r:Er)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Lr:Dr)(t,e)):ur(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?jr:Nr)(t,e)):ur(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Ir(t,e)):ur(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=lr(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t}))}))}};var Yr={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Xr(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return Yr.time=Wn(),Yr;return n}It.prototype.interrupt=function(e){return this.each((function(){mr(this,e)}))},It.prototype.transition=function(e){var t,n;e instanceof $r?(t=e._id,e=e._name):(t=Gr(),(n=Yr).time=Wn(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&sr(a,e,t,l,s,n||Xr(a,t));return new $r(r,this._parents,e,t)};function Kr(e){return[+e[0],+e[1]]}function Zr(e){return[Kr(e[0]),Kr(e[1])]}["w","e"].map(Jr),["n","s"].map(Jr),["n","w","e","s","nw","ne","sw","se"].map(Jr);function Jr(e){return{type:e}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var Qr=Math.PI,ei=2*Qr,ti=ei-1e-6;function ni(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ri(){return new ni}ni.prototype=ri.prototype={constructor:ni,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,c=r-t,l=o-e,u=a-t,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*s-c*l)>1e-6&&i){var d=n-o,f=r-a,p=s*s+c*c,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((Qr-Math.acos((p+h-m)/(2*g*v)))/2),b=y/v,w=y/g;Math.abs(b-1)>1e-6&&(this._+="L"+(e+b*l)+","+(t+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>l*f)+","+(this._x1=e+w*s)+","+(this._y1=t+w*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=e+a,l=t+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%ei+ei),h>ti?this._+="A"+n+","+n+",0,1,"+u+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Qr)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};n("bwSX"),Array.prototype.slice;n("NRL+");var ii=n("Vibt"),oi=n("wWUp");function ai(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var si=function(e,t){return fetch(e,t).then(ai)};function ci(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),si(t,n).then((function(t){return e(t,r)}))}}ci(ii.a),ci(oi.a);function li(e){return function(t,n){return si(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}li("application/xml"),li("text/html"),li("image/svg+xml");function ui(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,c,l,u,h,d,f=e._root,p={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((l=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[h=u<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,f.data),c=+e._y.call(null,f.data),t===s&&n===c)return p.next=f,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((h=u<<1|l)==(d=(c>=a)<<1|s>=o));return i[d]=f,i[h]=p,e}var hi=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function di(e){return e[0]}function fi(e){return e[1]}function pi(e,t,n){var r=new mi(null==t?di:t,null==n?fi:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function mi(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function gi(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var vi=pi.prototype=mi.prototype;vi.copy=function(){var e,t,n=new mi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=gi(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=gi(t));return n},vi.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return ui(this.cover(t,n),t,n,e)},vi.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<c&&(c=r),r>u&&(u=r),i<l&&(l=i),i>h&&(h=i));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<o;++n)ui(this,a[n],s[n],e[n]);return this},vi.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,c=i-n,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},vi.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},vi.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},vi.find=function(e,t,n){var r,i,o,a,s,c,l,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new hi(m,u,h,d,f)),null==n?n=1/0:(u=e-n,h=t-n,d=e+n,f=t+n,n*=n);c=p.pop();)if(!(!(m=c.node)||(i=c.x0)>d||(o=c.y0)>f||(a=c.x1)<u||(s=c.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new hi(m[3],g,v,a,s),new hi(m[2],i,v,g,s),new hi(m[1],g,o,a,v),new hi(m[0],i,o,g,v)),(l=(t>=v)<<1|e>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=e-x,h=t-x,d=e+x,f=t+x,r=m.data}}return r},vi.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,c,l,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((l=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(c=(m+v)/2))?m=c:v=c,t=f,!(f=f[h=u<<1|l]))return this;if(!f.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,d=h)}for(;f.data!==e;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},vi.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},vi.root=function(){return this._root},vi.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},vi.visit=function(e){var t,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new hi(c,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&c.length){var l=(r+o)/2,u=(i+a)/2;(n=c[3])&&s.push(new hi(n,l,u,o,a)),(n=c[2])&&s.push(new hi(n,r,u,l,a)),(n=c[1])&&s.push(new hi(n,l,i,o,u)),(n=c[0])&&s.push(new hi(n,r,i,l,u))}return this},vi.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new hi(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,c=t.x1,l=t.y1,u=(a+c)/2,h=(s+l)/2;(o=i[0])&&n.push(new hi(o,a,s,u,h)),(o=i[1])&&n.push(new hi(o,u,s,c,h)),(o=i[2])&&n.push(new hi(o,a,h,u,l)),(o=i[3])&&n.push(new hi(o,u,h,c,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},vi.x=function(e){return arguments.length?(this._x=e,this):this._x},vi.y=function(e){return arguments.length?(this._y=e,this):this._y};Math.PI,Math.sqrt(5);var yi=function(){return Math.random()},bi=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(yi),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(yi)),wi=(function e(t){function n(){var e=bi.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(yi),function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(yi));(function e(t){function n(e){var n=wi.source(t)(e);return function(){return n()/e}}return n.source=e,n})(yi),function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(yi);var xi=Array.prototype;xi.map,xi.slice;var _i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(e){if(!(t=_i.exec(e)))throw new Error("invalid format: "+e);var t;return new Si({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Si(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}Ei.prototype=Si.prototype,Si.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ci,Ai,Ti=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},Mi=function(e){return(e=Ti(Math.abs(e)))?e[1]:NaN},ki=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e},Oi=function(e,t){var n=Ti(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Pi={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Oi(100*e,t)},r:Oi,s:function(e,t){var n=Ti(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ci=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ti(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Ri=function(e){return e},Fi=Array.prototype.map,Li=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];Ai=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Ri:(t=Fi.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(e.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Ri:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Fi.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Ei(e)).fill,n=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,v=e.trim,y=e.type;"n"===y?(m=!0,y="g"):Pi[y]||(void 0===g&&(g=12),v=!0,y="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===d?o:/[%p]/.test(y)?c:"",x=Pi[y],_=/[defgprs%]/.test(y);function E(e){var i,o,c,d=b,E=w;if("c"===y)E=x(e)+E,e="";else{var S=(e=+e)<0;if(e=isNaN(e)?u:x(Math.abs(e),g),v&&(e=ki(e)),S&&0==+e&&(S=!1),d=(S?"("===h?h:l:"-"===h||"("===h?"":h)+d,E=("s"===y?Li[8+Ci/3]:"")+E+(S&&"("===h?")":""),_)for(i=-1,o=e.length;++i<o;)if(48>(c=e.charCodeAt(i))||c>57){E=(46===c?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var C=d.length+e.length+E.length,A=C<p?new Array(p-C+1).join(t):"";switch(m&&f&&(e=r(A+e,A.length?p-E.length:1/0),A=""),n){case"<":e=d+e+E+A;break;case"=":e=d+A+e+E;break;case"^":e=A.slice(0,C=A.length>>1)+d+e+E+A.slice(C);break;default:e=A+d+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=Ei(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Mi(t)/3))),i=Math.pow(10,-r),o=Li[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ai.format,Ai.formatPrefix;var Di=new Date,ji=new Date;function Ni(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ni((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return Di.setTime(+t),ji.setTime(+r),e(Di),e(ji),Math.floor(n(Di,ji))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var Ii=Ni((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Ii.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ni((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var Bi=Ii,zi=(Ii.range,Ni((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),Ui=(zi.range,6e4),Hi=6048e5;function Vi(e){return Ni((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/Hi}))}var Wi=Vi(0),$i=Vi(1),Gi=Vi(2),qi=Vi(3),Yi=Vi(4),Xi=Vi(5),Ki=Vi(6),Zi=(Wi.range,$i.range,Gi.range,qi.range,Yi.range,Xi.range,Ki.range,Ni((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/864e5}),(function(e){return e.getDate()-1}))),Ji=Zi,Qi=(Zi.range,Ni((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Ui)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),eo=(Qi.range,Ni((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+t*Ui)}),(function(e,t){return(t-e)/Ui}),(function(e){return e.getMinutes()}))),to=(eo.range,Ni((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),no=(to.range,Ni((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));no.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Ni((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):no:null};no.range;function ro(e){return Ni((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Hi}))}var io=ro(0),oo=ro(1),ao=ro(2),so=ro(3),co=ro(4),lo=ro(5),uo=ro(6),ho=(io.range,oo.range,ao.range,so.range,co.range,lo.range,uo.range,Ni((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),fo=ho,po=(ho.range,Ni((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));po.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ni((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var mo=po;po.range;function go(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yo(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var bo,wo={"-":"",_:" ",0:"0"},xo=/^\s*\d+/,_o=/^%/,Eo=/[\\^$*+?|[\]().{}]/g;function So(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Co(e){return e.replace(Eo,"\\$&")}function Ao(e){return new RegExp("^(?:"+e.map(Co).join("|")+")","i")}function To(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Mo(e,t,n){var r=xo.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ko(e,t,n){var r=xo.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Oo(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Po(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ro(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Fo(e,t,n){var r=xo.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Lo(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Do(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jo(e,t,n){var r=xo.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function No(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Io(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Bo(e,t,n){var r=xo.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Uo(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ho(e,t,n){var r=xo.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Vo(e,t,n){var r=xo.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Wo(e,t,n){var r=xo.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $o(e,t,n){var r=_o.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Go(e,t,n){var r=xo.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qo(e,t,n){var r=xo.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yo(e,t){return So(e.getDate(),t,2)}function Xo(e,t){return So(e.getHours(),t,2)}function Ko(e,t){return So(e.getHours()%12||12,t,2)}function Zo(e,t){return So(1+Ji.count(Bi(e),e),t,3)}function Jo(e,t){return So(e.getMilliseconds(),t,3)}function Qo(e,t){return Jo(e,t)+"000"}function ea(e,t){return So(e.getMonth()+1,t,2)}function ta(e,t){return So(e.getMinutes(),t,2)}function na(e,t){return So(e.getSeconds(),t,2)}function ra(e){var t=e.getDay();return 0===t?7:t}function ia(e,t){return So(Wi.count(Bi(e)-1,e),t,2)}function oa(e,t){var n=e.getDay();return e=n>=4||0===n?Yi(e):Yi.ceil(e),So(Yi.count(Bi(e),e)+(4===Bi(e).getDay()),t,2)}function aa(e){return e.getDay()}function sa(e,t){return So($i.count(Bi(e)-1,e),t,2)}function ca(e,t){return So(e.getFullYear()%100,t,2)}function la(e,t){return So(e.getFullYear()%1e4,t,4)}function ua(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+So(t/60|0,"0",2)+So(t%60,"0",2)}function ha(e,t){return So(e.getUTCDate(),t,2)}function da(e,t){return So(e.getUTCHours(),t,2)}function fa(e,t){return So(e.getUTCHours()%12||12,t,2)}function pa(e,t){return So(1+fo.count(mo(e),e),t,3)}function ma(e,t){return So(e.getUTCMilliseconds(),t,3)}function ga(e,t){return ma(e,t)+"000"}function va(e,t){return So(e.getUTCMonth()+1,t,2)}function ya(e,t){return So(e.getUTCMinutes(),t,2)}function ba(e,t){return So(e.getUTCSeconds(),t,2)}function wa(e){var t=e.getUTCDay();return 0===t?7:t}function xa(e,t){return So(io.count(mo(e)-1,e),t,2)}function _a(e,t){var n=e.getUTCDay();return e=n>=4||0===n?co(e):co.ceil(e),So(co.count(mo(e),e)+(4===mo(e).getUTCDay()),t,2)}function Ea(e){return e.getUTCDay()}function Sa(e,t){return So(oo.count(mo(e)-1,e),t,2)}function Ca(e,t){return So(e.getUTCFullYear()%100,t,2)}function Aa(e,t){return So(e.getUTCFullYear()%1e4,t,4)}function Ta(){return"+0000"}function Ma(){return"%"}function ka(e){return+e}function Oa(e){return Math.floor(+e/1e3)}!function(e){bo=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,c=e.shortMonths,l=Ao(i),u=To(i),h=Ao(o),d=To(o),f=Ao(a),p=To(a),m=Ao(s),g=To(s),v=Ao(c),y=To(c),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Yo,e:Yo,f:Qo,H:Xo,I:Ko,j:Zo,L:Jo,m:ea,M:ta,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ka,s:Oa,S:na,u:ra,U:ia,V:oa,w:aa,W:sa,x:null,X:null,y:ca,Y:la,Z:ua,"%":Ma},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:ha,e:ha,f:ga,H:da,I:fa,j:pa,L:ma,m:va,M:ya,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ka,s:Oa,S:ba,u:wa,U:xa,V:_a,w:Ea,W:Sa,x:null,X:null,y:Ca,Y:Aa,Z:Ta,"%":Ma},x={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:Io,e:Io,f:Wo,H:zo,I:zo,j:Bo,L:Vo,m:No,M:Uo,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:jo,Q:Go,s:qo,S:Ho,u:ko,U:Oo,V:Po,w:Mo,W:Ro,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:Lo,Y:Fo,Z:Do,"%":$o};function _(e,t){return function(n){var r,i,o,a=[],s=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(c,s)),null!=(i=wo[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(e.slice(c,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=yo(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!t||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=vo(yo(o.y,0,1))).getUTCDay(),r=i>4||0===i?oo.ceil(r):oo(r),r=fo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=go(yo(o.y,0,1))).getDay(),r=i>4||0===i?$i.ceil(r):$i(r),r=Ji.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?vo(yo(o.y,0,1)).getUTCDay():go(yo(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,vo(o)):go(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in wo?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(b.x=_(n,b),b.X=_(r,b),b.c=_(t,b),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w),{format:function(e){var t=_(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=_(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}})}(e),bo.format,bo.parse,bo.utcFormat,bo.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Pa=Ni((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Ra=(Pa.range,Ni((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),Fa=(Ra.range,Ni((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*Ui)}),(function(e,t){return(t-e)/Ui}),(function(e){return e.getUTCMinutes()})));Fa.range;function La(){this._=null}function Da(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ja(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Na(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ia(e){for(;e.L;)e=e.L;return e}La.prototype={constructor:La,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Ia(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ja(this,n),n=(e=n).U),n.C=!1,r.C=!0,Na(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Na(this,n),n=(e=n).U),n.C=!1,r.C=!0,ja(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Ia(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,ja(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Na(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ja(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Na(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ja(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Na(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var Ba=La;function za(e,t,n,r){var i=[null,null],o=us.push(i)-1;return i.left=e,i.right=t,n&&Ha(i,e,t,n),r&&Ha(i,t,e,r),cs[e.index].halfedges.push(o),cs[t.index].halfedges.push(o),i}function Ua(e,t,n){var r=[t,n];return r.left=e,r}function Ha(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Va(e,t,n,r,i){var o,a=e[0],s=e[1],c=a[0],l=a[1],u=0,h=1,d=s[0]-c,f=s[1]-l;if(o=t-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(e[0]=[c+u*d,l+u*f]),h<1&&(e[1]=[c+h*d,l+h*f]),!0)}}}}}function Wa(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,c=e[0],l=e.left,u=e.right,h=l[0],d=l[1],f=u[0],p=u[1],m=(h+f)/2,g=(d+p)/2;if(p===d){if(m<t||m>=r)return;if(h>f){if(c){if(c[1]>=i)return}else c=[m,n];o=[m,i]}else{if(c){if(c[1]<n)return}else c=[m,i];o=[m,n]}}else if(s=g-(a=(h-f)/(p-d))*m,a<-1||a>1)if(h>f){if(c){if(c[1]>=i)return}else c=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(c){if(c[0]>=r)return}else c=[t,a*t+s];o=[r,a*r+s]}else{if(c){if(c[0]<t)return}else c=[r,a*r+s];o=[t,a*t+s]}return e[0]=c,e[1]=o,!0}function $a(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Ga(e,t){return t[+(t.left!==e.site)]}function qa(e,t){return t[+(t.left===e.site)]}var Ya,Xa=[];function Ka(){Da(this),this.x=this.y=this.arc=this.site=this.cy=null}function Za(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,l=r[1]-s,u=o[0]-a,h=o[1]-s,d=2*(c*h-l*u);if(!(d>=-ds)){var f=c*c+l*l,p=u*u+h*h,m=(h*f-l*p)/d,g=(c*p-u*f)/d,v=Xa.pop()||new Ka;v.arc=e,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=v;for(var y=null,b=ls._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ls.insert(y,v),y||(Ya=v)}}}}function Ja(e){var t=e.circle;t&&(t.P||(Ya=t.N),ls.remove(t),Xa.push(t),Da(t),e.circle=null)}var Qa=[];function es(){Da(this),this.edge=this.site=this.circle=null}function ts(e){var t=Qa.pop()||new es;return t.site=e,t}function ns(e){Ja(e),ss.remove(e),Qa.push(e),Da(e)}function rs(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];ns(e);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<hs&&Math.abs(r-c.circle.cy)<hs;)o=c.P,s.unshift(c),ns(c),c=o;s.unshift(c),Ja(c);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<hs&&Math.abs(r-l.circle.cy)<hs;)a=l.N,s.push(l),ns(l),l=a;s.push(l),Ja(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],Ha(l.edge,c.site,l.site,i);c=s[0],(l=s[h-1]).edge=za(c.site,l.site,null,i),Za(c),Za(l)}function is(e){for(var t,n,r,i,o=e[0],a=e[1],s=ss._;s;)if((r=os(s,a)-o)>hs)s=s.L;else{if(!((i=o-as(s,a))>hs)){r>-hs?(t=s.P,n=s):i>-hs?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){cs[e.index]={site:e,halfedges:[]}}(e);var c=ts(e);if(ss.insert(t,c),t||n){if(t===n)return Ja(t),n=ts(t.site),ss.insert(c,n),c.edge=n.edge=za(t.site,c.site),Za(t),void Za(n);if(n){Ja(t),Ja(n);var l=t.site,u=l[0],h=l[1],d=e[0]-u,f=e[1]-h,p=n.site,m=p[0]-u,g=p[1]-h,v=2*(d*g-f*m),y=d*d+f*f,b=m*m+g*g,w=[(g*y-f*b)/v+u,(d*b-m*y)/v+h];Ha(n.edge,l,p,w),c.edge=za(l,e,null,w),n.edge=za(e,p,null,w),Za(t),Za(n)}else c.edge=za(t.site,c.site)}}function os(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],c=n[1],l=c-t;if(!l)return s;var u=s-r,h=1/o-1/l,d=u/l;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*l)-c+l/2+i-o/2)))/h+r:(r+s)/2}function as(e,t){var n=e.N;if(n)return os(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var ss,cs,ls,us,hs=1e-6,ds=1e-12;function fs(e,t){return t[1]-e[1]||t[0]-e[0]}function ps(e,t){var n,r,i,o=e.sort(fs).pop();for(us=[],cs=new Array(e.length),ss=new Ba,ls=new Ba;;)if(i=Ya,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(is(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;rs(i.arc)}if(function(){for(var e,t,n,r,i=0,o=cs.length;i<o;++i)if((e=cs[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=$a(e,us[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],c=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=us.length;o--;)Wa(i=us[o],e,t,n,r)&&Va(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>hs||Math.abs(i[0][1]-i[1][1])>hs)||delete us[o]}(a,s,c,l),function(e,t,n,r){var i,o,a,s,c,l,u,h,d,f,p,m,g=cs.length,v=!0;for(i=0;i<g;++i)if(o=cs[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)us[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)p=(f=qa(o,us[c[s]]))[0],m=f[1],h=(u=Ga(o,us[c[++s%l]]))[0],d=u[1],(Math.abs(p-h)>hs||Math.abs(m-d)>hs)&&(c.splice(s,0,us.push(Ua(a,f,Math.abs(p-e)<hs&&r-m>hs?[e,Math.abs(h-e)<hs?d:r]:Math.abs(m-r)<hs&&n-p>hs?[Math.abs(d-r)<hs?h:n,r]:Math.abs(p-n)<hs&&m-t>hs?[n,Math.abs(h-n)<hs?d:t]:Math.abs(m-t)<hs&&p-e>hs?[Math.abs(d-t)<hs?h:e,t]:null))-1),++l);l&&(v=!1)}if(v){var y,b,w,x=1/0;for(i=0,v=null;i<g;++i)(o=cs[i])&&(w=(y=(a=o.site)[0]-e)*y+(b=a[1]-t)*b)<x&&(x=w,v=o);if(v){var _=[e,t],E=[e,r],S=[n,r],C=[n,t];v.halfedges.push(us.push(Ua(a=v.site,_,E))-1,us.push(Ua(a,E,S))-1,us.push(Ua(a,S,C))-1,us.push(Ua(a,C,_))-1)}}for(i=0;i<g;++i)(o=cs[i])&&(o.halfedges.length||delete cs[i])}(a,s,c,l)}this.edges=us,this.cells=cs,ss=ls=us=cs=null}ps.prototype={constructor:ps,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return Ga(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,c,l,u=n.site,h=-1,d=t[i[o-1]],f=d.left===u?d.right:d.left;++h<o;)a=f,f=(d=t[i[h]]).left===u?d.right:d.left,a&&f&&r<a.index&&r<f.index&&(c=a,l=f,((s=u)[0]-l[0])*(c[1]-s[1])-(s[0]-c[0])*(l[1]-s[1])<0)&&e.push([u.data,a.data,f.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=e-i.site[0],l=t-i.site[1],u=c*c+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=e-s[0],l=t-s[1],h=c*c+l*l;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}};var ms=Math.SQRT2;function gs(e){return((e=Math.exp(e))+1/e)/2}var vs=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],c=t[1],l=t[2],u=s-i,h=c-o,d=u*u+h*h;if(d<1e-12)r=Math.log(l/a)/ms,n=function(e){return[i+e*u,o+e*h,a*Math.exp(ms*e*r)]};else{var f=Math.sqrt(d),p=(l*l-a*a+4*d)/(2*a*2*f),m=(l*l-a*a-4*d)/(2*l*2*f),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/ms,n=function(e){var t,n=e*r,s=gs(g),c=a/(2*f)*(s*(t=ms*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+c*u,o+c*h,a*s/gs(ms*n+g)]}}return n.duration=1e3*r,n},ys=function(e){return function(){return e}};function bs(e,t,n){this.target=e,this.type=t,this.transform=n}function ws(e,t,n){this.k=e,this.x=t,this.y=n}ws.prototype={constructor:ws,scale:function(e){return 1===e?this:new ws(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ws(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xs=new ws(1,0,0);function _s(){Ct.stopImmediatePropagation()}ws.prototype;var Es=function(){Ct.preventDefault(),Ct.stopImmediatePropagation()};function Ss(){return!Ct.ctrlKey&&!Ct.button}function Cs(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function As(){return this.__zoom||xs}function Ts(){return-Ct.deltaY*(1===Ct.deltaMode?.05:Ct.deltaMode?1:.002)}function Ms(){return navigator.maxTouchPoints||"ontouchstart"in this}function ks(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var Os=function(){var e,t,n=Ss,r=Cs,i=ks,o=Ts,a=Ms,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=vs,h=Object(Ae.a)("start","zoom","end"),d=500,f=150,p=0;function m(e){e.property("__zoom",As).on("wheel.zoom",_).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new ws(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new ws(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n){e.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var e=this,i=arguments,o=w(e,i),a=r.apply(e,i),s=null==n?y(a):"function"==typeof n?n.apply(e,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=e.__zoom,h="function"==typeof t?t.apply(e,i):t,d=u(l.invert(s).concat(c/l.k),h.invert(s).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=d(e),n=c/t[2];e=new ws(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.extent=r.apply(e,t),this.taps=0}function _(){if(n.apply(this,arguments)){var e=w(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,o.apply(this,arguments)))),a=Ln(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],mr(this),e.start()}Es(),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),f),e.zoom("mouse",i(v(g(t,r),e.mouse[0],e.mouse[1]),e.extent,c))}}function E(){if(!t&&n.apply(this,arguments)){var e=w(this,arguments,!0),r=Bt(Ct.view).on("mousemove.zoom",(function(){if(Es(),!e.moved){var t=Ct.clientX-a,n=Ct.clientY-s;e.moved=t*t+n*n>p}e.zoom("mouse",i(v(e.that.__zoom,e.mouse[0]=Ln(e.that),e.mouse[1]),e.extent,c))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),Ht(Ct.view,e.moved),Es(),e.end()}),!0),o=Ln(this),a=Ct.clientX,s=Ct.clientY;Ut(Ct.view),_s(),e.mouse=[o,this.__zoom.invert(o)],mr(this),e.start()}}function S(){if(n.apply(this,arguments)){var e=this.__zoom,t=Ln(this),o=e.invert(t),a=e.k*(Ct.shiftKey?.5:2),s=i(v(g(e,a),t,o),r.apply(this,arguments),c);Es(),l>0?Bt(this).transition().duration(l).call(b,s,t):Bt(this).call(m.transform,s)}}function C(){if(n.apply(this,arguments)){var t,r,i,o,a=Ct.touches,s=a.length,c=w(this,arguments,Ct.changedTouches.length===s);for(_s(),r=0;r<s;++r)i=a[r],o=[o=Fn(this,a,i.identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,t=!0,c.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(c.taps<2&&(e=setTimeout((function(){e=null}),d)),mr(this),c.start())}}function A(){if(this.__zooming){var t,n,r,o,a=w(this,arguments),s=Ct.changedTouches,l=s.length;for(Es(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<l;++t)n=s[t],r=Fn(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,m=(m=f[0]-h[0])*m+(m=f[1]-h[1])*m;n=g(n,Math.sqrt(p/m)),r=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(n,r,o),a.extent,c))}}function T(){if(this.__zooming){var e,n,r=w(this,arguments),i=Ct.changedTouches,o=i.length;for(_s(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),d),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Bt(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",As),e!==r?b(e,t,n):r.interrupt().each((function(){w(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n){m.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n)},m.scaleTo=function(e,t,n){m.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,a=null==n?y(e):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return i(v(g(o,l),a,s),e,c)}),n)},m.translateBy=function(e,t,n){m.transform(e,(function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},m.translateTo=function(e,t,n,o){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==o?y(e):"function"==typeof o?o.apply(this,arguments):o;return i(xs.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),o)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){Pt(new bs(m,e,this.that.__zoom),h.apply,h,[e,this.that,this.args])}},m.wheelDelta=function(e){return arguments.length?(o="function"==typeof e?e:ys(+e),m):o},m.filter=function(e){return arguments.length?(n="function"==typeof e?e:ys(!!e),m):n},m.touchable=function(e){return arguments.length?(a="function"==typeof e?e:ys(!!e),m):a},m.extent=function(e){return arguments.length?(r="function"==typeof e?e:ys([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(l=+e,m):l},m.interpolate=function(e){return arguments.length?(u=e,m):u},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m};var Ps=function(e,t){var n=(new xe.a.graphlib.Graph).setGraph({rankdir:"LR"}),r=Bt("#".concat(t)),i=r.select("g"),o=new xe.a.render,a=Os().on("zoom",(function(){i.attr("transform",Ct.transform)}));return r.call(a),e.nodes.forEach((function(e){n.setNode(e.id,{label:e.label,shape:e.type})})),e.edges.forEach((function(e){n.setEdge(e.source.id,e.target.id,{label:e.value})})),n.nodes().forEach((function(e){var t=n.node(e);t.rx=5,t.ry=5})),o(i,n),r.call(a.transform,xs.translate((r.attr("width")-.75*n.graph().width)/2+Number(r.style("width").slice(0,-2))/2,Number(r.style("height").slice(0,-2))/2-.75*n.graph().height/2).scale(.75)),r.attr("height",.75*n.graph().height+40),{svg:r,g:n,initialScale:.75,zoom:a}},Rs=0,Fs=1,Ls=[{value:Rs,label:"Nodes only"},{value:Fs,label:"Node/Topics (all)"}];function Ds(e){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bs(e,t){return(Bs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Ds(t)&&"function"!=typeof t?Is(e):t}(this,Ns(t).call(this,e))).graphBasedOnOptions=n.graphBasedOnOptions.bind(Is(n)),n.handleGraphResize=n.handleGraphResize.bind(Is(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bs(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.graphBasedOnOptions(),window.addEventListener("resize",this.handleGraphResize)}},{key:"handleGraphResize",value:function(){var e,t,n,r,i;e=this.graph,t=e.svg,n=e.zoom,r=e.g,i=e.initialScale,t.call(n.transform,xs.translate((t.attr("width")-r.graph().width*i)/2+Number(t.style("width").slice(0,-2))/2,Number(t.style("height").slice(0,-2))/2-r.graph().height*i/2).scale(i)),t.attr("height",r.graph().height*i+40)}},{key:"graphBasedOnOptions",value:function(){var e=this.props,t=e.graph,n=null;switch(e.nodeSelect.value){case Rs:n=function(e){var t=[],n=e.auxGraphData;return c.a.each(c.a.keys(n),(function(e){var r=n[e].publishers,i=n[e].subscribers;c.a.each(r,(function(n){c.a.each(i,(function(r){t.push({source:{id:n,label:n},target:{id:r,label:r},value:e})}))}))})),{nodes:e.nodes,edges:t}}(t);break;case Fs:n=function(e){var t=ue(e.nodes),n=[],r=e.auxGraphData;return c.a.keys(e.auxGraphData).forEach((function(e){t.push({id:e+e,label:e,type:"rect"})})),c.a.each(c.a.keys(r),(function(e){var t=r[e].publishers,i=r[e].subscribers;c.a.each(t,(function(t){n.push({source:{id:t,label:t},target:{id:e+e,label:e},value:""})})),c.a.each(i,(function(t){n.push({source:{id:e+e,label:e},target:{id:t,label:t},value:""})}))})),{nodes:t,edges:n}}(t)}this.graph=Ps(n,"graph")}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.graph,r=t.nodeSelect;JSON.stringify(e.graph)===JSON.stringify(n)&&JSON.stringify(e.nodeSelect)===JSON.stringify(r)||this.graphBasedOnOptions()}},{key:"render",value:function(){return a.a.createElement("svg",{id:"graph"},a.a.createElement("g",null))}}])&&js(n.prototype,r),i&&js(n,i),t}(o.Component);function Us(){var e=Vs(["\n  .react-tagsinput {\n    overflow: hidden;\n    width: 100%;\n    border-radius: 5px;\n    padding: 10px;\n    border: 1px solid ","\n  }\n\n  .react-tagsinput--focused {\n    border-color: ",";\n  }\n\n  .react-tagsinput-tag {\n    border-radius: 2px;\n    border: 1px solid ",";\n    color: ",';\n    display: inline-block;\n    padding: 5px;\n    margin: 3px;\n\n    a::before {\n      content: "  x";\n    }\n  }\n\n  .react-tagsinput-remove {\n    cursor: pointer;\n    font-weight: bold;\n  }\n\n  .react-tagsinput-input {\n    width: 100%;\n    background: transparent;\n    border: 0;\n    color: ',";\n    font-weight: 400;\n    outline: none;\n    padding: 3px;\n    margin-top: 5px;\n  }\n"]);return Us=function(){return e},e}function Hs(){var e=Vs(["\n  * {\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  html {\n    font-size: 20px;\n  }\n\n  body {\n    padding: 0;\n    margin: 0;\n    color: ",";\n    font-family: 'Source Sans Pro', sans-serif;\n    overflow: hidden;\n    line-height: 1.5;\n    font-size: ",";\n  }\n\n  html, body, #root {\n    width: 100%;\n    height: 100%;\n  }\n"]);return Hs=function(){return e},e}function Vs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ws=Object(be.a)(Hs(),"#222222","0.8rem"),$s=Object(be.a)(Us(),"#f6f6f6","#dddddd","#dddddd","#666666","#666666"),Gs=be.c.button.withConfig({displayName:"Button",componentId:"sc-1oayqt0-0"})(["cursor:pointer;font-size:inherit;font-family:inherit;outline:0;&:active{outline:0;}"]),qs=be.c.p.withConfig({displayName:"Paragraph",componentId:"sc-1oayqt0-1"})(["line-height:1.5;"]),Ys=be.c.a.withConfig({displayName:"Anchor",componentId:"sc-1oayqt0-2"})(["color:",";"],"#dc1d30"),Xs=be.c.hr.withConfig({displayName:"Separator",componentId:"sc-1oayqt0-3"})(["width:100%;height:0;border:0;margin:0;border-bottom:1px solid ",";"],"#dddddd"),Ks=be.c.div.withConfig({displayName:"Flex",componentId:"sc-1oayqt0-4"})(["display:flex;"]),Zs=be.c.div.withConfig({displayName:"FlexSpace",componentId:"sc-1oayqt0-5"})(["width:10px;"]),Js=be.c.div.withConfig({displayName:"FlexGrow",componentId:"sc-1oayqt0-6"})(["flex-grow:1;"]),Qs=be.c.div.withConfig({displayName:"PanelWrapper",componentId:"sc-1oayqt0-7"})(["display:flex;background-color:#000;height:calc(100% - ","px);overflow:hidden;width:100%;"],60),ec=be.c.div.withConfig({displayName:"PanelContent",componentId:"sc-1oayqt0-8"})(["width:10px;height:100%;display:flex;justify-content:space-between;flex-direction:column;flex-grow:1;flex-shrink:1;"]),tc=be.c.div.withConfig({displayName:"Container",componentId:"sc-1oayqt0-9"})(["padding:15px 20px;"]),nc=be.c.div.withConfig({displayName:"TabsHeader",componentId:"sc-1oayqt0-10"})(["display:flex;border-bottom:1px solid ",";flex-shrink:0;"],"#dddddd"),rc=Object(be.c)(Gs).withConfig({displayName:"TabsButton",componentId:"sc-1oayqt0-11"})(["margin:0 10px -1px;background-color:transparent;border:1px solid ",";border-bottom:1px solid ",";border-radius:4px 4px 0 0;color:inherit;padding:5px 10px 10px;",""],"#dddddd","#dddddd",(function(e){return e.selected&&Object(be.b)(["border:1px solid ",";border-bottom:1px solid #fff;"],"#dddddd")})),ic=Object(be.c)(Gs).withConfig({displayName:"ButtonPrimary",componentId:"sc-1oayqt0-12"})(["border:0;margin:0;padding:6px 20px;border-radius:4px;color:white;background-color:",";font-size:16px;&[disabled]{background-color:",";}"],"#dc1d30","#dddddd"),oc=Object(be.c)(ic).withConfig({displayName:"ButtonOutline",componentId:"sc-1oayqt0-13"})(["background-color:transparent;color:",";box-shadow:0 0 0 1px "," inset;&:hover{background-color:",";color:white;}"],"#dc1d30","#dc1d30","#dc1d30"),ac=be.c.div.withConfig({displayName:"InputWrapper",componentId:"sc-1oayqt0-14"})(["padding-top:11px;padding-bottom:11px;"]),sc=be.c.label.withConfig({displayName:"InputLabel",componentId:"sc-1oayqt0-15"})(["font-size:14px;color:",";display:block;margin:0 0 5px;"],"#666666"),cc="\n  height: 32px;\n  width: 100%;\n  flex-grow: 1;\n  flex-shrink: 1;\n  background-color: ".concat("#f6f6f6",";\n  border: 1px solid ").concat("#f6f6f6",";\n  color: ").concat("#444444",";\n  border-radius: 4px;\n  padding: 0 8px;\n  font-size: inherit;\n  font-family: inherit;\n  outline: 0;\n\n  &:active {\n    outline: 0;\n  }\n  :active,\n  :focus {\n    outline: 0;\n    border: 1px solid ").concat("#013c89",";\n  }\n  ").concat((function(e){return e.error&&Object(be.b)(["border:1px solid ",";"],"#dc1d30")}),"\n  [disabled] {\n    cursor: not-allowed;\n  }\n"),lc=be.c.input.withConfig({displayName:"Input",componentId:"sc-1oayqt0-16"})(["",""],cc),uc=be.c.select.withConfig({displayName:"Select",componentId:"sc-1oayqt0-17"})(["",""],cc),hc=be.c.div.withConfig({displayName:"HalfWidth",componentId:"sc-1oayqt0-18"})(["width:50%;"]),dc=be.c.div.withConfig({displayName:"StyledOptionRow",componentId:"sc-1oayqt0-19"})(["display:flex;min-height:30px;align-items:center;padding:3px 0;font-size:",";",",","{height:26px;}"],"0.7rem",lc,uc),fc=be.c.div.withConfig({displayName:"OptionContainer",componentId:"sc-1oayqt0-20"})(["padding:0 20px;"]),pc=Object(be.d)(["from,to{opacity:0;}50%{opacity:1;}"]),mc=be.c.span.withConfig({displayName:"RosStatusIndicator",componentId:"sc-1oayqt0-21"})(["width:8px;height:8px;border-radius:4px;margin:0 10px -2px 0;",""],(function(e){switch(e.status){case de.CONNECTED:return Object(be.b)(["background-color:#3e991c;"]);case de.CONNECTING:return Object(be.b)(["background-color:#f9c351;animation:"," normal 1s infinite ease-in-out;"],pc);case de.CONNECTION_ERROR:return Object(be.b)(["background-color:#ff3e3c;"]);default:return Object(be.b)(["background-color:#000000;"])}})),gc=be.c.div.withConfig({displayName:"SidebarWrapper",componentId:"sc-1oayqt0-22"})(["display:flex;"]),vc=be.c.div.withConfig({displayName:"SidebarCollapse",componentId:"sc-1oayqt0-23"})(["background:white;display:flex;align-items:center;justify-content:center;border-left:1px solid ",";color:",";padding:3px;cursor:pointer;user-select:none;"],"#dddddd","#666666"),yc=be.c.div.withConfig({displayName:"StyledSidebar",componentId:"sc-1oayqt0-24"})(["background-color:#fff;width:400px;margin-right:",";display:flex;flex-direction:column;flex-shrink:0;transition:margin-right 0.2s;"],(function(e){return e.collapsedSidebar?"-400px":0})),bc=be.c.div.withConfig({displayName:"StyledHeader",componentId:"sc-1oayqt0-25"})(["padding:10px 20px;display:flex;border-bottom:1px solid #dddddd;justify-content:space-between;"]),wc=be.c.div.withConfig({displayName:"StyledLogo",componentId:"sc-1oayqt0-26"})(["svg{height:40px;display:block;}"]),xc=be.c.div.withConfig({displayName:"StyledToolbar",componentId:"sc-1oayqt0-27"})(["display:flex;align-items:center;justify-content:space-around;max-width:calc(100% - 400px);overflow-x:auto;"]),_c=be.c.div.withConfig({displayName:"StyledTool",componentId:"sc-1oayqt0-28"})(["display:flex;align-items:center;height:32px;padding:6px 10px;border-radius:4px;cursor:pointer;margin-left:5px;background:",";color:",";"],(function(e){return e.active?"#F6F6F6":"white"}),(function(e){return e.active?"#dc1d30":"inherit"})),Ec=be.c.span.withConfig({displayName:"ToolHeading",componentId:"sc-1oayqt0-29"})(["padding:2px;"]),Sc=Object(be.c)(Gs).withConfig({displayName:"TextButton",componentId:"sc-1oayqt0-30"})(["border:0;margin:0;padding:0;background-color:transparent;color:",";font-size:16px;text-decoration:underline;&:hover{text-decoration:none;}&[disabled]{color:",";}"],"#dc1d30","#dddddd"),Cc=be.c.div.withConfig({displayName:"ViewportWrapper",componentId:"sc-1oayqt0-31"})(["width:100%;flex-grow:1;flex-shrink:1;height:10px;"]),Ac=be.c.div.withConfig({displayName:"InfoPanel",componentId:"sc-1oayqt0-32"})(["width:100%;background:white;border-left:1px solid ",";flex-shrink:0;flex-grow:0;"],"#dddddd"),Tc=be.c.div.withConfig({displayName:"InfoPanelHeader",componentId:"sc-1oayqt0-33"})(["display:flex;justify-content:space-between;overflow-x:auto;border-bottom:1px solid ",";"],"#f6f6f6"),Mc=be.c.div.withConfig({displayName:"InfoPanelTabsWrapper",componentId:"sc-1oayqt0-34"})(["display:flex;flex-grow:8;"]),kc=be.c.div.withConfig({displayName:"InfoPanelHeaderControls",componentId:"sc-1oayqt0-35"})(["display:flex;flex-grow:1;justify-content:flex-end;user-select:none;span,label{padding:3px 5px;display:flex;align-items:center;cursor:pointer;}input{cursor:pointer;}"]),Oc=be.c.div.withConfig({displayName:"InfoPanelTab",componentId:"sc-1oayqt0-36"})(["display:flex;padding:5px 10px;max-width:250px;border-right:1px solid ",";cursor:pointer;color:",";user-select:none;span:first-child{display:block;max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:10px;}"],"#f6f6f6",(function(e){return e.selected?"#dc1d30":"inherit"})),Pc=be.c.div.withConfig({displayName:"InfoPanelContentWrapper",componentId:"sc-1oayqt0-37"})(["width:100%;transition:height 0.2s ease-out;height:","px;overflow-y:auto;.jsoneditor{border:none;}.jsoneditor-menu{display:none;}.jsoneditor-expandable:first-child{display:none;}.jsoneditor-tree-inner{margin:10px 10px 20px -20px;}"],(function(e){return e.collapsed?0:300})),Rc=be.c.div.withConfig({displayName:"InfoPanelNoMessage",componentId:"sc-1oayqt0-38"})(["margin:10px 25px;color:",";cursor:pointer;"],(function(e){return e.highlight?"#dc1d30":"inherit"})),Fc=be.c.div.withConfig({displayName:"InfoPanelAddButton",componentId:"sc-1oayqt0-39"})(["user-select:none;width:30px;padding:5px 0;display:flex;align-items:center;justify-content:center;cursor:pointer;background:",";"],"#f6f6f6"),Lc=be.c.div.withConfig({displayName:"AddInfoPanelModalTopics",componentId:"sc-1oayqt0-40"})(["overflow-y:auto;"]),Dc=be.c.div.withConfig({displayName:"RawContentWrapper",componentId:"sc-1oayqt0-41"})(["width:100%;height:100%;"]),jc=be.c.div.withConfig({displayName:"RawContentRow",componentId:"sc-1oayqt0-42"})(["margin:5px 10px;border-bottom:1px solid ",";max-height:200px;overflow-y:auto;&:first-child{padding:10px;margin:10px;background:",";}"],"#dddddd","#dddddd"),Nc=be.c.div.withConfig({displayName:"FilteredKeys",componentId:"sc-1oayqt0-43"})(["width:20%;display:flex;flex-wrap:wrap;padding:5px 10px;border-bottom:1px solid ",";& > span{padding:0 5px;margin-left:10px;border:1px solid ",";}&::before{content:'Filtered keys: ';}"],"#f6f6f6","#f6f6f6"),Ic=be.c.div.withConfig({displayName:"ModalWrapper",componentId:"sc-1syasyy-0"})(["position:absolute;z-index:1000;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.9);"]),Bc=be.c.div.withConfig({displayName:"ModalContents",componentId:"sc-1syasyy-1"})(["width:1000px;margin:100px auto;height:600px;background-color:#ffffff;box-shadow:0 0 40px rgba(0,0,0,0.08);border-radius:8px;padding:20px;display:flex;flex-direction:column;"]),zc=be.c.h2.withConfig({displayName:"ModalTitle",componentId:"sc-1syasyy-2"})(["margin-bottom:6px;margin-top:0;"]),Uc=be.c.div.withConfig({displayName:"ModalActions",componentId:"sc-1syasyy-3"})(["display:flex;flex-shrink:0;padding:10px 0 0;button{margin-left:10px;}"]),Hc=Object(be.c)(qs).withConfig({displayName:"TypeEmpty",componentId:"sc-1syasyy-4"})(["padding-left:30px;font-style:italic;"]),Vc=Object(be.c)(Ks).withConfig({displayName:"TypeUnsupported",componentId:"sc-1syasyy-5"})(["padding:10px;opacity:0.4;cursor:not-allowed;"]),Wc=be.c.div.withConfig({displayName:"TypeContainer",componentId:"sc-1syasyy-6"})(["display:flex;flex-grow:1;overflow:hidden;"]),$c=be.c.div.withConfig({displayName:"TypeSelection",componentId:"sc-1syasyy-7"})(["flex:1 0 50%;overflow-y:auto;"]),Gc=be.c.div.withConfig({displayName:"TypeInfo",componentId:"sc-1syasyy-8"})(["border-left:1px solid ",";padding:0 0 0 20px;flex:1 0 50%;overflow-y:auto;h4{margin-top:10px;margin-bottom:8px;font-size:22px;}img{max-width:100%;}& > div{margin-bottom:8px;}"],"#dddddd"),qc=be.c.h4.withConfig({displayName:"TypeHeading",componentId:"sc-1syasyy-9"})(["display:flex;align-items:center;text-transform:uppercase;margin-bottom:5px;"]),Yc=be.c.form.withConfig({displayName:"AddVizForm",componentId:"sc-1syasyy-10"})(["display:flex;flex-grow:1;flex-shrink:1;height:0;flex-direction:column;"]),Xc=Object(be.c)(Gs).withConfig({displayName:"TopicRow",componentId:"sc-1syasyy-11"})(["text-align:left;width:100%;font-size:16px;border:0;background:transparent;padding:10px;display:flex;align-items:center;.reactSelect{color:",";}&:hover{color:",";background-color:",";.reactSelect{color:",";}}",""],"#444444","#dc1d30","#f6f6f6","#444444",(function(e){return e.selected&&"\n    color: ".concat("#dc1d30",";\n    background-color: ").concat("#f6f6f6",";\n  ")})),Kc=Object(be.c)(Xc).withConfig({displayName:"TypeRow",componentId:"sc-1syasyy-12"})(["padding-left:30px;"]),Zc={IDLE:0,FETCHING:1,SUCCESSFUL:2,ERROR:3},Jc=n("17x9"),Qc=n.n(Jc);function el(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tl(){return(tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){rl(e,t,n[t])}))}return e}function ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sl(e,t,n){return t&&al(e.prototype,t),n&&al(e,n),e}function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e){return(ll="function"==typeof Symbol&&"symbol"===cl(Symbol.iterator)?function(e){return cl(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":cl(e)})(e)}function ul(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?ul(e):t}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fl(e,t){return(fl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fl(e,t)}var ml=n("Wwog"),gl=n("VbXa"),vl=n.n(gl);var yl=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var bl=function(e){function t(e,t,r){var i=t.trim().split(p);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var l=0;l<a;++l)t[c++]=n(e[l]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===k||2===k&&i(c,1)?"-webkit-"+c+c:c}if(0===k||2===k&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(b,"tb");break;case 232:c=a.replace(b,"tb-rl");break;case 220:c=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),F(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,l,u){for(var h,d=0,f=t;d<R;++d)switch(h=P[d].call(c,e,f,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:f=h}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(F=null,e?"function"!=typeof e?k=1:(k=2,F=e):k=0),s}function c(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<R){var c=a(-1,n,s,s,T,A,0,0,0,0);void 0!==c&&"string"==typeof c&&(n=c)}var h=function e(n,s,c,h,d){for(var f,p,m,b,x,_=0,E=0,S=0,C=0,P=0,F=0,D=m=f=0,j=0,N=0,I=0,B=0,z=c.length,U=z-1,H="",V="",W="",$="";j<z;){if(p=c.charCodeAt(j),j===U&&0!==E+C+S+_&&(0!==E&&(p=47===E?10:47),C=S=_=0,z++,U++),0===E+C+S+_){if(j===U&&(0<N&&(H=H.replace(u,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=c.charAt(j)}p=59}switch(p){case 123:for(f=(H=H.trim()).charCodeAt(0),m=1,B=++j;j<z;){switch(p=c.charCodeAt(j)){case 123:m++;break;case 125:m--;break;case 47:switch(p=c.charCodeAt(j+1)){case 42:case 47:e:{for(D=j+1;D<U;++D)switch(c.charCodeAt(D)){case 47:if(42===p&&42===c.charCodeAt(D-1)&&j+2!==D){j=D+1;break e}break;case 10:if(47===p){j=D+1;break e}}j=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<U&&c.charCodeAt(j)!==p;);}if(0===m)break;j++}switch(m=c.substring(B,j),0===f&&(f=(H=H.replace(l,"").trim()).charCodeAt(0)),f){case 64:switch(0<N&&(H=H.replace(u,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:N=s;break;default:N=O}if(B=(m=e(s,N,m,p,d+1)).length,0<R&&(x=a(3,m,N=t(O,H,I),s,T,A,B,p,d,h),H=N.join(""),void 0!==x&&0===(B=(m=x.trim()).length)&&(p=0,m="")),0<B)switch(p){case 115:H=H.replace(w,o);case 100:case 109:case 45:m=H+"{"+m+"}";break;case 107:m=(H=H.replace(g,"$1 $2"))+"{"+m+"}",m=1===k||2===k&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=H+m,112===h&&(V+=m,m="")}else m="";break;default:m=e(s,t(s,H,I),m,h,d+1)}W+=m,m=I=N=D=f=0,H="",p=c.charCodeAt(++j);break;case 125:case 59:if(1<(B=(H=(0<N?H.replace(u,""):H).trim()).length))switch(0===D&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(B=(H=H.replace(" ",":")).length),0<R&&void 0!==(x=a(1,H,s,n,T,A,V.length,h,d,h))&&0===(B=(H=x.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),p=H.charCodeAt(1),f){case 0:break;case 64:if(105===p||99===p){$+=H+c.charAt(j);break}default:58!==H.charCodeAt(B-1)&&(V+=r(H,f,p,H.charCodeAt(2)))}I=N=D=f=0,H="",p=c.charCodeAt(++j)}}switch(p){case 13:case 10:47===E?E=0:0===1+f&&107!==h&&0<H.length&&(N=1,H+="\0"),0<R*L&&a(0,H,s,n,T,A,V.length,h,d,h),A=1,T++;break;case 59:case 125:if(0===E+C+S+_){A++;break}default:switch(A++,b=c.charAt(j),p){case 9:case 32:if(0===C+_+E)switch(P){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===C+E+_&&(N=I=1,b="\f"+b);break;case 108:if(0===C+E+_+M&&0<D)switch(j-D){case 2:112===P&&58===c.charCodeAt(j-3)&&(M=P);case 8:111===F&&(M=F)}break;case 58:0===C+E+_&&(D=j);break;case 44:0===E+S+C+_&&(N=1,b+="\r");break;case 34:case 39:0===E&&(C=C===p?0:0===C?p:C);break;case 91:0===C+E+S&&_++;break;case 93:0===C+E+S&&_--;break;case 41:0===C+E+_&&S--;break;case 40:if(0===C+E+_){if(0===f)switch(2*P+3*F){case 533:break;default:f=1}S++}break;case 64:0===E+S+C+_+D+m&&(m=1);break;case 42:case 47:if(!(0<C+_+S))switch(E){case 0:switch(2*p+3*c.charCodeAt(j+1)){case 235:E=47;break;case 220:B=j,E=42}break;case 42:47===p&&42===P&&B+2!==j&&(33===c.charCodeAt(B+2)&&(V+=c.substring(B,j+1)),b="",E=0)}}0===E&&(H+=b)}F=P,P=p,j++}if(0<(B=V.length)){if(N=s,0<R&&(void 0!==(x=a(2,V,N,n,T,A,B,h,d,h))&&0===(V=x).length))return $+V+W;if(V=N.join(",")+"{"+V+"}",0!=k*M){switch(2!==k||i(V,2)||(M=0),M){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(v,"::-webkit-input-$1")+V.replace(v,"::-moz-$1")+V.replace(v,":-ms-input-$1")+V}M=0}}return $+V+W}(O,s,n,0,0);return 0<R&&(void 0!==(c=a(-2,h,s,s,T,A,h.length,0,0,0))&&(h=c)),"",M=0,A=T=1,h}var l=/^\0+/g,u=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,p=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,A=1,T=1,M=0,k=1,O=[],P=[],R=0,F=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"==typeof t)P[R++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c};function wl(e){e&&xl.current.insert(e+"}")}var xl={current:null},_l=function(e,t,n,r,i,o,a,s,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return xl.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return xl.current.insert(n[0]+t),"";default:return t+(0===l?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(wl)}},El=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new bl(t);var i,o={};i=e.container||document.head;var a,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(_l),a=function(e,t,n,i){var o=t.name;xl.current=n,r(e,t.styles),i&&(c.inserted[o]=!0)};var c={key:n,sheet:new yl({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:a};return c};function Sl(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var Cl=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var Al=function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)},Tl=n("ME5O"),Ml=n("4qRI"),kl=/[A-Z]|^ms/g,Ol=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pl=function(e){return 45===e.charCodeAt(1)},Rl=function(e){return null!=e&&"boolean"!=typeof e},Fl=Object(Ml.a)((function(e){return Pl(e)?e:e.replace(kl,"-$&").toLowerCase()})),Ll=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ol,(function(e,t,n){return jl={name:t,styles:n,next:jl},t}))}return 1===Tl.a[e]||Pl(e)||"number"!=typeof t||0===t?t:t+"px"};function Dl(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return jl={name:n.name,styles:n.styles,next:jl},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)jl={name:i.name,styles:i.styles,next:jl},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Dl(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":Rl(a)&&(r+=Fl(o)+":"+Ll(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Dl(e,t,a,!1);switch(o){case"animation":case"animationName":r+=Fl(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var c=0;c<a.length;c++)Rl(a[c])&&(r+=Fl(o)+":"+Ll(o,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=jl,a=n(e);return jl=o,Dl(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var jl,Nl=/label:\s*([^\s;\n{]+)\s*;/g;var Il=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";jl=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Dl(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=Dl(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);Nl.lastIndex=0;for(var s,c="";null!==(s=Nl.exec(i));)c+="-"+s[1];return{name:Al(i)+c,styles:i,next:jl}};var Bl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Il(t)},zl=Object(o.createContext)("undefined"!=typeof HTMLElement?El():null),Ul=Object(o.createContext)({}),Hl=zl.Provider,Vl=function(e){return Object(o.forwardRef)((function(t,n){return Object(o.createElement)(zl.Consumer,null,(function(r){return e(t,r,n)}))}))},Wl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$l=Object.prototype.hasOwnProperty,Gl=function(e,t,n,r){var i=null===n?t.css:t.css(n);"string"==typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[Wl],s=[i],c="";"string"==typeof t.className?c=Sl(e.registered,s,t.className):null!=t.className&&(c=t.className+" ");var l=Il(s);Cl(e,l,"string"==typeof a);c+=e.key+"-"+l.name;var u={};for(var h in t)$l.call(t,h)&&"css"!==h&&h!==Wl&&(u[h]=t[h]);return u.ref=r,u.className=c,Object(o.createElement)(a,u)},ql=Vl((function(e,t,n){return"function"==typeof e.css?Object(o.createElement)(Ul.Consumer,null,(function(r){return Gl(t,e,r,n)})):Gl(t,e,null,n)}));var Yl=function(e,t){var n=arguments;if(null==t||!$l.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=ql;var a={};for(var s in t)$l.call(t,s)&&(a[s]=t[s]);a[Wl]=e,i[1]=a;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)},Xl=(o.Component,function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i});function Kl(e,t,n){var r=[],i=Sl(e,r,n);return r.length<2?n:i+t(r)}var Zl=Vl((function(e,t){return Object(o.createElement)(Ul.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Il(n,t.registered);return Cl(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return Kl(t.registered,r,Xl(n))},theme:n},o=e.children(i);return!0,o}))})),Jl=function(){};function Ql(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function eu(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(Ql(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var tu=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===ll(e)&&null!==e?[e]:[]};function nu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function ru(e){return nu(e)?window.pageYOffset:e.scrollTop}function iu(e,t){nu(e)?window.scrollTo(0,t):e.scrollTop=t}function ou(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Jl,i=ru(e),o=t-i,a=10,s=0;!function t(){var c,l=o*((c=(c=s+=a)/n-1)*c*c+1)+i;iu(e,l),s<n?window.requestAnimationFrame(t):r(e)}()}function au(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var su=n("FUBA"),cu=n.n(su);function lu(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,c=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),l={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return l;var u=c.getBoundingClientRect().height,h=n.getBoundingClientRect(),d=h.bottom,f=h.height,p=h.top,m=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=ru(c),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),w=m-b,x=g-p,_=w+v,E=u-v-p,S=d-g+v+y,C=v+p-b;switch(i){case"auto":case"bottom":if(x>=f)return{placement:"bottom",maxHeight:t};if(E>=f&&!a)return o&&ou(c,S,160),{placement:"bottom",maxHeight:t};if(!a&&E>=r||a&&x>=r)return o&&ou(c,S,160),{placement:"bottom",maxHeight:a?x-y:E-y};if("auto"===i||a){var A=t,T=a?w:_;return T>=r&&(A=Math.min(T-y-s.controlHeight,t)),{placement:"top",maxHeight:A}}if("bottom"===i)return iu(c,S),{placement:"bottom",maxHeight:t};break;case"top":if(w>=f)return{placement:"top",maxHeight:t};if(_>=f&&!a)return o&&ou(c,C,160),{placement:"top",maxHeight:t};if(!a&&_>=r||a&&w>=r){var M=t;return(!a&&_>=r||a&&w>=r)&&(M=a?w-b:_-b),o&&ou(c,C,160),{placement:"top",maxHeight:M}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}var uu=function(e){return"auto"===e?"bottom":e},hu=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),rl(ul(ul(n)),"getPlacement",(function(e){var t=n.props,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,c=t.theme,l=n.context.getPortalPlacement;if(e){var u="fixed"===a,h=lu({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!u,isFixedPosition:u,theme:c});l&&l(h),n.setState(h)}})),rl(ul(ul(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||uu(e);return il({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return pl(t,e),sl(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(o.Component);rl(hu,"contextTypes",{getPortalPlacement:Qc.a.func});var du=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},fu=du,pu=du,mu=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Yl("div",tl({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},o),t)};mu.defaultProps={children:"No options"};var gu=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Yl("div",tl({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},o),t)};gu.defaultProps={children:"Loading..."};var vu=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"state",{placement:null}),rl(ul(ul(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==uu(n.props.menuPlacement)&&n.setState({placement:t})})),n}return pl(t,e),sl(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,i=e.controlElement,o=e.menuPlacement,a=e.menuPosition,s=e.getStyles,c="fixed"===a;if(!t&&!c||!i)return null;var l=this.state.placement||uu(o),u=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),h=c?0:window.pageYOffset,d=u[l]+h,f=Yl("div",{css:s("menuPortal",{offset:d,position:a,rect:u})},n);return t?Object(r.createPortal)(f,t):f}}]),t}(o.Component);rl(vu,"childContextTypes",{getPortalPlacement:Qc.a.func});var yu=Array.isArray,bu=Object.keys,wu=Object.prototype.hasOwnProperty;function xu(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==ll(t)&&"object"==ll(n)){var r,i,o,a=yu(t),s=yu(n);if(a&&s){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(a!=s)return!1;var c=t instanceof Date,l=n instanceof Date;if(c!=l)return!1;if(c&&l)return t.getTime()==n.getTime();var u=t instanceof RegExp,h=n instanceof RegExp;if(u!=h)return!1;if(u&&h)return t.toString()==n.toString();var d=bu(t);if((i=d.length)!==bu(n).length)return!1;for(r=i;0!=r--;)if(!wu.call(n,d[r]))return!1;for(r=i;0!=r--;)if(!("_owner"===(o=d[r])&&t.$$typeof||e(t[o],n[o])))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var _u=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,i=e.isMulti,o=e.getStyles,a=e.hasValue;return Yl("div",{css:o("valueContainer",this.props),className:r({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a},n)},t)}}]),t}(o.Component);function Eu(){var e,t,n=(e=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return Eu=function(){return n},n}var Su={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},Cu=function(e){var t=e.size,n=el(e,["size"]);return Yl("svg",tl({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Su},n))},Au=function(e){return Yl(Cu,tl({size:20},e),Yl("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Tu=function(e){return Yl(Cu,tl({size:20},e),Yl("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Mu=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},ku=Mu,Ou=Mu,Pu=function(){var e=Bl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Eu()),Ru=function(e){var t=e.delay,n=e.offset;return Yl("span",{css:Bl({animation:"".concat(Pu," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Fu=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,o=e.isRtl;return Yl("div",tl({},i,{css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)}),Yl(Ru,{delay:0,offset:o}),Yl(Ru,{delay:160,offset:!0}),Yl(Ru,{delay:320,offset:!o}))};Fu.defaultProps={size:4};var Lu=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},Du=function(e){var t=e.children,n=e.innerProps;return Yl("div",n,t)},ju=Du,Nu=Du,Iu=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return Yl("div",n,t||Yl(Au,{size:14}))}}]),t}(o.Component),Bu=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.components,o=t.cx,a=t.data,s=t.getStyles,c=t.innerProps,l=t.isDisabled,u=t.removeProps,h=t.selectProps,d=i.Container,f=i.Label,p=i.Remove;return Yl(Zl,null,(function(t){var i=t.css,m=t.cx;return Yl(d,{data:a,innerProps:il({},c,{className:m(i(s("multiValue",e.props)),o({"multi-value":!0,"multi-value--is-disabled":l},r))}),selectProps:h},Yl(f,{data:a,innerProps:{className:m(i(s("multiValueLabel",e.props)),o({"multi-value__label":!0},r))},selectProps:h},n),Yl(p,{data:a,innerProps:il({className:m(i(s("multiValueRemove",e.props)),o({"multi-value__remove":!0},r))},u),selectProps:h}))}))}}]),t}(o.Component);rl(Bu,"defaultProps",{cropWithEllipsis:!0});var zu={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Yl("div",tl({},o,{css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)}),t||Yl(Au,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,c=e.innerProps,l=e.menuIsOpen;return Yl("div",tl({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":l},i)},c),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Yl("div",tl({},o,{css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)}),t||Yl(Tu,null))},DownChevron:Tu,CrossIcon:Au,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.label,c=e.theme,l=e.selectProps;return Yl("div",{css:i("group",e),className:r({group:!0},n)},Yl(o,tl({},a,{selectProps:l,theme:c,getStyles:i,cx:r}),s),Yl("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.theme,o=(e.selectProps,el(e,["className","cx","getStyles","theme","selectProps"]));return Yl("div",tl({css:r("groupHeading",il({theme:i},o)),className:n({"group-heading":!0},t)},o))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles;return Yl("div",{css:i("indicatorsContainer",e),className:r({indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return Yl("span",tl({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerRef,o=e.isHidden,a=e.isDisabled,s=e.theme,c=(e.selectProps,el(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return Yl("div",{css:r("input",il({theme:s},c))},Yl(cu.a,tl({className:n({input:!0},t),inputRef:i,inputStyle:Lu(o),disabled:a},c)))},LoadingIndicator:Fu,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return Yl("div",tl({css:i("menu",e),className:r({menu:!0},n)},a,{ref:o}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isMulti,a=e.innerRef;return Yl("div",{css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":o},n),ref:a},t)},MenuPortal:vu,LoadingMessage:gu,NoOptionsMessage:mu,MultiValue:Bu,MultiValueContainer:ju,MultiValueLabel:Nu,MultiValueRemove:Iu,Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,c=e.innerRef,l=e.innerProps;return Yl("div",tl({css:i("option",e),className:r({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},n),ref:c},l),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps;return Yl("div",tl({css:i("placeholder",e),className:r({placeholder:!0},n)},o),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return Yl("div",tl({css:i("container",e),className:r({"--is-disabled":a,"--is-rtl":s},n)},o),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return Yl("div",tl({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":o},n)},a),t)},ValueContainer:_u},Uu=function(e){return il({},zu,e.components)},Hu=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Vu=function(e){for(var t=0;t<Hu.length;t++)e=e.replace(Hu[t].letters,Hu[t].base);return e},Wu=function(e){return e.replace(/^\s+|\s+$/g,"")},$u=function(e){return"".concat(e.label," ").concat(e.value)},Gu={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},qu=function(e){return Yl("span",tl({css:Gu},e))},Yu=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,el(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return Yl("input",tl({ref:t},n,{css:Bl({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}}]),t}(o.Component),Xu=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(r.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component),Ku=["boxSizing","height","overflow","paddingRight","position"],Zu={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ju(e){e.preventDefault()}function Qu(e){e.stopPropagation()}function eh(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function th(){return"ontouchstart"in window||navigator.maxTouchPoints}var nh=!(!window.document||!window.document.createElement),rh=0,ih=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"originalStyles",{}),rl(ul(ul(n)),"listenerOptions",{capture:!1,passive:!1}),n}return pl(t,e),sl(t,[{key:"componentDidMount",value:function(){var e=this;if(nh){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&Ku.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&rh<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,c=window.innerWidth-s+a||0;Object.keys(Zu).forEach((function(e){var t=Zu[e];o&&(o[e]=t)})),o&&(o.paddingRight="".concat(c,"px"))}i&&th()&&(i.addEventListener("touchmove",Ju,this.listenerOptions),r&&(r.addEventListener("touchstart",eh,this.listenerOptions),r.addEventListener("touchmove",Qu,this.listenerOptions))),rh+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(nh){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;rh=Math.max(rh-1,0),n&&rh<1&&Ku.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),i&&th()&&(i.removeEventListener("touchmove",Ju,this.listenerOptions),r&&(r.removeEventListener("touchstart",eh,this.listenerOptions),r.removeEventListener("touchmove",Qu,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(o.Component);rl(ih,"defaultProps",{accountForScrollbars:!0});var oh={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},ah=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"state",{touchScrollTarget:null}),rl(ul(ul(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),rl(ul(ul(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?Yl("div",null,Yl("div",{onClick:this.blurSelectInput,css:oh}),Yl(Xu,{innerRef:this.getScrollTarget},t),r?Yl(ih,{touchScrollTarget:r}):null):t}}]),t}(o.PureComponent),sh=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"isBottom",!1),rl(ul(ul(n)),"isTop",!1),rl(ul(ul(n)),"scrollTarget",void 0),rl(ul(ul(n)),"touchStart",void 0),rl(ul(ul(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),rl(ul(ul(n)),"handleEventDelta",(function(e,t){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,c=n.scrollTarget,l=c.scrollTop,u=c.scrollHeight,h=c.clientHeight,d=n.scrollTarget,f=t>0,p=u-h-l,m=!1;p>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),f&&n.isTop&&(s&&s(e),n.isTop=!1),f&&t>p?(i&&!n.isBottom&&i(e),d.scrollTop=u,m=!0,n.isBottom=!0):!f&&-t>l&&(a&&!n.isTop&&a(e),d.scrollTop=0,m=!0,n.isTop=!0),m&&n.cancelScroll(e)})),rl(ul(ul(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),rl(ul(ul(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),rl(ul(ul(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),rl(ul(ul(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return pl(t,e),sl(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(e){"function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1)}},{key:"render",value:function(){return a.a.createElement(Xu,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(o.Component),ch=function(e){function t(){return ol(this,t),hl(this,dl(t).apply(this,arguments))}return pl(t,e),sl(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=el(e,["isEnabled"]);return t?a.a.createElement(sh,n):this.props.children}}]),t}(o.Component);rl(ch,"defaultProps",{isEnabled:!0});var lh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},uh=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},hh=function(e){return!!e.isDisabled},dh={clearIndicator:Ou,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:ku,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:pu,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return rl(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),rl(t,"backgroundColor",a.neutral0),rl(t,"borderRadius",i),rl(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),rl(t,"marginBottom",o.menuGutter),rl(t,"marginTop",o.menuGutter),rl(t,"position","absolute"),rl(t,"width","100%"),rl(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:fu,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var fh,ph={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},mh={backspaceRemovesValue:!0,blurInputOnSelect:au(),captureMenuScroll:!au(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=il({ignoreCase:!0,ignoreAccents:!0,stringify:$u,trim:!0,matchFrom:"any"},fh),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,c=a?Wu(t):t,l=a?Wu(o(e)):o(e);return r&&(c=c.toLowerCase(),l=l.toLowerCase()),i&&(c=Vu(c),l=Vu(l)),"start"===s?l.substr(0,c.length)===c:l.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:hh,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},gh=1,vh=function(e){function t(e){var n;ol(this,t),rl(ul(ul(n=hl(this,dl(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),rl(ul(ul(n)),"blockOptionHover",!1),rl(ul(ul(n)),"isComposing",!1),rl(ul(ul(n)),"clearFocusValueOnUpdate",!1),rl(ul(ul(n)),"commonProps",void 0),rl(ul(ul(n)),"components",void 0),rl(ul(ul(n)),"hasGroups",!1),rl(ul(ul(n)),"initialTouchX",0),rl(ul(ul(n)),"initialTouchY",0),rl(ul(ul(n)),"inputIsHiddenAfterUpdate",void 0),rl(ul(ul(n)),"instancePrefix",""),rl(ul(ul(n)),"openAfterFocus",!1),rl(ul(ul(n)),"scrollToFocusedOptionOnUpdate",!1),rl(ul(ul(n)),"userIsDragging",void 0),rl(ul(ul(n)),"controlRef",null),rl(ul(ul(n)),"getControlRef",(function(e){n.controlRef=e})),rl(ul(ul(n)),"focusedOptionRef",null),rl(ul(ul(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),rl(ul(ul(n)),"menuListRef",null),rl(ul(ul(n)),"getMenuListRef",(function(e){n.menuListRef=e})),rl(ul(ul(n)),"inputRef",null),rl(ul(ul(n)),"getInputRef",(function(e){n.inputRef=e})),rl(ul(ul(n)),"cacheComponents",(function(e){n.components=Uu({components:e})})),rl(ul(ul(n)),"focus",n.focusInput),rl(ul(ul(n)),"blur",n.blurInput),rl(ul(ul(n)),"onChange",(function(e,t){var r=n.props;(0,r.onChange)(e,il({},t,{name:r.name}))})),rl(ul(ul(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})})),rl(ul(ul(n)),"selectOption",(function(e){var t=n.props,r=t.blurInputOnSelect,i=t.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(e,o)){var a=n.getOptionValue(e);n.setValue(o.filter((function(e){return n.getOptionValue(e)!==a})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(nl(o),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()})),rl(ul(ul(n)),"removeValue",(function(e){var t=n.state.selectValue,r=n.getOptionValue(e),i=t.filter((function(e){return n.getOptionValue(e)!==r}));n.onChange(i.length?i:null,{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),rl(ul(ul(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),rl(ul(ul(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1],r=e.slice(0,e.length-1);n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(r.length?r:null,{action:"pop-value",removedValue:t})})),rl(ul(ul(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),rl(ul(ul(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),rl(ul(ul(n)),"getStyles",(function(e,t){var r=dh[e](t);r.boxSizing="border-box";var i=n.props.styles[e];return i?i(r,t):r})),rl(ul(ul(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),rl(ul(ul(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,i=t.focusedOption;if(i&&e){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),rl(ul(ul(n)),"announceAriaLiveSelection",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:uh(t,r)})})),rl(ul(ul(n)),"announceAriaLiveContext",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:lh(t,il({},r,{label:n.props["aria-label"]}))})})),rl(ul(ul(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),rl(ul(ul(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),rl(ul(ul(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),rl(ul(ul(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,i=t.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),rl(ul(ul(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,"touchend"===e.type?n.focusInput():setTimeout((function(){return n.focusInput()})))})),rl(ul(ul(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&nu(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),rl(ul(ul(n)),"onCompositionStart",(function(){n.isComposing=!0})),rl(ul(ul(n)),"onCompositionEnd",(function(){n.isComposing=!1})),rl(ul(ul(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),rl(ul(ul(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var r=Math.abs(t.clientX-n.initialTouchX),i=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),rl(ul(ul(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),rl(ul(ul(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),rl(ul(ul(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),rl(ul(ul(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),rl(ul(ul(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),rl(ul(ul(n)),"onInputFocus",(function(e){var t=n.props,r=t.isSearchable,i=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),rl(ul(ul(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),rl(ul(ul(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),rl(ul(ul(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t})),rl(ul(ul(n)),"onKeyDown",(function(e){var t=n.props,r=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,c=t.isDisabled,l=t.menuIsOpen,u=t.onKeyDown,h=t.tabSelectsValue,d=t.openMenuOnFocus,f=n.state,p=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!(c||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)n.removeValue(m);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!l||!h||!p||d&&n.isOptionSelected(p,g))return;n.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(l){if(!p)return;if(n.isComposing)return;n.selectOption(p);break}return;case"Escape":l?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!l){n.openMenu("first");break}if(!p)return;n.selectOption(p);break;case"ArrowUp":l?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":l?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!l)return;n.focusOption("pageup");break;case"PageDown":if(!l)return;n.focusOption("pagedown");break;case"Home":if(!l)return;n.focusOption("first");break;case"End":if(!l)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var r=e.value;n.cacheComponents=Object(ml.a)(n.cacheComponents,xu).bind(ul(ul(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++gh);var i=tu(r),o=e.menuIsOpen?n.buildMenuOptions(e,i):{render:[],focusable:[]};return n.state.menuOptions=o,n.state.selectValue=i,n}return pl(t,e),sl(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.menuIsOpen,o=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.menuIsOpen!==i||e.inputValue!==o){var a=tu(e.value),s=e.menuIsOpen?this.buildMenuOptions(e,a):{render:[],focusable:[]},c=this.getNextFocusedValue(a),l=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:a,focusedOption:l,focusedValue:c})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o,a=this.props,s=a.isDisabled,c=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&e.isDisabled||l&&c&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),o=n.offsetHeight/3,i.bottom+o>r.bottom?iu(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):i.top-o<r.top&&iu(t,Math.max(n.offsetTop-o,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var c=o.length-1,l=-1;if(o.length){switch(e){case"previous":l=0===s?0:-1===s?c:s-1;break;case"next":s>-1&&s<c&&(l=s+1)}-1===l&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==l,focusedValue:o[l]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=s>0?s-1:o.length-1:"down"===e?a=(s+1)%o.length:"pageup"===e?(a=s-t)<0&&(a=0):"pagedown"===e?(a=s+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:hh(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(ph):il({},ph,this.props.theme):ph}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,c=i.options,l=this.state.selectValue,u=this.hasValue();return{cx:eu.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return l},hasValue:u,isMulti:a,isRtl:s,options:c,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,i=void 0===r?"":r,o=e.options,a=function(e,r){var o=n.isOptionDisabled(e,t),a=n.isOptionSelected(e,t),s=n.getOptionLabel(e),c=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:c,data:e},i))){var l=o?void 0:function(){return n.onOptionHover(e)},u=o?void 0:function(){return n.selectOption(e)},h="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:h,onClick:u,onMouseMove:l,onMouseOver:l,tabIndex:-1},data:e,isDisabled:o,isSelected:a,key:h,label:s,type:"option",value:c}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var i=t.options.map((function(t,n){var i=a(t,"".concat(r,"-").concat(n));return i&&e.focusable.push(t),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:o,data:t,options:i})}}else{var s=a(t,"".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,i=e.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,c=o.inputValue,l=o.screenReaderStatus,u=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",h=i&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",d=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:c,screenReaderMessage:l({count:this.countOptions()})});return"".concat(u," ").concat(h," ").concat(d," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,s=this.components.Input,c=this.state.inputIsHidden,l=r||this.getElementId("input");if(!n)return a.a.createElement(Yu,{id:l,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Jl,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:o,value:""});var u={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},h=this.commonProps,d=h.cx,f=h.theme,p=h.selectProps;return a.a.createElement(s,tl({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:d,getStyles:this.getStyles,id:l,innerRef:this.getInputRef,isDisabled:t,isHidden:c,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:p,spellCheck:"false",tabIndex:o,theme:f,type:"text",value:i},u))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,s=t.SingleValue,c=t.Placeholder,l=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,y=g.focusedValue,b=g.isFocused;if(!this.hasValue()||!h)return p?null:a.a.createElement(c,tl({},l,{key:"placeholder",isDisabled:d,isFocused:b}),m);if(f)return v.map((function(t,s){var c=t===y;return a.a.createElement(n,tl({},l,{components:{Container:r,Label:i,Remove:o},isFocused:c,isDisabled:d,key:e.getOptionValue(t),index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(p)return null;var w=v[0];return a.a.createElement(s,tl({},l,{data:w,isDisabled:d}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,tl({},t,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!e||!i)return null;return a.a.createElement(e,tl({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return a.a.createElement(n,tl({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(e,tl({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,s=t.MenuPortal,c=t.LoadingMessage,l=t.NoOptionsMessage,u=t.Option,h=this.commonProps,d=this.state,f=d.focusedOption,p=d.menuOptions,m=this.props,g=m.captureMenuScroll,v=m.inputValue,y=m.isLoading,b=m.loadingMessage,w=m.minMenuHeight,x=m.maxMenuHeight,_=m.menuIsOpen,E=m.menuPlacement,S=m.menuPosition,C=m.menuPortalTarget,A=m.menuShouldBlockScroll,T=m.menuShouldScrollIntoView,M=m.noOptionsMessage,k=m.onMenuScrollToTop,O=m.onMenuScrollToBottom;if(!_)return null;var P,R=function(t){var n=f===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,a.a.createElement(u,tl({},h,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())P=p.render.map((function(t){if("group"===t.type){t.type;var i=el(t,["type"]),o="".concat(t.key,"-heading");return a.a.createElement(n,tl({},h,i,{Heading:r,headingProps:{id:o},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return R(e)})))}if("option"===t.type)return R(t)}));else if(y){var F=b({inputValue:v});if(null===F)return null;P=a.a.createElement(c,h,F)}else{var L=M({inputValue:v});if(null===L)return null;P=a.a.createElement(l,h,L)}var D={minMenuHeight:w,maxMenuHeight:x,menuPlacement:E,menuPosition:S,menuShouldScrollIntoView:T},j=a.a.createElement(hu,tl({},h,D),(function(t){var n=t.ref,r=t.placerProps,s=r.placement,c=r.maxHeight;return a.a.createElement(i,tl({},h,D,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:s}),a.a.createElement(ch,{isEnabled:g,onTopArrive:k,onBottomArrive:O},a.a.createElement(ah,{isEnabled:A},a.a.createElement(o,tl({},h,{innerRef:e.getMenuListRef,isLoading:y,maxHeight:c}),P))))}));return C||"fixed"===S?a.a.createElement(s,tl({},h,{appendTo:C,controlElement:this.controlRef,menuPlacement:E,menuPosition:S}),j):j}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,s=this.state.selectValue;if(o&&!r){if(i){if(n){var c=s.map((function(t){return e.getOptionValue(t)})).join(n);return a.a.createElement("input",{name:o,type:"hidden",value:c})}var l=s.length>0?s.map((function(t,n){return a.a.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):a.a.createElement("input",{name:o,type:"hidden"});return a.a.createElement("div",null,l)}var u=s[0]?this.getOptionValue(s[0]):"";return a.a.createElement("input",{name:o,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?a.a.createElement(qu,{"aria-live":"polite"},a.a.createElement("p",{id:"aria-selection-event"}," ",this.state.ariaLiveSelection),a.a.createElement("p",{id:"aria-context"}," ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,s=o.className,c=o.id,l=o.isDisabled,u=o.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return a.a.createElement(r,tl({},d,{className:s,innerProps:{id:c,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:h}),this.renderLiveRegion(),a.a.createElement(t,tl({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:h,menuIsOpen:u}),a.a.createElement(i,tl({},d,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),a.a.createElement(n,tl({},d,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(o.Component);rl(vh,"defaultProps",mh);var yh,bh,wh,xh={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},_h=(o.Component,yh=vh,wh=bh=function(e){function t(){var e,n;ol(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rl(ul(ul(n=hl(this,(e=dl(t)).call.apply(e,[this].concat(i))))),"select",void 0),rl(ul(ul(n)),"state",{inputValue:void 0!==n.props.inputValue?n.props.inputValue:n.props.defaultInputValue,menuIsOpen:void 0!==n.props.menuIsOpen?n.props.menuIsOpen:n.props.defaultMenuIsOpen,value:void 0!==n.props.value?n.props.value:n.props.defaultValue}),rl(ul(ul(n)),"onChange",(function(e,t){n.callProp("onChange",e,t),n.setState({value:e})})),rl(ul(ul(n)),"onInputChange",(function(e,t){var r=n.callProp("onInputChange",e,t);n.setState({inputValue:void 0!==r?r:e})})),rl(ul(ul(n)),"onMenuOpen",(function(){n.callProp("onMenuOpen"),n.setState({menuIsOpen:!0})})),rl(ul(ul(n)),"onMenuClose",(function(){n.callProp("onMenuClose"),n.setState({menuIsOpen:!1})})),n}return pl(t,e),sl(t,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.defaultInputValue,t.defaultMenuIsOpen,t.defaultValue,el(t,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return a.a.createElement(yh,tl({},n,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),t}(o.Component),rl(bh,"defaultProps",xh),wh),Eh=Object(be.c)(_h).withConfig({displayName:"SelectStyled",componentId:"sc-14k045t-0"})(["width:200px !important;z-index:101;"]),Sh=Object(be.c)(tc).withConfig({displayName:"Wrapper",componentId:"sc-14k045t-1"})(["padding-left:0;"]);function Ch(e){e.changeVisualizationToolbar,e.debug;var t=e.selectHandler,n=e.nodeSelect;return a.a.createElement(Sh,null,a.a.createElement(Eh,{"data-id":"nodeSelect",options:Ls,defaultValue:n,"aria-label":"select nodes or topics",onChange:t}))}Ch.propTypes={debug:Qc.a.bool},Ch.defaultProps={debug:!0};var Ah=Ch;function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mh(n,!0).forEach((function(t){Oh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mh(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ph(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e){return(Rh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lh(e,t){return(Lh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dh=be.c.div.withConfig({displayName:"GraphContainer",componentId:"sy8y0i-0"})(["border:1px solid red;display:flex;height:90%;justify-content:center;align-items:center;position:relative;overflow:hidden;& > svg{width:100%;height:100%;z-index:10 !important;}.node rect,.node circle,.node ellipse{stroke:#333;fill:#fff;stroke-width:1px;}.edgePath path{stroke:#333;fill:#333;stroke-width:1.5px;}.root-node{color:white;}.name{font-size:1.5em;font-weight:bold;color:#60b1fc;margin:0;}.description{font-size:1.2em;}"]),jh=be.c.div.withConfig({displayName:"ModalHeading",componentId:"sy8y0i-1"})(["display:flex;justify-content:space-between;align-items:center;"]),Nh=Object(be.c)(Bc).withConfig({displayName:"StyledModalContents",componentId:"sy8y0i-2"})(["height:90%;width:90%;margin:auto;margin-top:5vh;"]),Ih=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Th(t)&&"function"!=typeof t?Fh(e):t}(this,Rh(t).call(this,e))).state={graph:null,status:Zc.FETCHING,visualizationToolbarSettings:{debug:!0,nodeSelect:Ls[0]}},n.graphContainerRef=a.a.createRef(),n.handleSubmit=n.handleSubmit.bind(Fh(n)),n.createGraph=n.createGraph.bind(Fh(n)),n.refreshGraph=n.refreshGraph.bind(Fh(n)),n.returnContainerRef=n.returnContainerRef.bind(Fh(n)),n.changeVisualizationToolbar=n.changeVisualizationToolbar.bind(Fh(n)),n.selectHandler=n.selectHandler.bind(Fh(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lh(e,t)}(t,e),n=t,(r=[{key:"createGraph",value:function(){var e=this;ye(this.props.ros).then((function(t){e.setState({graph:t,status:Zc.SUCCESSFUL})})).catch((function(t){console.log(t),e.setState({status:Zc.ERROR})}))}},{key:"selectHandler",value:function(e){this.setState((function(t){return{visualizationToolbarSettings:kh({},t.visualizationToolbarSettings,{nodeSelect:e})}}))}},{key:"changeVisualizationToolbar",value:function(e){var t=e.target,n=t.checked,r=t.dataset.id;this.setState((function(e){return{visualizationToolbarSettings:kh({},e.visualizationToolbarSettings,Oh({},r,n))}}))}},{key:"refreshGraph",value:function(e){e.preventDefault(),this.createGraph()}},{key:"returnContainerRef",value:function(){return this.graphContainerRef}},{key:"componentDidMount",value:function(){this.createGraph()}},{key:"handleSubmit",value:function(){(0,this.props.updateConfiguration)(this.jsonEditor.get())}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.rosStatus,r=this.state,i=r.graph,o=r.status,s=r.visualizationToolbarSettings,c=s.debug,l=s.nodeSelect,u=null;return u=o===Zc.SUCCESSFUL?a.a.createElement(zs,{returnContainerRef:this.returnContainerRef,graph:i,debug:c,nodeSelect:l}):o===Zc.ERROR?a.a.createElement("p",null,"Error"," ",a.a.createElement(ic,{onClick:this.refreshGraph},"Refresh")):a.a.createElement("p",null,"Loading."),a.a.createElement(Ic,{onClick:t},a.a.createElement(Nh,{onClick:pe},a.a.createElement(jh,null,a.a.createElement(zc,null,"Graph "),a.a.createElement(ic,{disabled:n!==de.CONNECTED,onClick:this.refreshGraph},n===de.CONNECTED?"Refresh":"Websocket disconnected.")),a.a.createElement(Ah,{changeVisualizationToolbar:this.changeVisualizationToolbar,selectHandler:this.selectHandler,debug:c,nodeSelect:l}),a.a.createElement(Dh,{ref:this.graphContainerRef},u)))}}])&&Ph(n.prototype,r),i&&Ph(n,i),t}(a.a.Component),Bh=n("mbFl"),zh=n.n(Bh),Uh=Object(be.c)(tc).withConfig({displayName:"SidebarVizContainer",componentId:"sc-1bsd63e-1"})(["overflow-y:auto;"]),Hh=be.c.div.withConfig({displayName:"VizItemContent",componentId:"sc-1bsd63e-2"})(["margin-top:8px;margin-left:24px;"]),Vh=be.c.div.withConfig({displayName:"VizItemIcon",componentId:"sc-1bsd63e-3"})(["width:20px;height:20px;display:inline-block;background-color:",";margin-right:10px;border-radius:4px;svg{width:100%;}"],"#f6f6f6"),Wh=be.c.div.withConfig({displayName:"VizImageContainer",componentId:"sc-1bsd63e-4"})(["background:black;display:flex;align-items:center;flex-direction:column;cursor:move;border-radius:4px;overflow:hidden;height:100%;width:100%;border:1px solid ",";img{width:100%;height:100%;object-fit:contain;}canvas{width:100%;height:100%;}"],"#dddddd"),$h=Object(be.c)(Ks).withConfig({displayName:"RosStatus",componentId:"sc-1bsd63e-5"})(["margin-bottom:10px;align-items:center;"]),Gh=be.c.div.withConfig({displayName:"VizImageHeader",componentId:"sc-1bsd63e-6"})(["background:#fff;display:flex;width:100%;font-size:14px;padding:2px 5px;min-height:25px;border-bottom:1px solid ",";word-break:break-all;overflow:hidden;"],"#dddddd"),qh=be.c.div.withConfig({displayName:"VizItem",componentId:"sc-1bsd63e-8"})(["padding:10px 0;border-bottom:1px solid ",";"],"#f6f6f6"),Yh=be.c.div.withConfig({displayName:"VizItemActions",componentId:"sc-1bsd63e-9"})(["display:flex;margin-top:8px;button{background:",";border:0;border-radius:4px;color:",";padding:5px 10px;font-size:0.6rem;&:hover{background-color:",";color:#ffffff;}& + button{margin-left:10px;}}"],"#f6f6f6","#888888","#dc1d30"),Xh=Object(be.c)(Gs).withConfig({displayName:"VizItemCollapse",componentId:"sc-1bsd63e-10"})(["background-color:transparent;border:0;padding:0;margin:0 3px 0 0;width:20px;height:20px;svg{width:14px;}",""],(function(e){return e.collapsed&&Object(be.b)(["transform:rotate(-90deg);"])}));function Kh(e){return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jh(e,t){return!t||"object"!==Kh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qh(e){return(Qh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t){return(ed=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(n,!0).forEach((function(t){rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var id=v.CONSTANTS.VIZ_TYPE_ROBOTMODEL,od={container:function(e){return nd({},e,{fontSize:"16px",width:"250px"})},control:function(e){return nd({},e,{border:"1px solid #dddddd"})}},ad=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jh(this,Qh(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ed(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e,t=this.props,n=t.rosParams,r=t.selectedViz,i=t.selectViz,o=t.topics,s=t.vizDetails,l=c.a.get(r,"topicName"),u=c.a.get(r,"vizType")===id,h=(rd(e={},id,c.a.get(r,"vizType")===id),rd(e,"Depthcloud stream","Depthcloud stream"===c.a.get(r,"vizType")),rd(e,"Image stream","Image stream"===c.a.get(r,"vizType")),e);return s.type===id?a.a.createElement("div",null,a.a.createElement(qc,null,a.a.createElement(Vh,{alt:""},s.icon),s.type),a.a.createElement(Kc,{type:"button",selected:h[id]},a.a.createElement(_h,{isSearchable:!0,className:"reactSelect",styles:od,value:l&&u?{label:l,value:l}:"",options:c.a.map(n,(function(e){return{label:e,value:e}})),onChange:function(e){var t=e.value;i(s.type,t,"")}}))):"Depthcloud stream"===s.type||"Image stream"===s.type?a.a.createElement("div",null,a.a.createElement(qc,null,a.a.createElement(Vh,{alt:""},s.icon),s.type),a.a.createElement(Kc,{type:"button",selected:h[s.type]},a.a.createElement(lc,{type:"text",placeholder:"Stream URL",onChange:function(e){zh()(e.target.value)&&i(s.type,e.target.value,"")}}))):a.a.createElement("div",null,a.a.createElement(qc,null,a.a.createElement(Vh,{alt:""},s.icon),s.type),c.a.map(o,(function(e){return a.a.createElement(Kc,{type:"button",key:e.name,selected:c.a.get(r,"topicName")===e.name,onClick:function(){return i(s.type,e.name,e.messageType)}},e.name)})),0===c.a.size(o)&&a.a.createElement(Hc,null,"No topics available for the visualization type"))}}])&&Zh(n.prototype,r),i&&Zh(n,i),t}(a.a.PureComponent),sd=n("IujW"),cd=n.n(sd);function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ud(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(e,t){return!t||"object"!==ld(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dd(e){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fd(e,t){return(fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hd(this,dd(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.vizType,t=c.a.find(le,(function(t){return t.type===e})),n=t.description,r=t.docsLink,i=t.type;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h4",null,i),a.a.createElement(cd.a,{source:n}),a.a.createElement(Ys,{href:r},"View docs"))}}])&&ud(n.prototype,r),i&&ud(n,i),t}(a.a.PureComponent);function md(e){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bd(e,t){return(bd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==md(t)&&"function"!=typeof t?yd(e):t}(this,vd(t).call(this,e))).state={selectedViz:""},n.selectViz=n.selectViz.bind(yd(n)),n.onSubmit=n.onSubmit.bind(yd(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bd(e,t)}(t,e),n=t,(r=[{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:{vizType:e,topicName:t,messageType:n}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.selectViz,n=this.state.selectedViz,r=n.messageType,i=n.topicName;t(n.vizType,i,r)}},{key:"render",value:function(){var e=this,t=this.state.selectedViz,n=this.props,r=n.closeModal,i=n.rosParams,o=n.rosTopics;return a.a.createElement(Yc,{onSubmit:this.onSubmit},a.a.createElement(Wc,null,a.a.createElement($c,null,c.a.map(le,(function(n){return a.a.createElement(ad,{selectViz:e.selectViz,selectedViz:t,rosParams:i,key:n.type,vizDetails:n,topics:c.a.filter(o,(function(e){return c.a.includes(n.messageTypes,e.messageType)}))})}))),a.a.createElement(Gc,null,t?a.a.createElement(pd,{vizType:t.vizType}):a.a.createElement("p",null,"No visualization selected.",a.a.createElement("br",null),"Please choose a visualization on the left to see details"))),a.a.createElement(Uc,null,a.a.createElement(Js,null),a.a.createElement(ic,{type:"submit",disabled:!t},"Proceed"),a.a.createElement(ic,{type:"button",onClick:r},"Close")))}}])&&gd(n.prototype,r),i&&gd(n,i),t}(a.a.PureComponent);function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ed(e){return(Ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cd(e,t){return(Cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ad=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==xd(t)&&"function"!=typeof t?Sd(e):t}(this,Ed(t).call(this,e))).state={selectedViz:""},n.selectViz=n.selectViz.bind(Sd(n)),n.onSubmit=n.onSubmit.bind(Sd(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cd(e,t)}(t,e),n=t,(r=[{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:{vizType:e,topicName:t,messageType:n}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.selectViz,n=this.state.selectedViz,r=n.messageType,i=n.topicName;t(n.vizType,i,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,r=t.rosTopics,i=this.state.selectedViz;return a.a.createElement(Yc,{onSubmit:this.onSubmit},a.a.createElement(Wc,null,a.a.createElement($c,null,c.a.map(c.a.sortBy(r,"name"),(function(t){var n=t.name,r=t.messageType,o=c.a.find(le,(function(e){return c.a.includes(e.messageTypes,r)}));return o?a.a.createElement(Xc,{type:"button",selected:c.a.get(i,"topicName")===n,key:n,onClick:function(){return e.selectViz(o.type,n,r)}},n,a.a.createElement(Js,null),"(",r,")"):a.a.createElement(Vc,{key:n},n,a.a.createElement(Js,null),"(Unsupported type: ",r,")")})))),a.a.createElement(Uc,null,a.a.createElement(Js,null),a.a.createElement(ic,{type:"submit",disabled:!i},"Proceed"),a.a.createElement(ic,{type:"button",onClick:n},"Close")))}}])&&_d(n.prototype,r),i&&_d(n,i),t}(a.a.Component);function Td(e){return(Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(n,!0).forEach((function(t){Od(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Od(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e){return(Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ld(e,t){return(Ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dd={loading:0,loaded:1,error:2},jd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Td(t)&&"function"!=typeof t?Fd(e):t}(this,Rd(t).call(this,e))).state={name:e.selectedViz.vizType,packages:{},status:Dd.loading},n.onSubmit=n.onSubmit.bind(Fd(n)),n.getPackages=n.getPackages.bind(Fd(n)),n.updateName=n.updateName.bind(Fd(n)),n.updatePackage=n.updatePackage.bind(Fd(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ld(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.getPackages()}},{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"getPackages",value:function(){var e=this,t=this.props,n=t.ros,r=t.selectedViz.topicName;try{new y.a.RobotModel(n,r).getPackages((function(t){e.setState({packages:c.a.mapValues(c.a.keyBy(t),(function(e){return"/".concat(e)})),status:Dd.loaded})}))}catch(e){this.setState({status:Dd.error})}}},{key:"updatePackage",value:function(e){var t=e.target,n=t.dataset.id,r=t.value,i=this.state.packages;this.setState({packages:kd({},i,Od({},n,r))})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props,n=t.addVisualization,r=t.selectedViz,i=this.state;n(kd({},r,{name:i.name,packages:i.packages}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.packages,i=t.status,o=this.props.back;return i===Dd.loading?a.a.createElement(qs,null,"Loading list of packages..."):i===Dd.error?a.a.createElement(qs,null,"Error occured while fetching packages. Please"," ",a.a.createElement(Gs,{onClick:this.getPackages},"try again")):a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(ac,null,a.a.createElement(sc,null,"Visualization name"),a.a.createElement(lc,{value:n,onChange:this.updateName})),a.a.createElement(qc,null,"Packages"),c.a.map(r,(function(t,n){return a.a.createElement(ac,{key:n},a.a.createElement(sc,null,n),a.a.createElement(lc,{"data-id":n,value:t,onChange:e.updatePackage,required:!0}))})),a.a.createElement(Uc,null,a.a.createElement(Js,null),a.a.createElement(ic,{type:"submit"},"Add Robot model"),a.a.createElement(ic,{type:"button",onClick:o},"Back")))}}])&&Pd(n.prototype,r),i&&Pd(n,i),t}(a.a.Component);function Nd(e){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e){return(Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e,t){return(Vd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Nd(t)&&"function"!=typeof t?Hd(e):t}(this,Ud(t).call(this,e))).state={name:e.selectedViz.vizType},n.onSubmit=n.onSubmit.bind(Hd(n)),n.updateName=n.updateName.bind(Hd(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vd(e,t)}(t,e),n=t,(r=[{key:"updateName",value:function(e){this.setState({name:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props;(0,t.addVisualization)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Id(n,!0).forEach((function(t){Bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Id(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.selectedViz,{name:this.state.name,visible:!0}))}},{key:"render",value:function(){var e=this.state.name,t=this.props.back;return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(ac,null,a.a.createElement(sc,null,"Visualization name"),a.a.createElement(lc,{value:e,onChange:this.updateName})),a.a.createElement(Uc,null,a.a.createElement(Js,null),a.a.createElement(ic,{type:"submit"},"Add visualization"),a.a.createElement(ic,{type:"button",onClick:t},"Back")))}}])&&zd(n.prototype,r),i&&zd(n,i),t}(a.a.Component);function $d(e){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qd(e,t){return!t||"object"!==$d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yd(e){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kd=v.CONSTANTS.VIZ_TYPE_ROBOTMODEL,Zd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qd(this,Yd(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.addVisualization,n=e.back,r=e.ros,i=e.selectedViz.vizType,o=e.selectedViz;return i===Kd?a.a.createElement(jd,{addVisualization:t,ros:r,selectedViz:o,back:n}):a.a.createElement(Wd,{addVisualization:t,selectedViz:o,back:n})}}])&&Gd(n.prototype,r),i&&Gd(n,i),t}(a.a.PureComponent);function Jd(e){return(Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nf(e,t){return(nf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rf={vizType:"Visualization type",topicName:"Topic name"},of=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Jd(t)&&"function"!=typeof t?tf(e):t}(this,ef(t).call(this,e))).state={tabType:rf.vizType,selectedViz:""},n.updateTab=n.updateTab.bind(tf(n)),n.selectViz=n.selectViz.bind(tf(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nf(e,t)}(t,e),n=t,(r=[{key:"updateTab",value:function(e){this.setState({tabType:e})}},{key:"selectViz",value:function(e,t,n){this.setState({selectedViz:e?{vizType:e,topicName:t,messageType:n}:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addVisualization,r=t.closeModal,i=t.ros,o=t.rosParams,s=t.rosTopics,l=this.state,u=l.selectedViz,h=l.tabType;return a.a.createElement(Ic,{onClick:r},a.a.createElement(Bc,{onClick:pe},a.a.createElement(zc,null,"Add Visualization"),u?a.a.createElement(Zd,{addVisualization:n,selectedViz:u,ros:i,back:function(){return e.selectViz(null)}}):a.a.createElement(a.a.Fragment,null,a.a.createElement(nc,null,c.a.map(rf,(function(t){return a.a.createElement(rc,{key:t,type:"button",selected:h===t,onClick:function(){return e.updateTab(t)}},t)}))),h===rf.vizType?a.a.createElement(wd,{selectViz:this.selectViz,rosTopics:s,rosParams:o,closeModal:r}):a.a.createElement(Ad,{selectViz:this.selectViz,rosTopics:s,closeModal:r}))))}}])&&Qd(n.prototype,r),i&&Qd(n,i),t}(a.a.Component),af=function(e){var t=e.label,n=e.children,r=e.separator;return a.a.createElement(dc,null,a.a.createElement(hc,null,t,r||":"),a.a.createElement(hc,null,n))};function sf(e){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hf(e,t){return(hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var df=Object(be.c)(Sc).withConfig({displayName:"EditConfigButton",componentId:"sc-16xprvn-0"})(["font-size:14px;"]),ff=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sf(t)&&"function"!=typeof t?uf(e):t}(this,lf(t).call(this,e))).updateOptions=n.updateOptions.bind(uf(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}(t,e),n=t,(r=[{key:"updateOptions",value:function(e){var t=this.props.updateGlobalOptions,n=e.target;t(n.dataset.id,n.value)}},{key:"render",value:function(){var e=this.props,t=e.framesList,n=e.globalOptions,r=n.backgroundColor,i=r.display,o=r.value,s=n.display,l=n.fixedFrame,u=l.display,h=l.value,d=n.grid,f=d.display,p=d.size,m=e.toggleConfigurationModal;return s?a.a.createElement(tc,null,a.a.createElement(df,{onClick:m},"Edit Configuration"),i&&a.a.createElement(af,{label:"Background Color"},a.a.createElement(lc,{type:"color","data-id":"backgroundColor.value",value:o,onChange:this.updateOptions})),f&&a.a.createElement(af,{label:"Grid size"},p),u&&a.a.createElement(af,{label:"Fixed frame"},a.a.createElement(uc,{value:h,"data-id":"fixedFrame.value",onChange:this.updateOptions},c.a.map(t,(function(e){return a.a.createElement("option",{key:e,value:e},e)}))))):null}}])&&cf(n.prototype,r),i&&cf(n,i),t}(a.a.PureComponent);function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gf(e,t){return!t||"object"!==pf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vf(e){return(vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e,t){return(yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gf(this,vf(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.status;return a.a.createElement(mc,{status:e})}}])&&mf(n.prototype,r),i&&mf(n,i),t}(a.a.PureComponent);function wf(e){return(wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sf(e,t){return(Sf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cf=0,Af=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==wf(t)&&"function"!=typeof t?Ef(e):t}(this,_f(t).call(this,e))).state={timer:0},n.retryTime=Cf,n.timerInstance=null,n.onTick=n.onTick.bind(Ef(n)),n.startTimer=n.startTimer.bind(Ef(n)),n.stopTimer=n.stopTimer.bind(Ef(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sf(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){switch(this.props.rosStatus){case de.CONNECTED:this.retryTime=Cf;break;case de.CONNECTING:this.stopTimer();break;case de.CONNECTION_ERROR:case de.INITIAL:default:!this.timerInstance&&this.retryTime<100&&(this.retryTime+=5,this.startTimer())}}},{key:"onTick",value:function(){var e=this.state.timer,t=this.props.connectRos;0===e?(this.timerInstance=null,t()):(this.setState({timer:e-1}),this.timerInstance=setTimeout(this.onTick,1e3))}},{key:"startTimer",value:function(){this.setState({timer:this.retryTime}),this.timerInstance=setTimeout(this.onTick,1e3)}},{key:"stopTimer",value:function(){this.timerInstance&&(clearTimeout(this.timerInstance),this.timerInstance=null,this.setState({timer:0}))}},{key:"render",value:function(){var e=this.state.timer,t=this.props.rosStatus;return Object(s.includes)([de.CONNECTING,de.CONNECTED],t)?null:e>0?"Reconnecting in ".concat(e," seconds"):null}}])&&xf(n.prototype,r),i&&xf(n,i),t}(a.a.Component);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return!t||"object"!==Tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Of(e){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rf=v.CONSTANTS.AXES,Ff=v.CONSTANTS.COLOR_TRANSFORMERS,Lf=v.CONSTANTS.INTENSITY_CHANNEL_OPTIONS,Df=function(e){var t=e.options,n=t.autocomputeIntensityBounds,r=t.channelName,i=t.maxColor,o=t.maxIntensity,s=t.minColor,l=t.minIntensity,u=t.useRainbow,h=e.updateOptions;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Channel Name"},a.a.createElement(uc,{name:"channelName","data-id":"channelName",onChange:h,value:r},c.a.map(Lf,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),!u&&a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Min Color"},a.a.createElement(lc,{name:"minColor",type:"color","data-id":"minColor",value:s,onChange:h})),a.a.createElement(af,{label:"Max Color"},a.a.createElement(lc,{name:"maxColor",type:"color","data-id":"maxColor",value:i,onChange:h}))),!n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Min Intensity"},a.a.createElement(lc,{type:"number",name:"minIntensity","data-id":"minIntensity",value:l,onChange:h})),a.a.createElement(af,{label:"Max Intensity"},a.a.createElement(lc,{type:"number",name:"maxIntensity","data-id":"maxIntensity",value:o,onChange:h}))))},jf=function(e){var t=e.options,n=t.autocomputeValueBounds,r=t.axis,i=t.maxAxisValue,o=t.minAxisValue,s=e.updateOptions;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Axis"},a.a.createElement(uc,{name:"axis","data-id":"axis",onChange:s,value:r},c.a.map(Rf,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),!n&&a.a.createElement(fc,null,a.a.createElement(af,{label:"Min Value"},a.a.createElement(lc,{type:"number",name:"minAxisValue","data-id":"minAxisValue",value:o,onChange:s})),a.a.createElement(af,{label:"Max Value"},a.a.createElement(lc,{type:"number",name:"maxAxisValue","data-id":"maxAxisValue",value:i,onChange:s}))))},Nf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kf(this,Of(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=t.colorTransformer,r=t.flatColor,i=e.options,o=e.updateOptions;switch(n){case Ff.INTENSITY:return a.a.createElement(Df,{options:i,updateOptions:o});case Ff.AXIS_COLOR:return a.a.createElement(jf,{options:i,updateOptions:o});case Ff.FLAT_COLOR:return a.a.createElement(af,{label:"Flat Color"},a.a.createElement(lc,{type:"color",name:"flatColor","data-id":"flatColor",value:r,onChange:o}));default:return null}}}])&&Mf(n.prototype,r),i&&Mf(n,i),t}(a.a.PureComponent);function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hf(e){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wf(e,t){return(Wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $f=v.CONSTANTS.COLOR_TRANSFORMERS,Gf=v.CONSTANTS.DEFAULT_OPTIONS_LASERSCAN,qf=v.CONSTANTS.LASERSCAN_STYLES,Yf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==If(t)&&"function"!=typeof t?Vf(e):t}(this,Hf(t).call(this,e))).updateOptions=ve.bind(Vf(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wf(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bf(n,!0).forEach((function(t){zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Gf,{},e),n=t.alpha,r=t.colorTransformer,i=t.size,o=t.style;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Style"},a.a.createElement(uc,{name:"style","data-id":"style",onChange:this.updateOptions,value:o},c.a.map(qf,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(af,{label:"Size"},a.a.createElement(lc,{type:"number",name:"size","data-id":"size",value:i,onChange:this.updateOptions})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})),a.a.createElement(af,{label:"Color Transformer"},a.a.createElement(uc,{name:"colorTransformer","data-id":"colorTransformer",onChange:this.updateOptions,value:r},c.a.map($f,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(Nf,{options:t,updateOptions:this.updateOptions}))}}])&&Uf(n.prototype,r),i&&Uf(n,i),t}(a.a.PureComponent);function Xf(e){return(Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tp(e,t){return(tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var np=v.CONSTANTS.DEFAULT_OPTIONS_MAP,rp=v.CONSTANTS.MAP_COLOR_SCHEMES,ip=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Xf(t)&&"function"!=typeof t?ep(e):t}(this,Qf(t).call(this,e))).updateOptions=ve.bind(ep(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kf(n,!0).forEach((function(t){Zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kf(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},np,{},e),n=t.alpha,r=t.colorScheme,i=t.drawBehind;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})),a.a.createElement(af,{label:"Color Scheme"},a.a.createElement(uc,{name:"colorScheme","data-id":"colorScheme",onChange:this.updateOptions,value:r},c.a.map(rp,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(af,{label:"Draw Behind"},a.a.createElement(lc,{type:"checkbox",name:"drawBehind","data-id":"drawBehind",value:i,onChange:this.updateOptions})))}}])&&Jf(n.prototype,r),i&&Jf(n,i),t}(a.a.Component);function op(e){return(op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(n,!0).forEach((function(t){cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function up(e){return(up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fp=v.CONSTANTS.DEFAULT_OPTIONS_MARKER,pp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==op(t)&&"function"!=typeof t?hp(e):t}(this,up(t).call(this,e))).updateNamespaceVisibility=n.updateNamespaceVisibility.bind(hp(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dp(e,t)}(t,e),n=t,(r=[{key:"updateNamespaceVisibility",value:function(e){var t=this.props,n=t.options,r=n.key,i=n.namespaces,o=t.updateVizOptions,a=e.target,s=a.checked;o(r,{namespaces:sp({},i,cp({},a.dataset.id,s))})}},{key:"render",value:function(){var e=this,t=this.props.options,n=sp({},fp,{},t).namespaces;return 0===c.a.size(c.a.compact(c.a.keys(n)))?null:a.a.createElement(a.a.Fragment,null,"Namespaces:",a.a.createElement(fc,null,c.a.map(n,(function(t,n){return n?a.a.createElement(af,{label:n},a.a.createElement(lc,{name:n,type:"checkbox","data-id":"key",checked:t,onChange:e.updateNamespaceVisibility})):null}))))}}])&&lp(n.prototype,r),i&&lp(n,i),t}(a.a.PureComponent);function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t){return!t||"object"!==mp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xp(e,t){return(xp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _p=v.CONSTANTS.DEFAULT_OPTIONS_ARROW,Ep=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bp(this,wp(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gp(n,!0).forEach((function(t){vp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_p,{},t),i=r.alpha,o=r.color,s=r.headLength,c=r.headRadius,l=r.shaftLength,u=r.shaftRadius;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Color"},a.a.createElement(lc,{name:"color",type:"color",value:o,"data-id":"color",onChange:n})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{name:"alpha",type:"number",value:i,"data-id":"alpha",onChange:n})),a.a.createElement(af,{label:"Shaft Length"},a.a.createElement(lc,{name:"shaftLength",type:"number",value:l,"data-id":"shaftLength",onChange:n})),a.a.createElement(af,{label:"Shaft Radius"},a.a.createElement(lc,{name:"shaftRadius",type:"number",value:u,"data-id":"shaftRadius",onChange:n})),a.a.createElement(af,{label:"Head Length"},a.a.createElement(lc,{name:"headLength",type:"number",value:s,"data-id":"headLength",onChange:n})),a.a.createElement(af,{label:"Head Radius"},a.a.createElement(lc,{name:"headRadius",type:"number",value:c,"data-id":"headRadius",onChange:n})))}}])&&yp(n.prototype,r),i&&yp(n,i),t}(a.a.PureComponent);function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mp(e,t){return!t||"object"!==Sp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kp(e){return(kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Op(e,t){return(Op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pp=v.CONSTANTS.DEFAULT_OPTIONS_FLATARROW,Rp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mp(this,kp(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Op(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(n,!0).forEach((function(t){Ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Pp,{},t),i=r.alpha,o=r.arrowLength,s=r.color;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Color"},a.a.createElement(lc,{name:"color",type:"color",value:s,"data-id":"color",onChange:n})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{name:"alpha",type:"number",value:i,"data-id":"alpha",onChange:n})),a.a.createElement(af,{label:"Arrow length"},a.a.createElement(lc,{name:"arrowLength",type:"number","data-id":"arrowLength",value:o,onChange:n})))}}])&&Tp(n.prototype,r),i&&Tp(n,i),t}(a.a.PureComponent);function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Np(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bp(e,t){return(Bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zp=v.CONSTANTS.DEFAULT_OPTIONS_AXES,Up=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Np(this,Ip(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateOptions,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lp(n,!0).forEach((function(t){Dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},zp,{},t),i=r.axesLength,o=r.axesRadius;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Axes Length"},a.a.createElement(lc,{name:"axesLength",type:"number","data-id":"axesLength",value:i,onChange:n})),a.a.createElement(af,{label:"Axes Radius"},a.a.createElement(lc,{name:"axesRadius",type:"number","data-id":"axesRadius",value:o,onChange:n})))}}])&&jp(n.prototype,r),i&&jp(n,i),t}(a.a.PureComponent);function Hp(e){return(Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wp(e,t){return!t||"object"!==Hp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gp(e,t){return(Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qp=v.CONSTANTS.OBJECT_TYPE_ARROW,Yp=v.CONSTANTS.OBJECT_TYPE_AXES,Xp=v.CONSTANTS.OBJECT_TYPE_FLAT_ARROW,Kp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wp(this,$p(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gp(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=e.options.type,r=e.updateOptions;switch(n){case qp:return a.a.createElement(Ep,{updateOptions:r,options:t});case Xp:return a.a.createElement(Rp,{updateOptions:r,options:t});case Yp:return a.a.createElement(Up,{updateOptions:r,options:t});default:return null}}}])&&Vp(n.prototype,r),i&&Vp(n,i),t}(a.a.PureComponent);function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e){return(tm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rm(e,t){return(rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var im=v.CONSTANTS.DEFAULT_OPTIONS_ODOMETRY,om=v.CONSTANTS.OBJECT_TYPE_ARROW,am=v.CONSTANTS.OBJECT_TYPE_AXES,sm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Zp(t)&&"function"!=typeof t?nm(e):t}(this,tm(t).call(this,e))).updateOptions=ve.bind(nm(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(n,!0).forEach((function(t){Qp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},im,{},e),n=t.angleTolerance,r=t.keep,i=t.positionTolerance,o=t.type;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Position Tolerance"},a.a.createElement(lc,{name:"positionTolerance",type:"number",value:i,"data-id":"positionTolerance",onChange:this.updateOptions})),a.a.createElement(af,{label:"Angle Tolerance"},a.a.createElement(lc,{name:"angleTolerance",type:"number","data-id":"angleTolerance",value:n,onChange:this.updateOptions})),a.a.createElement(af,{label:"Keep"},a.a.createElement(lc,{name:"keep",type:"number","data-id":"keep",value:r,onChange:this.updateOptions})),a.a.createElement(af,{label:"Shape"},a.a.createElement(uc,{name:"type","data-id":"type",onChange:this.updateOptions,value:o},c.a.map([om,am],(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(fc,null,a.a.createElement(Kp,{options:t,updateOptions:this.updateOptions})))}}])&&em(n.prototype,r),i&&em(n,i),t}(a.a.PureComponent);function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dm(e){return(dm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pm(e,t){return(pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mm,gm=v.CONSTANTS.DEFAULT_OPTIONS_PATH,vm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==cm(t)&&"function"!=typeof t?fm(e):t}(this,dm(t).call(this,e))).updateOptions=ve.bind(fm(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(n,!0).forEach((function(t){um(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},gm,{},e),n=t.alpha,r=t.color;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Color"},a.a.createElement(lc,{type:"color",name:"color","data-id":"color",value:r,onChange:this.updateOptions})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})))}}])&&hm(n.prototype,r),i&&hm(n,i),t}(a.a.PureComponent);function ym(e){return(ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e){return(xm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Em(e,t){return(Em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cm=v.CONSTANTS.DEFAULT_OPTIONS_POSE,Am=v.CONSTANTS.OBJECT_TYPE_ARROW,Tm=v.CONSTANTS.OBJECT_TYPE_AXES,Mm=v.CONSTANTS.OBJECT_TYPE_FLAT_ARROW,km=v.CONSTANTS.VIZ_TYPE_POSE,Om=v.CONSTANTS.VIZ_TYPE_POSEARRAY,Pm=(Sm(mm={},km,[Am,Tm]),Sm(mm,Om,[Am,Tm,Mm]),mm),Rm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ym(t)&&"function"!=typeof t?_m(e):t}(this,xm(t).call(this,e))).updateOptions=ve.bind(_m(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Em(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(n,!0).forEach((function(t){Sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Cm,{},e),n=t.type,r=t.vizType;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Shape"},a.a.createElement(uc,{name:"type","data-id":"type",onChange:this.updateOptions,value:n},c.a.map(Pm[r],(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(fc,null,a.a.createElement(Kp,{options:t,updateOptions:this.updateOptions})))}}])&&wm(n.prototype,r),i&&wm(n,i),t}(a.a.PureComponent);function Fm(e){return(Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nm(e){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Im(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bm(e,t){return(Bm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zm=v.CONSTANTS.DEFAULT_OPTIONS_POINTCLOUD,Um=v.CONSTANTS.POINTCLOUD_COLOR_CHANNELS,Hm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Fm(t)&&"function"!=typeof t?Im(e):t}(this,Nm(t).call(this,e))).updateOptions=ve.bind(Im(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(n,!0).forEach((function(t){Dm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},zm,{},e),n=t.colorChannel,r=t.size,i=t.useRainbow;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Color channel"},a.a.createElement(uc,{name:"colorChannel","data-id":"colorChannel",onChange:this.updateOptions,value:n},c.a.map(Um,(function(e){return a.a.createElement("option",{key:e,value:e},e)})))),a.a.createElement(af,{label:"Size"},a.a.createElement(lc,{type:"number",name:"size","data-id":"size",value:r,onChange:this.updateOptions})),n===Um.INTENSITY&&a.a.createElement(af,{label:"Use Rainbow"},a.a.createElement(lc,{type:"checkbox",name:"useRainbow","data-id":"useRainbow",checked:i,onChange:this.updateOptions})))}}])&&jm(n.prototype,r),i&&jm(n,i),t}(a.a.PureComponent);function Vm(e){return(Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qm(e){return(qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ym(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xm(e,t){return(Xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Km=v.CONSTANTS.DEFAULT_OPTIONS_RANGE,Zm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Vm(t)&&"function"!=typeof t?Ym(e):t}(this,qm(t).call(this,e))).updateOptions=ve.bind(Ym(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xm(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wm(n,!0).forEach((function(t){$m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Km,{},e),n=t.alpha,r=t.color;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Color"},a.a.createElement(lc,{type:"color",name:"color","data-id":"color",value:r,onChange:this.updateOptions})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{type:"number",name:"alpha","data-id":"alpha",value:n,onChange:this.updateOptions})))}}])&&Gm(n.prototype,r),i&&Gm(n,i),t}(a.a.PureComponent);function Jm(e){return(Jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ng(e){return(ng=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ig(e,t){return(ig=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var og=v.CONSTANTS.DEFAULT_OPTIONS_POINT,ag=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Jm(t)&&"function"!=typeof t?rg(e):t}(this,ng(t).call(this,e))).updateOptions=ve.bind(rg(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ig(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(n,!0).forEach((function(t){eg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},og,{},e),n=t.alpha,r=t.color,i=t.radius;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Radius"},a.a.createElement(lc,{type:"number",name:"radius",step:"0.01","data-id":"radius",value:i,onChange:this.updateOptions})),a.a.createElement(af,{label:"Color"},a.a.createElement(lc,{type:"color",name:"color","data-id":"color",value:r,onChange:this.updateOptions})),a.a.createElement(af,{label:"Alpha"},a.a.createElement(lc,{type:"number",name:"alpha",step:"0.01","data-id":"alpha",value:n,onChange:this.updateOptions})))}}])&&tg(n.prototype,r),i&&tg(n,i),t}(a.a.PureComponent);function sg(e){return(sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lg(e,t){return!t||"object"!==sg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ug(e){return(ug=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hg(e,t){return(hg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dg=v.CONSTANTS.MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK,fg=v.CONSTANTS.MESSAGE_TYPE_INTERACTIVEMARKER_UPDATE,pg=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=lg(this,ug(t).call(this,e))).props,i=r.options,o=r.relatedTopics,a=r.updateVizOptions,s=i.key;return n.updateTopics=c.a.filter(o,(function(e){return e.messageType===fg})),n.feedbackTopics=c.a.filter(o,(function(e){return e.messageType===dg})),a(s,{updateTopicName:{name:n.updateTopics.length>0?n.updateTopics[0].name:"",messageType:fg},feedbackTopicName:{name:n.feedbackTopics.length>0?n.feedbackTopics[0].name:"",messageType:dg}}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.options,n=e.updateVizOptions,r=t.feedbackTopicName,i=t.key,o=t.updateTopicName;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"Update Topic"},a.a.createElement(uc,{value:o||"",onChange:function(e){return n(i,{updateTopicName:{name:e.target.value,messageType:fg}})}},a.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select"),c.a.map(this.updateTopics,(function(e){return a.a.createElement("option",{key:e.name},e.name)})))),a.a.createElement(af,{label:"Feedback Topic"},a.a.createElement(uc,{value:r||"",onChange:function(e){return n(i,{feedbackTopicName:{name:e.target.value,messageType:dg}})}},a.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Select"),c.a.map(this.feedbackTopics,(function(e){return a.a.createElement("option",{key:e.name},e.name)})))))}}])&&cg(n.prototype,r),i&&cg(n,i),t}(a.a.PureComponent);function mg(e){return(mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bg(e){return(bg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xg(e,t){return(xg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _g=v.CONSTANTS.DEFAULT_OPTIONS_WRENCH,Eg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==mg(t)&&"function"!=typeof t?wg(e):t}(this,bg(t).call(this,e))).updateOptions=ve.bind(wg(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xg(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.options,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gg(n,!0).forEach((function(t){vg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gg(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},_g,{},e),n=t.alpha,r=t.arrowWidth,i=t.forceArrowScale,o=t.forceColor,s=t.torqueArrowScale,c=t.torqueColor;return a.a.createElement(a.a.Fragment,null,a.a.createElement(af,{label:"forceColor"},a.a.createElement(lc,{type:"color",name:"forceColor","data-id":"forceColor",value:o,onChange:this.updateOptions})),a.a.createElement(af,{label:"torqueColor"},a.a.createElement(lc,{type:"color",name:"torqueColor","data-id":"torqueColor",value:c,onChange:this.updateOptions})),a.a.createElement(af,{label:"alpha"},a.a.createElement(lc,{type:"number",name:"alpha",step:"0.1","data-id":"alpha",value:n,onChange:this.updateOptions})),a.a.createElement(af,{label:"forceArrowScale"},a.a.createElement(lc,{type:"number",name:"forceArrowScale",step:"0.1","data-id":"forceArrowScale",value:i,onChange:this.updateOptions})),a.a.createElement(af,{label:"torqueArrowScale"},a.a.createElement(lc,{type:"number",name:"torqueArrowScale",step:"0.1","data-id":"torqueArrowScale",value:s,onChange:this.updateOptions})),a.a.createElement(af,{label:"arrowWidth"},a.a.createElement(lc,{type:"number",name:"arrowWidth",step:"0.1","data-id":"arrowWidth",value:r,onChange:this.updateOptions})))}}])&&yg(n.prototype,r),i&&yg(n,i),t}(a.a.PureComponent),Sg=function(){return a.a.createElement("svg",{version:"1.1",id:"chevron",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 12.5 6.2",style:{enableBackground:"new 0 0 12.5 6.2"}},a.a.createElement("polygon",{style:{fill:"#888888"},points:"0.8,0.5 11.6,0.5 6.2,5.9 "}))};function Cg(e){return(Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tg(e){return(Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kg(e,t){return(kg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}a.a.PureComponent;var Og=v.CONSTANTS.VIZ_TYPE_IMAGE,Pg=v.CONSTANTS.VIZ_TYPE_INTERACTIVEMARKER,Rg=v.CONSTANTS.VIZ_TYPE_LASERSCAN,Fg=v.CONSTANTS.VIZ_TYPE_MAP,Lg=v.CONSTANTS.VIZ_TYPE_MARKER,Dg=v.CONSTANTS.VIZ_TYPE_MARKERARRAY,jg=v.CONSTANTS.VIZ_TYPE_ODOMETRY,Ng=v.CONSTANTS.VIZ_TYPE_PATH,Ig=v.CONSTANTS.VIZ_TYPE_POINT,Bg=v.CONSTANTS.VIZ_TYPE_POINTCLOUD,zg=v.CONSTANTS.VIZ_TYPE_POLYGON,Ug=v.CONSTANTS.VIZ_TYPE_POSE,Hg=v.CONSTANTS.VIZ_TYPE_POSEARRAY,Vg=v.CONSTANTS.VIZ_TYPE_RANGE,Wg=v.CONSTANTS.VIZ_TYPE_ROBOTMODEL,$g=v.CONSTANTS.VIZ_TYPE_TF,Gg=v.CONSTANTS.VIZ_TYPE_WRENCH,qg=function(e){var t=e.options.vizType,n=e.options,r=e.topics,i=e.relatedTopics,o=e.updateVizOptions;switch(t){case Og:return null;case Pg:return a.a.createElement(pg,{options:n,topics:r,relatedTopics:i,updateVizOptions:o});case Rg:return a.a.createElement(Yf,{options:n,updateVizOptions:o});case Fg:return a.a.createElement(ip,{options:n,updateVizOptions:o});case Lg:return a.a.createElement(pp,{options:n,updateVizOptions:o});case Dg:return null;case jg:return a.a.createElement(sm,{options:n,updateVizOptions:o});case Ng:return a.a.createElement(vm,{options:n,updateVizOptions:o});case Ig:return a.a.createElement(ag,{options:n,updateVizOptions:o});case Bg:return a.a.createElement(Hm,{options:n,updateVizOptions:o});case zg:return null;case Ug:return a.a.createElement(Rm,{options:n,updateVizOptions:o});case Hg:return null;case Vg:return a.a.createElement(Zm,{options:n,updateVizOptions:o});case Wg:case $g:return null;case Gg:return a.a.createElement(Eg,{options:n,updateVizOptions:o});default:return null}};function Yg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xg=v.CONSTANTS.VIZ_TYPE_INTERACTIVEMARKER,Kg=v.CONSTANTS.VIZ_TYPE_ROBOTMODEL,Zg=v.CONSTANTS.VIZ_TYPE_TF,Jg=function(e){var t=e.options,n=t.display,r=t.key,i=t.name,s=t.topicName,l=t.visible,u=t.vizType,h=e.options,d=e.topics,f=e.relatedTopics,p=e.vizObject.icon,m=e.updateVizOptions,g=e.removeVisualization,v=e.toggleVisibility,y=Yg(Object(o.useState)(!1),2),b=y[0],w=y[1];if(c.a.isBoolean(n)&&!n)return null;return a.a.createElement(qh,null,a.a.createElement(dc,null,a.a.createElement(Xh,{collapsed:b,onClick:function(){return w(!b)}},a.a.createElement(Sg,null)),a.a.createElement(Vh,null,p),i),!b&&a.a.createElement(Hh,null,!c.a.includes([Kg,Zg,"Depthcloud stream","Image stream"],u)&&a.a.createElement(af,{label:"Topic"},a.a.createElement(uc,{value:s,onChange:function(e){m(r,u!==Xg?{topicName:e.target.value}:{topicName:e.target.value,updateTopicName:void 0,feedbackTopicName:void 0})}},c.a.map(d,(function(e){return a.a.createElement("option",{key:e.name},e.name)})))),a.a.createElement(qg,{options:h,topics:d,relatedTopics:f,updateVizOptions:m}),a.a.createElement(Yh,null,a.a.createElement(Gs,{"data-id":r,onClick:g},"Delete"),a.a.createElement(Gs,{"data-id":r,onClick:v},c.a.isBoolean(l)&&!l?"Show":"Hide"))))};function Qg(e){return(Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tv(e){return(tv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rv(e,t){return(rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Qg(t)&&"function"!=typeof t?nv(e):t}(this,tv(t).call(this,e))).state={rosInput:e.rosEndpoint},n.updateRosInput=n.updateRosInput.bind(nv(n)),n.onSubmit=n.onSubmit.bind(nv(n)),n.toggleSidebarOpen=n.toggleSidebarOpen.bind(nv(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rv(e,t)}(t,e),n=t,(r=[{key:"updateRosInput",value:function(e){this.setState({rosInput:e.target.value})}},{key:"toggleSidebarOpen",value:function(){(0,this.props.togglePanelCollapse)("sidebar")}},{key:"onSubmit",value:function(e){var t=this.props,n=t.connectRos,r=t.disconnectRos,i=t.rosEndpoint,o=t.rosStatus,a=t.updateRosEndpoint,s=this.state.rosInput;e.preventDefault(),s!==i?a(s):c.a.includes([de.CONNECTED,de.CONNECTING],o)?r():n()}},{key:"render",value:function(){var e=this.props,t=e.collapsedSidebar,n=e.connectRos,r=e.framesList,i=e.globalOptions,o=e.removeVisualization,s=e.rosInstance,l=e.rosStatus,u=e.rosTopics,h=e.toggleAddModal,d=e.toggleConfigurationModal,f=e.toggleVisibility,p=e.updateGlobalOptions,m=e.updateVizOptions,g=e.viewer,v=e.visualizations,y=this.state.rosInput;return a.a.createElement(gc,null,a.a.createElement(yc,{collapsedSidebar:t},a.a.createElement(tc,null,a.a.createElement($h,null,a.a.createElement(bf,{status:l}),a.a.createElement("span",null,l,"."," ",a.a.createElement(Af,{connectRos:n,rosStatus:l}))),a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement(sc,null,"ROS Endpoint"),a.a.createElement(Ks,null,a.a.createElement(lc,{type:"text",value:y,onChange:this.updateRosInput}),a.a.createElement(Zs,null),a.a.createElement(ic,{type:"submit"},c.a.includes([de.CONNECTED,de.CONNECTING],l)?"Disconnect":"Connect")))),a.a.createElement(Xs,null),l===de.CONNECTED&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ff,{framesList:r,globalOptions:i,updateGlobalOptions:p,toggleConfigurationModal:d}),a.a.createElement(Xs,null),a.a.createElement(Uh,null,a.a.createElement(ic,{type:"button",onClick:h},"Add Visualization"),0===c.a.size(v)&&a.a.createElement("p",null,"No visualizations added to the scene"),c.a.map(v,(function(e){var t=c.a.find(le,(function(t){return t.type===e.vizType}));if(!t)return null;var n=c.a.filter(u,(function(e){return c.a.includes(t.messageTypes,e.messageType)})),r=c.a.filter(u,(function(e){return c.a.includes(t.additionalMessageTypes,e.messageType)}));return a.a.createElement(Jg,{options:e,key:e.key,viewer:g,topics:n,relatedTopics:r,vizObject:t,rosInstance:s,updateVizOptions:m,removeVisualization:o,toggleVisibility:f})}))))),a.a.createElement(vc,{onClick:this.toggleSidebarOpen},t?"▸":"◂"))}}])&&ev(n.prototype,r),i&&ev(n,i),t}(a.a.Component);function ov(e){return(ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function av(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sv(e){return(sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lv(e,t){return(lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uv=be.c.div.withConfig({displayName:"StyledViewport",componentId:"sc-2nzg1y-0"})(["width:100%;height:100%;position:relative;#viewportStats{position:absolute !important;top:auto !important;left:auto !important;right:0 !important;bottom:0 !important;}"]),hv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ov(t)&&"function"!=typeof t?cv(e):t}(this,sv(t).call(this,e))).container=a.a.createRef(),n.updateViewerOptions=n.updateViewerOptions.bind(cv(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lv(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function(){this.updateViewerOptions()}},{key:"updateViewerOptions",value:function(){var e=this.props,t=e.globalOptions,n=t.backgroundColor.value,r=t.fixedFrame.value,i=t.grid,o=i.centerlineColor,a=i.color,s=i.divisions,c=i.size;e.viewer.updateOptions({backgroundColor:n,gridSize:c,gridDivisions:s,gridColor:a,gridCenterlineColor:o,selectedFrame:r})}},{key:"componentDidMount",value:function(){var e=this.props.viewer,t=this.container.current;e.setContainer(t),this.updateViewerOptions(),e.scene.stats.dom.id="viewportStats",t.appendChild(e.scene.stats.dom)}},{key:"componentWillUnmount",value:function(){this.props.viewer.destroy()}},{key:"render",value:function(){return a.a.createElement(uv,{ref:this.container})}}])&&av(n.prototype,r),i&&av(n,i),t}(a.a.PureComponent),dv=n("WGjm"),fv=function(e,t){return(fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var pv=function(){return(pv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var mv=n("Nznp"),gv={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},vv=function(e){function t(t){var n=e.call(this,t)||this;return n.resizing=!1,n.resizingPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e)},n.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}fv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.getOffsetFromParent(),t=e.left,n=e.top,r=this.getDraggablePosition(),i=r.x,o=r.y;this.draggable.setState({x:i-t,y:o-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.props.bounds){var n,r=this.getParent(),i=this.props.scale;if("parent"===this.props.bounds)n=r;else{if("body"===this.props.bounds){var o=r.getBoundingClientRect(),a=o.left,s=o.top,c=document.body.getBoundingClientRect(),l=-(a-r.offsetLeft*i-c.left)/i,u=-(s-r.offsetTop*i-c.top)/i,h=(document.body.offsetWidth-this.resizable.size.width*i)/i+l,d=(document.body.offsetHeight-this.resizable.size.height*i)/i+u;return this.setState({bounds:{top:u,right:h,bottom:d,left:l}})}if("window"===this.props.bounds){if(!this.resizable)return;var f=r.getBoundingClientRect(),p=f.left,m=f.top,g=-(p-r.offsetLeft*i)/i,v=-(m-r.offsetTop*i)/i;h=(window.innerWidth-this.resizable.size.width*i)/i+g,d=(window.innerHeight-this.resizable.size.height*i)/i+v;return this.setState({bounds:{top:v,right:h,bottom:d,left:g}})}n=document.querySelector(this.props.bounds)}if(n instanceof HTMLElement&&r instanceof HTMLElement){var y=n.getBoundingClientRect(),b=y.left,w=y.top,x=r.getBoundingClientRect(),_=(b-x.left)/i,E=w-x.top;if(this.resizable){var S=this.getOffsetFromParent();this.setState({bounds:{top:E-S.top,right:_+(n.offsetWidth-this.resizable.size.width)-S.left/i,bottom:E+(n.offsetHeight-this.resizable.size.height)-S.top,left:_-S.left/i}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.getOffsetFromParent();this.props.onDrag(e,pv(pv({},t),{x:t.x-n.left,y:t.y-n.top}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.getOffsetFromParent(),r=n.left,i=n.top;return this.props.onDragStop(e,pv(pv({},t),{x:t.x+r,y:t.y+i}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.resizing=!0;var r=this.props.scale;if(this.setState({original:this.getDraggablePosition()}),this.props.bounds){var i=this.getParent(),o=void 0;o="parent"===this.props.bounds?i:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var a=this.getSelfElement();if(a instanceof Element&&(o instanceof HTMLElement||o===window)&&i instanceof HTMLElement){var s=this.getMaxSizesFromProps(),c=s.maxWidth,l=s.maxHeight,u=this.getParentSize();if(c&&"string"==typeof c)if(c.endsWith("%")){var h=Number(c.replace("%",""))/100;c=u.width*h}else c.endsWith("px")&&(c=Number(c.replace("px","")));if(l&&"string"==typeof l)if(l.endsWith("%")){h=Number(l.replace("%",""))/100;l=u.width*h}else l.endsWith("px")&&(l=Number(l.replace("px","")));var d=a.getBoundingClientRect(),f=d.left,p=d.top,m="window"===this.props.bounds?{left:0,top:0}:o.getBoundingClientRect(),g=m.left,v=m.top,y=this.getOffsetWidth(o),b=this.getOffsetHeight(o),w=t.toLowerCase().endsWith("left"),x=t.toLowerCase().endsWith("right"),_=t.startsWith("top"),E=t.startsWith("bottom");if(w&&this.resizable){var S=(f-g)/r+this.resizable.size.width;this.setState({maxWidth:S>Number(c)?c:S})}if(x||this.props.lockAspectRatio&&!w){S=y+(g-f)/r;this.setState({maxWidth:S>Number(c)?c:S})}if(_&&this.resizable){S=(p-v)/r+this.resizable.size.height;this.setState({maxHeight:S>Number(l)?l:S})}if(E||this.props.lockAspectRatio&&!_){S=b+(v-p)/r;this.setState({maxHeight:S>Number(l)?l:S})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var i,o,a=this.getOffsetFromParent();/left/i.test(t)&&(i=this.state.original.x-r.width,this.draggable.setState({x:i}),i+=a.left),/top/i.test(t)&&(o=this.state.original.y-r.height,this.draggable.setState({y:o}),o+=a.top),void 0===i&&(i=this.getDraggablePosition().x+a.left),void 0===o&&(o=this.getDraggablePosition().y+a.top),this.resizingPosition={x:i,y:o},this.props.onResize&&this.props.onResize(e,t,n,r,{x:i,y:o})},t.prototype.onResizeStop=function(e,t,n,r){this.resizing=!1;var i=this.getMaxSizesFromProps(),o=i.maxWidth,a=i.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.getOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),i=r.left,o=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition();return{left:a.left-i-s.x*e,top:a.top-o-s.y*e}},t.prototype.render=function(){var e=this.props,t=e.disableDragging,n=e.style,r=e.dragHandleClassName,i=e.position,a=e.onMouseDown,s=e.onMouseUp,c=e.dragAxis,l=e.dragGrid,u=e.bounds,h=e.enableUserSelectHack,d=e.cancel,f=e.children,p=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),m=e.resizeHandleClasses,g=e.resizeHandleComponent,v=e.enableResizing,y=e.resizeGrid,b=e.resizeHandleWrapperClass,w=e.resizeHandleWrapperStyle,x=e.scale,_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale"]),E=this.props.default?pv({},this.props.default):void 0;delete _.default;var S,C=t||r?{cursor:"auto"}:{cursor:"move"},A=pv(pv(pv({},gv),C),n),T=this.getOffsetFromParent(),M=T.left,k=T.top;i&&(S={x:i.x-M,y:i.y-k});var O=this.resizing?void 0:S;return Object(o.createElement)(mv,{ref:this.refDraggable,handle:r?"."+r:void 0,defaultPosition:E,onMouseDown:a,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:c,disabled:t,grid:l,bounds:u?this.state.bounds:void 0,position:O,enableUserSelectHack:h,cancel:d,scale:x},Object(o.createElement)(dv.Resizable,pv({},_,{ref:this.refResizable,defaultSize:E,size:this.props.size,enable:v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:A,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:b,handleWrapperStyle:w,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:p,handleClasses:m,handleComponent:g,scale:this.props.scale}),f))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(o.PureComponent),yv={},bv=function(e){var t=e.topicName,n=yv[t];return n||(yv[n]=new y.a.RosTopicDataSource(e),yv[n])};function wv(e){return(wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sv(e){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Av(e,t){return(Av=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tv=y.a.CONSTANTS,Mv=Tv.MESSAGE_TYPE_IMAGE,kv=Tv.MESSAGE_TYPE_LASERSCAN,Ov=Tv.MESSAGE_TYPE_MARKER,Pv=Tv.MESSAGE_TYPE_MARKERARRAY,Rv=Tv.MESSAGE_TYPE_OCCUPANCYGRID,Fv=Tv.MESSAGE_TYPE_ODOMETRY,Lv=Tv.MESSAGE_TYPE_PATH,Dv=Tv.MESSAGE_TYPE_POINT,jv=Tv.MESSAGE_TYPE_POINTCLOUD2,Nv=Tv.MESSAGE_TYPE_POSEARRAY,Iv=Tv.MESSAGE_TYPE_POSESTAMPED,Bv=Tv.MESSAGE_TYPE_RANGE,zv=Tv.MESSAGE_TYPE_TF2,Uv=Tv.MESSAGE_TYPE_WRENCH,Hv=Tv.VIZ_TYPE_IMAGE,Vv=Tv.VIZ_TYPE_INTERACTIVEMARKER,Wv=Tv.VIZ_TYPE_LASERSCAN,$v=Tv.VIZ_TYPE_MAP,Gv=Tv.VIZ_TYPE_MARKER,qv=Tv.VIZ_TYPE_MARKERARRAY,Yv=Tv.VIZ_TYPE_ODOMETRY,Xv=Tv.VIZ_TYPE_PATH,Kv=Tv.VIZ_TYPE_POINT,Zv=Tv.VIZ_TYPE_POINTCLOUD,Jv=Tv.VIZ_TYPE_POSE,Qv=Tv.VIZ_TYPE_POSEARRAY,ey=Tv.VIZ_TYPE_RANGE,ty=Tv.VIZ_TYPE_ROBOTMODEL,ny=Tv.VIZ_TYPE_TF,ry=Tv.VIZ_TYPE_WRENCH,iy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==wv(t)&&"function"!=typeof t?Cv(e):t}(this,Sv(t).call(this,e))).vizInstance=null,n.imageDomRef=a.a.createRef(),n.resetVisualization=n.resetVisualization.bind(Cv(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Av(e,t)}(t,e),n=t,i=[{key:"getNewViz",value:function(e,t,n,r,i){switch(e){case"Image stream":return new y.a.ImageStream(n);case Hv:var o=bv({ros:t,topicName:n,messageType:Mv,queueSize:1,queueLength:0,compression:"cbor"});return new y.a.Image(o,i);case"Depthcloud stream":return new y.a.DepthCloud(n);case Vv:return new y.a.InteractiveMarkers(t,n,r,i);case Wv:var a=bv({ros:t,topicName:n,messageType:kv,compression:"cbor"});return new y.a.LaserScan(a,i);case $v:var s=bv({ros:t,topicName:n,messageType:Rv,compression:"cbor",queueSize:1,queueLength:0});return new y.a.Map(s,i);case Gv:var c=bv({ros:t,topicName:n,messageType:Ov});return new y.a.Marker(c,i);case qv:var l=bv({ros:t,topicName:n,messageType:Pv,queueLength:0,queueSize:1});return new y.a.MarkerArray(l,i);case Yv:var u=bv({ros:t,topicName:n,messageType:Fv});return new y.a.Odometry(u,i);case Xv:var h=bv({ros:t,topicName:n,messageType:Lv});return new y.a.Path(h,i);case Kv:var d=bv({ros:t,topicName:n,messageType:Dv});return new y.a.Point(d,i);case Zv:var f=bv({ros:t,topicName:n,messageType:jv,compression:"cbor",queueSize:1,queueLength:1});return new y.a.PointCloud(f,i);case Jv:var p=bv({ros:t,topicName:n,messageType:Iv});return new y.a.Pose(p,i);case Qv:var m=bv({ros:t,topicName:n,messageType:Nv});return new y.a.PoseArray(m,i);case ey:var g=bv({ros:t,topicName:n,messageType:Bv});return new y.a.Range(g,i);case ty:return new y.a.RobotModel(t,n,i);case ny:var v=bv({ros:t,topicName:n,messageType:zv});return new y.a.Tf(v,i);case ry:var b=bv({ros:t,topicName:n,messageType:Uv});return new y.a.Wrench(b,i);default:return null}}}],(r=[{key:"componentDidMount",value:function(){this.resetVisualization()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.options,r=n.topicName,i=n.visible,o=n.vizType,a=t.options,l=t.rosInstance,u=t.rosTopics;if(o!==e.options.vizType&&this.resetVisualization(),o===ny){var h=fe(u),d=fe(e.rosTopics);c.a.join(c.a.sortBy(c.a.map(h,"name")))!==c.a.join(c.a.sortBy(c.a.map(d,"name")))&&Object(s.map)(h,(function(e){return bv({ros:l,topicName:e.name,messageType:e.messageType})}))}else if(r!==e.options.topicName)if(this.vizInstance.changeTopic)this.vizInstance.changeTopic(r);else if(this.vizInstance.changeSources){var f=bv(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xv(n,!0).forEach((function(t){_v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xv(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.vizInstance.options,{ros:l,topicName:r}));this.vizInstance.changeSources([f])}this.vizInstance&&this.vizInstance.updateOptions(a),i!==e.options.visible&&this.updateVisibility(i)}},{key:"resetVisualization",value:function(){var e=this.props,n=e.options,r=e.options,i=r.topicName,o=r.visible,a=r.vizType,s=e.rosInstance,l=e.viewer;this.vizInstance&&this.vizInstance.destroy(),this.vizInstance=t.getNewViz(a,s,i,l,n),this.vizInstance&&(a===ty?l.addRobot(this.vizInstance):a===Hv?(this.imageDomRef.current.appendChild(this.vizInstance.object),this.vizInstance.subscribe()):"Image stream"===a?(this.imageDomRef.current.appendChild(this.vizInstance.object),this.vizInstance.subscribe()):(l.addVisualization(this.vizInstance),this.vizInstance.subscribe()),this.updateVisibility(!c.a.isBoolean(o)||o))}},{key:"updateVisibility",value:function(e){e?this.vizInstance.show():this.vizInstance.hide()}},{key:"componentWillUnmount",value:function(){this.vizInstance&&this.vizInstance.destroy()}},{key:"render",value:function(){var e=this,t=this.props.options,n=t.topicName,r=t.visible,i=t.vizType;return c.a.includes(["Image stream",Hv],i)?a.a.createElement(vv,{style:{visibility:r?"visible":"hidden"},default:{x:window.innerWidth-320-30,y:30,width:320,height:265},bounds:"window",onResizeStop:function(t,n,r){i===Hv&&e.vizInstance.updateDimensions(Number.parseInt(r.style.width,10),Number.parseInt(r.style.height,10)-25)}},a.a.createElement(Wh,{ref:this.imageDomRef},a.a.createElement(Gh,null,"Image - ",n))):null}}])&&Ev(n.prototype,r),i&&Ev(n,i),t}(a.a.PureComponent);var oy,ay=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){
/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Opera, Internet Explorer 8+
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2019 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 7.1.0
 * @date    2019-10-13
 */
var n;window,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){n.r(t),n.d(t,"parse",(function(){return d})),n.d(t,"repair",(function(){return f})),n.d(t,"escapeUnicodeChars",(function(){return p})),n.d(t,"validate",(function(){return m})),n.d(t,"extend",(function(){return g})),n.d(t,"clear",(function(){return v})),n.d(t,"getType",(function(){return y})),n.d(t,"isUrl",(function(){return w})),n.d(t,"isArray",(function(){return x})),n.d(t,"getAbsoluteLeft",(function(){return _})),n.d(t,"getAbsoluteTop",(function(){return E})),n.d(t,"addClassName",(function(){return S})),n.d(t,"removeAllClassNames",(function(){return C})),n.d(t,"removeClassName",(function(){return A})),n.d(t,"stripFormatting",(function(){return T})),n.d(t,"setEndOfContentEditable",(function(){return M})),n.d(t,"selectContentEditable",(function(){return k})),n.d(t,"getSelection",(function(){return O})),n.d(t,"setSelection",(function(){return P})),n.d(t,"getSelectionOffset",(function(){return R})),n.d(t,"setSelectionOffset",(function(){return F})),n.d(t,"getInnerText",(function(){return L})),n.d(t,"hasParentNode",(function(){return D})),n.d(t,"getInternetExplorerVersion",(function(){return j})),n.d(t,"isFirefox",(function(){return N})),n.d(t,"addEventListener",(function(){return B})),n.d(t,"removeEventListener",(function(){return z})),n.d(t,"isChildOf",(function(){return U})),n.d(t,"parsePath",(function(){return H})),n.d(t,"stringifyPath",(function(){return V})),n.d(t,"improveSchemaError",(function(){return W})),n.d(t,"isPromise",(function(){return $})),n.d(t,"isValidValidationError",(function(){return G})),n.d(t,"insideRect",(function(){return q})),n.d(t,"debounce",(function(){return Y})),n.d(t,"textDiff",(function(){return X})),n.d(t,"getInputSelection",(function(){return K})),n.d(t,"getIndexForPosition",(function(){return Z})),n.d(t,"getPositionForPath",(function(){return J})),n.d(t,"compileJSONPointer",(function(){return Q})),n.d(t,"getColorCSS",(function(){return ee})),n.d(t,"isValidColor",(function(){return te})),n.d(t,"makeFieldTooltip",(function(){return ne})),n.d(t,"get",(function(){return re})),n.d(t,"findUniqueName",(function(){return ie})),n.d(t,"getChildPaths",(function(){return oe})),n.d(t,"sort",(function(){return ae})),n.d(t,"sortObjectKeys",(function(){return se})),n.d(t,"parseString",(function(){return ce})),n.d(t,"formatSize",(function(){return le})),n.d(t,"limitCharacters",(function(){return ue})),n.d(t,"isObject",(function(){return he})),n.d(t,"contains",(function(){return de})),n(17);var r=n(9),i=n.n(r),o=n(16),a=n.n(o),s=n(18),c=n.n(s),l=n(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=1e4;function d(e){try{return JSON.parse(e)}catch(t){throw m(e),t}}function f(e){var t=[],n=0,r=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);r&&(e=r[3]);var i={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function o(){return e.charAt(n)}function a(){return e.charAt(n+1)}function s(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function c(){for(var e=t.length-1;e>=0;){var n=t[e];if(!s(n))return n;e--}return""}function l(){for(var t=n+1;t<e.length&&s(e[t]);)t++;return e[t]}function u(){for(n+=2;n<e.length&&("*"!==o()||"/"!==a());)n++;n+=2}function h(){for(n+=2;n<e.length&&"\n"!==o();)n++}function d(t){var r="";r+='"',n++;for(var a=o();n<e.length&&a!==t;)'"'===a&&"\\"!==e.charAt(n-1)?r+='\\"':a in i?r+=i[a]:"\\"===a?(n++,"'"!==(a=o())&&(r+="\\"),r+=a):r+=a,n++,a=o();return a===t&&(r+='"',n++),r}function f(){for(var e="",t=o(),r=/[a-zA-Z_$\d]/;r.test(t);)e+=t,n++,t=o();return-1===["null","true","false"].indexOf(e)?'"'+e+'"':e}function p(){for(var e,t=o(),r="";/[a-zA-Z_$]/.test(t);)r+=t,n++,t=o();if(r.length>0&&"("===t){if(n++,'"'===(t=o()))e=d(t),t=o();else for(e="";")"!==t&&""!==t;)e+=t,n++,t=o();return")"===t?(n++,e):r+"("+e+t}return r}function m(e){return" "===e||e>=" "&&e<=" "||" "===e||" "===e||"　"===e}for(;n<e.length;){var g=o();"/"===g&&"*"===a()?u():"/"===g&&"/"===a()?h():m(g)?(t.push(" "),n++):"'"===g?t.push(d(g)):'"'===g?t.push(d('"')):"`"===g?t.push(d("´")):"‘"===g?t.push(d("’")):"“"===g?t.push(d("”")):","===g&&-1!==["]","}"].indexOf(l())?n++:/[a-zA-Z_$]/.test(g)&&-1!==["{",","].indexOf(c())?t.push(f()):/[a-zA-Z_$]/.test(g)?t.push(p()):(t.push(g),n++)}return t.join("")}function p(e){return e.replace(/[\u007F-\uFFFF]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function m(e){void 0!==a.a?a.a.parse(e):JSON.parse(e)}function g(e,t){for(var n in t)fe(t,n)&&(e[n]=t[n]);return e}function v(e){for(var t in e)fe(e,t)&&delete e[t];return e}function y(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":x(e)?"array":"object"}var b=/^https?:\/\/\S+$/;function w(e){return("string"==typeof e||e instanceof String)&&b.test(e)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function _(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function E(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function S(e,t){var n=e.className.split(" ");-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" "))}function C(e){e.className=""}function A(e,t){var n=e.className.split(" "),r=n.indexOf(t);-1!==r&&(n.splice(r,1),e.className=n.join(" "))}function T(e){for(var t=e.childNodes,n=0,r=t.length;n<r;n++){var i=t[n];i.style&&i.removeAttribute("style");var o=i.attributes;if(o)for(var a=o.length-1;a>=0;a--){var s=o[a];!0===s.specified&&i.removeAttribute(s.name)}T(i)}}function M(e){var t,n;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t))}function k(e){var t,n;e&&"DIV"===e.nodeName&&window.getSelection&&document.createRange&&((n=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(n))}function O(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null}function P(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}}function R(){var e=O();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer===e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null}function F(e){if(document.createRange&&window.getSelection&&window.getSelection()){var t=document.createRange();e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),P(t)}}function L(e,t){if(void 0===t&&(t={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return t.flush()+e.nodeValue;if(e.hasChildNodes()){for(var n=e.childNodes,r="",i=0,o=n.length;i<o;i++){var a=n[i];if("DIV"===a.nodeName||"P"===a.nodeName){var s=n[i-1],c=s?s.nodeName:void 0;c&&"DIV"!==c&&"P"!==c&&"BR"!==c&&(r+="\n",t.flush()),r+=L(a,t),t.set("\n")}else"BR"===a.nodeName?(r+=t.flush(),t.set("\n")):r+=L(a,t)}return r}return"P"===e.nodeName&&-1!==j()?t.flush():""}function D(e,t){for(var n=e?e.parentNode:void 0;n;){if(n===t)return!0;n=n.parentNode}return!1}function j(){if(-1===I){var e=-1;if("undefined"!=typeof navigator&&"Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]+[.0-9]+)").exec(t)&&(e=parseFloat(RegExp.$1))}I=e}return I}function N(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}var I=-1;function B(e,t,n,r){if(e.addEventListener)return void 0===r&&(r=!1),"mousewheel"===t&&N()&&(t="DOMMouseScroll"),e.addEventListener(t,n,r),n;if(e.attachEvent){var i=function(){return n.call(e,window.event)};return e.attachEvent("on"+t,i),i}}function z(e,t,n,r){e.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&N()&&(t="DOMMouseScroll"),e.removeEventListener(t,n,r)):e.detachEvent&&e.detachEvent("on"+t,n)}function U(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function H(e){var t=[],n=0;function r(){for(var t="";void 0!==e[n]&&/[\w$]/.test(e[n]);)t+=e[n],n++;if(""===t)throw new Error("Invalid JSON path: property name expected at index "+n);return t}function i(t){for(var r="";void 0!==e[n]&&e[n]!==t;)r+=e[n],n++;if(e[n]!==t)throw new Error("Invalid JSON path: unexpected end, character "+t+" expected");return r}for(;void 0!==e[n];)if("."===e[n])n++,t.push(r());else{if("["!==e[n])throw new Error('Invalid JSON path: unexpected character "'+e[n]+'" at index '+n);if("'"===e[++n]||'"'===e[n]){var o=e[n];if(n++,t.push(i(o)),e[n]!==o)throw new Error("Invalid JSON path: closing quote ' expected at index "+n);n++}else{var a=i("]").trim();if(0===a.length)throw new Error("Invalid JSON path: array value expected at index "+n);a="*"===a?a:JSON.parse(a),t.push(a)}if("]"!==e[n])throw new Error("Invalid JSON path: closing bracket ] expected at index "+n);n++}return t}function V(e){return e.map((function(e){return"number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+e+'"]'})).join("")}function W(e){if("enum"===e.keyword&&Array.isArray(e.schema)){var t=e.schema;if(t){if((t=t.map((function(e){return JSON.stringify(e)}))).length>5){var n=["("+(t.length-5)+" more...)"];(t=t.slice(0,5)).push(n)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e}function $(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}function G(e){return"object"===u(e)&&Array.isArray(e.path)&&"string"==typeof e.message}function q(e,t,n){var r=void 0!==n?n:0;return t.left-r>=e.left&&t.right+r<=e.right&&t.top-r>=e.top&&t.bottom+r<=e.bottom}function Y(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}}function X(e,t){for(var n=t.length,r=0,i=e.length,o=t.length;t.charAt(r)===e.charAt(r)&&r<n;)r++;for(;t.charAt(o-1)===e.charAt(i-1)&&o>r&&i>0;)o--,i--;return{start:r,end:o}}function K(e){var t,n,r,i,o,a=0,s=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(a=e.selectionStart,s=e.selectionEnd):(n=document.selection.createRange())&&n.parentElement()===e&&(i=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(r=e.createTextRange()).moveToBookmark(n.getBookmark()),(o=e.createTextRange()).collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?a=s=i:(a=-r.moveStart("character",-i),a+=t.slice(0,a).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?s=i:(s=-r.moveEnd("character",-i),s+=t.slice(0,s).split("\n").length-1))),{startIndex:a,endIndex:s,start:c(a),end:c(s)};function c(t){var n=e.value.substring(0,t);return{row:(n.match(/\n/g)||[]).length+1,column:n.length-n.lastIndexOf("\n")}}}function Z(e,t,n){var r=e.value||"";if(t>0&&n>0){var i=r.split("\n",t);t=Math.min(i.length,t),n=Math.min(i[t-1].length,n-1);var o=1===t?n:n+1;return i.slice(0,t-1).join("\n").length+o}return-1}function J(e,t){var n,r=[];if(!t||!t.length)return r;try{n=c.a.parse(e)}catch(e){return r}return t.forEach((function(e){var t=Q(H(e)),i=n.pointers[t];i&&r.push({path:e,line:i.key?i.key.line:i.value?i.value.line:0,column:i.key?i.key.column:i.value?i.value.column:0})})),r}function Q(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function ee(e){var t=document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function te(e){return!!ee(e)}function ne(e,t){if(!e)return"";var n="";return e.title&&(n+=e.title),e.description&&(n.length>0&&(n+="\n"),n+=e.description),e.default&&(n.length>0&&(n+="\n\n"),n+=Object(l.c)("default",void 0,t)+"\n",n+=JSON.stringify(e.default,null,2)),Array.isArray(e.examples)&&e.examples.length>0&&(n.length>0&&(n+="\n\n"),n+=Object(l.c)("examples",void 0,t)+"\n",e.examples.forEach((function(t,r){n+=JSON.stringify(t,null,2),r!==e.examples.length-1&&(n+="\n")}))),n}function re(e,t){for(var n=e,r=0;r<t.length&&null!=n;r++)n=n[t[r]];return n}function ie(e,t){for(var n=e.replace(/ \(copy( \d+)?\)$/,""),r=n,i=1;-1!==t.indexOf(r);)r=n+" (copy"+(i>1?" "+i:"")+")",i++;return r}function oe(e,t){var n={};function r(e,t,n,i){(!Array.isArray(e)&&!he(e)||i)&&(t[n||""]=!0),he(e)&&Object.keys(e).forEach((function(o){r(e[o],t,n+"."+o,i)}))}if(Array.isArray(e))for(var i=Math.min(e.length,h),o=0;o<i;o++)r(e[o],n,"",t);else n[""]=!0;return Object.keys(n).sort()}function ae(e,t,n){var r=t&&"."!==t?H(t):[],i="desc"===n?-1:1,o=e.slice();return o.sort((function(e,t){var n=re(e,r),o=re(t,r);return i*(n>o?1:n<o?-1:0)})),o}function se(e,t){var n="desc"===t?-1:1,r=Object.keys(e).sort((function(e,t){return n*i()(e,t)})),o={};return r.forEach((function(t){o[t]=e[t]})),o}function ce(e){if(""===e)return"";var t=e.toLowerCase();if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;var n=Number(e),r=parseFloat(e);return isNaN(n)||isNaN(r)?e:n}function le(e){if(e<900)return e.toFixed()+" B";var t=e/1024;if(t<900)return t.toFixed(1)+" KiB";var n=t/1024;if(n<900)return n.toFixed(1)+" MiB";var r=n/1024;return r<900?r.toFixed(1)+" GiB":(r/1024).toFixed(1)+" TiB"}function ue(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function he(e){return"object"===u(e)&&null!==e&&!Array.isArray(e)}function de(e,t){return-1!==e.indexOf(t)}function fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n(17);var r=["en","pt-BR","zh-CN","tr"],i={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default"},"zh-CN":{array:"数组",auto:"自动",appendText:"追加",appendTitle:"在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)",appendSubmenuTitle:"选择要追加的字段类型",appendTitleAuto:"追加类型为“auto”的新字段 (Ctrl+Shift+Ins)",ascending:"升序",ascendingTitle:"升序排列${type}的子节点",actionsMenu:"点击打开动作菜单(Ctrl+M)",collapseAll:"缩进所有字段",descending:"降序",descendingTitle:"降序排列${type}的子节点",drag:"拖拽移动该节点(Alt+Shift+Arrows)",duplicateKey:"重复键",duplicateText:"复制",duplicateTitle:"复制选中字段(Ctrl+D)",duplicateField:"复制该字段(Ctrl+D)",duplicateFieldError:"重复的字段名称",cannotParseFieldError:"无法将字段解析为JSON",cannotParseValueError:"无法将值解析为JSON",empty:"清空",expandAll:"展开所有字段",expandTitle:"点击 展开/收缩 该字段(Ctrl+E). \nCtrl+Click 展开/收缩 包含所有子节点.",insert:"插入",insertTitle:"在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)",insertSub:"选择要插入的字段类型",object:"对象",ok:"Ok",redo:"重做 (Ctrl+Shift+Z)",removeText:"移除",removeTitle:"移除选中字段 (Ctrl+Del)",removeField:"移除该字段 (Ctrl+Del)",selectNode:"选择一个节点...",showAll:"展示全部",showMore:"展示更多",showMoreStatus:"显示${totalChilds}的${visibleChilds}项目.",sort:"排序",sortTitle:"排序${type}的子节点",sortTitleShort:"内容排序",sortFieldLabel:"字段：",sortDirectionLabel:"方向：",sortFieldTitle:"选择用于对数组或对象排序的嵌套字段",sortAscending:"升序排序",sortAscendingTitle:"按照该字段升序排序",sortDescending:"降序排序",sortDescendingTitle:"按照该字段降序排序",string:"字符串",transform:"变换",transformTitle:"筛选，排序，或者转换${type}的子节点",transformTitleShort:"筛选，排序，或者转换内容",extract:"提取",extractTitle:"提取这个 ${type}",transformQueryTitle:"输入JMESPath查询",transformWizardLabel:"向导",transformWizardFilter:"筛选",transformWizardSortBy:"排序",transformWizardSelectFields:"选择字段",transformQueryLabel:"查询",transformPreviewLabel:"预览",type:"类型",typeTitle:"更改字段类型",openUrl:"Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接",undo:"撤销上次动作 (Ctrl+Z)",validationCannotMove:"无法将字段移入其子节点",autoType:'字段类型 "auto". 字段类型由值自动确定 可以为 string，number，boolean，或者 null.',objectType:'字段类型 "object". 对象包含一组无序的键/值对.',arrayType:'字段类型 "array". 数组包含值的有序集合.',stringType:'字段类型 "string". 字段类型由值自动确定，但始终作为字符串返回.',modeCodeText:"代码",modeCodeTitle:"切换至代码高亮",modeFormText:"表单",modeFormTitle:"切换至表单编辑",modeTextText:"文本",modeTextTitle:"切换至文本编辑",modeTreeText:"树",modeTreeTitle:"切换至树编辑",modeViewText:"视图",modeViewTitle:"切换至树视图",modePreviewText:"预览",modePreviewTitle:"切换至预览模式",examples:"例子",default:"缺省"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",cannotParseFieldError:"Não é possível analisar o campo no JSON",cannotParseValueError:"Não é possível analisar o valor em JSON",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Selecione um nódulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direção:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conteúdos",transformQueryTitle:"Insira uma expressão JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Expressão",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alanın altına 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alanın tipini seç",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'ın alt tiplerini artan düzende sırala",actionsMenu:"Aksiyon menüsünü açmak için tıklayın (Ctrl+M)",collapseAll:"Tüm alanları kapat",descending:"Azalan",descendingTitle:"${type}'ın alt tiplerini azalan düzende sırala",drag:"Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"Aşağıya kopyala",duplicateTitle:"Seçili alanlardan bir daha oluştur (Ctrl+D)",duplicateField:"Bu alandan bir daha oluştur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayrıştırılamıyor",cannotParseValueError:"JSON'a değer ayrıştırılamıyor",empty:"boş",expandAll:"Tüm alanları aç",expandTitle:"Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \nAlt alanlarda dahil tüm alanları açmak için Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alanın üstüne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alanın tipini seç",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kaldır",removeTitle:"Seçilen alanları kaldır (Ctrl+Del)",removeField:"Bu alanı kaldır (Ctrl+Del)",selectNode:"Bir nesne seç...",showAll:"tümünü göster",showMore:"daha fazla göster",showMoreStatus:"${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor",sort:"Sırala",sortTitle:"${type}'ın alt alanlarını sırala",sortTitleShort:"İçerikleri sırala",sortFieldLabel:"Alan:",sortDirectionLabel:"Yön:",sortFieldTitle:"Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin",sortAscending:"Artan",sortAscendingTitle:"Seçili alanı artan düzende sırala",sortDescending:"Azalan",sortDescendingTitle:"Seçili alanı azalan düzende sırala",string:"Karakter Dizisi",transform:"Dönüştür",transformTitle:"${type}'ın alt alanlarını filtrele, sırala veya dönüştür",transformTitleShort:"İçerikleri filterele, sırala veya dönüştür",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"Sırala",transformWizardSelectFields:"Alanları seç",transformQueryLabel:"Sorgu",transformPreviewLabel:"Önizleme",type:"Tip",typeTitle:"Bu alanın tipini değiştir",openUrl:"URL'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter",undo:"Son değişikliği geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak taşınamıyor",autoType:'Alan tipi "otomatik". Alan türü otomatik olarak değerden belirlenirve bir dize, sayı, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.',arrayType:'Alan tipi "dizi". Bir dizi, düzenli değerler koleksiyonu içerir.',stringType:'Alan tipi "karakter dizisi". Alan türü değerden belirlenmez,ancak her zaman karakter dizisi olarak döndürülür.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulayıcıya geç",modeFormText:"Form",modeFormTitle:"Form düzenleyiciye geç",modeTextText:"Metin",modeTextTitle:"Düz metin düzenleyiciye geç",modeTreeText:"Ağaç",modeTreeTitle:"Ağaç düzenleyiciye geç",modeViewText:"Görünüm",modeViewTitle:"Ağaç görünümüne geç",examples:"Örnekler",default:"Varsayılan"}},o="en",a="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,s=r.find((function(e){return e===a}))||o;function c(e){if(e){var t=r.find((function(t){return t===e}));t?s=t:console.error("Language not found")}}function l(e){if(e){var t=function(t){r.find((function(e){return e===t}))||r.push(t),i[t]=Object.assign({},i[o],i[t],e[t])};for(var n in e)t(n)}}function u(e,t,n){n||(n=s);var r=i[n][e];if(t)for(e in t)r=r.replace("${"+e+"}",t[e]);return r||e}},function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a}));var r=document.body,i=10485760,o=2e4,a=2147483648},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(10),i=n(0),o=n(1);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom={};var r=this,i=this.dom;this.anchor=void 0,this.items=t,this.eventListeners={},this.selection=void 0,this.onClose=n?n.close:void 0;var a=document.createElement("div");a.className="jsoneditor-contextmenu-root",i.root=a;var s=document.createElement("div");s.className="jsoneditor-contextmenu",i.menu=s,a.appendChild(s);var c=document.createElement("ul");c.className="jsoneditor-menu",s.appendChild(c),i.list=c,i.items=[];var l=document.createElement("button");l.type="button",i.focusButton=l;var u=document.createElement("li");u.style.overflow="hidden",u.style.height="0",u.appendChild(l),c.appendChild(u),function e(t,n,i){i.forEach((function(i){if("separator"===i.type){var a=document.createElement("div");a.className="jsoneditor-separator";var s=document.createElement("li");s.appendChild(a),t.appendChild(s)}else{var c={},l=document.createElement("li");t.appendChild(l);var u=document.createElement("button");if(u.type="button",u.className=i.className,c.button=u,i.title&&(u.title=i.title),i.click&&(u.onclick=function(e){e.preventDefault(),r.hide(),i.click()}),l.appendChild(u),i.submenu){var h=document.createElement("div");h.className="jsoneditor-icon",u.appendChild(h);var d,f=document.createElement("div");if(f.className="jsoneditor-text"+(i.click?"":" jsoneditor-right-margin"),f.appendChild(document.createTextNode(i.text)),u.appendChild(f),i.click){u.className+=" jsoneditor-default";var p=document.createElement("button");p.type="button",c.buttonExpand=p,p.className="jsoneditor-expand",p.innerHTML='<div class="jsoneditor-expand"></div>',l.appendChild(p),i.submenuTitle&&(p.title=i.submenuTitle),d=p}else{var m=document.createElement("div");m.className="jsoneditor-expand",u.appendChild(m),d=u}d.onclick=function(e){e.preventDefault(),r._onExpandItem(c),d.focus()};var g=[];c.subItems=g;var v=document.createElement("ul");c.ul=v,v.className="jsoneditor-menu",v.style.height="0",l.appendChild(v),e(v,g,i.submenu)}else u.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+Object(o.c)(i.text)+"</div>";n.push(c)}}))}(c,this.dom.items,t),this.maxHeight=0,t.forEach((function(e){var n=24*(t.length+(e.submenu?e.submenu.length:0));r.maxHeight=Math.max(r.maxHeight,n)}))}var t,n,s;return t=e,(n=[{key:"_getVisibleButtons",value:function(){var e=[],t=this;return this.dom.items.forEach((function(n){e.push(n.button),n.buttonExpand&&e.push(n.buttonExpand),n.subItems&&n===t.expandedItem&&n.subItems.forEach((function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)}))})),e}},{key:"show",value:function(t,n,o){this.hide();var a=!0,s=t.parentNode,c=t.getBoundingClientRect(),l=s.getBoundingClientRect(),u=n.getBoundingClientRect(),h=this;this.dom.absoluteAnchor=Object(r.a)(t,n,(function(){h.hide()})),c.bottom+this.maxHeight<u.bottom||c.top-this.maxHeight>u.top&&(a=!1);var d=o?0:c.top-l.top;if(a){var f=t.offsetHeight;this.dom.menu.style.left="0",this.dom.menu.style.top=d+f+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px";this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=Object(i.getSelection)(),this.anchor=t,setTimeout((function(){h.dom.focusButton.focus()}),0),e.visibleMenu&&e.visibleMenu.hide(),e.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),e.visibleMenu===this&&(e.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(e){var t=this,n=e===this.expandedItem,r=this.expandedItem;if(r&&(r.ul.style.height="0",r.ul.style.padding="",setTimeout((function(){t.expandedItem!==r&&(r.ul.style.display="",Object(i.removeClassName)(r.ul.parentNode,"jsoneditor-selected"))}),300),this.expandedItem=void 0),!n){var o=e.ul;o.style.display="block",o.clientHeight,setTimeout((function(){if(t.expandedItem===e){for(var n=0,r=0;r<o.childNodes.length;r++)n+=o.childNodes[r].clientHeight;o.style.height=n+"px",o.style.padding="5px 10px"}}),0),Object(i.addClassName)(o.parentNode,"jsoneditor-selected"),this.expandedItem=e}}},{key:"_onKeyDown",value:function(e){var t,n,r,o,a=e.target,s=e.which,c=!1;27===s?(this.selection&&Object(i.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),c=!0):9===s?e.shiftKey?0===(n=(t=this._getVisibleButtons()).indexOf(a))&&(t[t.length-1].focus(),c=!0):(n=(t=this._getVisibleButtons()).indexOf(a))===t.length-1&&(t[0].focus(),c=!0):37===s?("jsoneditor-expand"===a.className&&(n=(t=this._getVisibleButtons()).indexOf(a),(r=t[n-1])&&r.focus()),c=!0):38===s?(n=(t=this._getVisibleButtons()).indexOf(a),(r=t[n-1])&&"jsoneditor-expand"===r.className&&(r=t[n-2]),r||(r=t[t.length-1]),r&&r.focus(),c=!0):39===s?(n=(t=this._getVisibleButtons()).indexOf(a),(o=t[n+1])&&"jsoneditor-expand"===o.className&&o.focus(),c=!0):40===s&&(n=(t=this._getVisibleButtons()).indexOf(a),(o=t[n+1])&&"jsoneditor-expand"===o.className&&(o=t[n+2]),o||(o=t[0]),o&&(o.focus(),c=!0),c=!0),c&&(e.stopPropagation(),e.preventDefault())}}])&&a(t.prototype,n),s&&a(t,s),e}();s.visibleMenu=void 0},function(e,t,n){!function(e){function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,i){if(e===i)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(i))return!1;if(!0===t(e)){if(e.length!==i.length)return!1;for(var o=0;o<e.length;o++)if(!1===r(e[o],i[o]))return!1;return!0}if(!0===n(e)){var a={};for(var s in e)if(hasOwnProperty.call(e,s)){if(!1===r(e[s],i[s]))return!1;a[s]=!0}for(var c in i)if(hasOwnProperty.call(i,c)&&!0!==a[c])return!1;return!0}return!1}function i(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return!1}var o;o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var a=0,s=1,c=2,l=3,u=4,h=6,d=8,f=9,p={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},m={"<":!0,">":!0,"=":!0,"!":!0},g={" ":!0,"\t":!0,"\n":!0};function v(e){return e>="0"&&e<="9"||"-"===e}function y(){}y.prototype={tokenize:function(e){var t,n,r,i,o=[];for(this._current=0;this._current<e.length;)if((i=e[this._current])>="a"&&i<="z"||i>="A"&&i<="Z"||"_"===i)t=this._current,n=this._consumeUnquotedIdentifier(e),o.push({type:"UnquotedIdentifier",value:n,start:t});else if(void 0!==p[e[this._current]])o.push({type:p[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(v(e[this._current]))r=this._consumeNumber(e),o.push(r);else if("["===e[this._current])r=this._consumeLBracket(e),o.push(r);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),o.push({type:"QuotedIdentifier",value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),o.push({type:"Literal",value:n,start:t});else if("`"===e[this._current]){t=this._current;var a=this._consumeLiteral(e);o.push({type:"Literal",value:a,start:t})}else if(void 0!==m[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==g[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:"And",value:"&&",start:t})):o.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:"Or",value:"||",start:t})):o.push({type:"Pipe",value:"|",start:t})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&((t=e[this._current])>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&'"'!==e[r+1]?r++:r+=2,this._current=r}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var r=this._current;"\\"!==e[r]||"\\"!==e[r+1]&&"'"!==e[r+1]?r++:r+=2,this._current=r}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;v(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,r=e.length;"`"!==e[this._current]&&this._current<r;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var a=o(e.slice(n,this._current));return a=a.replace("\\`","`"),t=this._looksLikeJSON(a)?JSON.parse(a):JSON.parse('"'+a+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if('[{"'.indexOf(e[0])>=0)return!0;if(["true","false","null"].indexOf(e)>=0)return!0;if(!("-0123456789".indexOf(e[0])>=0))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var b={};function w(){}function x(e){this.runtime=e}function _(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[d]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[c,l]},{types:[s]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[c]},{types:[c]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[c,l,u]}]},map:{_func:this._functionMap,_signature:[{types:[h]},{types:[l]}]},max:{_func:this._functionMax,_signature:[{types:[d,f]}]},merge:{_func:this._functionMerge,_signature:[{types:[u],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[l]},{types:[h]}]},sum:{_func:this._functionSum,_signature:[{types:[d]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[c]},{types:[c]}]},min:{_func:this._functionMin,_signature:[{types:[d,f]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[l]},{types:[h]}]},type:{_func:this._functionType,_signature:[{types:[s]}]},keys:{_func:this._functionKeys,_signature:[{types:[u]}]},values:{_func:this._functionValues,_signature:[{types:[u]}]},sort:{_func:this._functionSort,_signature:[{types:[f,d]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[l]},{types:[h]}]},join:{_func:this._functionJoin,_signature:[{types:[c]},{types:[f]}]},reverse:{_func:this._functionReverse,_signature:[{types:[c,l]}]},to_array:{_func:this._functionToArray,_signature:[{types:[s]}]},to_string:{_func:this._functionToString,_signature:[{types:[s]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[s]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[s],variadic:!0}]}}}b.EOF=0,b.UnquotedIdentifier=0,b.QuotedIdentifier=0,b.Rbracket=0,b.Rparen=0,b.Comma=0,b.Rbrace=0,b.Number=0,b.Current=0,b.Expref=0,b.Pipe=1,b.Or=2,b.And=3,b.EQ=5,b.GT=5,b.LT=5,b.GTE=5,b.LTE=5,b.NE=5,b.Flatten=9,b.Star=20,b.Filter=21,b.Dot=40,b.Not=45,b.Lbrace=50,b.Lbracket=55,b.Lparen=60,w.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw r.name="ParserError",r}return t},_loadTokens:function(e){var t=(new y).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),r=this._lookahead(0);e<b[r];)this._advance(),n=this.led(r,n),r=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var r={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return r;case"Not":return{type:"NotExpression",children:[t=this.expression(b.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(b.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(b.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(b.Expref)]};case"Lparen":for(var i=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),i.push(n);return this._match("Rparen"),i[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var r=b.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(r)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(r)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(b.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(b.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(b.And)]};case"Lparen":for(var i,o=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(i={type:"Current"},this._advance()):i=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(i);return this._match("Rparen"),{type:"Function",name:o,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(b.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(b.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var c=this._lookaheadToken(0);return"Number"===c.type||"Colon"===c.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(b.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(b.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var r=this._lookahead(0),i=new Error("Syntax error, unexpected token: "+r.value+"("+r.type+")");throw i.name="Parsererror",i}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(b[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)>=0?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(b[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),r=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw r.name="ParserError",r}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,r=[],i=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),i.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:t,value:this.expression(0)},r.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:r}}},x.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var a,s,c,l,u,h,d,f,p;switch(e.type){case"Field":return null===o?null:n(o)?void 0===(h=o[e.name])?null:h:null;case"Subexpression":for(c=this.visit(e.children[0],o),p=1;p<e.children.length;p++)if(null===(c=this.visit(e.children[1],c)))return null;return c;case"IndexExpression":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Index":if(!t(o))return null;var m=e.value;return m<0&&(m=o.length+m),void 0===(c=o[m])&&(c=null),c;case"Slice":if(!t(o))return null;var g=e.children.slice(0),v=this.computeSliceParams(o.length,g),y=v[0],b=v[1],w=v[2];if(c=[],w>0)for(p=y;p<b;p+=w)c.push(o[p]);else for(p=y;p>b;p+=w)c.push(o[p]);return c;case"Projection":var x=this.visit(e.children[0],o);if(!t(x))return null;for(f=[],p=0;p<x.length;p++)null!==(s=this.visit(e.children[1],x[p]))&&f.push(s);return f;case"ValueProjection":if(!n(x=this.visit(e.children[0],o)))return null;f=[];var _=function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}(x);for(p=0;p<_.length;p++)null!==(s=this.visit(e.children[1],_[p]))&&f.push(s);return f;case"FilterProjection":if(!t(x=this.visit(e.children[0],o)))return null;var E=[],S=[];for(p=0;p<x.length;p++)i(a=this.visit(e.children[2],x[p]))||E.push(x[p]);for(var C=0;C<E.length;C++)null!==(s=this.visit(e.children[1],E[C]))&&S.push(s);return S;case"Comparator":switch(l=this.visit(e.children[0],o),u=this.visit(e.children[1],o),e.name){case"EQ":c=r(l,u);break;case"NE":c=!r(l,u);break;case"GT":c=l>u;break;case"GTE":c=l>=u;break;case"LT":c=l<u;break;case"LTE":c=l<=u;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case"Flatten":var A=this.visit(e.children[0],o);if(!t(A))return null;var T=[];for(p=0;p<A.length;p++)t(s=A[p])?T.push.apply(T,s):T.push(s);return T;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(f=[],p=0;p<e.children.length;p++)f.push(this.visit(e.children[p],o));return f;case"MultiSelectHash":if(null===o)return null;var M;for(f={},p=0;p<e.children.length;p++)f[(M=e.children[p]).name]=this.visit(M.value,o);return f;case"OrExpression":return i(a=this.visit(e.children[0],o))&&(a=this.visit(e.children[1],o)),a;case"AndExpression":return!0===i(l=this.visit(e.children[0],o))?l:this.visit(e.children[1],o);case"NotExpression":return i(l=this.visit(e.children[0],o));case"Literal":return e.value;case"Pipe":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Current":return o;case"Function":var k=[];for(p=0;p<e.children.length;p++)k.push(this.visit(e.children[p],o));return this.runtime.callFunction(e.name,k);case"ExpressionReference":var O=e.children[0];return O.jmespathType="Expref",O;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],r=t[1],i=t[2],o=[null,null,null];if(null===i)i=1;else if(0===i){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=i<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,i),r=null===r?s?-1:e:this.capSliceRange(e,r,i),o[0]=n,o[1]=r,o[2]=i,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):t>=e&&(t=n<0?e-1:e),t}},_.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var r,i,o,a;if(n[n.length-1].variadic){if(t.length<n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+r+" but received "+t.length)}else if(t.length!==n.length)throw r=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+r+" but received "+t.length);for(var s=0;s<n.length;s++){a=!1,i=n[s].types,o=this._getTypeName(t[s]);for(var c=0;c<i.length;c++)if(this._typeMatches(o,i[c],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+i+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(t===s)return!0;if(t!==f&&t!==d&&t!==l)return e===t;if(t===l)return e===l;if(e===l){var r;t===d?r=a:t===f&&(r=c);for(var i=0;i<n.length;i++)if(!this._typeMatches(this._getTypeName(n[i]),r,n[i]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return c;case"[object Number]":return a;case"[object Array]":return l;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?h:u}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===c){for(var t=e[0],n="",r=t.length-1;r>=0;r--)n+=t[r];return n}var i=e[0].slice(0);return i.reverse(),i},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t/n.length},_functionContains:function(e){return e[0].indexOf(e[1])>=0},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,r=e[0],i=e[1],o=0;o<i.length;o++)t.push(n.visit(r,i[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)t[i]=r[i]}return t},_functionMax:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)n.localeCompare(t[r])<0&&(n=t[r]);return n}return null},_functionMin:function(e){if(e[0].length>0){if(this._getTypeName(e[0][0])===a)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],r=1;r<t.length;r++)t[r].localeCompare(n)<0&&(n=t[r]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],r=0;r<n.length;r++)t+=n[r];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case a:return"number";case c:return"string";case l:return"array";case u:return"object";case 5:return"boolean";case h:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),r=[],i=0;i<n.length;i++)r.push(t[n[i]]);return r},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===l?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===c?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===a?e[0]:n!==c||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,r=e[1],i=this._getTypeName(n.visit(r,t[0]));if([a,c].indexOf(i)<0)throw new Error("TypeError");for(var o=this,s=[],l=0;l<t.length;l++)s.push([l,t[l]]);s.sort((function(e,t){var a=n.visit(r,e[1]),s=n.visit(r,t[1]);if(o._getTypeName(a)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(a));if(o._getTypeName(s)!==i)throw new Error("TypeError: expected "+i+", received "+o._getTypeName(s));return a>s?1:a<s?-1:e[0]-t[0]}));for(var u=0;u<s.length;u++)t[u]=s[u][1];return t},_functionMaxBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,c]),s=-1/0,l=0;l<i.length;l++)(n=o(i[l]))>s&&(s=n,t=i[l]);return t},_functionMinBy:function(e){for(var t,n,r=e[1],i=e[0],o=this.createKeyFunction(r,[a,c]),s=1/0,l=0;l<i.length;l++)(n=o(i[l]))<s&&(s=n,t=i[l]);return t},createKeyFunction:function(e,t){var n=this,r=this._interpreter;return function(i){var o=r.visit(e,i);if(t.indexOf(n._getTypeName(o))<0){var a="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(a)}return o}}},e.tokenize=function(e){return(new y).tokenize(e)},e.compile=function(e){return(new w).parse(e)},e.search=function(e,t){var n=new w,r=new _,i=new x(r);r._interpreter=i;var o=n.parse(t);return i.search(o,e)},e.strictDeepEqual=r}(t)},function(e,t,n){n.d(t,"a",(function(){return s}));var r=n(12),i=n.n(r),o=n(1),a=n(0);function s(e,t,n,r){var s=Array.isArray(t)?Object(a.getChildPaths)(t):[""],c=r&&r.path&&Object(a.contains)(s,r.path)?r.path:s[0],l=r&&r.direction||"asc",u='<div class="pico-modal-contents"><div class="pico-modal-header">'+Object(o.c)("sort")+"</div><form><table><tbody><tr>  <td>"+Object(o.c)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+Object(o.c)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+Object(o.c)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+Object(o.c)("sortAscending")+'" title="'+Object(o.c)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+Object(o.c)("sortDescending")+'" title="'+Object(o.c)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(o.c)("ok")+'" /></td></tr></tbody></table></form></div>';i()({parent:e,content:u,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate((function(e){var t=e.modalElem().querySelector("form"),r=e.modalElem().querySelector("#ok"),i=e.modalElem().querySelector("#field"),o=e.modalElem().querySelector("#direction");function a(e){o.value=e,o.className="jsoneditor-button-group jsoneditor-button-group-value-"+o.value}s.forEach((function(e){var t=document.createElement("option");t.text=function(e){return""===e?"@":"."===e[0]?e.slice(1):e}(e),t.value=e,i.appendChild(t)})),i.value=c||s[0],a(l||"asc"),o.onclick=function(e){a(e.target.getAttribute("data-value"))},r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),n({path:i.value,direction:o.value})},t&&(t.onsubmit=r.onclick)})).afterClose((function(e){e.destroy()})).show()}},function(e,t,n){n.d(t,"a",(function(){return a}));var r=n(3),i=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s={code:{text:Object(i.c)("modeCodeText"),title:Object(i.c)("modeCodeTitle"),click:function(){a("code")}},form:{text:Object(i.c)("modeFormText"),title:Object(i.c)("modeFormTitle"),click:function(){a("form")}},text:{text:Object(i.c)("modeTextText"),title:Object(i.c)("modeTextTitle"),click:function(){a("text")}},tree:{text:Object(i.c)("modeTreeText"),title:Object(i.c)("modeTreeTitle"),click:function(){a("tree")}},view:{text:Object(i.c)("modeViewText"),title:Object(i.c)("modeViewTitle"),click:function(){a("view")}},preview:{text:Object(i.c)("modePreviewText"),title:Object(i.c)("modePreviewTitle"),click:function(){a("preview")}}},c=[],l=0;l<n.length;l++){var u=n[l],h=s[u];if(!h)throw new Error('Unknown mode "'+u+'"');h.className="jsoneditor-type-modes"+(o===u?" jsoneditor-selected":""),c.push(h)}var d=s[o];if(!d)throw new Error('Unknown mode "'+o+'"');var f=d.text,p=document.createElement("button");p.type="button",p.className="jsoneditor-modes jsoneditor-separator",p.innerHTML=f+" &#x25BE;",p.title="Switch editor mode",p.onclick=function(){new r.a(c).show(p,t)};var m=document.createElement("div");m.className="jsoneditor-modes",m.style.position="relative",m.appendChild(p),t.appendChild(m),this.dom={container:t,box:p,frame:m}}var t,n,a;return t=e,(n=[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}])&&o(t.prototype,n),a&&o(t,a),e}()},function(e,t,n){var r=n(4),i=n.n(r),o=n(12),a=n.n(o),s=n(8),c=n.n(s),l=n(1);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r){return"boolean"==typeof e||e instanceof Boolean||null===e||"number"==typeof e||e instanceof Number||"string"==typeof e||e instanceof String||e instanceof Date?JSON.stringify(e):Array.isArray(e)?function(e,t,n,r){for(var i=t?n+t:void 0,o=t?"[\n":"[",a=0;a<e.length;a++){var s=e[a];if(t&&(o+=i),o+=void 0!==s&&"function"!=typeof s?h(s,t,i,r):"null",a<e.length-1&&(o+=t?",\n":","),o.length>r)return o+"..."}return o+=t?"\n"+n+"]":"]"}(e,t,n,r):e&&"object"===u(e)?function(e,t,n,r){var i=t?n+t:void 0,o=!0,a=t?"{\n":"{";if("function"==typeof e.toJSON)return h(e.toJSON(),t,n,r);for(var s in e)if(f(e,s)){var c=e[s];if(o?o=!1:a+=t?",\n":",",a+=t?i+'"'+s+'": ':'"'+s+'":',(a+=h(c,t,i,r)).length>r)return a+"..."}return a+=t?"\n"+n+"}":"}"}(e,t,n,r):void 0}function d(e,t){for(var n="";t-- >0;)n+=e;return n}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var p=n(0),m=n(2);function g(e,t,n){var r=t,o='<label class="pico-modal-contents"><div class="pico-modal-header">'+Object(l.c)("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><div class="jsoneditor-jmespath-label">'+Object(l.c)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+Object(l.c)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+Object(l.c)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+Object(l.c)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+Object(l.c)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+Object(l.c)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+Object(l.c)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(l.c)("ok")+'" autofocus /></div></div>';a()({parent:e,content:o,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate((function(e){var o=e.modalElem(),a=o.querySelector("#wizard"),s=o.querySelector("#ok"),l=o.querySelector("#filterField"),u=o.querySelector("#filterRelation"),f=o.querySelector("#filterValue"),g=o.querySelector("#sortField"),v=o.querySelector("#sortOrder"),y=o.querySelector("#selectFields"),b=o.querySelector("#query"),w=o.querySelector("#preview");Array.isArray(r)||(a.style.fontStyle="italic",a.innerHTML="(wizard not available for objects, only for arrays)"),Object(p.getChildPaths)(t).forEach((function(e){var t=M(e),n=document.createElement("option");n.text=t,n.value=t,l.appendChild(n);var r=document.createElement("option");r.text=t,r.value=t,g.appendChild(r)}));var x=Object(p.getChildPaths)(t,!0).filter((function(e){return""!==e}));if(x.length>0)x.forEach((function(e){var t=M(e),n=document.createElement("option");n.text=t,n.value=t,y.appendChild(n)}));else{var _=o.querySelector("#selectFieldsPart");_&&(_.style.display="none")}var E=new c.a(l,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),S=new c.a(u,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),C=new c.a(g,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),A=new c.a(v,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),T=new c.a(y,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function M(e){return""===e?"@":"."===e[0]?e.slice(1):e}function k(){if(l.value&&u.value&&f.value){var e=l.value,t="@"!==e?["0"].concat(Object(p.parsePath)("."+e)):["0"],n="string"==typeof Object(p.get)(r,t)?f.value:Object(p.parseString)(f.value);b.value="[? "+e+" "+u.value+" `"+JSON.stringify(n)+"`]"}else b.value="[*]";if(g.value&&v.value){var i=g.value;"desc"===v.value?b.value+=" | reverse(sort_by(@, &"+i+"))":b.value+=" | sort_by(@, &"+i+")"}if(y.value){for(var o=[],a=0;a<y.options.length;a++)if(y.options[a].selected){var s=y.options[a].value;o.push(s)}"]"!==b.value[b.value.length-1]&&(b.value+=" | [*]"),1===o.length?b.value+="."+o[0]:o.length>1&&(b.value+=".{"+o.map((function(e){var t=e.split(".");return t[t.length-1]+": "+e})).join(", ")+"}")}O()}E.on("selectr.change",k),S.on("selectr.change",k),f.oninput=k,C.on("selectr.change",k),A.on("selectr.change",k),T.on("selectr.change",k),o.querySelector(".pico-modal-contents").onclick=function(e){"A"!==e.target.nodeName&&e.preventDefault()},b.value=Array.isArray(r)?"[*]":"@";var O=Object(p.debounce)((function(){try{var e=i.a.search(r,b.value);w.className="jsoneditor-transform-preview",w.value=function(e,t,n){var r;"number"==typeof t?t>10?r=d(" ",10):t>=1&&(r=d(" ",t)):"string"==typeof t&&""!==t&&(r=t);var i=h(e,r,"",n);return i.length>n?function(e,t){return"number"==typeof t?e.slice(0,t):e}(i,n)+"...":i}(e,2,m.b),s.disabled=!1}catch(e){w.className="jsoneditor-transform-preview jsoneditor-error",w.value=e.toString(),s.disabled=!0}}),300);b.oninput=O,O(),s.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),n(b.value)},setTimeout((function(){b.select(),b.focus(),b.selectionStart=3,b.selectionEnd=3}))})).afterClose((function(e){e.destroy()})).show()}n.d(t,"a",(function(){return g}))},function(e,t,n){
/*!
 * Selectr 2.4.0
 * https://github.com/Mobius1/Selectr
 *
 * Released under the MIT license
 */
var r={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","emit"],n=0;n<t.length;n++)"function"==typeof e?e.prototype[t[n]]=i.prototype[t[n]]:e[t[n]]=i.prototype[t[n]];return e};var o={extend:function(e,t){var n;for(n in t=t||{},e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]));return t},each:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,r,e[r],e);else for(var i=0,o=e.length;i<o;i++)t.call(n,i,e[i],e)},createElement:function(e,t){var n,r=document,i=r.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(n in t)if(n in i)i[n]=t[n];else if("html"===n)i.innerHTML=t[n];else if("text"===n){var o=r.createTextNode(t[n]);i.appendChild(o)}else i.setAttribute(n,t[n]);return i},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){o.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t)},removeClass:function(e,t){o.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:o.closest(e.parentNode,t))},isInt:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(e,t,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||e.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(i,o)}},rect:function(e,t){var n=window,r=e.getBoundingClientRect(),i=t?n.pageXOffset:0,o=t?n.pageYOffset:0;return{bottom:r.bottom+o,height:r.height,left:r.left+i,right:r.right+i,top:r.top+o,width:r.width}},includes:function(e,t){return e.indexOf(t)>-1},truncate:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}};function a(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function s(e,t,n){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),o.removeClass(e,"excluded"),n||(e.innerHTML=e.textContent)}var c=function(){if(this.items.length){var e=document.createDocumentFragment();if(this.config.pagination){var t=this.pages.slice(0,this.pageIndex);o.each(t,(function(t,n){o.each(n,(function(t,n){s(n,e,this.customOption)}),this)}),this)}else o.each(this.items,(function(t,n){s(n,e,this.customOption)}),this);e.childElementCount&&(o.removeClass(this.items[this.navIndex],"active"),this.navIndex=e.querySelector(".selectr-option").idx,o.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(e)}},l=function(e){var t=e.target;this.container.contains(t)||!this.opened&&!o.hasClass(this.container,"notice")||this.close()},u=function(e,t){t=t||e;var n=this.customOption?this.config.renderOption(t):e.textContent,r=o.createElement("li",{class:"selectr-option",html:n,role:"treeitem","aria-selected":!1});return r.idx=e.idx,this.items.push(r),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(r.disabled=!0,o.addClass(r,"disabled")),r},h=function(){this.requiresPagination=this.config.pagination&&this.config.pagination>0,a(this.config,"width")&&(o.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":o.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=o.createElement("div",{class:"selectr-container"}),this.config.customClass&&o.addClass(this.container,this.config.customClass),this.mobileDevice?o.addClass(this.container,"selectr-mobile"):o.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?o.addClass(this.el,"selectr-visible"):o.addClass(this.el,"selectr-hidden"),this.selected=o.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=o.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e=o.createElement("div",{class:"selectr-options-container"});if(this.tree=o.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=o.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(o.addClass(this.label,"selectr-tags"),o.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=o.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),o.addClass(this.container,"clearable")),this.config.taggable){var t=o.createElement("li",{class:"input-tag"});this.input=o.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),t.appendChild(this.input),this.label.appendChild(t),o.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=o.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=o.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=o.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),e.appendChild(this.inputContainer)),e.appendChild(this.notice),e.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,r=!1,i=0;if(this.el.children.length&&o.each(this.el.children,(function(e,t){"OPTGROUP"===t.nodeName?(r=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),o.each(t.children,(function(e,t){t.idx=i,r.appendChild(u.call(this,t,r)),i++}),this)):(t.idx=i,u.call(this,t),i++)}),this),this.config.data&&Array.isArray(this.config.data)){this.data=[];var s,c=!1;r=!1,i=0,o.each(this.config.data,(function(e,t){a(t,"children")?(c=o.createElement("optgroup",{label:t.text}),r=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),o.each(t.children,(function(e,t){(s=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=a(t,"disabled"),this.options.push(s),c.appendChild(s),s.idx=i,r.appendChild(u.call(this,s,t)),this.data[i]=t,i++}),this)):((s=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=a(t,"disabled"),this.options.push(s),s.idx=i,u.call(this,s,t),this.data[i]=t,i++)}),this)}this.setSelected(!0),this.navIndex=0;for(var l=0;l<this.items.length;l++)if(n=this.items[l],!o.hasClass(n,"disabled")){o.addClass(n,"active"),this.navIndex=l;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(e),this.placeEl=o.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)},d=function(e){if(e=e||window.event,this.items.length&&this.opened&&o.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return!(this.config.taggable&&this.input.value.length>0)&&this.change(this.navIndex);var t,n=this.items[this.navIndex];switch(e.which){case 38:t=0,this.navIndex>0&&this.navIndex--;break;case 40:t=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;o.hasClass(this.items[this.navIndex],"disabled")||o.hasClass(this.items[this.navIndex],"excluded");)if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var r=o.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:r.top+r.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(r.top+r.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&m.call(this)):0===this.navIndex?this.tree.scrollTop=0:r.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(r.top-this.optsRect.top)),n&&o.removeClass(n,"active"),o.addClass(this.items[this.navIndex],"active")}else this.navigating=!1},f=function(e){var t,n=this,r=document.createDocumentFragment(),i=this.options[e.idx],a=this.data?this.data[e.idx]:i,s=this.customSelected?this.config.renderSelection(a):i.textContent,c=o.createElement("li",{class:"selectr-tag",html:s}),l=o.createElement("button",{class:"selectr-tag-remove",type:"button"});if(c.appendChild(l),c.idx=e.idx,c.tag=i.value,this.tags.push(c),this.config.sortSelected){var u=this.tags.slice();t=function(e,t){e.replace(/(\d+)|(\D+)/g,(function(e,n,r){t.push([n||1/0,r||""])}))},u.sort((function(e,r){var i,o,a=[],s=[];for(!0===n.config.sortSelected?(i=e.tag,o=r.tag):"text"===n.config.sortSelected&&(i=e.textContent,o=r.textContent),t(i,a),t(o,s);a.length&&s.length;){var c=a.shift(),l=s.shift(),u=c[0]-l[0]||c[1].localeCompare(l[1]);if(u)return u}return a.length-s.length})),o.each(u,(function(e,t){r.appendChild(t)})),this.label.innerHTML=""}else r.appendChild(c);this.config.taggable?this.label.insertBefore(r,this.input.parentNode):this.label.appendChild(r)},p=function(e){var t=!1;o.each(this.tags,(function(n,r){r.idx===e.idx&&(t=r)}),this),t&&(this.label.removeChild(t),this.tags.splice(this.tags.indexOf(t),1))},m=function(){var e=this.tree;if(e.scrollTop>=e.scrollHeight-e.offsetHeight&&this.pageIndex<this.pages.length){var t=document.createDocumentFragment();o.each(this.pages[this.pageIndex],(function(e,n){s(n,t,this.customOption)}),this),e.appendChild(t),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},g=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&o.removeClass(this.inputContainer,"active"),o.hasClass(this.container,"notice")&&(o.removeClass(this.container,"notice"),o.addClass(this.container,"open"),this.input.focus()),o.each(this.items,(function(e,t){o.removeClass(t,"excluded"),this.customOption||(t.innerHTML=t.textContent)}),this))},v=function(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=e,"string"==typeof e&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)};v.prototype.render=function(e){if(!this.rendered){this.config=o.extend(r,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=a(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,i.mixin(this),h.call(this),this.bindEvents(),this.update(),this.optsRect=o.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var t=this;setTimeout((function(){t.emit("selectr.init")}),20)}},v.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},v.prototype.getSelectedProperties=function(e){var t=this.getSelected();return[].slice.call(t).map((function(t){return t[e]})).filter((function(e){return null!=e}))},v.prototype.bindEvents=function(){var e=this;this.events={},this.events.dismiss=l.bind(this),this.events.navigate=d.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",(function(t){t.changedTouches[0].target===e.el&&e.toggle()})),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),t.target===e.el&&e.toggle()})),this.el.addEventListener("change",(function(t){if(e.el.multiple){var n=e.getSelectedProperties("idx"),r=function(e,t){for(var n,r=[],i=e.slice(0),o=0;o<t.length;o++)(n=i.indexOf(t[o]))>-1?i.splice(n,1):r.push(t[o]);return[r,i]}(e.selectedIndexes,n);o.each(r[0],(function(t,n){e.select(n)}),e),o.each(r[1],(function(t,n){e.deselect(n)}),e)}else e.el.selectedIndex>-1&&e.select(e.el.selectedIndex)}))),this.config.nativeDropdown&&this.container.addEventListener("keydown",(function(t){"Enter"===t.key&&e.selected===document.activeElement&&(e.toggle(),setTimeout((function(){e.el.focus()}),200))})),this.selected.addEventListener("click",(function(t){e.disabled||e.toggle(),t.preventDefault(),t.stopPropagation()})),this.label.addEventListener("click",(function(t){o.hasClass(t.target,"selectr-tag-remove")&&e.deselect(t.target.parentNode.idx)})),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",(function(e){e.preventDefault()})),this.tree.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=o.closest(t.target,(function(e){return e&&o.hasClass(e,"selectr-option")}));n&&(o.hasClass(n,"disabled")||(o.hasClass(n,"selected")?(e.el.multiple||!e.el.multiple&&e.config.allowDeselect)&&e.deselect(n.idx):e.select(n.idx),e.opened&&!e.el.multiple&&e.close()))})),this.tree.addEventListener("mouseover",(function(t){o.hasClass(t.target,"selectr-option")&&(o.hasClass(t.target,"disabled")||(o.removeClass(e.items[e.navIndex],"active"),o.addClass(t.target,"active"),e.navIndex=[].slice.call(e.items).indexOf(t.target)))})),this.config.searchable&&(this.input.addEventListener("focus",(function(t){e.searching=!0})),this.input.addEventListener("blur",(function(t){e.searching=!1})),this.input.addEventListener("keyup",(function(t){e.search(),e.config.taggable||(this.value.length?o.addClass(this.parentNode,"active"):o.removeClass(this.parentNode,"active"))})),this.inputClear.addEventListener("click",(function(t){e.input.value=null,g.call(e),e.tree.childElementCount||c.call(e)}))),this.config.taggable&&this.input.addEventListener("keyup",(function(t){if(e.search(),e.config.taggable&&this.value.length){var n=this.value.trim();(13===t.which||o.includes(e.tagSeperators,t.key))&&(o.each(e.tagSeperators,(function(e,t){n=n.replace(t,"")})),e.add({value:n,text:n,selected:!0},!0)?(e.close(),g.call(e)):(this.value="",e.setMessage("That tag is already in use.")))}})),this.update=o.debounce((function(){e.opened&&e.config.closeOnScroll&&e.close(),e.width&&(e.container.style.width=e.width),e.invert()}),50),this.requiresPagination&&(this.paginateItems=o.debounce((function(){m.call(this)}),50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},v.prototype.setSelected=function(e){if(this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,this.selectedIndex>-1&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),o.each(this.options,(function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx)}),this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var t=0;o.each(this.config.data,(function(e,n){a(n,"children")?o.each(n.children,(function(e,n){n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++}),this):(n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++)}),this)}},v.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),o.removeClass(this.el,"selectr-hidden"),this.el.form&&o.off(this.el.form,"reset",this.events.reset),o.off(document,"click",this.events.dismiss),o.off(document,"keydown",this.events.navigate),o.off(window,"resize",this.update),o.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},v.prototype.change=function(e){var t=this.items[e],n=this.options[e];n.disabled||(n.selected&&o.hasClass(t,"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close())},v.prototype.select=function(e){var t=this.items[e],n=[].slice.call(this.el.options),r=this.options[e];if(this.el.multiple){if(o.includes(this.selectedIndexes,e))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(r.value),this.selectedIndexes.push(e),f.call(this,t)}else{var i=this.data?this.data[e]:r;this.label.innerHTML=this.customSelected?this.config.renderSelection(i):r.textContent,this.selectedValue=r.value,this.selectedIndex=e,o.each(this.options,(function(t,n){var r=this.items[t];t!==e&&(r&&o.removeClass(r,"selected"),n.selected=!1,n.removeAttribute("selected"))}),this)}o.includes(n,r)||this.el.add(r),t.setAttribute("aria-selected",!0),o.addClass(t,"selected"),o.addClass(this.container,"has-selected"),r.selected=!0,r.setAttribute("selected",""),this.emit("selectr.change",r),this.emit("selectr.select",r)},v.prototype.deselect=function(e,t){var n=this.items[e],r=this.options[e];if(this.el.multiple){var i=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(i,1);var a=this.selectedValues.indexOf(r.value);this.selectedValues.splice(a,1),p.call(this,n),this.tags.length||o.removeClass(this.container,"has-selected")}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,o.removeClass(this.container,"has-selected")}this.items[e].setAttribute("aria-selected",!1),o.removeClass(this.items[e],"selected"),r.selected=!1,r.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",r)},v.prototype.setValue=function(e){var t=Array.isArray(e);if(t||(e=e.toString().trim()),!this.el.multiple&&t)return!1;o.each(this.options,(function(n,r){(t&&o.includes(e.toString(),r.value)||r.value===e)&&this.change(r.idx)}),this)},v.prototype.getValue=function(e,t){var n;if(this.el.multiple)e?this.selectedIndexes.length&&((n={}).values=[],o.each(this.selectedIndexes,(function(e,t){var r=this.options[t];n.values[e]={value:r.value,text:r.textContent}}),this)):n=this.selectedValues.slice();else if(e){var r=this.options[this.selectedIndex];n={value:r.value,text:r.textContent}}else n=this.selectedValue;return e&&t&&(n=JSON.stringify(n)),n},v.prototype.add=function(e,t){if(e){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(e))o.each(e,(function(e,n){this.add(n,t)}),this);else if("[object Object]"===Object.prototype.toString.call(e)){if(t){var n=!1;if(o.each(this.options,(function(t,r){r.value.toLowerCase()===e.value.toLowerCase()&&(n=!0)})),n)return!1}var r=o.createElement("option",e);return this.data.push(e),this.options.push(r),r.idx=this.options.length>0?this.options.length-1:0,u.call(this,r),e.selected&&this.select(r.idx),r}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},v.prototype.remove=function(e){var t,n=[];Array.isArray(e)?o.each(e,(function(t,r){o.isInt(r)?n.push(this.getOptionByIndex(r)):"string"==typeof e&&n.push(this.getOptionByValue(r))}),this):o.isInt(e)?n.push(this.getOptionByIndex(e)):"string"==typeof e&&n.push(this.getOptionByValue(e)),n.length&&(o.each(n,(function(e,n){t=n.idx,this.el.remove(n),this.options.splice(t,1);var r=this.items[t].parentNode;r&&r.removeChild(this.items[t]),this.items.splice(t,1),o.each(this.options,(function(e,t){t.idx=e,this.items[e].idx=e}),this)}),this),this.setPlaceholder(),this.config.pagination&&this.paginate())},v.prototype.removeAll=function(){this.clear(!0),o.each(this.el.options,(function(e,t){this.el.remove(t)}),this),o.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},v.prototype.search=function(e){if(!this.navigating){e=e||this.input.value;var t=document.createDocumentFragment();if(this.removeMessage(),o.truncate(this.tree),e.length>1)if(o.each(this.options,(function(n,r){var i=this.items[r.idx];o.includes(r.textContent.toLowerCase(),e.toLowerCase())&&!r.disabled?(s(i,t,this.customOption),o.removeClass(i,"excluded"),this.customOption||(i.innerHTML=function(e,t){var n=new RegExp(e,"i").exec(t.textContent);return!!n&&t.textContent.replace(n[0],"<span class='selectr-match'>"+n[0]+"</span>")}(e,r))):o.addClass(i,"excluded")}),this),t.childElementCount){var n=this.items[this.navIndex],r=t.firstElementChild;o.removeClass(n,"active"),this.navIndex=r.idx,o.addClass(r,"active")}else this.config.taggable||this.setMessage("no results.");else c.call(this);this.tree.appendChild(t)}},v.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},v.prototype.open=function(){var e=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(o.addClass(this.container,"native-open"),void(this.config.data&&o.each(this.options,(function(e,t){this.el.add(t)}),this))):(o.addClass(this.container,"open"),c.call(this),this.invert(),this.tree.scrollTop=0,o.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout((function(){e.input.focus(),e.input.tabIndex=0}),10))))},v.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)o.removeClass(this.container,"native-open");else{var e=o.hasClass(this.container,"notice");this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(o.removeClass(this.container,"notice"),this.notice.textContent=""),o.removeClass(this.container,"open"),o.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),o.truncate(this.tree),g.call(this)}},v.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=0})),o.removeClass(this.container,"selectr-disabled")},v.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=-1})),this.disabled=!0,o.addClass(this.container,"selectr-disabled")},v.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),o.each(this.defaultSelected,(function(e,t){this.select(t)}),this),this.emit("selectr.reset"))},v.prototype.clear=function(e){if(this.el.multiple){if(this.selectedIndexes.length){var t=this.selectedIndexes.slice();o.each(t,(function(e,t){this.deselect(t)}),this)}}else this.selectedIndex>-1&&this.deselect(this.selectedIndex,e);this.emit("selectr.clear")},v.prototype.serialise=function(e){var t=[];return o.each(this.options,(function(e,n){var r={value:n.value,text:n.textContent};n.selected&&(r.selected=!0),n.disabled&&(r.disabled=!0),t[e]=r})),e?JSON.stringify(t):t},v.prototype.serialize=function(e){return this.serialise(e)},v.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.innerHTML=e},v.prototype.paginate=function(){if(this.items.length){var e=this;return this.pages=this.items.map((function(t,n){return n%e.config.pagination==0?e.items.slice(n,n+e.config.pagination):null})).filter((function(e){return e})),this.pages}},v.prototype.setMessage=function(e,t){t&&this.close(),o.addClass(this.container,"notice"),this.notice.textContent=e},v.prototype.removeMessage=function(){o.removeClass(this.container,"notice"),this.notice.innerHTML=""},v.prototype.invert=function(){var e=o.rect(this.selected),t=this.tree.parentNode.offsetHeight,n=window.innerHeight;e.top+e.height+t>n?(o.addClass(this.container,"inverted"),this.isInverted=!0):(o.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=o.rect(this.tree)},v.prototype.getOptionByIndex=function(e){return this.options[e]},v.prototype.getOptionByValue=function(e){for(var t=!1,n=0,r=this.options.length;n<r;n++)if(this.options[n].value.trim()===e.toString().trim()){t=this.options[n];break}return t},e.exports=v},function(e,t){e.exports=function e(t,n){var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,l=/^0/,u=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=u(t).replace(a,"")||"",d=u(n).replace(a,"")||"",f=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(c),16)||1!==f.length&&h.match(s)&&Date.parse(h),g=parseInt(d.match(c),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(f.length,p.length);v<y;v++){if(r=!(f[v]||"").match(l)&&parseFloat(f[v])||f[v]||0,i=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(e,t,n){n.d(t,"a",(function(){return i}));var r=n(0);function i(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s="function"==typeof(i=e).getRootNode?i.getRootNode():window,c={},l=e.getBoundingClientRect(),u=t.getBoundingClientRect(),h=document.createElement("div");function d(){if(h&&h.parentNode){for(var t in h.parentNode.removeChild(h),c)if(o(c,t)){var i=c[t];i&&Object(r.removeEventListener)(s,t,i),delete c[t]}"function"==typeof n&&n(e)}}function f(e){var t;(t=e.target)===h||Object(r.isChildOf)(t,h)||d()}if(h.className="jsoneditor-anchor",h.style.position="absolute",h.style.left=l.left-u.left+"px",h.style.top=l.top-u.top+"px",h.style.width=l.width-2+"px",h.style.height=l.height-2+"px",h.style.boxSizing="border-box",t.appendChild(h),c.mousedown=Object(r.addEventListener)(s,"mousedown",f),c.mousewheel=Object(r.addEventListener)(s,"mousewheel",f),a){var p=null;h.onmouseover=function(){clearTimeout(p),p=null},h.onmouseout=function(){p||(p=setTimeout(d,200))}}return h.destroy=d,h}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){var r;if(window.Picker)r=window.Picker;else try{r=n(!function(){var e=new Error("Cannot find module 'vanilla-picker'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}e.exports=r},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){function e(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function t(){var e=[];return{watch:e.push.bind(e),trigger:function(t,n){for(var r=!0,i={detail:n,preventDefault:function(){r=!1}},o=0;o<e.length;o++)e[o](t,i);return r}}}function n(e){return"none"===window.getComputedStyle(e).display}function r(e){this.elem=e}function i(e,t){return r.make(e("parent")).clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick((function(){e("overlayClose",!0)&&t()}))}r.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=document.createElement(t||"div");return(e||document.body).appendChild(n),new r(n)},r.prototype={child:function(e){return r.make(this.elem,e)},stylize:function(e){for(var t in void 0!==(e=e||{}).opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(t){return e(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new r(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!n(this.elem)}};var o=1;function a(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function s(e){return function(){return e().elem}}var c=t(),l=t();return document.documentElement.addEventListener("keydown",(function(e){var t=e.which||e.keyCode;27===t?c.trigger():9===t&&l.trigger(e)})),function(u){("string"==typeof u||e(u))&&(u={content:u});var h=t(),d=t(),f=t(),p=t(),m=t();function g(e,t){var n=u[e];return"function"==typeof n&&(n=n(t)),void 0===n?t:n}var v,y,b=C.bind(window,"modal"),w=C.bind(window,"overlay"),x=C.bind(window,"close");function _(e){w().hide(),b().hide(),m.trigger(v,e)}function E(e){p.trigger(v,e)&&_(e)}function S(e){return function(){return e.apply(this,arguments),v}}function C(e,t){if(!y){var n=function(e,t){var n=e("width","auto");"number"==typeof n&&(n+="px");var i=e("modalId","pico-"+o++);return r.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",i).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",i)).onClick((function(e){new r(e.target).anyAncestor((function(e){return/\bpico-close\b/.test(e.elem.className)}))&&t()}))}(g,E);y={modal:n,overlay:i(g,E),close:a(n,g)},h.trigger(v,t)}return y[e]}return function(e,t){function r(e,t){return(e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function i(e){return!(n(e)||r(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||r(e,"input,select,textarea,button,a[href],area[href],iframe"))}function o(e){for(var t=e.getElementsByTagName("*"),n=0;n<t.length;n++)if(i(t[n]))return t[n]}var a;e.beforeShow((function(){a=document.activeElement})),e.afterShow((function(){if(t()){var n=o(e.modalElem());n&&n.focus()}})),e.afterClose((function(){t()&&a&&a.focus(),a=null})),l.watch((function(n){if(t()&&e.isVisible()){var r=o(e.modalElem()),a=function(e){for(var t=e.getElementsByTagName("*"),n=t.length;n--;)if(i(t[n]))return t[n]}(e.modalElem());(n.shiftKey?r:a)===document.activeElement&&((n.shiftKey?a:r).focus(),n.preventDefault())}}))}(v={modalElem:s(b),closeElem:s(x),overlayElem:s(w),buildDom:S(C.bind(null,null)),isVisible:function(){return!!(y&&b&&b().isVisible())},show:function(e){return d.trigger(v,e)&&(w().show(),x(),b().show(),f.trigger(v,e)),this},close:S(E),forceClose:S(_),destroy:function(){b().destroy(),w().destroy(),w=b=x=void 0},options:function(e){Object.keys(e).map((function(t){u[t]=e[t]}))},afterCreate:S(h.watch),beforeShow:S(d.watch),afterShow:S(f.watch),beforeClose:S(p.watch),afterClose:S(m.watch)},g.bind(null,"focus",!0)),function(e,t){var n,i=new r(document.body);e.beforeShow((function(){n=i.elem.style.overflow,t()&&i.stylize({overflow:"hidden"})})),e.afterClose((function(){i.stylize({overflow:n})}))}(v,g.bind(null,"bodyOverflow",!0)),c.watch((function(){g("escCloses",!0)&&v.isVisible()&&v.close()})),v}})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return i}));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorTableVisible=t.errorTableVisible,this.onToggleVisibility=t.onToggleVisibility,this.onFocusLine=t.onFocusLine||function(){},this.onChangeHeight=t.onChangeHeight,this.dom={};var n=document.createElement("div");n.className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=n;var r=document.createElement("div");r.style.display="none",r.className="jsoneditor-additional-errors fadein",r.innerHTML="Scroll for more &#9663;",this.dom.additionalErrorsIndication=r,n.appendChild(r);var i=document.createElement("span");i.className="jsoneditor-validation-error-icon",i.style.display="none",this.dom.validationErrorIcon=i;var o=document.createElement("span");o.className="jsoneditor-validation-error-count",o.style.display="none",this.dom.validationErrorCount=o,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}var t,n,i;return t=e,(n=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(e,t){var n=this;if(this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&e.length>0){var r=document.createElement("div");r.className="jsoneditor-validation-errors",r.innerHTML='<table class="jsoneditor-text-errors"><tbody></tbody></table>';var i=r.getElementsByTagName("tbody")[0];e.forEach((function(e){var r,o;if(r="string"==typeof e?'<td colspan="2"><pre>'+e+"</pre></td>":"<td>"+(e.dataPath||"")+"</td><td><pre>"+e.message+"</pre></td>",isNaN(e.line)){if(e.dataPath){var a=t.find((function(t){return t.path===e.dataPath}));a&&(o=a.line+1)}}else o=e.line;var s=document.createElement("tr");s.className=isNaN(o)?"":"jump-to-line","error"===e.type?s.className+=" parse-error":s.className+=" validation-error",s.innerHTML='<td><button class="jsoneditor-schema-error"></button></td><td style="white-space:nowrap;">'+(isNaN(o)?"":"Ln "+o)+"</td>"+r,s.onclick=function(){n.onFocusLine(o)},i.appendChild(s)})),this.dom.validationErrors=r,this.dom.validationErrorsContainer.appendChild(r),this.dom.additionalErrorsIndication.title=e.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){n.dom.additionalErrorsIndication.style.display=n.dom.validationErrorsContainer.clientHeight>0&&0===n.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0;var o=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.onChangeHeight(o)}else this.onChangeHeight(0);var a=e.filter((function(e){return"error"!==e.type})).length;if(a>0?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=a,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=a+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),e.some((function(e){return"error"===e.type}))){var s=e[0].line;this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(s)?"parse error - check that the json is valid":"parse error on line "+s}else this.dom.parseErrorIndication.style.display="none"}}])&&r(t.prototype,n),i&&r(t,i),e}()},function(e,t,n){var r;if(window.ace)r=window.ace;else try{r=n(!function(){var e=new Error("Cannot find module 'ace-builds/src-noconflict/ace'");throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error("Cannot find module 'ace-builds/src-noconflict/mode-json'");throw e.code="MODULE_NOT_FOUND",e}()),n(!function(){var e=new Error("Cannot find module 'ace-builds/src-noconflict/ext-searchbox'");throw e.code="MODULE_NOT_FOUND",e}());var i=n(!function(){var e=new Error("Cannot find module '../generated/worker-json-data-url'");throw e.code="MODULE_NOT_FOUND",e}());r.config.setModuleUrl("ace/mode/json_worker",i)}catch(e){}e.exports=r},function(e,t,n){n.r(t);var r=n(14),i=n.n(r),o=n(4),a=n.n(o),s=n(1),c=n(6),l=n(13),u=n(0),h=n(5),d=n(7),f=n(2),p=n(19);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"textModeMixins",(function(){return y}));var g={};function v(){try{this.format()}catch(e){}}g.create=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.statusBar&&(t.statusBar=!0),t.mainMenuBar=!1!==t.mainMenuBar,t.enableSort=!1!==t.enableSort,t.enableTransform=!1!==t.enableTransform,this.options=t,t.indentation?this.indentation=Number(t.indentation):this.indentation=2;var n=t.ace?t.ace:i.a;this.mode="code"===t.mode?"code":"text","code"===this.mode&&void 0===n&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=t.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&n&&Object(p.tryRequireThemeJsonEditor)(),t.onTextSelectionChange&&this.onTextSelectionChange(t.onTextSelectionChange);var r=this;if(this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this._debouncedValidate=Object(u.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){r._onKeyDown(e)},this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar){Object(u.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var o=document.createElement("button");o.type="button",o.className="jsoneditor-format",o.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(o),o.onclick=function(){try{r.format(),r._onChange()}catch(e){r._onError(e)}};var a=document.createElement("button");if(a.type="button",a.className="jsoneditor-compact",a.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(a),a.onclick=function(){try{r.compact(),r._onChange()}catch(e){r._onError(e)}},this.options.enableSort){var h=document.createElement("button");h.type="button",h.className="jsoneditor-sort",h.title=Object(s.c)("sortTitleShort"),h.onclick=function(){r._showSortModal()},this.menu.appendChild(h)}if(this.options.enableTransform){var d=document.createElement("button");d.type="button",d.title=Object(s.c)("transformTitleShort"),d.className="jsoneditor-transform",d.onclick=function(){r._showTransformModal()},this.menu.appendChild(d)}var f=document.createElement("button");if(f.type="button",f.className="jsoneditor-repair",f.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(f),f.onclick=function(){try{r.repair(),r._onChange()}catch(e){r._onError(e)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new c.a(this.menu,this.options.modes,this.options.mode,(function(e){r.setMode(e),r.modeSwitcher.focus()}))),"code"===this.mode){var g=document.createElement("a");g.appendChild(document.createTextNode("powered by ace")),g.href="http://ace.ajax.org",g.target="_blank",g.className="jsoneditor-poweredBy",g.onclick=function(){window.open(g.href,g.target)},this.menu.appendChild(g)}}var v={},y=this.options.onEditable&&m("function"===this.options.onEditable)&&!this.options.onEditable(v);if(this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var b=n.edit(this.editorDom),w=b.getSession();b.$blockScrolling=1/0,b.setTheme(this.theme),b.setOptions({readOnly:y}),b.setShowPrintMargin(!1),b.setFontSize("13px"),w.setMode("ace/mode/json"),w.setTabSize(this.indentation),w.setUseSoftTabs(!0),w.setUseWrapMode(!0);var x=w.setAnnotations;w.setAnnotations=function(e){x.call(this,e&&e.length?e:r.annotations)},b.commands.bindKey("Ctrl-L",null),b.commands.bindKey("Command-L",null),this.aceEditor=b,b.on("change",this._onChange.bind(this)),b.on("changeSelection",this._onSelect.bind(this))}else{var _=document.createElement("textarea");_.className="jsoneditor-text",_.spellcheck=!1,this.content.appendChild(_),this.textarea=_,this.textarea.readOnly=y,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),_.onselect=this._onSelect.bind(this),_.onmousedown=this._onMouseDown.bind(this),_.onblur=this._onBlur.bind(this)}if(this.errorTable=new l.a({errorTableVisible:"text"===this.mode,onToggleVisibility:function(){r.validate()},onFocusLine:function(e){r.isFocused=!0,isNaN(e)||r.setTextSelection({row:e,column:1},{row:e,column:1e3})},onChangeHeight:function(e){var t=e+(r.dom.statusBar?r.dom.statusBar.clientHeight:0)+1;r.content.style.marginBottom=-t+"px",r.content.style.paddingBottom=t+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),t.statusBar){Object(u.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={};var E=document.createElement("div");this.dom.statusBar=E,E.className="jsoneditor-statusbar",this.frame.appendChild(E);var S=document.createElement("span");S.className="jsoneditor-curserinfo-label",S.innerText="Ln:";var C=document.createElement("span");C.className="jsoneditor-curserinfo-val",C.innerText="1",E.appendChild(S),E.appendChild(C);var A=document.createElement("span");A.className="jsoneditor-curserinfo-label",A.innerText="Col:";var T=document.createElement("span");T.className="jsoneditor-curserinfo-val",T.innerText="1",E.appendChild(A),E.appendChild(T),this.curserInfoElements.colVal=T,this.curserInfoElements.lnVal=C;var M=document.createElement("span");M.className="jsoneditor-curserinfo-label",M.innerText="characters selected",M.style.display="none";var k=document.createElement("span");k.className="jsoneditor-curserinfo-count",k.innerText="0",k.style.display="none",this.curserInfoElements.countLabel=M,this.curserInfoElements.countVal=k,E.appendChild(k),E.appendChild(M),E.appendChild(this.errorTable.getErrorCounter()),E.appendChild(this.errorTable.getWarningIcon()),E.appendChild(this.errorTable.getErrorIcon())}this.setSchema(this.options.schema,this.options.schemaRefs)},g._onChange=function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},g._showSortModal=function(){var e=this,t=this.options.modalAnchor||f.a,n=this.get();Object(h.a)(t,n,(function(t){if(Array.isArray(n)){var r=Object(u.sort)(n,t.path,t.direction);e.sortedBy=t,e.set(r)}if(Object(u.isObject)(n)){var i=Object(u.sortObjectKeys)(n,t.direction);e.sortedBy=t,e.set(i)}}),e.sortedBy)},g._showTransformModal=function(){var e=this,t=this.options.modalAnchor||f.a,n=this.get();Object(d.a)(t,n,(function(t){var r=a.a.search(n,t);e.set(r)}))},g._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},g._onKeyDown=function(e){var t=!1;220===(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),t=!0),t&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},g._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},g._onBlur=function(){var e=this;setTimeout((function(){e.isFocused||(e._updateCursorInfo(),e._emitSelectionChange()),e.isFocused=!1}))},g._updateCursorInfo=function(){var e,t,n,r=this;if(this.textarea)setTimeout((function(){var i=Object(u.getInputSelection)(r.textarea);i.startIndex!==i.endIndex&&(n=i.endIndex-i.startIndex),n&&r.cursorInfo&&r.cursorInfo.line===i.end.row&&r.cursorInfo.column===i.end.column?(e=i.start.row,t=i.start.column):(e=i.end.row,t=i.end.column),r.cursorInfo={line:e,column:t,count:n},r.options.statusBar&&a()}),0);else if(this.aceEditor&&this.curserInfoElements){var i=this.aceEditor.getCursorPosition(),o=this.aceEditor.getSelectedText();e=i.row+1,t=i.column+1,n=o.length,r.cursorInfo={line:e,column:t,count:n},this.options.statusBar&&a()}function a(){r.curserInfoElements.countVal.innerText!==n&&(r.curserInfoElements.countVal.innerText=n,r.curserInfoElements.countVal.style.display=n?"inline":"none",r.curserInfoElements.countLabel.style.display=n?"inline":"none"),r.curserInfoElements.lnVal.innerText=e,r.curserInfoElements.colVal.innerText=t}},g._emitSelectionChange=function(){if(this._selectionChangedHandler){var e=this.getTextSelection();this._selectionChangedHandler(e.start,e.end,e.text)}},g._refreshAnnotations=function(){var e=this.aceEditor&&this.aceEditor.getSession();if(e){var t=e.getAnnotations().filter((function(e){return"error"===e.type}));e.setAnnotations(t)}},g.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},g.compact=function(){var e=this.get(),t=JSON.stringify(e);this._setText(t,!1)},g.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this._setText(t,!1)},g.repair=function(){var e=this.getText(),t=Object(u.repair)(e);this._setText(t,!1)},g.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},g.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},g.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},g.update=function(e){this.updateText(JSON.stringify(e,null,this.indentation))},g.get=function(){var e=this.getText();return Object(u.parse)(e)},g.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},g._setText=function(e,t){var n=!0===this.options.escapeUnicode?Object(u.escapeUnicodeChars)(e):e;if(this.textarea&&(this.textarea.value=n),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(n,-1),this.onChangeDisabled=!1,t)){var r=this;setTimeout((function(){r.aceEditor&&r.aceEditor.session.getUndoManager().reset()}),0)}this._debouncedValidate()},g.setText=function(e){this._setText(e,!0)},g.updateText=function(e){this.getText()!==e&&this._setText(e,!1)},g.validate=function(){var e,t=[],n=[];try{e=this.get(),this.validateSchema&&(this.validateSchema(e)||(t=this.validateSchema.errors.map((function(e){return e.type="validation",Object(u.improveSchemaError)(e)})))),this.validationSequence=(this.validationSequence||0)+1;var r=this,i=this.validationSequence;(function(e,t){if(!t)return Promise.resolve([]);try{var n=t(e);return(Object(u.isPromise)(n)?n:Promise.resolve(n)).then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(u.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t})).map((function(e){return{dataPath:Object(u.stringifyPath)(e.path),message:e.message}})):[]}))}catch(e){return Promise.reject(e)}})(e,this.options.onValidate).then((function(e){if(i===r.validationSequence){var o=t.concat(n).concat(e);r._renderErrors(o)}})).catch((function(e){console.error("Custom validation function did throw an error",e)}))}catch(e){if(this.getText()){var o,a=/\w*line\s*(\d+)\w*/g.exec(e.message);a&&(o=+a[1]),n=[{type:"error",message:e.message.replace(/\n/g,"<br>"),line:o}]}this._renderErrors(n)}},g._renderErrors=function(e){var t=this.getText(),n=[];e.reduce((function(e,t){return-1===e.indexOf(t.dataPath)&&e.push(t.dataPath),e}),n);var r=Object(u.getPositionForPath)(t,n);this.aceEditor&&(this.annotations=r.map((function(t){var n=e.filter((function(e){return e.dataPath===t.path})),r=n.map((function(e){return e.message})).join("\n");return r?{row:t.line,column:t.column,text:"Schema validation error"+(1!==n.length?"s":"")+": \n"+r,type:"warning",source:"jsoneditor"}:{}})),this._refreshAnnotations()),this.errorTable.setErrors(e,r),this.aceEditor&&this.aceEditor.resize(!1)},g.getTextSelection=function(){var e={};if(this.textarea){var t=Object(u.getInputSelection)(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),r=this.aceEditor.getSelectedText(),i=n.getRange(),o=n.getSelectionLead();return o.row===i.end.row&&o.column===i.end.column?e=i:(e.start=i.end,e.end=i.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:r}}},g.onTextSelectionChange=function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(u.debounce)(e,this.DEBOUNCE_INTERVAL))},g.setTextSelection=function(e,t){if(e&&t)if(this.textarea){var n=Object(u.getIndexForPosition)(this.textarea,e.row,e.column),r=Object(u.getIndexForPosition)(this.textarea,t.row,t.column);if(n>-1&&r>-1){if(this.textarea.setSelectionRange)this.textarea.focus(),this.textarea.setSelectionRange(n,r);else if(this.textarea.createTextRange){var i=this.textarea.createTextRange();i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",n),i.select()}var o=(this.textarea.value.match(/\n/g)||[]).length+1,a=this.textarea.scrollHeight/o,s=e.row*a;this.textarea.scrollTop=s>this.textarea.clientHeight?s-this.textarea.clientHeight/2:0}}else if(this.aceEditor){var c={start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}};this.aceEditor.selection.setRange(c),this.aceEditor.scrollToLine(e.row-1,!0)}};var y=[{mode:"text",mixin:g,data:"text",load:v},{mode:"code",mixin:g,data:"text",load:v}]},function(e,t,n){var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 19:this.$=o[s-1];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,c=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;function h(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}i.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,p,m,g,v,y,b,w,x,_={};;){if(p=n[n.length-1],this.defaultActions[p]?m=this.defaultActions[p]:(null==d&&(d=h()),m=o[p]&&o[p][d]),void 0===m||!m.length||!m[0]){if(!l){for(v in w=[],o[p])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");var E="";E=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[d]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:w})}if(3==l){if(1==d)throw new Error(E||"Parsing halted.");c=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,d=h()}for(;!(2..toString()in o[p]);){if(0==p)throw new Error(E||"Parsing halted.");x=1,n.length=n.length-2*x,r.length=r.length-x,i.length=i.length-x,p=n[n.length-1]}f=d,d=2,m=o[p=n[n.length-1]]&&o[p][2],l=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(m[0]){case 1:n.push(d),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(m[1]),d=null,f?(d=f,f=null):(c=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,l>0&&l--);break;case 2:if(y=this.productions_[m[1]][1],_.$=r[r.length-y],_._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},void 0!==(g=this.performAction.call(_,a,c,s,this.yy,m[1],r,i)))return g;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),i=i.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),r.push(_.$),i.push(_._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,r=a,this.options.flex));a++);return t?((i=t[0].match(/\n.*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return e}();return e.lexer=t,e}();t.parser=r,t.parse=r.parse.bind(r)},function(e,t){"undefined"!=typeof Element&&function(){function e(e){"remove"in e||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}void 0!==window.Element&&e(window.Element.prototype),void 0!==window.CharacterData&&e(window.CharacterData.prototype),void 0!==window.DocumentType&&e(window.DocumentType.prototype)}(),Array.prototype.find||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,this))return n}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},function(e,t,n){var r={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},i="a".charCodeAt();t.parse=function(e,t,n){var o={},a=0,s=0,c=0,l=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:u("",!0),pointers:o};function u(t,n){var r;h(),b(t,"value");var i=p();switch(i){case"t":f("rue"),r=!0;break;case"f":f("alse"),r=!1;break;case"n":f("ull"),r=null;break;case'"':r=d();break;case"[":r=function(e){h();var t=[],n=0;if("]"==p())return t;for(m();;){var r=e+"/"+n;t.push(u(r)),h();var i=p();if("]"==i)break;","!=i&&E(),h(),n++}return t}(t);break;case"{":r=function(e){h();var t={};if("}"==p())return t;for(m();;){var n=x();'"'!=p()&&E();var r=d(),i=e+"/"+g(r);w(i,"key",n),b(i,"keyEnd"),h(),":"!=p()&&E(),h(),t[r]=u(i),h();var o=p();if("}"==o)break;","!=o&&E(),h()}return t}(t);break;default:m(),"-0123456789".indexOf(i)>=0?r=function(){var t="",n=!0;"-"==e[c]&&(t+=p()),t+="0"==e[c]?p():y(),"."==e[c]&&(t+=p()+y(),n=!1),"e"!=e[c]&&"E"!=e[c]||(t+=p(),"+"!=e[c]&&"-"!=e[c]||(t+=p()),t+=y(),n=!1);var r=+t;return l&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}():_()}return b(t,"valueEnd"),h(),n&&c<e.length&&_(),r}function h(){e:for(;c<e.length;){switch(e[c]){case" ":s++;break;case"\t":s+=4;break;case"\r":s=0;break;case"\n":s=0,a++;break;default:break e}c++}}function d(){for(var e,t="";'"'!=(e=p());)"\\"==e?(e=p())in r?t+=r[e]:"u"==e?t+=v():E():t+=e;return t}function f(e){for(var t=0;t<e.length;t++)p()!==e[t]&&E()}function p(){S();var t=e[c];return c++,s++,t}function m(){c--,s--}function v(){for(var e=4,t=0;e--;){t<<=4;var n=p().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-i+10:n>="0"&&n<="9"?t+=+n:E()}return String.fromCharCode(t)}function y(){for(var t="";e[c]>="0"&&e[c]<="9";)t+=p();if(t.length)return t;S(),_()}function b(e,t){w(e,t,x())}function w(e,t,n){o[e]=o[e]||{},o[e][t]=n}function x(){return{line:a,column:s,pos:c}}function _(){throw new SyntaxError("Unexpected token "+e[c]+" in JSON at position "+c)}function E(){m(),_()}function S(){if(c>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},t.stringify=function(e,t,n){if(a(e)){var r,i,o=0,s="object"==typeof n?n.space:n;switch(typeof s){case"number":var c=s>10?10:s<0?0:Math.floor(s);s=c&&x(c," "),r=c,i=c;break;case"string":s=s.slice(0,10),r=0,i=0;for(var l=0;l<s.length;l++){switch(s[l]){case" ":i++;break;case"\t":i+=4;break;case"\r":i=0;break;case"\n":i=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:s=void 0}var u="",h={},d=0,p=0,m=0,v=n&&n.es6&&"function"==typeof Map;return function e(t,n,r){switch(w(r,"value"),typeof t){case"number":case"bigint":case"boolean":y(""+t);break;case"string":y(f(t));break;case"object":null===t?y("null"):"function"==typeof t.toJSON?y(f(t.toJSON())):Array.isArray(t)?i():v?t.constructor.BYTES_PER_ELEMENT?i():t instanceof Map?c():t instanceof Set?c(!0):o():o()}function i(){if(t.length){y("[");for(var i=n+1,o=0;o<t.length;o++){o&&y(","),b(i);var s=a(t[o])?t[o]:null;e(s,i,r+"/"+o)}b(n),y("]")}else y("[]")}function o(){var i=Object.keys(t);if(i.length){y("{");for(var o=n+1,c=0;c<i.length;c++){var l=i[c],u=t[l];if(a(u)){c&&y(",");var h=r+"/"+g(l);b(o),w(h,"key"),y(f(l)),w(h,"keyEnd"),y(":"),s&&y(" "),e(u,o,h)}}b(n),y("}")}else y("{}")}function c(i){if(t.size){y("{");for(var o=n+1,c=!0,l=t.entries(),u=l.next();!u.done;){var h=u.value,d=h[0],p=!!i||h[1];if(a(p)){c||y(","),c=!1;var m=r+"/"+g(d);b(o),w(m,"key"),y(f(d)),w(m,"keyEnd"),y(":"),s&&y(" "),e(p,o,m)}u=l.next()}b(n),y("}")}else y("{}")}w(r,"valueEnd")}(e,0,""),{json:u,pointers:h}}function y(e){p+=e.length,m+=e.length,u+=e}function b(e){if(s){for(u+="\n"+x(e,s),d++,p=0;e--;)o?(d+=o,p=i):p+=i,m+=r;m+=1}}function w(e,t){h[e]=h[e]||{},h[e][t]={line:d,column:p,pos:m}}function x(e,t){return Array(e+1).join(t)}};var o=["number","bigint","boolean","string","object"];function a(e){return o.indexOf(typeof e)>=0}var s=/"|\\/g,c=/[\b]/g,l=/\f/g,u=/\n/g,h=/\r/g,d=/\t/g;function f(e){return'"'+(e=e.replace(s,"\\$&").replace(l,"\\f").replace(c,"\\b").replace(u,"\\n").replace(h,"\\r").replace(d,"\\t"))+'"'}var p=/~/g,m=/\//g;function g(e){return e.replace(p,"~0").replace(m,"~1")}},function(e,t,n){t.tryRequireThemeJsonEditor=function(){try{n(21)}catch(e){console.error(e)}}},function(e,t,n){var r=n(14),i=n(11),o=n(23).treeModeMixins,a=n(15).textModeMixins,s=n(24).previewModeMixins,c=n(0),l=c.clear,u=c.extend,h=c.getInternetExplorerVersion,d=c.parse,f=(0,n(22).tryRequireAjv)();function p(e,t,n){if(!(this instanceof p))throw new Error('JSONEditor constructor called without "new".');var r=h();if(-1!==r&&r<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"===t.mode||"code"===t.mode||t.modes&&(-1!==t.modes.indexOf("text")||-1!==t.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),t&&Object.keys(t).forEach((function(e){-1===p.VALID_OPTIONS.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')}))),arguments.length&&this._create(e,t,n)}"undefined"==typeof Promise&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),p.modes={},p.prototype.DEBOUNCE_INTERVAL=150,p.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","colorPicker","onColorPicker","timestampTag","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","maxVisibleChilds"],p.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};var r=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(r)},p.prototype.destroy=function(){},p.prototype.set=function(e){this.json=e},p.prototype.get=function(){return this.json},p.prototype.setText=function(e){this.json=d(e)},p.prototype.getText=function(){return JSON.stringify(this.json)},p.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},p.prototype.getName=function(){return this.options&&this.options.name},p.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t,n,r=this.container,i=u({},this.options),o=i.mode;i.mode=e;var a=p.modes[e];if(!a)throw new Error('Unknown mode "'+i.mode+'"');try{var s="text"===a.data;if(n=this.getName(),t=this[s?"getText":"get"](),this.destroy(),l(this),u(this,a.mixin),this.create(r,i),this.setName(n),this[s?"setText":"set"](t),"function"==typeof a.load)try{a.load.call(this)}catch(e){console.error(e)}if("function"==typeof i.onModeChange&&e!==o)try{i.onModeChange(e,o)}catch(e){console.error(e)}}catch(e){this._onError(e)}}},p.prototype.getMode=function(){return this.options.mode},p.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},p.prototype.setSchema=function(e,t){if(e){var r;try{this.options.ajv?r=this.options.ajv:((r=f({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(n(!function(){var e=new Error("Cannot find module 'ajv/lib/refs/json-schema-draft-04.json'");throw e.code="MODULE_NOT_FOUND",e}())),r.addMetaSchema(n(!function(){var e=new Error("Cannot find module 'ajv/lib/refs/json-schema-draft-06.json'");throw e.code="MODULE_NOT_FOUND",e}())))}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(r){if(t){for(var i in t)r.removeSchema(i),t[i]&&r.addSchema(t[i],i);this.options.schemaRefs=t}this.validateSchema=r.compile(e),this.options.schema=e,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},p.prototype.validate=function(){},p.prototype.refresh=function(){},p.registerMode=function(e){var t,n;if(Array.isArray(e))for(t=0;t<e.length;t++)p.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var r=e.mode;if(r in p.modes)throw new Error('Mode "'+r+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var i=["setMode","registerMode","modes"];for(t=0;t<i.length;t++)if((n=i[t])in e.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');p.modes[r]=e}},p.registerMode(o),p.registerMode(a),p.registerMode(s),p.ace=r,p.Ajv=f,p.VanillaPicker=i,p.default=p,e.exports=p},function(e,t){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,n){t.tryRequireAjv=function(){try{return n(!function(){var e=new Error("Cannot find module 'ajv'");throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}},function(e,t,n){n.r(t);var r=n(11),i=n.n(r);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locked=!1}var t,n,r;return t=e,(n=[{key:"highlight",value:function(e){this.locked||(this.node!==e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout((function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0}),0))}}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}])&&o(t.prototype,n),r&&o(t,r),e}(),s=n(0);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){function n(e){return t.node.findNodeByInternalPath(e)}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){n(e.parentPath).childs[e.index].updateField(e.oldValue)},redo:function(e){n(e.parentPath).childs[e.index].updateField(e.newValue)}},editValue:{undo:function(e){n(e.path).updateValue(e.oldValue)},redo:function(e){n(e.path).updateValue(e.newValue)}},changeType:{undo:function(e){n(e.path).changeType(e.oldType)},redo:function(e){n(e.path).changeType(e.newType)}},appendNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath);e.nodes.forEach((function(e){t.appendChild(e)}))}},insertBeforeNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.beforePath);e.nodes.forEach((function(e){t.insertBefore(e,r)}))}},insertAfterNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.afterPath);e.nodes.forEach((function(e){t.insertAfter(e,r),r=e}))}},removeNodes:{undo:function(e){var t=n(e.parentPath),r=t.childs[e.index]||t.append;e.nodes.forEach((function(e){t.insertBefore(e,r)}))},redo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))}},duplicateNodes:{undo:function(e){var t=n(e.parentPath);e.clonePaths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),r=n(e.afterPath);e.paths.map(n).forEach((function(e){var n=e.clone();if("object"===t.type){var i=t.getFieldNames();n.field=Object(s.findUniqueName)(e.field,i)}t.insertAfter(n,r),r=n}))}},moveNodes:{undo:function(e){var t=n(e.oldParentPath),r=n(e.newParentPath),i=t.childs[e.oldIndex]||t.append;r.childs.slice(e.newIndex,e.newIndex+e.count).forEach((function(n,r){n.field=e.fieldNames[r],t.moveBefore(n,i)})),null===e.newParentPathRedo&&(e.newParentPathRedo=r.getInternalPath())},redo:function(e){var t=n(e.oldParentPathRedo),r=n(e.newParentPathRedo),i=r.childs[e.newIndexRedo]||r.append;t.childs.slice(e.oldIndexRedo,e.oldIndexRedo+e.count).forEach((function(t,n){t.field=e.fieldNames[n],r.moveBefore(t,i)}))}},sort:{undo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds()},redo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds()}},transform:{undo:function(e){n(e.path).setInternalValue(e.oldValue)},redo:function(e){n(e.path).setInternalValue(e.newValue)}}}}var t,n,r;return t=e,(n=[{key:"onChange",value:function(){}},{key:"add",value:function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return this.index>=0}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo){if(t.undo(e.params),e.params.oldSelection)try{this.editor.setDomSelection(e.params.oldSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo){if(t.redo(e.params),e.params.newSelection)try{this.editor.setDomSelection(e.params.newSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}])&&c(t.prototype,n),r&&c(t,r),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;this.editor=t,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=n;var i=document.createElement("div");this.dom.wrapper=i,i.className="jsoneditor-search",n.appendChild(i);var o=document.createElement("div");this.dom.results=o,o.className="jsoneditor-results",i.appendChild(o);var a=document.createElement("div");this.dom.input=a,a.className="jsoneditor-frame",a.title="Search fields and values",i.appendChild(a);var s=document.createElement("button");s.type="button",s.className="jsoneditor-refresh",a.appendChild(s);var c=document.createElement("input");c.type="text",this.dom.search=c,c.oninput=function(e){r._onDelayedSearch(e)},c.onchange=function(e){r._onSearch()},c.onkeydown=function(e){r._onKeyDown(e)},c.onkeyup=function(e){r._onKeyUp(e)},s.onclick=function(e){c.select()},a.appendChild(c);var l=document.createElement("button");l.type="button",l.title="Next result (Enter)",l.className="jsoneditor-next",l.onclick=function(){r.next()},a.appendChild(l);var u=document.createElement("button");u.type="button",u.title="Previous result (Shift+Enter)",u.className="jsoneditor-previous",u.onclick=function(){r.previous()},a.appendChild(u)}var t,n,r;return t=e,(n=[{key:"next",value:function(e){if(this.results){var t=null!==this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}}},{key:"previous",value:function(e){if(this.results){var t=this.results.length-1,n=null!==this.resultIndex?this.resultIndex-1:t;n<0&&(n=t),this._setActiveResult(n,e)}}},{key:"_setActiveResult",value:function(e,t){if(this.activeResult){var n=this.activeResult.node;"field"===this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var r=this.results[this.resultIndex].node,i=this.results[this.resultIndex].elem;"field"===i?r.searchFieldActive=!0:r.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],r.updateDom(),r.scrollTo((function(){t&&r.focus(i)}))}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(e){this._clearDelay();var t=this;this.timeout=setTimeout((function(e){t._onSearch()}),this.delay)}},{key:"_onSearch",value:function(e){this._clearDelay();var t=this.dom.search.value,n=t.length>0?t:void 0;if(n!==this.lastText||e){this.lastText=n,this.results=this.editor.search(n);var r=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,i=0;if(this.activeResult)for(var o=0;o<this.results.length;o++)if(this.results[o].node===this.activeResult.node){i=o;break}if(this._setActiveResult(i,!1),void 0!==n){var a=this.results.length;this.dom.results.innerHTML=0===a?"no&nbsp;results":1===a?"1&nbsp;result":a>r?r+"+&nbsp;results":a+"&nbsp;results"}else this.dom.results.innerHTML=""}}},{key:"_onKeyDown",value:function(e){var t=e.which;27===t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13===t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())}},{key:"_onKeyUp",value:function(e){var t=e.keyCode;27!==t&&13!==t&&this._onDelayedSearch(e)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}])&&u(t.prototype,n),r&&u(t,r),e}(),d=n(3),f=n(1);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.root=n,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,t.appendChild(this.path),this.reset())}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.path.innerHTML=Object(f.c)("selectNode")}},{key:"setPath",value:function(e){var t=this;function n(e){t.contentMenuClicked=!1,Object(s.addClassName)(t.path,"show-all"),t.path.style.width=t.path.parentNode.getBoundingClientRect().width-10+"px",t.path.onblur=function(){if(t.contentMenuClicked)return t.contentMenuClicked=!1,void t.path.focus();Object(s.removeClassName)(t.path,"show-all"),t.path.onblur=void 0,t.path.style.width="",t.setPath(e)}}function r(e){this.selectionCallback&&this.selectionCallback(e)}function i(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t)}this.path.innerHTML="",e&&e.length&&e.forEach((function(o,a){var s,c=document.createElement("span");if(c.className="jsoneditor-treepath-element",c.innerText=o.name,c.onclick=r.bind(t,o),t.path.appendChild(c),o.children.length&&((s=document.createElement("span")).className="jsoneditor-treepath-seperator",s.innerHTML="&#9658;",s.onclick=function(){t.contentMenuClicked=!0;var n=[];o.children.forEach((function(r){n.push({text:r.name,className:"jsoneditor-type-modes"+(e[a+1]+1&&e[a+1].name===r.name?" jsoneditor-selected":""),click:i.bind(t,o,r.name)})})),new d.a(n).show(s,t.root,!0)},t.path.appendChild(s)),a===e.length-1){var l=(s||c).getBoundingClientRect().right;if(t.path.offsetWidth<l&&(t.path.scrollLeft=l),t.path.scrollLeft){var u=document.createElement("span");u.className="jsoneditor-treepath-show-all-btn",u.title="show all path",u.innerHTML="...",u.onclick=n.bind(t,e),t.path.insertBefore(u,t.path.firstChild)}}}))}},{key:"onSectionSelected",value:function(e){"function"==typeof e&&(this.selectionCallback=e)}},{key:"onContextMenuItemSelected",value:function(e){"function"==typeof e&&(this.contextMenuCallback=e)}}])&&p(t.prototype,n),r&&p(t,r),e}(),g=n(4),v=n.n(g),y=n(9),b=n.n(y),w=n(10),x=n(5),_=n(7),E=n(2);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.dom={},this.expanded=!1,n&&n instanceof Object?(this.setField(n.field,n.fieldEditable),"value"in n&&this.setValue(n.value,n.type),"internalValue"in n&&this.setInternalValue(n.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=Object(s.debounce)(this._onChangeValue.bind(this),e.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=Object(s.debounce)(this._onChangeField.bind(this),e.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}var t,n,r;return t=e,(n=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:T}},{key:"_updateEditability",value:function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof e?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))}}},{key:"getPath",value:function(){for(var e=this,t=[];e;){var n=e.getName();void 0!==n&&t.unshift(n),e=e.parent}return t}},{key:"getInternalPath",value:function(){for(var e=this,t=[];e;)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(e){if(e){if(0===e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}}},{key:"findNodeByInternalPath",value:function(e){if(e){for(var t=this,n=0;n<e.length&&t;n++){var r=e[n];t=t.childs[r]}return t}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(e){for(var t=Object(s.parsePath)(e),n=this,r=function(){var e=t.shift();if("number"==typeof e){if("array"!==n.type)throw new Error("Cannot get child node at index "+e+": node is no array");n=n.childs[e]}else{if("object"!==n.type)throw new Error("Cannot get child node "+e+": node is no object");n=n.childs.filter((function(t){return t.field===e}))[0]}};n&&t.length>0;)r();return n}},{key:"findParents",value:function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e}},{key:"setError",value:function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var e=this,t=this.fieldError||this.valueError||this.error,n=this.dom.tdError;if(t&&this.dom&&this.dom.tr){Object(s.addClassName)(this.dom.tr,"jsoneditor-validation-error"),n||(n=document.createElement("td"),this.dom.tdError=n,this.dom.tdValue.parentNode.appendChild(n));var r=document.createElement("button");r.type="button",r.className="jsoneditor-button jsoneditor-schema-error";var i=function(){e.dom.popupAnchor&&e.dom.popupAnchor.destroy()},o=function(){delete e.dom.popupAnchor},a=function(n){var i=e.editor.frame;e.dom.popupAnchor=Object(w.a)(r,i,o,n);var a=r.getBoundingClientRect(),s=i.getBoundingClientRect().width-a.x>120?"jsoneditor-above":"jsoneditor-left",c=document.createElement("div");c.className="jsoneditor-popover "+s,c.appendChild(document.createTextNode(t.message)),e.dom.popupAnchor.appendChild(c)};r.onmouseover=function(){e.dom.popupAnchor||a(!0)},r.onfocus=function(){i(),a(!1)},r.onblur=function(){i()};var c=this.errorChild;for(c&&(r.onclick=function(){c.findParents().forEach((function(e){e.expand(!1)})),c.scrollTo((function(){c.focus()}))});n.firstChild;)n.removeChild(n.firstChild);n.appendChild(r)}else this.dom.tr&&Object(s.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),n&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){if(this.parent){var e=this.parent.childs.indexOf(this);return-1!==e?e:null}return-1}},{key:"setParent",value:function(e){this.parent=e}},{key:"setField",value:function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(t,n){var r,i,o,a,s,c=this.childs;if(this.type=this._getType(t),n&&n!==this.type){if("string"!==n||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+n+'"');this.type=n}if("array"===this.type){for(this.childs||(this.childs=[]),a=0;a<t.length;a++)void 0===(r=t[a])||r instanceof Function||(a<this.childs.length?((i=this.childs[a]).fieldEditable=!1,i.index=a,i.setValue(r)):(i=new e(this.editor,{value:r}),o=a<this.getMaxVisibleChilds(),this.appendChild(i,o,!1)));for(s=this.childs.length;s>=t.length;s--)this.removeChild(this.childs[s],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),s=this.childs.length-1;s>=0;s--)O(t,this.childs[s].field)||this.removeChild(this.childs[s],!1);for(var l in a=0,t)O(t,l)&&(void 0===(r=t[l])||r instanceof Function||((i=this.findChildByProperty(l))?(i.setField(l,!0),i.setValue(r)):(i=new e(this.editor,{field:l,value:r}),o=a<this.getMaxVisibleChilds(),this.appendChild(i,o,!1))),a++);this.value="",!0===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t;Array.isArray(c)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(t){var n,r,i,o,a,s=this.childs;if(this.type=t.type,"array"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)void 0===(n=t.childs[o])||n instanceof Function||(o<this.childs.length?((r=this.childs[o]).fieldEditable=!1,r.index=o,r.setInternalValue(n)):(r=new e(this.editor,{internalValue:n}),i=o<this.getMaxVisibleChilds(),this.appendChild(r,i,!1)));for(a=this.childs.length;a>=t.childs.length;a--)this.removeChild(this.childs[a],!1)}else if("object"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)void 0===(n=t.childs[o])||n instanceof Function||(o<this.childs.length?(delete(r=this.childs[o]).index,r.setField(n.field,!0),r.setInternalValue(n.value)):(r=new e(this.editor,{field:n.field,internalValue:n.value}),i=o<this.getMaxVisibleChilds(),this.appendChild(r,i,!1)));for(a=this.childs.length;a>=t.childs.length;a--)this.removeChild(this.childs[a],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t.value;Array.isArray(s)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){if(this.dom&&this.dom.tr&&this.dom.tr.parentNode){var e=this._detachFromDom();this.clearDom(),this._attachToDom(e)}else this.clearDom()}},{key:"getValue",value:function(){if("array"===this.type){var e=[];return this.childs.forEach((function(t){e.push(t.getValue())})),e}if("object"===this.type){var t={};return this.childs.forEach((function(e){t[e.getField()]=e.getValue()})),t}return void 0===this.value&&this._getDomValue(),this.value}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map((function(e){return e.getInternalValue()}))}:"object"===this.type?{type:this.type,childs:this.childs.map((function(e){return{field:e.getField(),value:e.getInternalValue()}}))}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e}},{key:"clone",value:function(){var t=new e(this.editor);if(t.type=this.type,t.field=this.field,t.fieldInnerText=this.fieldInnerText,t.fieldEditable=this.fieldEditable,t.previousField=this.previousField,t.value=this.value,t.valueInnerText=this.valueInnerText,t.previousValue=this.previousValue,t.expanded=this.expanded,t.visibleChilds=this.visibleChilds,this.childs){var n=[];this.childs.forEach((function(e){var r=e.clone();r.setParent(t),n.push(r)})),t.childs=n}else t.childs=void 0;return t}},{key:"expand",value:function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach((function(t){t.expand(e)})))}},{key:"collapse",value:function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach((function(t){t.collapse(e)})),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1)}},{key:"showChilds",value:function(){if(this.childs&&this.expanded){var e,t=this.dom.tr,n=t?t.parentNode:void 0;if(n){var r=this.getAppendDom();r.parentNode||((e=t.nextSibling)?n.insertBefore(r,e):n.appendChild(r));var i=Math.min(this.childs.length,this.visibleChilds);e=this._getNextTr();for(var o=0;o<i;o++){var a=this.childs[o];a.getDom().parentNode||n.insertBefore(a.getDom(),e),a.showChilds()}var s=this.getShowMoreDom();e=this._getNextTr(),s.parentNode||n.insertBefore(s,e),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(e){var t=this.dom.tr,n=t?t.parentNode:void 0;n&&n.removeChild(t),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(e)}},{key:"hideChilds",value:function(e){if(this.childs&&this.expanded){var t=this.getAppendDom();t.parentNode&&t.parentNode.removeChild(t),this.childs.forEach((function(e){e.hide()}));var n=this.getShowMoreDom();n.parentNode&&n.parentNode.removeChild(n),e&&!e.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds())}}},{key:"_updateCssClassName",value:function(){if(this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree){Object(s.removeAllClassNames)(this.dom.tree);var e=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"";Object(s.addClassName)(this.dom.tree,"jsoneditor-values "+e)}}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var e=0;e<this.childs.length;e++)this.childs[e].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var e=this.parent;e;)e.expanded||e.expand(),e=e.parent}},{key:"appendChild",value:function(e,t,n){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"===this.type,"array"===this.type&&(e.index=this.childs.length),"object"===this.type&&void 0===e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t){var r=e.getDom(),i=this._getNextTr(),o=i?i.parentNode:void 0;i&&o&&o.insertBefore(r,i),e.showChilds(),this.visibleChilds++}!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}))}}},{key:"moveBefore",value:function(e,t){if(this._hasChilds()){var n=this.dom.tr?this.dom.tr.parentNode:void 0;if(n){var r=document.createElement("tr");r.style.height=n.clientHeight+"px",n.appendChild(r)}if(e.parent&&e.parent.removeChild(e),t instanceof P||!t)if(this.childs.length+1>this.visibleChilds){var i=this.childs[this.visibleChilds-1];this.insertBefore(e,i)}else this.appendChild(e);else this.insertBefore(e,t);n&&n.removeChild(r)}}},{key:"insertBefore",value:function(e,t){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"===this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1===n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"===this.type,this.childs.splice(n,0,e)}if(this.expanded){var r=e.getDom(),i=t.getDom(),o=i?i.parentNode:void 0;i&&o&&o.insertBefore(r,i),e.showChilds(),this.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}}},{key:"insertAfter",value:function(e,t){if(this._hasChilds()){var n=this.childs.indexOf(t),r=this.childs[n+1];r?this.insertBefore(e,r):this.appendChild(e)}}},{key:"search",value:function(e,t){Array.isArray(t)||(t=[]);var n=e?e.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(n)&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach((function(n){n.search(e,t)})):void 0!==this.value&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(n)&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue()),t}},{key:"scrollTo",value:function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)}},{key:"expandPathToNode",value:function(){for(var e=this;e&&e.parent;){for(var t="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);e.parent.visibleChilds<t+1;)e.parent.visibleChilds+=this.getMaxVisibleChilds();e.parent.expand(!1),e=e.parent}}},{key:"focus",value:function(t){if(e.focusElement=t,this.dom.tr&&this.dom.tr.parentNode){var n=this.dom;switch(t){case"drag":n.drag?n.drag.focus():n.menu.focus();break;case"menu":n.menu.focus();break;case"expand":this._hasChilds()?n.expand.focus():n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):n.menu.focus();break;case"field":n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):this._hasChilds()?n.expand.focus():n.menu.focus();break;case"value":default:n.select?n.select.focus():n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):this._hasChilds()?n.expand.focus():n.menu.focus()}}}},{key:"containsNode",value:function(e){if(this===e)return!0;var t=this.childs;if(t)for(var n=0,r=t.length;n<r;n++)if(t[n].containsNode(e))return!0;return!1}},{key:"removeChild",value:function(e,t){if(this.childs){var n=this.childs.indexOf(e);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;var r=this.childs.splice(n,1)[0];return r.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),r}}}},{key:"_remove",value:function(e){this.removeChild(e)}},{key:"changeType",value:function(e){var t=this.type;if(t!==e){if("string"!==e&&"auto"!==e||"string"!==t&&"auto"!==t){var n=this._detachFromDom();this.clearDom(),this.type=e,"object"===e?(this.childs||(this.childs=[]),this.childs.forEach((function(e){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0===e.field&&(e.field="")})),"string"!==t&&"auto"!==t||(this.expanded=!0)):"array"===e?(this.childs||(this.childs=[]),this.childs.forEach((function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t})),"string"!==t&&"auto"!==t||(this.expanded=!0)):this.expanded=!1,this._attachToDom(n)}else this.type=e;"auto"!==e&&"string"!==e||(this.value="string"===e?String(this.value):Object(s.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}}},{key:"deepEqual",value:function(e){var t;if("array"===this.type){if(!Array.isArray(e))return!1;if(this.childs.length!==e.length)return!1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(e[t]))return!1}else if("object"===this.type){if("object"!==S(e)||!e)return!1;var n={},r=0;for(t=0;t<this.childs.length;t++){var i=this.childs[t];if(!n[i.field]){if(n[i.field]=!0,r++,!(i.field in e))return!1;if(!i.deepEqual(e[i.field]))return!1}}if(r!==Object.keys(e).length)return!1}else if(this.value!==e)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=Object(s.getInnerText)(this.dom.value)),void 0!==this.valueInnerText)try{var e;if("string"===this.type)e=this._unescapeHTML(this.valueInnerText);else{var t=this._unescapeHTML(this.valueInnerText);e=Object(s.parseString)(t)}e!==this.value&&(this.value=e,this._debouncedOnChangeValue())}catch(e){this._setValueError(Object(f.c)("cannotParseValueError"))}}},{key:"_setValueError",value:function(e){this.valueError={message:e},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(e){this.fieldError={message:e},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var e=this.editor.getDomSelection();if(e.range){var t=Object(s.textDiff)(String(this.value),String(this.previousValue));e.range.startOffset=t.start,e.range.endOffset=t.end}var n=this.editor.getDomSelection();if(n.range){var r=Object(s.textDiff)(String(this.previousValue),String(this.value));n.range.startOffset=r.start,n.range.endOffset=r.end}this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:n}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var e=this.editor.getDomSelection(),t=this.previousField||"";if(e.range){var n=Object(s.textDiff)(this.field,t);e.range.startOffset=n.start,e.range.endOffset=n.end}var r=this.editor.getDomSelection();if(r.range){var i=Object(s.textDiff)(t,this.field);r.range.startOffset=i.start,r.range.endOffset=i.end}this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:r}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,r="auto"===this.type?Object(s.getType)(n):this.type,i="string"===r&&Object(s.isUrl)(n);if(t.push("jsoneditor-"+r),i&&t.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"===r||"object"===r){var o=this.childs?this.childs.length:0;e.title=this.type+" containing "+o+" items"}else i&&this.editable.value?e.title=Object(f.c)("openUrl"):e.title="";if("boolean"===r&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var a=0;a<this.enum.length;a++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[a],this.dom.select.option.innerHTML=this.enum[a],this.dom.select.option.value===this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||O(this.schema,"oneOf")||O(this.schema,"anyOf")||O(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);this.editable.value&&this.editor.options.colorPicker&&"string"==typeof n&&Object(s.isValidColor)(n)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue),this.dom.value.style.color="#1A1A1A"),this.dom.color.style.backgroundColor=n):this._deleteDomColor(),this.editor.options.timestampTag&&"number"==typeof n&&n>9466848e5&&!isNaN(new Date(n).valueOf())?(this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date)),this.dom.date.innerHTML=new Date(n).toISOString(),this.dom.date.title=new Date(n).toString()):this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date),Object(s.stripFormatting)(e),this._updateDomDefault()}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,this.dom.value.style.color="")}},{key:"_updateDomField",value:function(){var e=this.dom.field;if(e){var t=Object(s.makeFieldTooltip)(this.schema,this.editor.options.language);t&&(e.title=t),""===String(this.field)&&"array"!==this.parent.type?Object(s.addClassName)(e,"jsoneditor-empty"):Object(s.removeClassName)(e,"jsoneditor-empty"),this.searchFieldActive?Object(s.addClassName)(e,"jsoneditor-highlight-active"):Object(s.removeClassName)(e,"jsoneditor-highlight-active"),this.searchField?Object(s.addClassName)(e,"jsoneditor-highlight"):Object(s.removeClassName)(e,"jsoneditor-highlight"),Object(s.stripFormatting)(e)}}},{key:"_getDomField",value:function(e){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=Object(s.getInnerText)(this.dom.field)),void 0!==this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText),n=this.parent.getFieldNames(this);-1!==n.indexOf(t)?e?(t=Object(s.findUniqueName)(t,n))!==this.field&&(this.field=t,this._debouncedOnChangeField()):this._setFieldError(Object(f.c)("duplicateFieldError")):t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(e){this._setFieldError(Object(f.c)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){if(this.schema&&void 0!==this.schema.default&&!this._hasChilds()){var e=this.dom.select?this.dom.select:this.dom.value;e&&(this.value===this.schema.default?(e.title=Object(f.c)("default"),Object(s.addClassName)(e,"jsoneditor-is-default"),Object(s.removeClassName)(e,"jsoneditor-is-not-default")):(e.removeAttribute("title"),Object(s.removeClassName)(e,"jsoneditor-is-default"),Object(s.addClassName)(e,"jsoneditor-is-not-default")))}}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),e.tr.node=this,"tree"===this.editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");n.type="button",e.drag=n,n.className="jsoneditor-button jsoneditor-dragarea",n.title=Object(f.c)("drag"),t.appendChild(n)}e.tr.appendChild(t);var r=document.createElement("td"),i=document.createElement("button");i.type="button",e.menu=i,i.className="jsoneditor-button jsoneditor-contextmenu",i.title=Object(f.c)("actionsMenu"),r.appendChild(e.menu),e.tr.appendChild(r)}var o=document.createElement("td");return e.tr.appendChild(o),e.tree=this._createDomTree(),o.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(e){this.dom.tr&&(e?Object(s.addClassName)(this.dom.tr,"jsoneditor-highlight"):Object(s.removeClassName)(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach((function(t){t.setHighlight(e)})))}},{key:"setSelected",value:function(e,t){this.selected=e,this.dom.tr&&(e?Object(s.addClassName)(this.dom.tr,"jsoneditor-selected"):Object(s.removeClassName)(this.dom.tr,"jsoneditor-selected"),t?Object(s.addClassName)(this.dom.tr,"jsoneditor-first"):Object(s.removeClassName)(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.showMore&&this.showMore.setSelected(e),this.childs&&this.childs.forEach((function(t){t.setSelected(e)})))}},{key:"updateValue",value:function(e){this.value=e,this.previousValue=e,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(e){this.field=e,this.previousField=e,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(t){var n=this.dom.tree;n&&(n.style.marginLeft=24*this.getLevel()+"px");var r=this.dom.field;if(r){var i;if(this.fieldEditable?(r.contentEditable=this.editable.field,r.spellcheck=!1,r.className="jsoneditor-field"):(r.contentEditable=!1,r.className="jsoneditor-readonly"),void 0!==this.index)i=this.index;else if(void 0!==this.field)i=this.field;else{var o=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0;i=o&&o.title?o.title:this._hasChilds()?this.type:""}r.innerHTML=this._escapeHTML(i),this._updateSchema()}var a=this.dom.value;a&&("array"===this.type?(this.updateNodeName(),Object(s.addClassName)(this.dom.tr,"jsoneditor-expandable")):"object"===this.type?(this.updateNodeName(),Object(s.addClassName)(this.dom.tr,"jsoneditor-expandable")):(a.innerHTML=this._escapeHTML(this.value),Object(s.removeClassName)(this.dom.tr,"jsoneditor-expandable"))),this._updateDomField(),this._updateDomValue(),this._updateCssClassName(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach((function(e){e.updateDom(t)})),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=e._findEnum(this.schema):delete this.enum)}},{key:"_updateDomIndexes",value:function(){var e=this.dom.value,t=this.childs;e&&t&&("array"===this.type?t.forEach((function(e,t){e.index=t;var n=e.dom.field;n&&(n.innerHTML=t)})):"object"===this.type&&t.forEach((function(e){void 0!==e.index&&(delete e.index,void 0===e.field&&(e.field=""))})))}},{key:"_createDomValue",value:function(){var e;return"array"===this.type?(e=document.createElement("div")).innerHTML="[...]":"object"===this.type?(e=document.createElement("div")).innerHTML="{...}":!this.editable.value&&Object(s.isUrl)(this.value)?((e=document.createElement("a")).href=this.value,e.innerHTML=this._escapeHTML(this.value)):((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1,e.innerHTML=this._escapeHTML(this.value)),e}},{key:"_createDomExpandButton",value:function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",e.title=Object(f.c)("expandTitle")):(e.className="jsoneditor-button jsoneditor-invisible",e.title=""),e}},{key:"_createDomTree",value:function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var r=document.createElement("tr");n.appendChild(r);var i=document.createElement("td");i.className="jsoneditor-tree",r.appendChild(i),e.expand=this._createDomExpandButton(),i.appendChild(e.expand),e.tdExpand=i;var o=document.createElement("td");o.className="jsoneditor-tree",r.appendChild(o),e.field=this._createDomField(),o.appendChild(e.field),e.tdField=o;var a=document.createElement("td");a.className="jsoneditor-tree",r.appendChild(a),"object"!==this.type&&"array"!==this.type&&(a.appendChild(document.createTextNode(":")),a.className="jsoneditor-separator"),e.tdSeparator=a;var s=document.createElement("td");return s.className="jsoneditor-tree",r.appendChild(s),e.value=this._createDomValue(),s.appendChild(e.value),e.tdValue=s,t}},{key:"onEvent",value:function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom,i=this,o=this._hasChilds();if("function"==typeof this.editor.options.onEvent&&this._onEvent(e),n!==r.drag&&n!==r.menu||("mouseover"===t?this.editor.highlighter.highlight(this):"mouseout"===t&&this.editor.highlighter.unhighlight()),"click"===t&&n===r.menu){var a=i.editor.highlighter;a.highlight(i),a.lock(),Object(s.addClassName)(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(s.removeClassName)(r.menu,"jsoneditor-selected"),a.unlock(),a.unhighlight()}))}if("click"===t&&(n===r.expand||("view"===i.editor.options.mode||"form"===i.editor.options.mode)&&"DIV"===n.nodeName)&&o){var c=e.ctrlKey;this._onExpand(c)}"click"!==t||e.target!==i.dom.tdColor&&e.target!==i.dom.color||this._showColorPicker(),"change"===t&&n===r.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue(),this._updateDomDefault()),"change"===t&&n===r.select&&(this.dom.value.innerHTML=r.select.value,this._getDomValue(),this._updateDomValue());var l=r.value;if(n===l)switch(t){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var u=this._escapeHTML(this.value);l.innerHTML!==u&&(l.innerHTML=u);break;case"input":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&Object(s.isUrl)(this.value)&&(e.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue(),this._updateDomValue();break;case"cut":case"paste":setTimeout((function(){i._getDomValue(),i._updateDomValue()}),1)}var h=r.field;if(n===h)switch(t){case"blur":this._getDomField(!0),this._updateDomField();var d=this._escapeHTML(this.field);h.innerHTML!==d&&(h.innerHTML=d);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout((function(){i._getDomField(),i._updateDomField()}),1)}var f=r.tree;f&&n===f.parentNode&&"click"===t&&!e.hasMoved&&((void 0!==e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<Object(s.getAbsoluteLeft)(r.tdSeparator))||o?h&&(Object(s.setEndOfContentEditable)(h),h.focus()):l&&!this.enum&&(Object(s.setEndOfContentEditable)(l),l.focus())),(n!==r.tdExpand||o)&&n!==r.tdField&&n!==r.tdSeparator||"click"!==t||e.hasMoved||h&&(Object(s.setEndOfContentEditable)(h),h.focus()),"keydown"===t&&this.onKeyDown(e)}},{key:"_onEvent",value:function(e){var t=e.target;if(t===this.dom.field||t===this.dom.value){var n={field:this.getField(),path:this.getPath()};this._hasChilds()||t!==this.dom.value||(n.value=this.getValue()),this.editor.options.onEvent(n,e)}}},{key:"onKeyDown",value:function(t){var n,r,i,o,a,c,l,u,h,d,f,p,m,g=t.which||t.keyCode,v=t.target||t.srcElement,y=t.ctrlKey,b=t.shiftKey,w=t.altKey,x=!1,_="tree"===this.editor.options.mode,E=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],S=E[0],C=E[E.length-1];if(13===g){if(v===this.dom.value)this.editable.value&&!t.ctrlKey||Object(s.isUrl)(this.value)&&(window.open(this.value,"_blank"),x=!0);else if(v===this.dom.expand&&this._hasChilds()){var A=t.ctrlKey;this._onExpand(A),v.focus(),x=!0}}else if(68===g)y&&_&&(e.onDuplicate(E),x=!0);else if(69===g)y&&(this._onExpand(b),v.focus(),x=!0);else if(77===g&&_)y&&(this.showContextMenu(v),x=!0);else if(46===g&&_)y&&(e.onRemove(E),x=!0);else if(45===g&&_)y&&!b?(this._onInsertBefore(),x=!0):y&&b&&(this._onInsertAfter(),x=!0);else if(35===g){if(w){var T=this._lastNode();T&&T.focus(e.focusElement||this._getElementName(v)),x=!0}}else if(36===g){if(w){var M=this._firstNode();M&&M.focus(e.focusElement||this._getElementName(v)),x=!0}}else if(37===g){if(w&&!b){var O=this._previousElement(v);O&&this.focus(this._getElementName(O)),x=!0}else if(w&&b&&_){if(C.expanded){var R=C.getAppendDom();i=R?R.nextSibling:void 0}else{var F=C.getDom();i=F.nextSibling}if(i){r=e.getNodeFromTarget(i),o=i.nextSibling;var L=e.getNodeFromTarget(o);r&&r instanceof P&&1!==C.parent.childs.length&&L&&L.parent&&(a=this.editor.getDomSelection(),c=(l=S.parent).childs[C.getIndex()+1]||l.append,u=S.getIndex(),h=L.getIndex(),d=l.getInternalPath(),f=L.parent.getInternalPath(),E.forEach((function(e){L.parent.moveBefore(e,L)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:E.length,fieldNames:E.map(k),oldParentPath:l.getInternalPath(),newParentPath:S.parent.getInternalPath(),oldIndex:c.getIndex(),newIndex:S.getIndex(),oldIndexRedo:u,newIndexRedo:h,oldParentPathRedo:d,newParentPathRedo:f,oldSelection:a,newSelection:this.editor.getDomSelection()}))}}}else if(38===g)w&&!b?((n=this._previousNode())&&(this.editor.deselect(!0),n.focus(e.focusElement||this._getElementName(v))),x=!0):!w&&y&&b&&_?((n=this._previousNode())&&((m=this.editor.multiselection).start=m.start||this,m.end=n,p=this.editor._findTopLevelNodes(m.start,m.end),this.editor.select(p),n.focus("field")),x=!0):w&&b&&_&&((n=S._previousNode())&&n.parent&&(a=this.editor.getDomSelection(),c=(l=S.parent).childs[C.getIndex()+1]||l.append,u=S.getIndex(),h=n.getIndex(),d=l.getInternalPath(),f=n.parent.getInternalPath(),E.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:E.length,fieldNames:E.map(k),oldParentPath:l.getInternalPath(),newParentPath:S.parent.getInternalPath(),oldIndex:c.getIndex(),newIndex:S.getIndex(),oldIndexRedo:u,newIndexRedo:h,oldParentPathRedo:d,newParentPathRedo:f,oldSelection:a,newSelection:this.editor.getDomSelection()})),x=!0);else if(39===g){if(w&&!b){var D=this._nextElement(v);D&&this.focus(this._getElementName(D)),x=!0}else if(w&&b&&_){var j=(F=S.getDom()).previousSibling;j&&(n=e.getNodeFromTarget(j))&&n.parent&&!n.isVisible()&&(a=this.editor.getDomSelection(),c=(l=S.parent).childs[C.getIndex()+1]||l.append,u=S.getIndex(),h=n.getIndex(),d=l.getInternalPath(),f=n.parent.getInternalPath(),E.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:E.length,fieldNames:E.map(k),oldParentPath:l.getInternalPath(),newParentPath:S.parent.getInternalPath(),oldIndex:c.getIndex(),newIndex:S.getIndex(),oldIndexRedo:u,newIndexRedo:h,oldParentPathRedo:d,newParentPathRedo:f,oldSelection:a,newSelection:this.editor.getDomSelection()}))}}else if(40===g)if(w&&!b)(r=this._nextNode())&&(this.editor.deselect(!0),r.focus(e.focusElement||this._getElementName(v))),x=!0;else if(!w&&y&&b&&_)(r=this._nextNode())&&((m=this.editor.multiselection).start=m.start||this,m.end=r,p=this.editor._findTopLevelNodes(m.start,m.end),this.editor.select(p),r.focus("field")),x=!0;else if(w&&b&&_){(r=C.expanded?C.append?C.append._nextNode():void 0:C._nextNode())&&!r.isVisible()&&(r=r.parent.showMore),r&&r instanceof P&&(r=C);var N=r&&(r._nextNode()||r.parent.append);N&&N.parent&&(a=this.editor.getDomSelection(),c=(l=S.parent).childs[C.getIndex()+1]||l.append,u=S.getIndex(),h=N.getIndex(),d=l.getInternalPath(),f=N.parent.getInternalPath(),E.forEach((function(e){N.parent.moveBefore(e,N)})),this.focus(e.focusElement||this._getElementName(v)),this.editor._onAction("moveNodes",{count:E.length,fieldNames:E.map(k),oldParentPath:l.getInternalPath(),newParentPath:S.parent.getInternalPath(),oldParentPathRedo:d,newParentPathRedo:f,oldIndexRedo:u,newIndexRedo:h,oldIndex:c.getIndex(),newIndex:S.getIndex(),oldSelection:a,newSelection:this.editor.getDomSelection()})),x=!0}x&&(t.preventDefault(),t.stopPropagation())}},{key:"_onExpand",value:function(e){if(e){var t=this.dom.tr.parentNode,n=t.parentNode,r=n.scrollTop;n.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=r)}},{key:"_showColorPicker",value:function(){if("function"==typeof this.editor.options.onColorPicker&&this.dom.color){var e=this;e._deleteDomColor(),e.updateDom();var t=Object(w.a)(this.dom.color,this.editor.frame);this.editor.options.onColorPicker(t,this.value,(function(t){"string"==typeof t&&t!==e.value&&(e._deleteDomColor(),e.value=t,e.updateDom(),e._debouncedOnChangeValue())}))}}},{key:"getFieldNames",value:function(e){return"object"===this.type?this.childs.filter((function(t){return t!==e})).map((function(e){return e.field})):[]}},{key:"_onInsertBefore",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0);var a=this.getInternalPath();this.parent.insertBefore(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[o],paths:[o.getInternalPath()],beforePath:a,parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:s})}},{key:"_onInsertAfter",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0),this.parent.insertAfter(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[o],paths:[o.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:a})}},{key:"_onAppend",value:function(t,n,r){var i=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:r});o.expand(!0),this.parent.appendChild(o),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[o],paths:[o.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:a})}},{key:"_onChangeType",value:function(e){var t=this.type;if(e!==t){var n=this.editor.getDomSelection();this.changeType(e);var r=this.editor.getDomSelection();this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:t,newType:e,oldSelection:n,newSelection:r})}}},{key:"sort",value:function(e,t){if("string"==typeof e&&(e=Object(s.parsePath)(e)),this._hasChilds()){this.hideChilds();var n=this.childs;this.childs=this.childs.concat();var r="desc"===t?-1:1;"object"===this.type?this.childs.sort((function(e,t){return r*b()(e.field,t.field)})):this.childs.sort((function(t,n){var i=t.getNestedChild(e),o=n.getNestedChild(e);if(!i)return r;if(!o)return-r;var a=i.value,s=o.value;return"string"!=typeof a&&"string"!=typeof s?a>s?r:a<s?-r:0:r*b()(a,s)})),this._updateDomIndexes(),this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:n,newChilds:this.childs}),this.showChilds()}}},{key:"update",value:function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var e,t=this.dom.tr?this.dom.tr.parentNode:void 0,n=(e=this.expanded?this.getAppendDom():this.getDom())&&e.parentNode?e.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:t,nextTr:n}}},{key:"_attachToDom",value:function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),n=this.getValue(),r=v.a.search(n,e);this.setValue(r);var i=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:i}),this.showChilds()}catch(e){this.showChilds(),this.editor._onError(e)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var e=this.editor.node.getInternalValue();this.editor._setRoot(this);var t=this.editor.node.getInternalValue();this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:e,newValue:t})}catch(e){this.editor._onError(e)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(e){for(var t=0,n=this;n&&t<e.length;)n=n.findChildByProperty(e[t]),t++;return n}},{key:"findChildByProperty",value:function(e){if("object"===this.type)return this.childs.find((function(t){return t.field===e}))}},{key:"getAppendDom",value:function(){return this.append||(this.append=new P(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new R(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append}},{key:"_previousNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n;do{r=r.previousSibling,t=e.getNodeFromTarget(r)}while(r&&t&&t instanceof P&&!t.isVisible())}return t}},{key:"_nextNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n;do{r=r.nextSibling,t=e.getNodeFromTarget(r)}while(r&&t&&t instanceof P&&!t.isVisible())}return t}},{key:"_firstNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n.parentNode.firstChild;t=e.getNodeFromTarget(r)}return t}},{key:"_lastNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var r=n.parentNode.lastChild;for(t=e.getNodeFromTarget(r);r&&t&&!t.isVisible();)r=r.previousSibling,t=e.getNodeFromTarget(r)}return t}},{key:"_previousElement",value:function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}}},{key:"_nextElement",value:function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}}},{key:"_getElementName",value:function(e){var t=this;return Object.keys(this.dom).find((function(n){return t.dom[n]===e}))}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(e,t){var n=this,r=n.editor.options.templates;if(null!=r){r.length&&e.push({type:"separator"});var i=function(e,t){n._onAppend(e,t)},o=function(e,t){n._onInsertBefore(e,t)};r.forEach((function(n){e.push({text:n.text,className:n.className||"jsoneditor-type-object",title:n.title,click:t?i.bind(this,n.field,n.value):o.bind(this,n.field,n.value)})}))}}},{key:"showContextMenu",value:function(t,n){var r=this,i=e.TYPE_TITLES,o=[];if(this.editable.value&&o.push({text:Object(f.c)("type"),title:Object(f.c)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:Object(f.c)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:i.auto,click:function(){r._onChangeType("auto")}},{text:Object(f.c)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:i.array,click:function(){r._onChangeType("array")}},{text:Object(f.c)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:i.object,click:function(){r._onChangeType("object")}},{text:Object(f.c)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:i.string,click:function(){r._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&o.push({text:Object(f.c)("sort"),title:Object(f.c)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){r.showSortModal()}}),this.editor.options.enableTransform&&o.push({text:Object(f.c)("transform"),title:Object(f.c)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){r.showTransformModal()}}),this.parent&&o.push({text:Object(f.c)("extract"),title:Object(f.c)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){r.extract()}})),this.parent&&this.parent._hasChilds()){o.length&&o.push({type:"separator"});var a=r.parent.childs;if(r===a[a.length-1]){var s=[{text:Object(f.c)("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){r._onAppend("","","auto")}},{text:Object(f.c)("array"),className:"jsoneditor-type-array",title:i.array,click:function(){r._onAppend("",[])}},{text:Object(f.c)("object"),className:"jsoneditor-type-object",title:i.object,click:function(){r._onAppend("",{})}},{text:Object(f.c)("string"),className:"jsoneditor-type-string",title:i.string,click:function(){r._onAppend("","","string")}}];r.addTemplates(s,!0),o.push({text:Object(f.c)("appendText"),title:Object(f.c)("appendTitle"),submenuTitle:Object(f.c)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){r._onAppend("","","auto")},submenu:s})}var c=[{text:Object(f.c)("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){r._onInsertBefore("","","auto")}},{text:Object(f.c)("array"),className:"jsoneditor-type-array",title:i.array,click:function(){r._onInsertBefore("",[])}},{text:Object(f.c)("object"),className:"jsoneditor-type-object",title:i.object,click:function(){r._onInsertBefore("",{})}},{text:Object(f.c)("string"),className:"jsoneditor-type-string",title:i.string,click:function(){r._onInsertBefore("","","string")}}];r.addTemplates(c,!1),o.push({text:Object(f.c)("insert"),title:Object(f.c)("insertTitle"),submenuTitle:Object(f.c)("insertSub"),className:"jsoneditor-insert",click:function(){r._onInsertBefore("","","auto")},submenu:c}),this.editable.field&&(o.push({text:Object(f.c)("duplicateText"),title:Object(f.c)("duplicateField"),className:"jsoneditor-duplicate",click:function(){e.onDuplicate(r)}}),o.push({text:Object(f.c)("removeText"),title:Object(f.c)("removeField"),className:"jsoneditor-remove",click:function(){e.onRemove(r)}}))}if(this.editor.options.onCreateMenu){var l=r.getPath();o=this.editor.options.onCreateMenu(o,{type:"single",path:l,paths:[l]})}new d.a(o,{close:n}).show(t,this.editor.frame)}},{key:"showSortModal",value:function(){var e=this,t=this.editor.options.modalAnchor||E.a,n=this.getValue();Object(x.a)(t,n,(function(t){var n=t.path,r=Object(s.parsePath)(n);e.sortedBy=t,e.sort(r,t.direction)}),e.sortedBy)}},{key:"showTransformModal",value:function(){var e=this,t=this.editor.options.modalAnchor||E.a,n=e.getValue();Object(_.a)(t,n,(function(t){e.transform(t)}))}},{key:"_getType",value:function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof Object(s.parseString)(e)?"string":"auto"}},{key:"_escapeHTML",value:function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t),r=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(r=Object(s.escapeUnicodeChars)(r)),r}},{key:"_unescapeHTML",value:function(e){var t='"'+this._escapeJSON(e)+'"';return Object(s.parse)(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(e){for(var t="",n=0;n<e.length;){var r=e.charAt(n);"\n"===r?t+="\\n":"\\"===r?(t+=r,n++,""!==(r=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(r)||(t+="\\"),t+=r):t+='"'===r?'\\"':r,n++}return t}},{key:"updateNodeName",value:function(){var e,t=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{e=this.editor.options.onNodeName({path:this.getPath(),size:t,type:this.type})}catch(e){console.error("Error in onNodeName callback: ",e)}this.dom.value.innerHTML="object"===this.type?"{"+(e||t)+"}":"["+(e||t)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){var e;if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(e in this.childs)this.childs[e].recursivelyUpdateNodeName()}}])&&C(t.prototype,n),r&&C(t,r),e}();A.prototype.DEBOUNCE_INTERVAL=150,A.prototype.MAX_SEARCH_RESULTS=999;var T=100;function M(e){return e.getInternalPath()}function k(e){return e.getField()}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}A.focusElement=void 0,A.select=function(e){setTimeout((function(){Object(s.selectContentEditable)(e)}),0)},A.onDragStart=function(e,t){if(!Array.isArray(e))return A.onDragStart([e],t);if(0!==e.length){var n=e[0],r=e[e.length-1],i=n.parent,o=A.getNodeFromTarget(t.target),a=n.editor,c=Object(s.getAbsoluteTop)(o.dom.tr)-Object(s.getAbsoluteTop)(n.dom.tr);a.mousemove||(a.mousemove=Object(s.addEventListener)(window,"mousemove",(function(t){A.onDrag(e,t)}))),a.mouseup||(a.mouseup=Object(s.addEventListener)(window,"mouseup",(function(t){A.onDragEnd(e,t)}))),a.highlighter.lock(),a.drag={oldCursor:document.body.style.cursor,oldSelection:a.getDomSelection(),oldPaths:e.map(M),oldParent:i,oldNextNode:i.childs[r.getIndex()+1]||i.append,oldParentPathRedo:i.getInternalPath(),oldIndexRedo:n.getIndex(),mouseX:t.pageX,offsetY:c,level:n.getLevel()},document.body.style.cursor="move",t.preventDefault()}},A.onDrag=function(e,t){if(!Array.isArray(e))return A.onDrag([e],t);if(0!==e.length){var n,r,i,o,a,c,l,u,h,d,f,p=e[0].editor,m=t.pageY-p.drag.offsetY,g=t.pageX,v=!1,y=e[0],b=y.dom.tr,w=Object(s.getAbsoluteTop)(b),x=b.offsetHeight;if(m<w){n=b;do{n=n.previousSibling,c=A.getNodeFromTarget(n),u=n?Object(s.getAbsoluteTop)(n):0}while(n&&m<u);c&&!c.parent&&(c=void 0),c||(n=(a=b.parentNode.firstChild)?a.nextSibling:void 0,(c=A.getNodeFromTarget(n))===y&&(c=void 0)),c&&c.isVisible()&&m>(u=(n=c.dom.tr)?Object(s.getAbsoluteTop)(n):0)+x&&(c=void 0),c&&(e.forEach((function(e){c.parent.moveBefore(e,c)})),v=!0)}else{var _=e[e.length-1];if(i=(o=_.expanded&&_.append?_.append.getDom():_.dom.tr)?o.nextSibling:void 0){h=Object(s.getAbsoluteTop)(i),r=i;do{l=A.getNodeFromTarget(r),r&&(d=r.nextSibling?Object(s.getAbsoluteTop)(r.nextSibling):0,f=r?d-h:0,l&&l.parent.childs.length===e.length&&l.parent.childs[e.length-1]===_&&(w+=27),r=r.nextSibling)}while(r&&m>w+f);if(l&&l.parent){var E=g-p.drag.mouseX,S=Math.round(E/24/2),C=p.drag.level+S,T=l.getLevel();for(n=l.dom.tr&&l.dom.tr.previousSibling;T<C&&n;){if(c=A.getNodeFromTarget(n),e.some((function(e){return e===c||c.isDescendantOf(e)})));else{if(!(c instanceof P))break;var M=c.parent.childs;if(M.length===e.length&&M[e.length-1]===_)break;T=(l=A.getNodeFromTarget(n)).getLevel()}n=n.previousSibling}l instanceof P&&!l.isVisible()&&l.parent.showMore.isVisible()&&(l=l._nextNode()),l&&l.dom.tr&&o.nextSibling!==l.dom.tr&&(e.forEach((function(e){l.parent.moveBefore(e,l)})),v=!0)}}}v&&(p.drag.mouseX=g,p.drag.level=y.getLevel()),p.startAutoScroll(m),t.preventDefault()}},A.onDragEnd=function(e,t){if(!Array.isArray(e))return A.onDrag([e],t);if(0!==e.length){var n=e[0],r=n.editor;e[0]&&e[0].dom.menu.focus();var i=r.drag.oldParent.getInternalPath(),o=n.parent.getInternalPath(),a=r.drag.oldParent===n.parent,c=r.drag.oldNextNode.getIndex(),l=n.getIndex(),u=r.drag.oldParentPathRedo,h=r.drag.oldIndexRedo,d=a&&h<l?l+e.length:l;a&&h===l||r._onAction("moveNodes",{count:e.length,fieldNames:e.map(k),oldParentPath:i,newParentPath:o,oldIndex:c,newIndex:l,oldIndexRedo:h,newIndexRedo:d,oldParentPathRedo:u,newParentPathRedo:null,oldSelection:r.drag.oldSelection,newSelection:r.getDomSelection()}),document.body.style.cursor=r.drag.oldCursor,r.highlighter.unlock(),e.forEach((function(e){e.updateDom(),t.target!==e.dom.drag&&t.target!==e.dom.menu&&r.highlighter.unhighlight()})),delete r.drag,r.mousemove&&(Object(s.removeEventListener)(window,"mousemove",r.mousemove),delete r.mousemove),r.mouseup&&(Object(s.removeEventListener)(window,"mouseup",r.mouseup),delete r.mouseup),r.stopAutoScroll(),t.preventDefault()}},A._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var n=t.filter((function(e){return e.enum}));if(n.length>0)return n[0].enum}return null},A._findSchema=function(e,t,n){var r=e,i=r,o=e.oneOf||e.anyOf||e.allOf;o||(o=[e]);for(var a=0;a<o.length;a++){"$ref"in(r=o[a])&&"string"==typeof r.$ref&&(r=t[r.$ref])&&(i=A._findSchema(r,t,n));for(var s=0;s<n.length&&r;s++){var c=n.slice(s+1,n.length),l=n[s];if("string"!=typeof l||!r.patternProperties||r.properties&&l in r.properties)"string"==typeof l&&r.properties?l in r.properties?(r=r.properties[l])&&(i=A._findSchema(r,t,c)):i=null:"number"==typeof l&&r.items&&(r=r.items)&&(i=A._findSchema(r,t,c));else for(var u in r.patternProperties)l.match(u)&&(i=A._findSchema(r.patternProperties[u],t,c))}}return i===e&&n.length>0?null:i},A.onRemove=function(e){if(!Array.isArray(e))return A.onRemove([e]);if(e&&e.length>0){var t=e[0],n=t.parent,r=t.editor,i=t.getIndex();r.highlighter.unhighlight();var o=r.getDomSelection();A.blurNodes(e);var a=r.getDomSelection(),s=e.map(M);e.forEach((function(e){e.parent._remove(e)})),r._onAction("removeNodes",{nodes:e,paths:s,parentPath:n.getInternalPath(),index:i,oldSelection:o,newSelection:a})}},A.onDuplicate=function(e){if(!Array.isArray(e))return A.onDuplicate([e]);if(e&&e.length>0){var t=e[e.length-1],n=t.parent,r=t.editor;r.deselect(r.multiselection.nodes);var i=r.getDomSelection(),o=t,a=e.map((function(e){var t=e.clone();if("object"===e.parent.type){var r=e.parent.getFieldNames();t.field=Object(s.findUniqueName)(e.field,r)}return n.insertAfter(t,o),o=t,t}));1===e.length?"object"===a[0].parent.type?(a[0].dom.field.innerHTML=e[0].field,a[0].focus("field")):a[0].focus():r.select(a);var c=r.getDomSelection();r._onAction("duplicateNodes",{paths:e.map(M),clonePaths:a.map(M),afterPath:t.getInternalPath(),parentPath:n.getInternalPath(),oldSelection:i,newSelection:c})}},A.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},A.targetIsColorPicker=function(e){var t=A.getNodeFromTarget(e);if(t)for(var n=e&&e.parentNode;n;){if(n===t.dom.color)return!0;n=n.parentNode}return!1},A.blurNodes=function(e){if(Array.isArray(e)){var t=e[0],n=t.parent,r=t.getIndex();n.childs[r+e.length]?n.childs[r+e.length].focus():n.childs[r-1]?n.childs[r-1].focus():n.focus()}else A.blurNodes([e])},A.TYPE_TITLES={auto:Object(f.c)("autoType"),object:Object(f.c)("objectType"),array:Object(f.c)("arrayType"),string:Object(f.c)("stringType")};var P=function(e){function t(e){this.editor=e,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.className="jsoneditor-append",t.node=this,e.tr=t,"tree"===this.editor.options.mode){e.tdDrag=document.createElement("td");var n=document.createElement("td");e.tdMenu=n;var r=document.createElement("button");r.type="button",r.className="jsoneditor-button jsoneditor-contextmenu",r.title="Click to open the actions menu (Ctrl+M)",e.menu=r,n.appendChild(e.menu)}var i=document.createElement("td"),o=document.createElement("div");return o.innerHTML="("+Object(f.c)("empty")+")",o.className="jsoneditor-readonly",i.appendChild(o),e.td=i,e.text=o,this.updateDom(),t},t.prototype.getPath=function(){return null},t.prototype.getIndex=function(){return null},t.prototype.updateDom=function(e){var t=this.dom,n=t.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var r=t.text;r&&(r.innerHTML="("+Object(f.c)("empty")+" "+this.parent.type+")");var i=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&i.appendChild(t.tdDrag),t.tdMenu&&i.appendChild(t.tdMenu),i.appendChild(n)):t.tr.firstChild&&(t.tdDrag&&i.removeChild(t.tdDrag),t.tdMenu&&i.removeChild(t.tdMenu),i.removeChild(n))},t.prototype.isVisible=function(){return 0===this.parent.childs.length},t.prototype.showContextMenu=function(t,n){var r=this,i=e.TYPE_TITLES,o=[{text:Object(f.c)("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){r._onAppend("","","auto")}},{text:Object(f.c)("array"),className:"jsoneditor-type-array",title:i.array,click:function(){r._onAppend("",[])}},{text:Object(f.c)("object"),className:"jsoneditor-type-object",title:i.object,click:function(){r._onAppend("",{})}},{text:Object(f.c)("string"),className:"jsoneditor-type-string",title:i.string,click:function(){r._onAppend("","","string")}}];r.addTemplates(o,!0);var a=[{text:Object(f.c)("appendText"),title:Object(f.c)("appendTitleAuto"),submenuTitle:Object(f.c)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){r._onAppend("","","auto")},submenu:o}];if(this.editor.options.onCreateMenu){var s=r.parent.getPath();a=this.editor.options.onCreateMenu(a,{type:"append",path:s,paths:[s]})}new d.a(a,{close:n}).show(t,this.editor.frame)},t.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,r=this.dom;if(n===r.menu&&("mouseover"===t?this.editor.highlighter.highlight(this.parent):"mouseout"===t&&this.editor.highlighter.unhighlight()),"click"===t&&n===r.menu){var i=this.editor.highlighter;i.highlight(this.parent),i.lock(),Object(s.addClassName)(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(s.removeClassName)(r.menu,"jsoneditor-selected"),i.unlock(),i.unhighlight()}))}"keydown"===t&&this.onKeyDown(e)},t}(A),R=function(e){function t(e,t){this.editor=e,this.parent=t,this.dom={}}return t.prototype=new e,t.prototype.getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var e=this,t=this.parent,n=document.createElement("a");n.appendChild(document.createTextNode(Object(f.c)("showMore"))),n.href="#",n.onclick=function(n){return t.visibleChilds=Math.floor(t.visibleChilds/t.getMaxVisibleChilds()+1)*t.getMaxVisibleChilds(),e.updateDom(),t.showChilds(),n.preventDefault(),!1};var r=document.createElement("a");r.appendChild(document.createTextNode(Object(f.c)("showAll"))),r.href="#",r.onclick=function(n){return t.visibleChilds=1/0,e.updateDom(),t.showChilds(),n.preventDefault(),!1};var i=document.createElement("div"),o=document.createTextNode(this._getShowMoreText());i.className="jsoneditor-show-more",i.appendChild(o),i.appendChild(n),i.appendChild(document.createTextNode(". ")),i.appendChild(r),i.appendChild(document.createTextNode(". "));var a=document.createElement("td");a.appendChild(i);var s=document.createElement("tr");"tree"===this.editor.options.mode&&(s.appendChild(document.createElement("td")),s.appendChild(document.createElement("td"))),s.appendChild(a),s.className="jsoneditor-show-more",this.dom.tr=s,this.dom.moreContents=i,this.dom.moreText=o}return this.updateDom(),this.dom.tr},t.prototype.updateDom=function(e){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var t=this.parent._getNextTr();t&&t.parentNode.insertBefore(this.dom.tr,t)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},t.prototype._getShowMoreText=function(){return Object(f.c)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},t.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},t.prototype.onEvent=function(e){"keydown"===e.type&&this.onKeyDown(e)},t}(A),F=n(6),L={start:function(e,t,n){return 0===t.indexOf(e)},contain:function(e,t,n){return t.indexOf(e)>-1}};n.d(t,"treeModeMixins",(function(){return j}));var D={create:function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new a,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=function(e){(e=e||{}).filter=e.filter||"start",e.trigger=e.trigger||"keydown",e.confirmKeys=e.confirmKeys||[39,35,9],e.caseSensitive=e.caseSensitive||!1;var t="",n="",r=document.createElement("div");r.style.position="relative",r.style.outline="0",r.style.border="0",r.style.margin="0",r.style.padding="0";var i,o,a=document.createElement("div");function s(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}function c(e){return void 0===i&&((i=document.createElement("span")).style.visibility="hidden",i.style.position="fixed",i.style.outline="0",i.style.margin="0",i.style.padding="0",i.style.border="0",i.style.left="0",i.style.whiteSpace="pre",i.style.fontSize=t,i.style.fontFamily=n,i.style.fontWeight="normal",document.body.appendChild(i)),i.innerHTML=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i.getBoundingClientRect().right}a.className="autocomplete dropdown",a.style.position="absolute",a.style.visibility="hidden";var l={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:r,show:function(e,i,o){var s=this;this.startFrom=i,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===t&&(t=window.getComputedStyle(e).getPropertyValue("font-size")),""===n&&(n=window.getComputedStyle(e).getPropertyValue("font-family")),a.style.marginLeft="0",a.style.marginTop=e.getBoundingClientRect().height+"px",this.options=o,this.element!==e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){s.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",h),this.element.addEventListener("keydown",h,!1),this.element.removeEventListener("blur",d),this.element.addEventListener("blur",d,!1)),r.appendChild(this.elementHint),r.appendChild(a),e.parentElement.appendChild(r),this.repaint(e)},setText:function(e){this.element.innerText=e},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,u.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(t){var n=t.innerText;n=n.replace("\n","");var r=this.options.length,i=n.substring(this.startFrom);o=n.substring(0,this.startFrom);for(var s=0;s<r;s++){var l=this.options[s];if(!e.caseSensitive&&0===l.toLowerCase().indexOf(i.toLowerCase())||e.caseSensitive&&0===l.indexOf(i)){this.elementHint.innerText=o+i+l.substring(i.length),this.elementHint.realInnerText=o+l;break}}a.style.left=c(o)+"px",u.refresh(i,this.options),this.elementHint.style.width=c(this.elementHint.innerText)+10+"px","hidden"===a.style.visibility||(this.elementHint.style.width=c(this.elementHint.innerText)+a.clientWidth+"px")}},u=function(t,n){var r=[],i=0,o=-1,a=function(){this.style.backgroundColor="#ddd"},s=function(){this.style.backgroundColor=""},c=function(){l.hide(),l.onmouseselection(this.__hint,l.rs)},l={rs:n,hide:function(){t.style.visibility="hidden"},refresh:function(n,o){t.style.visibility="hidden",i=0,t.innerHTML="";var u=window.innerHeight||document.documentElement.clientHeight,h=t.parentNode.getBoundingClientRect(),d=h.top-6,f=u-h.bottom-6;r=[];var p="function"==typeof e.filter?e.filter:L[e.filter],m=p?o.filter((function(t){return p(e.caseSensitive?n:n.toLowerCase(),e.caseSensitive?t:t.toLowerCase(),e)})):[];0!==(r=m.map((function(e){var r=document.createElement("div");return r.className="item",r.onmouseover=a,r.onmouseout=s,r.onmousedown=c,r.__hint=e,r.innerHTML=e.substring(0,n.length)+"<b>"+e.substring(n.length)+"</b>",t.appendChild(r),r}))).length&&(1===r.length&&(n.toLowerCase()===r[0].__hint.toLowerCase()&&!e.caseSensitive||n===r[0].__hint&&e.caseSensitive)||r.length<2||(l.highlight(0),d>3*f?(t.style.maxHeight=d+"px",t.style.top="",t.style.bottom="100%"):(t.style.top="100%",t.style.bottom="",t.style.maxHeight=f+"px"),t.style.visibility="visible"))},highlight:function(e){-1!==o&&r[o]&&(r[o].className="item"),r[e].className="item hover",o=e},move:function(e){return"hidden"===t.style.visibility?"":i+e===-1||i+e===r.length?r[i].__hint:(i+=e,l.highlight(i),r[i].__hint)},onmouseselection:function(){}};return l}(a,l),h=function(t){var n=(t=t||window.event).keyCode;if(null!=this.elementHint&&33!==n&&34!==n){if(27===n)return l.hideDropDown(),l.element.focus(),t.preventDefault(),void t.stopPropagation();var r=this.element.innerText;if(r=r.replace("\n",""),e.confirmKeys.indexOf(n)>=0)return 9===n&&0===this.elementHint.innerText.length&&l.onTab(),void(this.elementHint.innerText.length>0&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,l.hideDropDown(),s(this.element),9===n&&(l.element.focus(),t.preventDefault(),t.stopPropagation())));if(13!==n){if(40===n){var i=r.substring(this.startFrom),c=u.move(1);return""===c&&l.onArrowDown(),this.elementHint.innerText=o+i+c.substring(i.length),this.elementHint.realInnerText=o+c,t.preventDefault(),void t.stopPropagation()}if(38===n){var h=r.substring(this.startFrom),d=u.move(-1);""===d&&l.onArrowUp(),this.elementHint.innerText=o+h+d.substring(h.length),this.elementHint.realInnerText=o+d,t.preventDefault(),t.stopPropagation()}}else if(0===this.elementHint.innerText.length)l.onEnter();else{var f="hidden"===a.style.visibility;if(u.hide(),f)return l.hideDropDown(),l.element.focus(),void l.onEnter();this.element.innerText=this.elementHint.realInnerText,l.hideDropDown(),s(this.element),t.preventDefault(),t.stopPropagation()}}}.bind(l),d=function(e){l.hideDropDown()};return u.onmouseselection=function(e,t){t.element.innerText=t.elementHint.innerText=o+e,t.hideDropDown(),window.setTimeout((function(){t.element.focus(),s(t.element)}),1)},l}(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new l(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(e){var t=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,onSelectionChange:null,colorPicker:!0,onColorPicker:function(e,t,n){if(i.a){var r=e.getBoundingClientRect().top,o=window.innerHeight;new i.a({parent:e,color:t,popup:o-r<300&&r>300?"top":"bottom",onDone:function(e){var t=1===e.rgba[3]?e.hex.substr(0,7):e.hex;n(t)}}).show()}else console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,onEvent:null,enableSort:!0,enableTransform:!0},e&&Object.keys(e).forEach((function(n){t.options[n]=e[n]})),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=Object(s.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),Object(f.b)(this.options.languages),Object(f.a)(this.options.language)},set:function(e){if(e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var t={field:this.options.name,value:e},n=new A(this,t);this._setRoot(n),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},update:function(e){if(!this.node.deepEqual(e)){var t=this.getSelection();if(this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end){var n=this.node.findNodeByPath(t.start.path),r=this.node.findNodeByPath(t.end.path);n&&r?this.setSelection(t.start,t.end):this.setSelection({},{})}else this.setSelection({},{})}},get:function(){return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(e){try{this.set(Object(s.parse)(e))}catch(n){var t=Object(s.repair)(e);this.set(Object(s.parse)(t))}},updateText:function(e){try{this.update(Object(s.parse)(e))}catch(n){var t=Object(s.repair)(e);this.update(Object(s.parse)(t))}},setName:function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},clear:function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(e){this.clear(),this.node=e,e.setParent(null),e.setField(this.getName(),!1),delete e.index,this.tbody.appendChild(e.getDom())},search:function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(e,t){this.history&&this.history.add(e,t),this._onChange()},_onChange:function(){if(!this.onChangeDisabled){if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath){var e=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0;e?this._updateTreePath(e.getNodePath()):this.treePath.reset()}if(this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(e){console.error("Error in onNodeName callback: ",e)}}},validate:function(){var e=this.node;if(e){var t=e.getValue(),n=[];this.validateSchema&&(this.validateSchema(t)||(n=this.validateSchema.errors.map((function(e){return Object(s.improveSchemaError)(e)})).map((function(t){return{node:e.findNode(t.dataPath),error:t}})).filter((function(e){return null!=e.node}))));try{this.validationSequence++;var r=this,i=this.validationSequence;this._validateCustom(t).then((function(e){if(i===r.validationSequence){var t=[].concat(n,e||[]);r._renderValidationErrors(t)}})).catch((function(e){console.error(e)}))}catch(e){console.error(e)}}},_renderValidationErrors:function(e){this.errorNodes&&this.errorNodes.forEach((function(e){e.setError(null)}));var t=e.reduce((function(e,t){return t.node.findParents().filter((function(t){return!e.some((function(e){return e[0]===t}))})).map((function(e){return[e,t.node]})).concat(e)}),[]);this.errorNodes=t.map((function(e){return{node:e[0],child:e[1],error:{message:"object"===e[0].type?"Contains invalid properties":"Contains invalid items"}}})).concat(e).map((function(e){return e.node.setError(e.error,e.child),e.node}))},_validateCustom:function(e){try{if(this.options.onValidate){var t=this.node,n=this.options.onValidate(e);return(Object(s.isPromise)(n)?n:Promise.resolve(n)).then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(s.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t})).map((function(e){var n;try{n=e&&e.path?t.findNodeByPath(e.path):null}catch(e){}return n||console.warn("Ignoring validation error: node not found. Path:",e.path,"Error:",e),{node:n,error:e}})).filter((function(e){return e&&e.node&&e.error&&e.error.message})):null}))}}catch(e){return Promise.reject(e)}return Promise.resolve(null)},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(e){var t=this,n=this.scrollableContent,r=Object(s.getAbsoluteTop)(n),i=n.clientHeight,o=r+i;e<r+24&&n.scrollTop>0?this.autoScrollStep=(r+24-e)/3:e>o-24&&i+n.scrollTop<n.scrollHeight?this.autoScrollStep=(o-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval((function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()}),50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(e){if(e)if("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths){var t=this,n=e.paths.map((function(e){return t.node.findNodeByInternalPath(e)}));this.select(n)}else{var r=e.path?this.node.findNodeByInternalPath(e.path):null,i=r&&e.domName?r.dom[e.domName]:null;if(e.range&&i){var o=Object.assign({},e.range,{container:i});Object(s.setSelectionOffset)(o)}else r&&r.focus()}},getDomSelection:function(){var e=A.getNodeFromTarget(this.focusTarget),t=this.focusTarget,n=e?Object.keys(e.dom).find((function(n){return e.dom[n]===t})):null,r=Object(s.getSelectionOffset)();return r&&"DIV"!==r.container.nodeName&&(r=null),r&&r.container!==t&&(r=null),r&&delete r.container,{path:e?e.getInternalPath():null,domName:n,range:r,paths:this.multiselection.length>0?this.multiselection.nodes.map((function(e){return e.getInternalPath()})):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(e,t){var n=this.scrollableContent;if(n){var r=this;r.animateTimeout&&(clearTimeout(r.animateTimeout),delete r.animateTimeout),r.animateCallback&&(r.animateCallback(!1),delete r.animateCallback);var i=n.clientHeight,o=n.scrollHeight-i,a=Math.min(Math.max(e-i/4,0),o);!function e(){var i=n.scrollTop,o=a-i;Math.abs(o)>3?(n.scrollTop+=o/3,r.animateCallback=t,r.animateTimeout=setTimeout(e,50)):(t&&t(!0),n.scrollTop=a,delete r.animateTimeout,delete r.animateCallback)}()}else t&&t(!1)},_createFrame:function(){this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer";var e=this;function t(t){e._onEvent&&e._onEvent(t)}if(this.frame.onclick=function(e){var n=e.target;t(e),"BUTTON"===n.nodeName&&e.preventDefault()},this.frame.oninput=t,this.frame.onchange=t,this.frame.onkeydown=t,this.frame.onkeyup=t,this.frame.oncut=t,this.frame.onpaste=t,this.frame.onmousedown=t,this.frame.onmouseup=t,this.frame.onmouseover=t,this.frame.onmouseout=t,Object(s.addEventListener)(this.frame,"focus",t,!0),Object(s.addEventListener)(this.frame,"blur",t,!0),this.frame.onfocusin=t,this.frame.onfocusout=t,this.options.mainMenuBar){Object(s.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var n=document.createElement("button");n.type="button",n.className="jsoneditor-expand-all",n.title=Object(f.c)("expandAll"),n.onclick=function(){e.expandAll()},this.menu.appendChild(n);var r=document.createElement("button");if(r.type="button",r.title=Object(f.c)("collapseAll"),r.className="jsoneditor-collapse-all",r.onclick=function(){e.collapseAll()},this.menu.appendChild(r),this.options.enableSort){var i=document.createElement("button");i.type="button",i.className="jsoneditor-sort",i.title=Object(f.c)("sortTitleShort"),i.onclick=function(){e.node.showSortModal()},this.menu.appendChild(i)}if(this.options.enableTransform){var o=document.createElement("button");o.type="button",o.title=Object(f.c)("transformTitleShort"),o.className="jsoneditor-transform",o.onclick=function(){e.node.showTransformModal()},this.menu.appendChild(o)}if(this.history){var a=document.createElement("button");a.type="button",a.className="jsoneditor-undo jsoneditor-separator",a.title=Object(f.c)("undo"),a.onclick=function(){e._onUndo()},this.menu.appendChild(a),this.dom.undo=a;var c=document.createElement("button");c.type="button",c.className="jsoneditor-redo",c.title=Object(f.c)("redo"),c.onclick=function(){e._onRedo()},this.menu.appendChild(c),this.dom.redo=c,this.history.onChange=function(){a.disabled=!e.history.canUndo(),c.disabled=!e.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var l=this;this.modeSwitcher=new F.a(this.menu,this.options.modes,this.options.mode,(function(e){l.setMode(e),l.modeSwitcher.focus()}))}this.options.search&&(this.searchBox=new h(this,this.menu))}this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new m(this.navBar,this.frame),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(e){if(!A.targetIsColorPicker(e.target)){var t=A.getNodeFromTarget(e.target);if("keydown"===e.type&&this._onKeyDown(e),t&&"focus"===e.type&&(this.focusTarget=e.target,this.options.autocomplete&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(e.target)),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e),t&&this.options&&this.options.navigationBar&&t&&("keydown"===e.type||"mousedown"===e.type)){var n=this;setTimeout((function(){n._updateTreePath(t.getNodePath())}))}if(t&&t.selected){if("click"===e.type){if(e.target===t.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"===e.type&&A.onDragStart(this.multiselection.nodes,e)}else"mousedown"===e.type&&Object(s.hasParentNode)(e.target,this.content)&&(this.deselect(),t&&e.target===t.dom.drag?A.onDragStart(t,e):(!t||e.target!==t.dom.field&&e.target!==t.dom.value&&e.target!==t.dom.select)&&this._onMultiSelectStart(e));t&&t.onEvent(e)}},_updateTreePath:function(e){if(e&&e.length){Object(s.removeClassName)(this.navBar,"nav-bar-empty");var t=[];e.forEach((function(e){var r={name:n(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach((function(e){r.children.push({name:n(e),node:e})})),t.push(r)})),this.treePath.setPath(t)}else Object(s.addClassName)(this.navBar,"nav-bar-empty");function n(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.type}},_onTreePathSectionSelected:function(e){e&&e.node&&(e.node.expandTo(),e.node.focus())},_onTreePathMenuItemSelected:function(e,t){if(e&&e.children.length){var n=e.children.find((function(e){return e.name===t}));n&&n.node&&(this._updateTreePath(n.node.getNodePath()),n.node.expandTo(),n.node.focus())}},_startDragDistance:function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},_onMultiSelectStart:function(e){var t=A.getNodeFromTarget(e.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:t||null,end:null,nodes:[]},this._startDragDistance(e);var n=this;this.mousemove||(this.mousemove=Object(s.addEventListener)(window,"mousemove",(function(e){n._onMultiSelect(e)}))),this.mouseup||(this.mouseup=Object(s.addEventListener)(window,"mouseup",(function(e){n._onMultiSelectEnd(e)}))),e.preventDefault()}},_onMultiSelect:function(e){if(e.preventDefault(),this._updateDragDistance(e),e.hasMoved){var t=A.getNodeFromTarget(e.target);t&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect();var n=this.multiselection.start,r=this.multiselection.end||this.multiselection.start;if(n&&r){if(this.multiselection.nodes=this._findTopLevelNodes(n,r),this.multiselection.nodes&&this.multiselection.nodes.length){var i=this.multiselection.nodes[0];this.multiselection.start===i||this.multiselection.start.isDescendantOf(i)?this.multiselection.direction="down":this.multiselection.direction="up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(Object(s.removeEventListener)(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(Object(s.removeEventListener)(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach((function(e){e.setSelected(!1)})),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(e){if(!Array.isArray(e))return this.select([e]);if(e){this.deselect(),this.multiselection.nodes=e.slice(0);var t=e[0];if(e.forEach((function(e){e.expandPathToNode(),e.setSelected(!0,e===t)})),this._selectionChangedHandler){var n=this.getSelection();this._selectionChangedHandler(n.start,n.end)}}},_findTopLevelNodes:function(e,t){for(var n=e.getNodePath(),r=t.getNodePath(),i=0;i<n.length&&n[i]===r[i];)i++;var o=n[i-1],a=n[i],s=r[i];if(a&&s||(o.parent?(a=o,s=o,o=o.parent):(a=o.childs[0],s=o.childs[o.childs.length-1])),o&&a&&s){var c=o.childs.indexOf(a),l=o.childs.indexOf(s),u=Math.min(c,l),h=Math.max(c,l);return o.childs.slice(u,h+1)}return[]},_showAutoComplete:function(e){var t=A.getNodeFromTarget(e),n="";e.className.indexOf("jsoneditor-value")>=0&&(n="value"),e.className.indexOf("jsoneditor-field")>=0&&(n="field");var r=this;setTimeout((function(){if(t&&("focus"===r.options.autocomplete.trigger||e.innerText.length>0)){var i=r.options.autocomplete.getOptions(e.innerText,t.getPath(),n,t.editor);null===i?r.autocomplete.hideDropDown():"function"==typeof i.then?i.then((function(t){null===t?r.autocomplete.hideDropDown():t.options?r.autocomplete.show(e,t.startFrom,t.options):r.autocomplete.show(e,0,t)})).catch((function(e){console.error(e)})):i.options?r.autocomplete.show(e,i.startFrom,i.options):r.autocomplete.show(e,0,i)}else r.autocomplete.hideDropDown()}),50)},_onKeyDown:function(e){var t=e.which||e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=!1;if(9===t){var c=this;setTimeout((function(){Object(s.selectContentEditable)(c.focusTarget)}),0)}this.searchBox&&(r&&70===t?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),a=!0):(114===t||r&&71===t)&&(o?this.searchBox.previous(!0):this.searchBox.next(!0),a=!0)),this.history&&(r&&!o&&90===t?(this._onUndo(),a=!0):r&&o&&90===t&&(this._onRedo(),a=!0)),this.options.autocomplete&&!a&&(r||n||i||1!==e.key.length&&8!==t&&46!==t||(a=!1,this._showAutoComplete(e.target))),a&&(e.preventDefault(),e.stopPropagation())},_createTable:function(){var e;this.options.navigationBar&&Object(s.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e)),(e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},showContextMenu:function(e,t){var n=[],r=this.multiselection.nodes.slice();if(n.push({text:Object(f.c)("duplicateText"),title:Object(f.c)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){A.onDuplicate(r)}}),n.push({text:Object(f.c)("remove"),title:Object(f.c)("removeTitle"),className:"jsoneditor-remove",click:function(){A.onRemove(r)}}),this.options.onCreateMenu){var i=r.map((function(e){return e.getPath()}));n=this.options.onCreateMenu(n,{type:"multiple",path:i[0],paths:i})}new d.a(n,{close:t}).show(e,this.frame)},getSelection:function(){var e={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var t=this.multiselection.nodes[0],n=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(e.start=t.serialize(),e.end=n.serialize()):(e.start=n.serialize(),e.end=t.serialize())}return e},onSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(s.debounce)(e,this.DEBOUNCE_INTERVAL))},setSelection:function(e,t){e&&e.dom&&e.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(e));var n=this._getNodeInstancesByRange(e,t);n.forEach((function(e){e.expandTo()})),this.select(n)},_getNodeInstancesByRange:function(e,t){var n,r;e&&e.path&&(n=this.node.findNodeByPath(e.path),t&&t.path&&(r=this.node.findNodeByPath(t.path)));var i=[];if(n instanceof A)if(r instanceof A&&r!==n)if(n.parent===r.parent){n.getIndex()<r.getIndex()?(e=n,t=r):(e=r,t=n);var o=e;i.push(o);do{o=o.nextSibling(),i.push(o)}while(o&&o!==t)}else i=this._findTopLevelNodes(n,r);else i.push(n);return i},getNodesByRange:function(e,t){var n=this._getNodeInstancesByRange(e,t),r=[];return n.forEach((function(e){r.push(e.serialize())})),r}},j=[{mode:"tree",mixin:D,data:"json"},{mode:"view",mixin:D,data:"json"},{mode:"form",mixin:D,data:"json"}]},function(e,t,n){n.r(t);var r=n(4),i=n.n(r),o=n(1),a=n(6),s=n(13),c=n(5),l=n(7),u=n(15),h=n(2),d=n(0);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onChange=t,this.calculateItemSize=n||function(){return 1},this.limit=r,this.items=[],this.index=-1}var t,n,r;return t=e,(n=[{key:"add",value:function(e){for(;this._calculateHistorySize()>this.limit&&this.items.length>1;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(e),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var e=this.calculateItemSize,t=0;return this.items.forEach((function(n){t+=e(n)})),t}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return this.index>0}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}])&&f(t.prototype,n),r&&f(t,r),e}();n.d(t,"previewModeMixins",(function(){return v}));var m=u.textModeMixins[0].mixin,g={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.statusBar&&(t.statusBar=!0),t.mainMenuBar=!1!==t.mainMenuBar,t.enableSort=!1!==t.enableSort,t.enableTransform=!1!==t.enableTransform,this.options=t,t.indentation?this.indentation=Number(t.indentation):this.indentation=2,this.mode="preview";var n=this;if(this.container=e,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=Object(d.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(e){e.preventDefault()},this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.innerHTML="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar){Object(d.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var r=document.createElement("button");r.type="button",r.className="jsoneditor-format",r.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(r),r.onclick=function(){n.executeWithBusyMessage((function(){try{n.format()}catch(e){n._onError(e)}}),"formatting...")};var i=document.createElement("button");if(i.type="button",i.className="jsoneditor-compact",i.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(i),i.onclick=function(){n.executeWithBusyMessage((function(){try{n.compact()}catch(e){n._onError(e)}}),"compacting...")},this.options.enableSort){var c=document.createElement("button");c.type="button",c.className="jsoneditor-sort",c.title=Object(o.c)("sortTitleShort"),c.onclick=function(){n._showSortModal()},this.menu.appendChild(c)}if(this.options.enableTransform){var l=document.createElement("button");l.type="button",l.title=Object(o.c)("transformTitleShort"),l.className="jsoneditor-transform",l.onclick=function(){n._showTransformModal()},this.dom.transform=l,this.menu.appendChild(l)}var u=document.createElement("button");if(u.type="button",u.className="jsoneditor-repair",u.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(u),u.onclick=function(){void 0===n.json&&n.executeWithBusyMessage((function(){try{n.repair()}catch(e){n._onError(e)}}),"repairing...")},!1!==this.options.history){var f=function(){n.dom.undo.disabled=!n.history.canUndo(),n.dom.redo.disabled=!n.history.canRedo()},m=function(e){return 2*e.text.length};this.history=new p(f,m,h.c);var g=document.createElement("button");g.type="button",g.className="jsoneditor-undo jsoneditor-separator",g.title=Object(o.c)("undo"),g.onclick=function(){var e=n.history.undo();e&&n._applyHistory(e)},this.menu.appendChild(g),this.dom.undo=g;var v=document.createElement("button");v.type="button",v.className="jsoneditor-redo",v.title=Object(o.c)("redo"),v.onclick=function(){var e=n.history.redo();e&&n._applyHistory(e)},this.menu.appendChild(v),this.dom.redo=v,this.history.onChange()}this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new a.a(this.menu,this.options.modes,this.options.mode,(function(e){n.setMode(e),n.modeSwitcher.focus()})))}if(this.errorTable=new s.a({errorTableVisible:!0,onToggleVisibility:function(){n.validate()},onFocusLine:null,onChangeHeight:function(e){var t=e+(n.dom.statusBar?n.dom.statusBar.clientHeight:0)+1;n.content.style.marginBottom=-t+"px",n.content.style.paddingBottom=t+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),t.statusBar){Object(d.addClassName)(this.content,"has-status-bar");var y=document.createElement("div");this.dom.statusBar=y,y.className="jsoneditor-statusbar",this.frame.appendChild(y),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",y.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",y.appendChild(this.dom.arrayInfo),y.appendChild(this.errorTable.getErrorCounter()),y.appendChild(this.errorTable.getWarningIcon()),y.appendChild(this.errorTable.getErrorIcon())}this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var e=this.getText();this.dom.previewText.nodeValue=Object(d.limitCharacters)(e,h.b),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+Object(d.formatSize)(e.length)),this.dom.arrayInfo&&(Array.isArray(this.json)?this.dom.arrayInfo.innerText="Array: "+this.json.length+" items":this.dom.arrayInfo.innerText="")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}},_showSortModal:function(){var e=this;this.executeWithBusyMessage((function(){var t=e.options.modalAnchor||h.a,n=e.get();e._renderPreview(),Object(c.a)(t,n,(function(t){e.executeWithBusyMessage((function(){!function(t,n){if(Array.isArray(t)){var r=Object(d.sort)(t,n.path,n.direction);e.sortedBy=n,e._setAndFireOnChange(r)}if(Object(d.isObject)(t)){var i=Object(d.sortObjectKeys)(t,n.direction);e.sortedBy=n,e._setAndFireOnChange(i)}}(n,t)}),"sorting...")}),e.sortedBy)}),"parsing...")},_showTransformModal:function(){var e=this;this.executeWithBusyMessage((function(){var t=e.options.modalAnchor||h.a,n=e.get();e._renderPreview(),Object(l.a)(t,n,(function(t){e.executeWithBusyMessage((function(){var r=i.a.search(n,t);e._setAndFireOnChange(r)}),"transforming...")}))}),"parsing...")},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history.clear(),this.history=null},compact:function(){var e=this.get(),t=JSON.stringify(e);this._setTextAndFireOnChange(t,e)},format:function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this._setTextAndFireOnChange(t,e)},repair:function(){var e=this.getText(),t=Object(d.repair)(e);this._setTextAndFireOnChange(t)},focus:function(){this.dom.transform.focus()},set:function(e){this.history&&this.history.clear(),this._set(e)},update:function(e){this._set(e)},_set:function(e){this.text=void 0,this.json=e,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},_setAndFireOnChange:function(e){this._set(e),this._onChange()},get:function(){if(void 0===this.json){var e=this.getText();this.json=Object(d.parse)(e)}return this.json},getText:function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode&&(this.text=Object(d.escapeUnicodeChars)(this.text))),this.text},setText:function(e){this.history&&this.history.clear(),this._setText(e)},updateText:function(e){this.getText()!==e&&this._setText(e)},_setText:function(e,t){if(!0===this.options.escapeUnicode?this.text=Object(d.escapeUnicodeChars)(e):this.text=e,this.json=t,this._renderPreview(),void 0===this.json){var n=this;this.executeWithBusyMessage((function(){try{n.json=n.get(),n._renderPreview(),n._pushHistory()}catch(e){}}),"parsing...")}else this._pushHistory();this._debouncedValidate()},_setTextAndFireOnChange:function(e,t){this._setText(e,t),this._onChange()},_applyHistory:function(e){this.json=e.json,this.text=e.text,this._renderPreview(),this._debouncedValidate()},_pushHistory:function(){if(this.history){var e={text:this.text,json:this.json};this.history.add(e)}},executeWithBusyMessage:function(e,t){if(this.getText().length>h.d){var n=this;Object(d.addClassName)(n.frame,"busy"),n.dom.busyContent.innerText=t,setTimeout((function(){e(),Object(d.removeClassName)(n.frame,"busy"),n.dom.busyContent.innerText=""}),100)}else e()}};g.validate=m.validate,g._renderErrors=m._renderErrors;var v=[{mode:"preview",mixin:g,data:"json"}]}])},e.exports=n()})),sy=(oy=ay)&&oy.__esModule&&Object.prototype.hasOwnProperty.call(oy,"default")?oy.default:oy,cy=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ly=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},hy=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},dy={tree:"tree",view:"view",form:"form",code:"code",text:"text"},fy=Object.values(dy);dy.allValues=fy;var py=function(e){function t(n){cy(this,t);var r=hy(this,e.call(this,n));return r.htmlElementRef=null,r.jsonEditor=null,r.handleChange=r.handleChange.bind(r),r.setRef=r.setRef.bind(r),r.collapseAll=r.collapseAll.bind(r),r.expandAll=r.expandAll.bind(r),r.focus=r.focus.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.allowedModes,n=(e.innerRef,e.htmlElementProps,e.tag,e.onChange,uy(e,["allowedModes","innerRef","htmlElementProps","tag","onChange"]));this.createEditor(ly({},n,{modes:t}))},t.prototype.componentWillReceiveProps=function(e){var t=e.allowedModes,n=e.schema,r=e.name,i=e.theme,o=e.schemaRefs,a=(e.innerRef,e.htmlElementProps,e.tag,e.onChange,uy(e,["allowedModes","schema","name","theme","schemaRefs","innerRef","htmlElementProps","tag","onChange"]));this.jsonEditor&&(i!==this.props.theme?this.createEditor(ly({},a,{theme:i,modes:t})):(n===this.props.schema&&o===this.props.schemaRefs||this.jsonEditor.setSchema(n,o),r!==this.jsonEditor.getName()&&this.jsonEditor.setName(r)))},t.prototype.shouldComponentUpdate=function(e){return e.htmlElementProps!==this.props.htmlElementProps},t.prototype.componentWillUnmount=function(){this.jsonEditor&&(this.jsonEditor.destroy(),this.jsonEditor=null)},t.prototype.setRef=function(e){this.htmlElementRef=e,this.props.innerRef&&this.props.innerRef(e)},t.prototype.createEditor=function(e){var t=e.value,n=uy(e,["value"]);this.jsonEditor&&this.jsonEditor.destroy(),this.jsonEditor=new sy(this.htmlElementRef,ly({onChange:this.handleChange},n)),this.jsonEditor.set(t)},t.prototype.handleChange=function(){if(this.props.onChange)try{""===this.jsonEditor.getText()&&this.props.onChange(null);var e=this.jsonEditor.get();this.props.value!==e&&this.props.onChange(e)}catch(e){this.err=e}},t.prototype.collapseAll=function(){this.jsonEditor&&this.jsonEditor.collapseAll()},t.prototype.expandAll=function(){this.jsonEditor&&this.jsonEditor.expandAll()},t.prototype.focus=function(){this.jsonEditor&&this.jsonEditor.focus()},t.prototype.render=function(){var e=this.props,t=e.htmlElementProps,n=e.tag;return a.a.createElement(n,ly({},t,{ref:this.setRef}))},t}(o.Component);py.propTypes={value:Qc.a.oneOfType([Qc.a.object,Qc.a.array]),mode:Qc.a.oneOf(fy),name:Qc.a.string,schema:Qc.a.object,schemaRefs:Qc.a.object,onChange:Qc.a.func,onError:Qc.a.func,onModeChange:Qc.a.func,ace:Qc.a.object,ajv:Qc.a.object,theme:Qc.a.string,history:Qc.a.bool,navigationBar:Qc.a.bool,statusBar:Qc.a.bool,search:Qc.a.bool,allowedModes:Qc.a.arrayOf(Qc.a.oneOf(fy)),tag:Qc.a.oneOfType([Qc.a.string,Qc.a.elementType]),htmlElementProps:Qc.a.object,innerRef:Qc.a.func},py.defaultProps={tag:"div",mode:dy.tree,history:!1,search:!0,navigationBar:!0,statusBar:!0},py.modes=dy;n("u95b");var my=n("Bhyg"),gy=n.n(my);n("gYtI"),n("tag3");function vy(e){return(vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function by(e){return(by=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xy(e,t){return(xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _y=be.c.div.withConfig({displayName:"StyledEditor",componentId:"sc-1peflxx-0"})(["flex-grow:1;flex-shrink:1;background-color:",";.jsoneditor{border:0;border-radius:4px;}.ace_content{background-color:",";}.ace_editor{font-family:'Source Code Pro',sans-serif;}.jsoneditor-text{background-color:",";}"],"#f6f6f6","#f6f6f6","#f6f6f6"),Ey=be.c.div.withConfig({displayName:"EditorWrapper",componentId:"sc-1peflxx-1"})(["display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;position:relative;"]),Sy=be.c.div.withConfig({displayName:"DragHoverText",componentId:"sc-1peflxx-2"})(["position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(255,255,255,0.7);z-index:1010;display:flex;align-items:center;justify-content:center;> p{text-align:center;}"]),Cy=function(e){e.preventDefault(),e.stopPropagation()},Ay=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==vy(t)&&"function"!=typeof t?wy(e):t}(this,by(t).call(this,e))).state={dragging:!1},n.dragEventCounter=0,n.jsonEditor=null,n.downloadConfig=n.downloadConfig.bind(wy(n)),n.handleSubmit=n.handleSubmit.bind(wy(n)),n.dragenterListener=n.dragenterListener.bind(wy(n)),n.dragleaveListener=n.dragleaveListener.bind(wy(n)),n.dropListener=n.dropListener.bind(wy(n)),n.setEditorRef=n.setEditorRef.bind(wy(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xy(e,t)}(t,e),n=t,(r=[{key:"dragenterListener",value:function(e){Cy(e),this.dragEventCounter++,e.dataTransfer.items&&e.dataTransfer.items[0]&&this.setState({dragging:!0})}},{key:"dragleaveListener",value:function(e){Cy(e),this.dragEventCounter--,0===this.dragEventCounter&&this.setState({dragging:!1})}},{key:"dropListener",value:function(e){var t=this;if(Cy(e),this.dragEventCounter=0,this.setState({dragging:!1}),e.dataTransfer.files&&e.dataTransfer.files[0]){var n=e.dataTransfer.files[0],r=new FileReader;r.onload=function(e){try{var n=JSON.parse(e.target.result);t.jsonEditor.update(n)}catch(e){console.log(e)}},r.readAsText(n)}}},{key:"componentDidMount",value:function(){window.addEventListener("dragover",(function(e){Cy(e)})),window.addEventListener("drop",(function(e){Cy(e)}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragover",Cy),window.removeEventListener("drop",Cy)}},{key:"downloadConfig",value:function(){var e=this.jsonEditor.get();me(JSON.stringify(e,null,2),"zethus_config.json")}},{key:"handleSubmit",value:function(){(0,this.props.updateConfiguration)(this.jsonEditor.get())}},{key:"setEditorRef",value:function(e){if(e){var t=e.jsonEditor;this.jsonEditor=t}else this.jsonEditor=null}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.configuration,r=this.state.dragging;return a.a.createElement(Ic,{onClick:t},a.a.createElement(Bc,{onClick:pe},a.a.createElement(zc,null,"Edit Configuration"),a.a.createElement(Ey,{onDrag:Cy,onDragStart:Cy,onDragEnd:Cy,onDragOver:Cy,onDragEnter:this.dragenterListener,onDragLeave:this.dragleaveListener,onDrop:this.dropListener},a.a.createElement(py,{ace:gy.a,mode:"code",value:n,tag:_y,theme:"ace/theme/xcode",mainMenuBar:!1,ref:this.setEditorRef,statusBar:!1}),r&&a.a.createElement(Sy,null,a.a.createElement("p",null,"Drag & drop Configuration JSON file"))),a.a.createElement(Uc,null,a.a.createElement(oc,{onClick:this.downloadConfig},"Download"),a.a.createElement(Js,null),a.a.createElement(ic,{onClick:this.handleSubmit},"Update Configuration"),a.a.createElement(oc,{onClick:t},"Cancel"))))}}])&&yy(n.prototype,r),i&&yy(n,i),t}(a.a.Component),Ty=function(){return a.a.createElement("svg",{viewBox:"0 0 1870.38 418.16",style:{fill:"#000"}},a.a.createElement("polygon",{points:"159.8 241.17 231.44 365.27 303.09 241.17 159.8 241.17"}),a.a.createElement("polygon",{points:"54.32 58.49 98.6 135.18 364.28 135.18 320 58.49 54.32 58.49"}),a.a.createElement("polygon",{points:"480.2 182.67 408.56 58.58 336.91 182.67 480.2 182.67"}),a.a.createElement("polygon",{points:"585.68 365.35 541.4 288.66 275.72 288.66 320 365.35 585.68 365.35"}),a.a.createElement("path",{d:"M885.76,59.56c6,0,7.57,3.79,5.68,9.08L797.19,312.4h83.27c3.79,0,6.06,1.89,6.06,6.05v37.48c0,3.78-2.27,6.05-6.06,6.43H733.22c-6.05,0-7.94-3.78-5.67-9.08L821.79,109.9H743.44c-3.78,0-6.05-2.27-6.05-6.06V66c0-4.16,2.27-6,6.05-6.43Z"}),a.a.createElement("path",{d:"M1065.92,103.46c0,3.79-1.51,6.44-6.05,6.44H965.24v75.7h72.29c3.79,0,6.06,2.27,6.06,6.43v37.48c0,4.16-2.27,6.43-6.06,6.43H965.24V312.4h94.63c4.54,0,6.05,1.89,6.05,6.05v37.86c0,3.78-1.51,6.05-6.05,6.05H920.58c-3.41,0-5.68-2.27-5.68-6.05V65.62c0-3.79,2.27-6.06,5.68-6.06h139.29c4.54,0,6.05,2.27,6.05,6.06Z"}),a.a.createElement("path",{d:"M1241.54,59.56c4.17,0,6.06,2.27,6.06,6.06v37.84c0,3.79-1.89,6.06-6.06,6.06h-43.9V356.31c0,4.16-1.89,6.05-6.06,6.05h-39.36c-3.79,0-6.06-1.89-6.06-6.05V109.52h-43.91c-3.78,0-6.06-2.27-6.06-6.06V65.62c0-3.79,2.28-6.06,6.06-6.06Z"}),a.a.createElement("path",{d:"M1377.8,65.62c0-3.79,2.27-6.06,6-6.06h39c4.54,0,6.43,2.27,6.43,6.06V356.31c0,3.78-1.89,6.05-6.43,6.05h-39c-3.78,0-6-2.27-6-6.05V235.94h-48.45V356.31c0,3.78-2.27,6.05-6.06,6.05h-39c-4.55,0-6.44-2.27-6.44-6.05V65.62c0-3.79,1.89-6.06,6.44-6.06h39c3.79,0,6.06,2.27,6.06,6.06V186h48.45Z"}),a.a.createElement("path",{d:"M1611,59.56a7.59,7.59,0,0,1,7.57,7.57V307.86c0,35.57-18.92,54.5-54.5,54.5h-42.39c-35.58,0-54.51-18.93-54.51-54.5V67.13a7.6,7.6,0,0,1,7.57-7.57H1511a7.6,7.6,0,0,1,7.57,7.57V297.26c0,10.22,5.3,15.14,15.14,15.14h19.68c9.84,0,15.14-4.92,15.14-15.14V67.13a7.6,7.6,0,0,1,7.57-7.57Z"}),a.a.createElement("path",{d:"M1753.27,59.56c35.58,0,54.5,18.92,54.5,54.5v40.12c0,3.79-1.89,6.06-6,6.06h-39.37c-3.78,0-6-2.27-6-6.06V124.66c0-9.84-4.92-15.14-15.15-15.14H1723c-9.46,0-15.14,5.3-15.14,15.14v52.23l90.08,29.53c6.44,2.65,9.84,6.81,9.84,14v87.44c0,35.57-18.92,54.5-54.5,54.5h-42.39c-35.2,0-54.51-18.93-54.51-54.5V268.11c0-4.16,2.27-6.05,6.06-6.05h39.36c4.17,0,6.06,1.89,6.06,6.05v29.15c0,10.22,5.68,15.14,15.14,15.14h18.16c9.85,0,15.15-4.92,15.15-15.14V246.92l-89.71-29.53c-6.81-2.27-10.22-6.81-10.22-14V114.06c0-35.58,19.31-54.5,54.51-54.5Z"}))};function My(e){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oy(e,t){return!t||"object"!==My(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Py(e){return(Py=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ry(e,t){return(Ry=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fy,Ly=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oy(this,Py(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ry(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.data,r=e.selectTool,i=n.icon,o=n.name,s=n.type;return a.a.createElement(_c,{active:t,onClick:function(){return r(o,s)}},i(t)," ",a.a.createElement(Ec,null,o))}}])&&ky(n.prototype,r),i&&ky(n,i),t}(a.a.PureComponent);function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(n,!0).forEach((function(t){Ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iy=jy({},b,{strokeWidth:"1px"}),By=jy({},Iy,{stroke:"#000000"}),zy=(Ny(Fy={},x,x),Ny(Fy,_,_),Ny(Fy,E,E),Ny(Fy,S,S),Fy),Uy=[{name:"Controls",type:x,icon:function(e){return a.a.createElement("svg",{viewBox:"0 0 20 20",style:{height:"20px",marginRight:"2px"}},a.a.createElement("g",null,a.a.createElement("path",{d:"M15.43,6.09a.53.53,0,0,0-.72,0,.51.51,0,0,0-.15.36V8H12V5.44h1.52a.5.5,0,0,0,.5-.51.54.54,0,0,0-.14-.36L10.36,1a.53.53,0,0,0-.72,0h0L6.09,4.57a.52.52,0,0,0,0,.72.55.55,0,0,0,.36.15H8V8H5.44V6.45A.5.5,0,0,0,4.93,6a.54.54,0,0,0-.36.14L1,9.64a.53.53,0,0,0,0,.72H1l3.56,3.55a.5.5,0,0,0,.71,0,.47.47,0,0,0,.15-.35V12H8v2.53H6.45a.5.5,0,0,0-.5.51.54.54,0,0,0,.14.36L9.64,19a.51.51,0,0,0,.72,0l3.55-3.55a.52.52,0,0,0,0-.72.5.5,0,0,0-.35-.14H12V12h2.53v1.52a.5.5,0,0,0,.51.5.54.54,0,0,0,.36-.14L19,10.36a.53.53,0,0,0,0-.72h0Zm.14,6.23v-.8a.5.5,0,0,0-.5-.5H11.52a.5.5,0,0,0-.51.5v3.55a.51.51,0,0,0,.51.51h.8L10,17.9,7.68,15.58h.8a.5.5,0,0,0,.5-.51V11.52a.5.5,0,0,0-.5-.51H4.93a.51.51,0,0,0-.51.51v.8L2.1,10,4.42,7.68v.8A.51.51,0,0,0,4.93,9H8.48A.5.5,0,0,0,9,8.48V4.93a.5.5,0,0,0-.5-.51h-.8L10,2.1l2.32,2.32h-.8a.5.5,0,0,0-.5.51V8.48a.5.5,0,0,0,.5.51h3.55a.52.52,0,0,0,.51-.51v-.8L17.9,10Z",style:e?Iy:By})))}},{name:"Pose Estimate",type:S,icon:function(e){return a.a.createElement("svg",{viewBox:"0 0 20 20",style:{height:"20px",marginRight:"2px"}},a.a.createElement("g",null,a.a.createElement("line",{x1:"1.93",y1:"18.07",x2:"17.43",y2:"2.57",style:e?Iy:By}),a.a.createElement("path",{d:"M13.93,2.07h4v4",style:e?Iy:By})))},messageType:"geometry_msgs/PoseWithCovarianceStamped"},{name:"Nav Goal",type:E,icon:function(e){return a.a.createElement("svg",{viewBox:"0 0 20 20",style:{height:"20px",marginRight:"2px"}},a.a.createElement("g",null,a.a.createElement("line",{x1:"1.93",y1:"18.07",x2:"17.43",y2:"2.57",style:e?Iy:By}),a.a.createElement("path",{d:"M13.93,2.07h4v4",style:e?Iy:By})))},messageType:"geometry_msgs/PoseStamped"},{name:"Point",type:_,icon:function(e){return a.a.createElement("svg",{viewBox:"0 0 20 20",style:{height:"20px",marginRight:"2px"}},a.a.createElement("g",null,a.a.createElement("path",{d:"M10,17.47c2.16-2.41,5.85-6.8,5.85-9.34A5.83,5.83,0,0,0,10,2.28h0A5.83,5.83,0,0,0,4.15,8.1v0C4.15,10.67,7.84,15.06,10,17.47ZM10,5.52a2.63,2.63,0,0,1,2.67,2.59v0A2.69,2.69,0,0,1,10,10.8,2.65,2.65,0,0,1,7.39,8.14h0A2.59,2.59,0,0,1,9.94,5.52Z",style:e?Iy:By})))},messageType:"geometry_msgs/PointStamped"}];function Hy(e){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t){return!t||"object"!==Hy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $y(e){return($y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gy(e,t){return(Gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wy(this,$y(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activeTool,n=e.selectTool;return a.a.createElement(xc,null,Object(s.map)(Uy,(function(e){return a.a.createElement(Ly,{key:e.type,data:e,selectTool:n,active:e.type===t})})))}}])&&Vy(n.prototype,r),i&&Vy(n,i),t}(a.a.PureComponent);function Yy(e){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ky(e,t){return!t||"object"!==Yy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zy(e){return(Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jy(e,t){return(Jy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qy=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ky(this,Zy(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jy(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.activeTool,n=e.selectTool;return a.a.createElement(bc,null,a.a.createElement(wc,null,a.a.createElement(Ty,null)),a.a.createElement(qy,{activeTool:t,selectTool:n}))}}])&&Xy(n.prototype,r),i&&Xy(n,i),t}(a.a.PureComponent),eb=n("Womt");function tb(e){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rb(e){return(rb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ib(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ob(e,t){return(ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ab=function(e){function t(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=function(e,t){return!t||"object"!==tb(t)&&"function"!=typeof t?ib(e):t}(this,rb(t).call(this))).fixedFrame="base_link",i.mouse=new eb.Vector2,i.camera=e,i.scene=n,i.domElement=r,i.activePlane=new eb.Plane,i.intersection=new eb.Vector3,i.mouseDown=new eb.Vector3,i.tool={name:"Controls",type:zy.TOOL_TYPE_CONTROLS},i.eventListeners={},i.arrowHelper=new eb.ArrowHelper(new eb.Vector3(0,1,0),i.scene.position,1,16776960,.2,.2),i.dirv1Cache=new eb.Vector3(0,1,0),i.dirv2Cache=new eb.Vector3,i.quaternionCache=new eb.Quaternion,i.arrowHelper.line.material.linewidth=2,i.addOrReplaceEventListener=i.addOrReplaceEventListener.bind(ib(i)),i.mouseUpListener=i.mouseUpListener.bind(ib(i)),i.mouseMoveListener=i.mouseMoveListener.bind(ib(i)),i.mouseDownListener=i.mouseDownListener.bind(ib(i)),i.translateToFixedFrame=i.translateToFixedFrame.bind(ib(i)),i.domElement.addEventListener("mouseup",i.mouseUpListener,!1),i.domElement.addEventListener("mousedown",i.mouseDownListener,!1),i}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ob(e,t)}(t,e),n=t,(r=[{key:"addOrReplaceEventListener",value:function(e,t){this.eventListeners[e]=t}},{key:"setRayDirection",value:function(e){var t=this.domElement.getBoundingClientRect(),n=this.domElement,r=n.clientHeight,i=n.clientWidth;this.mouse.x=(e.clientX-t.left)/i*2-1,this.mouse.y=-(e.clientY-t.top)/r*2+1,this.setFromCamera(this.mouse,this.camera)}},{key:"mouseDownListener",value:function(e){if(this.setRayDirection(e),this.activePlane.setFromNormalAndCoplanarPoint(this.camera.up,this.scene.position),this.ray.intersectPlane(this.activePlane,this.intersection),this.intersection&&this.eventListeners[this.tool.name])switch(this.translateToFixedFrame(this.intersection),this.mouseDown.copy(this.intersection),this.tool.type){case zy.TOOL_TYPE_POSE_ESTIMATE:case zy.TOOL_TYPE_NAV_GOAL:this.arrowHelper.position.copy(this.intersection),this.arrowHelper.quaternion.set(0,0,0,1),this.scene.add(this.arrowHelper),this.domElement.addEventListener("mousemove",this.mouseMoveListener,!1)}}},{key:"mouseMoveListener",value:function(e){this.setRayDirection(e),this.ray.intersectPlane(this.activePlane,this.intersection),this.intersection&&this.eventListeners[this.tool.name]&&(this.translateToFixedFrame(this.intersection),this.dirv2Cache.copy(this.intersection).sub(this.mouseDown).normalize(),this.quaternionCache.setFromUnitVectors(this.dirv1Cache,this.dirv2Cache),this.arrowHelper.quaternion.copy(this.quaternionCache))}},{key:"mouseUpListener",value:function(){switch(this.domElement.removeEventListener("mousemove",this.mouseMoveListener,!1),this.scene.remove(this.arrowHelper),this.tool.type){case zy.TOOL_TYPE_POINT:this.eventListeners[this.tool.name](this.intersection,this.fixedFrame);break;case zy.TOOL_TYPE_POSE_ESTIMATE:case zy.TOOL_TYPE_NAV_GOAL:var e=this.arrowHelper,t=e.position,n=e.quaternion,r=(new eb.Quaternion).setFromAxisAngle(this.camera.up,Math.PI/2);n.premultiply(r),this.eventListeners[this.tool.name](t,n,this.fixedFrame);break;case zy.TOOL_TYPE_CONTROLS:}}},{key:"translateToFixedFrame",value:function(e){var t=this.scene.getObjectByName(this.fixedFrame);t&&t.worldToLocal(e)}}])&&nb(n.prototype,r),i&&nb(n,i),t}(eb.Raycaster);function sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lb=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ros=t,this.seq=(sb(n={},_,0),sb(n,E,0),sb(n,S,0),n),this.pointToolPublisher=new g.a.Topic({ros:this.ros,name:"/clicked_point",messageType:"geometry_msgs/PointStamped"}),this.navGoalToolPublisher=new g.a.Topic({ros:this.ros,name:"/move_base_simple/goal",messageType:"geometry_msgs/PoseStamped"}),this.poseEstimateToolPublisher=new g.a.Topic({ros:this.ros,name:"/initialpose",messageType:"geometry_msgs/PoseWithCovarianceStamped"}),this.pointToolPublisher.advertise(),this.navGoalToolPublisher.advertise(),this.poseEstimateToolPublisher.advertise(),this.publishPointToolMessage=this.publishPointToolMessage.bind(this),this.publishNavGoalToolMessage=this.publishNavGoalToolMessage.bind(this),this.publishPoseEstimateToolMessage=this.publishPoseEstimateToolMessage.bind(this)}var t,n,r;return t=e,(n=[{key:"publishPointToolMessage",value:function(e,t){var n=new g.a.Message({header:{seq:this.seq[_],stamp:{secs:Math.floor(Date.now()/1e3),nsecs:0},frame_id:t},point:e});this.pointToolPublisher.publish(n),this.seq[_]++}},{key:"publishNavGoalToolMessage",value:function(e,t){var n=new g.a.Message({header:{seq:this.seq[E],stamp:{secs:Math.floor(Date.now()/1e3),nsecs:0},frame_id:t},pose:e});this.navGoalToolPublisher.publish(n),this.seq[E]++}},{key:"publishPoseEstimateToolMessage",value:function(e,t){var n=new Array(36).fill(0);n[0]=.25,n[7]=.25,n[35]=Math.PI/12*Math.PI/12;var r=new g.a.Message({header:{seq:this.seq[S],stamp:{secs:Math.floor(Date.now()/1e3),nsecs:0},frame_id:t},pose:{pose:e,covariance:n}});this.poseEstimateToolPublisher.publish(r),this.seq[S]++}}])&&cb(t.prototype,n),r&&cb(t,r),e}();function ub(e){return(ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function db(e){return(db=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pb(e,t){return(pb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ub(t)&&"function"!=typeof t?fb(e):t}(this,db(t).call(this,e))).jsonEditor=null,n.setRef=n.setRef.bind(fb(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pb(e,t)}(t,e),n=t,(r=[{key:"setRef",value:function(e){if(e){var t=e.jsonEditor;this.jsonEditor=t}}},{key:"componentDidUpdate",value:function(e){var t=this.props.message;!Object(s.isNil)(t)&&e.message!==t&&this.jsonEditor&&this.jsonEditor.update(t)}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.selected;return Object(s.isNil)(t)?null:1===Object(s.size)(n.keys)?t[n.keys[0]]:a.a.createElement(py,{value:t,ref:this.setRef,navigationBar:!1,statusBar:!1,search:!1,history:!1,mode:"view"})}}])&&hb(n.prototype,r),i&&hb(n,i),t}(a.a.PureComponent),gb=n("Yz+Y"),vb=n.n(gb),yb=n("iCc5"),bb=n.n(yb),wb=n("V7oC"),xb=n.n(wb),_b=n("FYw3"),Eb=n.n(_b),Sb=n("mRg0"),Cb=n.n(Sb);function Ab(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Tb(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Mb(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function kb(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ab,t.componentWillReceiveProps=Tb),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Mb;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}Ab.__suppressDeprecationWarning=!0,Tb.__suppressDeprecationWarning=!0,Mb.__suppressDeprecationWarning=!0;var Ob=n("P2sY"),Pb=n.n(Ob),Rb=n("QbLZ"),Fb=n.n(Rb);function Lb(e){var t,n,r="";if(e)if("object"==typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=Lb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(n=Lb(t))&&(r&&(r+=" "),r+=n);else"boolean"==typeof e||e.call||(r&&(r+=" "),r+=e);return r}var Db=function(){for(var e,t=0,n="";t<arguments.length;)(e=Lb(arguments[t++]))&&(n&&(n+=" "),n+=e);return n};function jb(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,i=e.computeMetadataCallbackProps,o=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,c=e.scrollToIndex,l=e.updateScrollOffsetForScrollToIndex;t===o&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(i),c>=0&&c===s&&l())}var Nb=n("jo6Y"),Ib=n.n(Nb),Bb=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,i=t.estimatedCellSize;bb()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return xb()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var i=this._cellSizeGetter({index:r});if(void 0===i||isNaN(i))throw Error("Invalid size returned for cell "+r+" of value "+i);null===i?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:i},n+=i,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(o),s=a.offset,c=s-r+a.size,l=void 0;switch(n){case"start":l=s;break;case"end":l=c;break;case"center":l=s-(r-a.size)/2;break;default:l=Math.max(c,Math.min(s,i))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,l))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,i=this._findNearestCell(n),o=this.getSizeAndPositionOfCell(i);n=o.offset+o.size;for(var a=i;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:i,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),i=this.getSizeAndPositionOfCell(r).offset;if(i===n)return r;i<n?t=r+1:i>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),zb=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},Ub=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?zb():n,i=Ib()(t,["maxScrollSize"]);bb()(this,e),this._cellSizeAndPositionManager=new Bb(i),this._maxScrollSize=r}return xb()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(i-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,i=e.currentOffset,o=e.targetIndex;i=this._safeOffsetToOffset({containerSize:r,offset:i});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:i,targetIndex:o});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(o*(i-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),i=this.getTotalSize();if(r===i)return n;var o=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:i});return Math.round(o*(r-t))}}]),e}(),Hb=n("GQeE"),Vb=n.n(Hb);function Wb(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,i=n.indices,o=Vb()(i),a=!e||o.every((function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0})),s=o.length!==Vb()(t).length||o.some((function(e){var n=t[e],r=i[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=i,a&&s&&r(i)}}var $b=1;function Gb(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,i=e.previousCellSize,o=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,c=e.scrollOffset,l=e.scrollToAlignment,u=e.scrollToIndex,h=e.size,d=e.sizeJustIncreasedFromZero,f=e.updateScrollIndexCallback,p=n.getCellCount(),m=u>=0&&u<p;m&&(h!==s||d||!i||"number"==typeof t&&t!==i||l!==o||u!==a)?f(u):!m&&p>0&&(h<s||p<r)&&c>n.getTotalSize()-h&&f(p-1)}var qb,Yb=!("undefined"==typeof window||!window.document||!window.document.createElement);function Xb(e){if((!qb&&0!==qb||e)&&Yb){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qb}var Kb=n("4d7F"),Zb=n.n(Kb),Jb=void 0,Qb=(Jb="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Jb.webkitRequestAnimationFrame||Jb.mozRequestAnimationFrame||Jb.oRequestAnimationFrame||Jb.msRequestAnimationFrame||function(e){return Jb.setTimeout(e,1e3/60)},ew=Jb.cancelAnimationFrame||Jb.webkitCancelAnimationFrame||Jb.mozCancelAnimationFrame||Jb.oCancelAnimationFrame||Jb.msCancelAnimationFrame||function(e){Jb.clearTimeout(e)},tw=Qb,nw=ew,rw=function(e){return nw(e.id)},iw=function(e,t){var n=void 0;Zb.a.resolve().then((function(){n=Date.now()}));var r={id:tw((function i(){Date.now()-n>=t?e.call():r.id=tw(i)}))};return r},ow="observed",aw="requested",sw=function(e){function t(e){bb()(this,t);var n=Eb()(this,(t.__proto__||vb()(t)).call(this,e));n._onGridRenderedMemoizer=Wb(),n._onScrollMemoizer=Wb(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var r=new Ub({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new Ub({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:$b,scrollDirectionVertical:$b,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return Cb()(t,e),xb()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,i=void 0===r?this.props.scrollToColumn:r,o=e.rowIndex,a=void 0===o?this.props.scrollToRow:o,s=Fb()({},this.props,{scrollToAlignment:n,scrollToColumn:i,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r;if(!(i<0)){this._debounceScrollEnded();var o=this.props,a=o.autoHeight,s=o.autoWidth,c=o.height,l=o.width,u=this.state.instanceProps,h=u.scrollbarSize,d=u.rowSizeAndPositionManager.getTotalSize(),f=u.columnSizeAndPositionManager.getTotalSize(),p=Math.min(Math.max(0,f-l+h),n),m=Math.min(Math.max(0,d-c+h),i);if(this.state.scrollLeft!==p||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:p!==this.state.scrollLeft?p>this.state.scrollLeft?$b:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?$b:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:ow};a||(g.scrollTop=m),s||(g.scrollLeft=p),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:m,totalColumnsWidth:f,totalRowsHeight:d})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,a=o.scrollToColumn,s=o.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(n),c.rowSizeAndPositionManager.resetCell(i),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===$b?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===$b?i<=s:i>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,i=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Fb()({},i,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(Fb()({},i,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,i=e.scrollLeft,o=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,c=e.width,l=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),l.scrollbarSizeMeasured||this.setState((function(e){var t=Fb()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof i&&i>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=r>0&&c>0;o>=0&&h&&this._updateScrollLeftForScrollToColumn(),s>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalColumnsWidth:l.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:l.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.autoHeight,o=r.autoWidth,a=r.columnCount,s=r.height,c=r.rowCount,l=r.scrollToAlignment,u=r.scrollToColumn,h=r.scrollToRow,d=r.width,f=this.state,p=f.scrollLeft,m=f.scrollPositionChangeReason,g=f.scrollTop,v=f.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||c>0&&0===e.rowCount;m===aw&&(!o&&p>=0&&(p!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=p),!i&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&s>0&&d>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Gb({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:p,scrollToAlignment:l,scrollToIndex:u,size:d,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Gb({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:l,scrollToIndex:h,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),p!==t.scrollLeft||g!==t.scrollTop){var w=v.rowSizeAndPositionManager.getTotalSize(),x=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:g,totalColumnsWidth:x,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&rw(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,i=e.className,a=e.containerProps,s=e.containerRole,c=e.containerStyle,l=e.height,u=e.id,h=e.noContentRenderer,d=e.role,f=e.style,p=e.tabIndex,m=e.width,g=this.state,v=g.instanceProps,y=g.needToResetStyleCache,b=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:n?"auto":l,position:"relative",width:r?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var x=v.columnSizeAndPositionManager.getTotalSize(),_=v.rowSizeAndPositionManager.getTotalSize(),E=_>l?v.scrollbarSize:0,S=x>m?v.scrollbarSize:0;S===this._horizontalScrollBarSize&&E===this._verticalScrollBarSize||(this._horizontalScrollBarSize=S,this._verticalScrollBarSize=E,this._scrollbarPresenceChanged=!0),w.overflowX=x+E<=m?"hidden":"auto",w.overflowY=_+S<=l?"hidden":"auto";var C=this._childrenToDisplay,A=0===C.length&&l>0&&m>0;return o.createElement("div",Fb()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Db("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:d,style:Fb()({},w,f),tabIndex:p}),C.length>0&&o.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:Fb()({width:t?"auto":x,height:_,maxWidth:x,maxHeight:_,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},c)},C),A&&h())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,i=e.columnCount,o=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,c=e.overscanIndicesGetter,l=e.overscanRowCount,u=e.rowCount,h=e.width,d=e.isScrollingOptOut,f=t.scrollDirectionHorizontal,p=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&h>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:v}),w=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),x=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:h,offset:v}),_=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var E=c({direction:"horizontal",cellCount:i,overscanCellsCount:s,scrollDirection:f,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),S=c({direction:"vertical",cellCount:u,overscanCellsCount:l,scrollDirection:p,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),C=E.overscanStartIndex,A=E.overscanStopIndex,T=S.overscanStartIndex,M=S.overscanStopIndex;if(o){if(!o.hasFixedHeight())for(var k=T;k<=M;k++)if(!o.has(k,0)){C=0,A=i-1;break}if(!o.hasFixedWidth())for(var O=C;O<=A;O++)if(!o.has(0,O)){T=0,M=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:C,columnStopIndex:A,deferredMeasurementCache:o,horizontalOffsetAdjustment:x,isScrolling:y,isScrollingOptOut:d,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:M,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:b,visibleRowIndices:w}),this._columnStartIndex=C,this._columnStopIndex=A,this._rowStartIndex=T,this._rowStopIndex=M}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&rw(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=iw(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalColumnsWidth,o=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,i=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var i=this._columnStartIndex;i<=this._columnStopIndex;i++){var o=r+"-"+i;this._styleCache[o]=e[o],n&&(this._cellCache[o]=t[o])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Pb()(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=n.instanceProps;r.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(r.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&Pb()(r,{isScrolling:!1});var o=void 0,a=void 0;return jb({cellCount:i.prevColumnCount,cellSize:"number"==typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),jb({cellCount:i.prevRowCount,cellSize:"number"==typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,r.instanceProps=i,Fb()({},r,o,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,i={scrollPositionChangeReason:aw};return"number"==typeof n&&n>=0&&(i.scrollDirectionHorizontal=n>t.scrollLeft?$b:-1,i.scrollLeft=n),"number"==typeof r&&r>=0&&(i.scrollDirectionVertical=r>t.scrollTop?$b:-1,i.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?i:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,i=e.scrollToAlignment,o=e.scrollToColumn,a=e.width,s=t.scrollLeft,c=t.instanceProps;if(n>0){var l=n-1,u=o<0?l:Math.min(l,o),h=c.rowSizeAndPositionManager.getTotalSize(),d=c.scrollbarSizeMeasured&&h>r?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:a-d,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,i=t._getCalculatedScrollLeft(e,n);return"number"==typeof i&&i>=0&&r!==i?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:i,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,i=e.scrollToAlignment,o=e.scrollToRow,a=e.width,s=t.scrollTop,c=t.instanceProps;if(r>0){var l=r-1,u=o<0?l:Math.min(l,o),h=c.columnSizeAndPositionManager.getTotalSize(),d=c.scrollbarSizeMeasured&&h>a?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:n-d,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,i=t._getCalculatedScrollTop(e,n);return"number"==typeof i&&i>=0&&r!==i?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:i}):null}}]),t}(o.PureComponent);sw.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,i=e.columnStartIndex,o=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,c=e.isScrolling,l=e.isScrollingOptOut,u=e.parent,h=e.rowSizeAndPositionManager,d=e.rowStartIndex,f=e.rowStopIndex,p=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,v=e.visibleRowIndices,y=[],b=r.areOffsetsAdjusted()||h.areOffsetsAdjusted(),w=!c&&!b,x=d;x<=f;x++)for(var _=h.getSizeAndPositionOfCell(x),E=i;E<=o;E++){var S=r.getSizeAndPositionOfCell(E),C=E>=g.start&&E<=g.stop&&x>=v.start&&x<=v.stop,A=x+"-"+E,T=void 0;w&&p[A]?T=p[A]:a&&!a.has(x,E)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:_.size,left:S.offset+s,position:"absolute",top:_.offset+m,width:S.size},p[A]=T);var M={columnIndex:E,isScrolling:c,isVisible:C,key:A,parent:u,rowIndex:x,style:T},k=void 0;!l&&!c||s||m?k=n(M):(t[A]||(t[A]=n(M)),k=t[A]),null!=k&&!1!==k&&y.push(k)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:Xb,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return r===$b?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},sw.propTypes=null,kb(sw);var cw=sw,lw=1;function uw(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,i=e.startIndex,o=e.stopIndex;return n=Math.max(1,n),r===lw?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,o+n)}:{overscanStartIndex:Math.max(0,i-n),overscanStopIndex:Math.min(t-1,o+1)}}var hw=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r.state={scrollToColumn:0,scrollToRow:0},r._columnStartIndex=0,r._columnStopIndex=0,r._rowStartIndex=0,r._rowStopIndex=0,r._onKeyDown=function(e){var t=r.props,n=t.columnCount,i=t.disabled,o=t.mode,a=t.rowCount;if(!i){var s=r._getScrollState(),c=s.scrollToColumn,l=s.scrollToRow,u=r._getScrollState(),h=u.scrollToColumn,d=u.scrollToRow;switch(e.key){case"ArrowDown":d="cells"===o?Math.min(d+1,a-1):Math.min(r._rowStopIndex+1,a-1);break;case"ArrowLeft":h="cells"===o?Math.max(h-1,0):Math.max(r._columnStartIndex-1,0);break;case"ArrowRight":h="cells"===o?Math.min(h+1,n-1):Math.min(r._columnStopIndex+1,n-1);break;case"ArrowUp":d="cells"===o?Math.max(d-1,0):Math.max(r._rowStartIndex-1,0)}h===c&&d===l||(e.preventDefault(),r._updateScrollState({scrollToColumn:h,scrollToRow:d}))}},r._onSectionRendered=function(e){var t=e.columnStartIndex,n=e.columnStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;r._columnStartIndex=t,r._columnStopIndex=n,r._rowStartIndex=i,r._rowStopIndex=o},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=this._getScrollState(),i=r.scrollToColumn,a=r.scrollToRow;return o.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,i=r.isControlled,o=r.onScrollToChange;"function"==typeof o&&o({scrollToColumn:t,scrollToRow:n}),i||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(o.PureComponent);hw.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},hw.propTypes=null,kb(hw);var dw=n("m0Av"),fw=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=(r._window||window).getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,l=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,h=parseInt(s.paddingBottom,10)||0,d=o-u-h,f=a-c-l;(!t&&r.state.height!==d||!n&&r.state.width!==f)&&(r.setState({height:o-u-h,width:a-c-l}),i({height:o,width:a}))}},r._setRef=function(e){r._autoSizer=e},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(dw.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,c=s.height,l=s.width,u={overflow:"visible"},h={};return r||(u.height=0,h.height=c),i||(u.width=0,h.width=l),o.createElement("div",{className:n,ref:this._setRef,style:Fb()({},u,a)},t(h))}}]),t}(o.PureComponent);fw.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},fw.propTypes=null;var pw=fw,mw=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r._measure=function(){var e=r.props,t=e.cache,n=e.columnIndex,i=void 0===n?0:n,o=e.parent,a=e.rowIndex,s=void 0===a?r.props.index||0:a,c=r._getCellMeasurements(),l=c.height,u=c.width;l===t.getHeight(s,i)&&u===t.getWidth(s,i)||(t.set(s,i,u,l),o&&"function"==typeof o.recomputeGridSize&&o.recomputeGridSize({columnIndex:i,rowIndex:s}))},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(r.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,i=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),a=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),i&&(t.style.height=i),{height:o,width:a}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,i=e.parent,o=e.rowIndex,a=void 0===o?this.props.index||0:o;if(!t.has(a,r)){var s=this._getCellMeasurements(),c=s.height,l=s.width;t.set(a,r,l,c),i&&"function"==typeof i.invalidateCellSizeAfterRender&&i.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(o.PureComponent);mw.__internalCellMeasurerFlag=!1,mw.propTypes=null;var gw=30,vw=100;!function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bb()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,r=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(r)?t._columnWidthCache[r]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,r=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(r)?t._rowHeightCache[r]:t._defaultHeight};var r=n.defaultHeight,i=n.defaultWidth,o=n.fixedHeight,a=n.fixedWidth,s=n.keyMapper,c=n.minHeight,l=n.minWidth;this._hasFixedHeight=!0===o,this._hasFixedWidth=!0===a,this._minHeight=c||0,this._minWidth=l||0,this._keyMapper=s||yw,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:gw),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:vw)}xb()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(e,t,n,r){var i=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[i]=r,this._cellWidthCache[i]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var i=this._keyMapper(0,t);this._columnWidthCache[i]=n}if(!this._hasFixedHeight){for(var o=0,a=0;a<this._columnCount;a++)o=Math.max(o,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=o}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function yw(e,t){return e+"-"+t}var bw={OBSERVED:"observed",REQUESTED:"requested"},ww=function(e){function t(){var e;bb()(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(r)));return o.state={isScrolling:!1,scrollLeft:0,scrollTop:0},o._calculateSizeAndPositionDataOnNextUpdate=!1,o._onSectionRenderedMemoizer=Wb(),o._onScrollMemoizer=Wb(!1),o._invokeOnSectionRenderedHelper=function(){var e=o.props,t=e.cellLayoutManager,n=e.onSectionRendered;o._onSectionRenderedMemoizer({callback:n,indices:{indices:t.getLastRenderedIndices()}})},o._setScrollingContainerRef=function(e){o._scrollingContainer=e},o._updateScrollPositionForScrollToCell=function(){var e=o.props,t=e.cellLayoutManager,n=e.height,r=e.scrollToAlignment,i=e.scrollToCell,a=e.width,s=o.state,c=s.scrollLeft,l=s.scrollTop;if(i>=0){var u=t.getScrollPositionForCell({align:r,cellIndex:i,height:n,scrollLeft:c,scrollTop:l,width:a});u.scrollLeft===c&&u.scrollTop===l||o._setScrollPosition(u)}},o._onScroll=function(e){if(e.target===o._scrollingContainer){o._enablePointerEventsAfterDelay();var t=o.props,n=t.cellLayoutManager,r=t.height,i=t.isScrollingChange,a=t.width,s=o._scrollbarSize,c=n.getTotalSize(),l=c.height,u=c.width,h=Math.max(0,Math.min(u-a+s,e.target.scrollLeft)),d=Math.max(0,Math.min(l-r+s,e.target.scrollTop));if(o.state.scrollLeft!==h||o.state.scrollTop!==d){var f=e.cancelable?bw.OBSERVED:bw.REQUESTED;o.state.isScrolling||i(!0),o.setState({isScrolling:!0,scrollLeft:h,scrollPositionChangeReason:f,scrollTop:d})}o._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:d,totalWidth:u,totalHeight:l})}},o._scrollbarSize=Xb(),void 0===o._scrollbarSize?(o._scrollbarSizeMeasured=!1,o._scrollbarSize=0):o._scrollbarSizeMeasured=!0,o}return Cb()(t,e),xb()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,i=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=Xb(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||i>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:i}),this._invokeOnSectionRenderedHelper();var o=t.getTotalSize(),a=o.height,s=o.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:i||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,i=n.scrollToAlignment,o=n.scrollToCell,a=n.width,s=this.state,c=s.scrollLeft,l=s.scrollPositionChangeReason,u=s.scrollTop;l===bw.REQUESTED&&(c>=0&&c!==t.scrollLeft&&c!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=c),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),r===e.height&&i===e.scrollToAlignment&&o===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,r=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,c=e.id,l=e.noContentRenderer,u=e.style,h=e.verticalOverscanSize,d=e.width,f=this.state,p=f.isScrolling,m=f.scrollLeft,g=f.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var v=r.getTotalSize(),y=v.height,b=v.width,w=Math.max(0,m-s),x=Math.max(0,g-h),_=Math.min(b,m+d+s),E=Math.min(y,g+a+h),S=a>0&&d>0?r.cellRenderers({height:E-x,isScrolling:p,width:_-w,x:w,y:x}):[],C={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},A=y>a?this._scrollbarSize:0,T=b>d?this._scrollbarSize:0;return C.overflowX=b+A<=d?"hidden":"auto",C.overflowY=y+T<=a?"hidden":"auto",o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Db("ReactVirtualized__Collection",i),id:c,onScroll:this._onScroll,role:"grid",style:Fb()({},C,u),tabIndex:0},n>0&&o.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:b,overflow:"hidden",pointerEvents:p?"none":"",width:b}},S),0===n&&l())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,i=e.totalHeight,o=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:bw.REQUESTED};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),t}(o.PureComponent);ww.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},ww.propTypes={},kb(ww);var xw=ww,_w=function(){function e(t){var n=t.height,r=t.width,i=t.x,o=t.y;bb()(this,e),this.height=n,this.width=r,this.x=i,this.y=o,this._indexMap={},this._indices=[]}return xb()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),e}(),Ew=100,Sw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ew;bb()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return xb()(e,[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,i=e.y,o={};return this.getSections({height:t,width:n,x:r,y:i}).forEach((function(e){return e.getCellIndices().forEach((function(e){o[e]=e}))})),Vb()(o).map((function(e){return o[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,i=e.y,o=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(i/this._sectionSize),c=Math.floor((i+t-1)/this._sectionSize),l=[],u=o;u<=a;u++)for(var h=s;h<=c;h++){var d=u+"."+h;this._sections[d]||(this._sections[d]=new _w({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:h*this._sectionSize})),l.push(this._sections[d])}return l}},{key:"getTotalSectionCount",value:function(){return Vb()(this._sections).length}},{key:"toString",value:function(){var e=this;return Vb()(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}]),e}();function Cw(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,i=e.cellSize,o=e.containerSize,a=e.currentOffset,s=r,c=s-o+i;switch(n){case"start":return s;case"end":return c;case"center":return s-(o-i)/2;default:return Math.max(c,Math.min(s,a))}}var Aw=function(e){function t(e,n){bb()(this,t);var r=Eb()(this,(t.__proto__||vb()(t)).call(this,e,n));return r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return Cb()(t,e),xb()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=Ib()(this.props,[]);return o.createElement(xw,Fb()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,i=[],o=new Sw(r),a=0,s=0,c=0;c<t;c++){var l=n({index:c});if(null==l.height||isNaN(l.height)||null==l.width||isNaN(l.width)||null==l.x||isNaN(l.x)||null==l.y||isNaN(l.y))throw Error("Invalid metadata returned for cell "+c+":\n        x:"+l.x+", y:"+l.y+", width:"+l.width+", height:"+l.height);a=Math.max(a,l.y+l.height),s=Math.max(s,l.x+l.width),i[c]=l,o.registerCell({cellMetadatum:l,index:c})}return{cellMetadata:i,height:a,sectionManager:o,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,i=e.scrollLeft,o=e.scrollTop,a=e.width,s=this.props.cellCount;if(n>=0&&n<s){var c=this._cellMetadata[n];i=Cw({align:t,cellOffset:c.x,cellSize:c.width,containerSize:a,currentOffset:i,targetIndex:n}),o=Cw({align:t,cellOffset:c.y,cellSize:c.height,containerSize:r,currentOffset:o,targetIndex:n})}return{scrollLeft:i,scrollTop:o}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,i=e.width,o=e.x,a=e.y,s=this.props,c=s.cellGroupRenderer,l=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:i,x:o,y:a}),c({cellCache:this._cellCache,cellRenderer:l,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(o.PureComponent);Aw.defaultProps={"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,i=e.indices,o=e.isScrolling;return i.map((function(e){var i=r({index:e}),a={index:e,isScrolling:o,key:e,style:{height:i.height,left:i.x,position:"absolute",top:i.y,width:i.width}};return o?(e in t||(t[e]=n(a)),t[e]):n(a)})).filter((function(e){return!!e}))}};Aw.propTypes={};var Tw=function(e){function t(e,n){bb()(this,t);var r=Eb()(this,(t.__proto__||vb()(t)).call(this,e,n));return r._registerChild=r._registerChild.bind(r),r}return Cb()(t,e),xb()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,i=t.columnCount,o=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&i===e.columnCount&&o===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,i=e.columnCount,o=e.width,a=r||1,s=n?Math.min(n,o):o,c=o/i;return c=Math.max(a,c),c=Math.min(s,c),c=Math.floor(c),t({adjustedWidth:Math.min(o,c*i),columnWidth:c,getColumnWidth:function(){return c},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(o.PureComponent);Tw.propTypes={};var Mw=n("m1cH"),kw=n.n(Mw),Ow=function(e){function t(e,n){bb()(this,t);var r=Eb()(this,(t.__proto__||vb()(t)).call(this,e,n));return r._loadMoreRowsMemoizer=Wb(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return Cb()(t,e),xb()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=Wb(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){var n,r,i,o,a;n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},r=n.lastRenderedStartIndex,i=n.lastRenderedStopIndex,o=n.startIndex,a=n.stopIndex,o>i||a<r||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,i=this.props,o=i.isRowLoaded,a=i.minimumBatchSize,s=i.rowCount,c=i.threshold,l=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,i=e.startIndex,o=e.stopIndex,a=[],s=null,c=null,l=i;l<=o;l++){t({index:l})?null!==c&&(a.push({startIndex:s,stopIndex:c}),s=c=null):(c=l,null===s&&(s=l))}if(null!==c){for(var u=Math.min(Math.max(c,s+n-1),r-1),h=c+1;h<=u&&!t({index:h});h++)c=h;a.push({startIndex:s,stopIndex:c})}if(a.length)for(var d=a[0];d.stopIndex-d.startIndex+1<n&&d.startIndex>0;){var f=d.startIndex-1;if(t({index:f}))break;d.startIndex=f}return a}({isRowLoaded:o,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,e-c),stopIndex:Math.min(s-1,t+c)}),u=(n=[]).concat.apply(n,kw()(l.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(o.PureComponent);Ow.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};Ow.propTypes={};var Pw=n("JO7F"),Rw=n.n(Pw),Fw=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,i=e.style,o=e.isScrolling,a=e.isVisible,s=e.key,c=r.props.rowRenderer;return Rw()(i,"width").writable&&(i.width="100%"),c({index:n,style:i,isScrolling:o,isVisible:a,key:s,parent:t})},r._setRef=function(e){r.Grid=e},r._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,i=e.scrollTop;(0,r.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:i})},r._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,i=e.rowStartIndex,o=e.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:i,stopIndex:o})},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,a=Db("ReactVirtualized__List",t);return o.createElement(cw,Fb()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(o.PureComponent);Fw.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:uw,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},Fw.propTypes=null;var Lw=Fw,Dw=n("YEIV"),jw=n.n(Dw),Nw=n("sk9p"),Iw=n.n(Nw);var Bw={ge:function(e,t,n,r,i){return"function"==typeof n?function(e,t,n,r,i){for(var o=n+1;t<=n;){var a=t+n>>>1;i(e[a],r)>=0?(o=a,n=a-1):t=a+1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>=r?(i=o,n=o-1):t=o+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,i){return"function"==typeof n?function(e,t,n,r,i){for(var o=n+1;t<=n;){var a=t+n>>>1;i(e[a],r)>0?(o=a,n=a-1):t=a+1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=n+1;t<=n;){var o=t+n>>>1;e[o]>r?(i=o,n=o-1):t=o+1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,i){return"function"==typeof n?function(e,t,n,r,i){for(var o=t-1;t<=n;){var a=t+n>>>1;i(e[a],r)<0?(o=a,t=a+1):n=a-1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<r?(i=o,t=o+1):n=o-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,i){return"function"==typeof n?function(e,t,n,r,i){for(var o=t-1;t<=n;){var a=t+n>>>1;i(e[a],r)<=0?(o=a,t=a+1):n=a-1}return o}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(var i=t-1;t<=n;){var o=t+n>>>1;e[o]<=r?(i=o,t=o+1):n=o-1}return i}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,i){return"function"==typeof n?function(e,t,n,r,i){for(;t<=n;){var o=t+n>>>1,a=i(e[o],r);if(0===a)return o;a<=0?t=o+1:n=o-1}return-1}(e,void 0===r?0:0|r,void 0===i?e.length-1:0|i,t,n):function(e,t,n,r){for(;t<=n;){var i=t+n>>>1,o=e[i];if(o===r)return i;o<=r?t=i+1:n=i-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}},zw=0,Uw=1;function Hw(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var Vw=Hw.prototype;function Ww(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function $w(e,t){var n=ex(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function Gw(e,t){var n=e.intervals([]);n.push(t),$w(e,n)}function qw(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?zw:(n.splice(r,1),$w(e,n),Uw)}function Yw(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function Xw(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function Kw(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function Zw(e,t){return e-t}function Jw(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function Qw(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function ex(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(Zw);var r=t[t.length>>1],i=[],o=[],a=[];for(n=0;n<e.length;++n){var s=e[n];s[1]<r?i.push(s):r<s[0]?o.push(s):a.push(s)}var c=a,l=a.slice();return c.sort(Jw),l.sort(Qw),new Hw(r,ex(i),ex(o),c,l)}function tx(e){this.root=e}Vw.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Vw.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?Gw(this,e):this.left.insert(e):this.left=ex([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?Gw(this,e):this.right.insert(e):this.right=ex([e]);else{var n=Bw.ge(this.leftPoints,e,Jw),r=Bw.ge(this.rightPoints,e,Qw);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},Vw.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?qw(this,e):2===(o=this.left.remove(e))?(this.left=null,this.count-=1,Uw):(o===Uw&&(this.count-=1),o):zw;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?qw(this,e):2===(o=this.right.remove(e))?(this.right=null,this.count-=1,Uw):(o===Uw&&(this.count-=1),o):zw;if(1===this.count)return this.leftPoints[0]===e?2:zw;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var i=this.left,o=this.right;n.count-=r.count,n.right=r.left,r.left=i,r.right=o}Ww(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Ww(this,this.left):Ww(this,this.right);return Uw}for(i=Bw.ge(this.leftPoints,e,Jw);i<this.leftPoints.length&&this.leftPoints[i][0]===e[0];++i)if(this.leftPoints[i]===e){this.count-=1,this.leftPoints.splice(i,1);for(o=Bw.ge(this.rightPoints,e,Qw);o<this.rightPoints.length&&this.rightPoints[o][1]===e[1];++o)if(this.rightPoints[o]===e)return this.rightPoints.splice(o,1),Uw}return zw},Vw.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return Yw(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return Xw(this.rightPoints,e,t)}return Kw(this.leftPoints,t)},Vw.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?Yw(this.leftPoints,t,n):e>this.mid?Xw(this.rightPoints,e,n):Kw(this.leftPoints,n)};var nx=tx.prototype;nx.insert=function(e){this.root?this.root.insert(e):this.root=new Hw(e[0],null,null,[e],[e])},nx.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==zw}return!1},nx.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},nx.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(nx,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(nx,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var rx=function(){function e(){var t;bb()(this,e),this._columnSizeMap={},this._intervalTree=t&&0!==t.length?new tx(ex(t)):new tx(null),this._leftMap={}}return xb()(e,[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=Iw()(e,3),i=t[0],o=(t[1],t[2]);return n(o,r._leftMap[o],i)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var i=this._columnSizeMap,o=i[t];i[t]=void 0===o?n+r:Math.max(o,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}]),e}(),ix=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r.state={isScrolling:!1,scrollTop:0},r._invalidateOnUpdateStartIndex=null,r._invalidateOnUpdateStopIndex=null,r._positionCache=new rx,r._startIndex=null,r._startIndexMemoized=null,r._stopIndex=null,r._stopIndexMemoized=null,r._debounceResetIsScrollingCallback=function(){r.setState({isScrolling:!1})},r._setScrollingContainerRef=function(e){r._scrollingContainer=e},r._onScroll=function(e){var t=r.props.height,n=e.currentTarget.scrollTop,i=Math.min(Math.max(0,r._getEstimatedTotalHeight()-t),n);n===i&&(r._debounceResetIsScrolling(),r.state.scrollTop!==i&&r.setState({isScrolling:!0,scrollTop:i}))},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new rx,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new rx,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&rw(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoHeight,r=t.cellCount,i=t.cellMeasurerCache,a=t.cellRenderer,s=t.className,c=t.height,l=t.id,u=t.keyMapper,h=t.overscanByPixels,d=t.role,f=t.style,p=t.tabIndex,m=t.width,g=t.rowDirection,v=this.state,y=v.isScrolling,b=v.scrollTop,w=[],x=this._getEstimatedTotalHeight(),_=this._positionCache.shortestColumnSize,E=this._positionCache.count,S=0,C=void 0;if(this._positionCache.range(Math.max(0,b-h),c+2*h,(function(t,n,r){var o;void 0===C?(S=t,C=t):(S=Math.min(S,t),C=Math.max(C,t)),w.push(a({index:t,isScrolling:y,key:u(t),parent:e,style:(o={height:i.getHeight(t)},jw()(o,"ltr"===g?"left":"right",n),jw()(o,"position","absolute"),jw()(o,"top",r),jw()(o,"width",i.getWidth(t)),o)}))})),_<b+c+h&&E<r)for(var A=Math.min(r-E,Math.ceil((b+c+h-_)/i.defaultHeight*m/i.defaultWidth)),T=E;T<E+A;T++)C=T,w.push(a({index:T,isScrolling:y,key:u(T),parent:this,style:{width:i.getWidth(T)}}));return this._startIndex=S,this._stopIndex=C,o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Db("ReactVirtualized__Masonry",s),id:l,onScroll:this._onScroll,role:d,style:Fb()({boxSizing:"border-box",direction:"ltr",height:n?"auto":c,overflowX:"hidden",overflowY:x<c?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},f),tabIndex:p},o.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:x,maxWidth:"100%",maxHeight:x,overflow:"hidden",pointerEvents:y?"none":"",position:"relative"}},w))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&rw(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=iw(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,i=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,i,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,i=n.cellPositioner,o=e;o<=t;o++){var a=i(o),s=a.left,c=a.top;this._positionCache.setPosition(o,s,c,r.getHeight(o))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(o.PureComponent);function ox(){}ix.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:ox,onScroll:ox,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},ix.propTypes=null;kb(ix);var ax=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};bb()(this,e),this.columnWidth=function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})},this.rowHeight=function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})};var r=n.cellMeasurerCache,i=n.columnIndexOffset,o=void 0===i?0:i,a=n.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=r,this._columnIndexOffset=o,this._rowIndexOffset=s}return xb()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}(),sx=function(e){function t(e,n){bb()(this,t);var r=Eb()(this,(t.__proto__||vb()(t)).call(this,e,n));cx.call(r);var i=e.deferredMeasurementCache,o=e.fixedColumnCount,a=e.fixedRowCount;return r._maybeCalculateCachedStyles(!0),i&&(r._deferredMeasurementCacheBottomLeftGrid=a>0?new ax({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:a}):i,r._deferredMeasurementCacheBottomRightGrid=o>0||a>0?new ax({cellMeasurerCache:i,columnIndexOffset:o,rowIndexOffset:a}):i,r._deferredMeasurementCacheTopRightGrid=o>0?new ax({cellMeasurerCache:i,columnIndexOffset:o,rowIndexOffset:0}):i),r}return Cb()(t,e),xb()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r,o=this.props,a=o.fixedColumnCount,s=o.fixedRowCount,c=Math.max(0,n-a),l=Math.max(0,i-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:l}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:c,rowIndex:l}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:i}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:c,rowIndex:i}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,r=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=Ib()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,c=s.scrollLeft,l=s.scrollTop;return o.createElement("div",{style:this._containerOuterStyle},o.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(Fb()({},a,{onScroll:t,scrollLeft:c}))),o.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Fb()({},a,{onScroll:t,scrollTop:l})),this._renderBottomRightGrid(Fb()({},a,{onScroll:t,onSectionRendered:n,scrollLeft:c,scrollToColumn:r,scrollToRow:i,scrollTop:l}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,i=0;i<t;i++)r+=n({index:i});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,i=t.enableFixedRowScroll,o=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,c=t.rowHeight,l=t.style,u=t.styleBottomLeftGrid,h=t.styleBottomRightGrid,d=t.styleTopLeftGrid,f=t.styleTopRightGrid,p=t.width,m=e||o!==this._lastRenderedHeight||p!==this._lastRenderedWidth,g=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=e||s!==this._lastRenderedFixedRowCount||c!==this._lastRenderedRowHeight;(e||m||l!==this._lastRenderedStyle)&&(this._containerOuterStyle=Fb()({height:o,overflow:"visible",width:p},l)),(e||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:p},this._containerBottomStyle={height:o-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:p}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Fb()({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},u)),(e||g||h!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Fb()({left:this._getLeftGridWidth(this.props),position:"absolute"},h)),(e||d!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Fb()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},d)),(e||g||f!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Fb()({left:this._getLeftGridWidth(this.props),overflowX:i?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},f)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=o,this._lastRenderedRowHeight=c,this._lastRenderedStyle=l,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=h,this._lastRenderedStyleTopLeftGrid=d,this._lastRenderedStyleTopRightGrid=f,this._lastRenderedWidth=p}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!n)return null;var c=s?1:0,l=this._getBottomGridHeight(e),u=this._getLeftGridWidth(e),h=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,d=a?u+h:u,f=o.createElement(cw,Fb()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:l,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-r)+c,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:d}));return a?o.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Fb()({},this._bottomLeftGridStyle,{height:l,width:u,overflowY:"hidden"})},f):f}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return o.createElement(cw,Fb()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-n,scrollToRow:s-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?o.createElement(cw,Fb()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,r=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,c=this.state,l=c.showHorizontalScrollbar,u=c.scrollbarSize;if(!i)return null;var h=l?1:0,d=this._getTopGridHeight(e),f=this._getRightGridWidth(e),p=l?u:0,m=d,g=this._topRightGridStyle;s&&(m=d+p,g=Fb()({},this._topRightGridStyle,{left:0}));var v=o.createElement(cw,Fb()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-r)+h,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:g,tabIndex:null,width:f}));return s?o.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Fb()({},this._topRightGridStyle,{height:d,width:f,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(o.PureComponent);sx.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var cx=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var n=t.rowIndex,r=Ib()(t,["rowIndex"]),i=e.props,a=i.cellRenderer,s=i.fixedRowCount;return n===i.rowCount-s?o.createElement("div",{key:r.key,style:Fb()({},r.style,{height:20})}):a(Fb()({},r,{parent:e,rowIndex:n+s}))},this._cellRendererBottomRightGrid=function(t){var n=t.columnIndex,r=t.rowIndex,i=Ib()(t,["columnIndex","rowIndex"]),o=e.props,a=o.cellRenderer,s=o.fixedColumnCount,c=o.fixedRowCount;return a(Fb()({},i,{columnIndex:n+s,parent:e,rowIndex:r+c}))},this._cellRendererTopRightGrid=function(t){var n=t.columnIndex,r=Ib()(t,["columnIndex"]),i=e.props,a=i.cellRenderer,s=i.columnCount,c=i.fixedColumnCount;return n===s-c?o.createElement("div",{key:r.key,style:Fb()({},r.style,{width:20})}):a(Fb()({},r,{columnIndex:n+c,parent:e}))},this._columnWidthRightGrid=function(t){var n=t.index,r=e.props,i=r.columnCount,o=r.fixedColumnCount,a=r.columnWidth,s=e.state,c=s.scrollbarSize;return s.showHorizontalScrollbar&&n===i-o?c:"function"==typeof a?a({index:n+o}):a},this._onScroll=function(t){var n=t.scrollLeft,r=t.scrollTop;e.setState({scrollLeft:n,scrollTop:r});var i=e.props.onScroll;i&&i(t)},this._onScrollbarPresenceChange=function(t){var n=t.horizontal,r=t.size,i=t.vertical,o=e.state,a=o.showHorizontalScrollbar,s=o.showVerticalScrollbar;if(n!==a||i!==s){e.setState({scrollbarSize:r,showHorizontalScrollbar:n,showVerticalScrollbar:i});var c=e.props.onScrollbarPresenceChange;"function"==typeof c&&c({horizontal:n,size:r,vertical:i})}},this._onScrollLeft=function(t){var n=t.scrollLeft;e._onScroll({scrollLeft:n,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var n=t.scrollTop;e._onScroll({scrollTop:n,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var n=t.index,r=e.props,i=r.fixedRowCount,o=r.rowCount,a=r.rowHeight,s=e.state,c=s.scrollbarSize;return s.showVerticalScrollbar&&n===o-i?c:"function"==typeof a?a({index:n+i}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};sx.propTypes={},kb(sx);var lx=function(e){function t(e,n){bb()(this,t);var r=Eb()(this,(t.__proto__||vb()(t)).call(this,e,n));return r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return Cb()(t,e),xb()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,i=t.scrollHeight,o=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:i,scrollLeft:o,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,i=e.scrollLeft,o=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:i,scrollTop:o,scrollWidth:a})}}]),t}(o.PureComponent);lx.propTypes={};function ux(e){var t=e.className,n=e.columns,r=e.style;return o.createElement("div",{className:t,role:"row",style:r},n)}ux.propTypes=null;var hx={ASC:"ASC",DESC:"DESC"};function dx(e){var t=e.sortDirection,n=Db("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===hx.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===hx.DESC});return o.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===hx.ASC?o.createElement("path",{d:"M7 14l5-5 5 5z"}):o.createElement("path",{d:"M7 10l5 5 5-5z"}),o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function fx(e){var t=e.dataKey,n=e.label,r=e.sortBy,i=e.sortDirection,a=r===t,s=[o.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return a&&s.push(o.createElement(dx,{key:"SortIndicator",sortDirection:i})),s}function px(e){var t=e.className,n=e.columns,r=e.index,i=e.key,a=e.onRowClick,s=e.onRowDoubleClick,c=e.onRowMouseOut,l=e.onRowMouseOver,u=e.onRowRightClick,h=e.rowData,d=e.style,f={"aria-rowindex":r+1};return(a||s||c||l||u)&&(f["aria-label"]="row",f.tabIndex=0,a&&(f.onClick=function(e){return a({event:e,index:r,rowData:h})}),s&&(f.onDoubleClick=function(e){return s({event:e,index:r,rowData:h})}),c&&(f.onMouseOut=function(e){return c({event:e,index:r,rowData:h})}),l&&(f.onMouseOver=function(e){return l({event:e,index:r,rowData:h})}),u&&(f.onContextMenu=function(e){return u({event:e,index:r,rowData:h})})),o.createElement("div",Fb()({},f,{className:t,key:i,role:"row",style:d}),n)}dx.propTypes={},fx.propTypes=null,px.propTypes=null;var mx=function(e){function t(){return bb()(this,t),Eb()(this,(t.__proto__||vb()(t)).apply(this,arguments))}return Cb()(t,e),t}(o.Component);mx.defaultProps={cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:hx.ASC,flexGrow:0,flexShrink:1,headerRenderer:fx,style:{}};mx.propTypes={};var gx=function(e){function t(e){bb()(this,t);var n=Eb()(this,(t.__proto__||vb()(t)).call(this,e));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return Cb()(t,e),xb()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,i=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:i,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=Object(r.findDOMNode)(this.Grid),t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,c=t.headerHeight,l=t.headerRowRenderer,u=t.height,h=t.id,d=t.noRowsRenderer,f=t.rowClassName,p=t.rowStyle,m=t.scrollToIndex,g=t.style,v=t.width,y=this.state.scrollbarWidth,b=i?u:u-c,w="function"==typeof f?f({index:-1}):f,x="function"==typeof p?p({index:-1}):p;return this._cachedColumnStyles=[],o.Children.toArray(n).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=Fb()({overflow:"hidden"},r)})),o.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":o.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:Db("ReactVirtualized__Table",r),id:h,role:"grid",style:g},!i&&l({className:Db("ReactVirtualized__Table__headerRow",w),columns:this._getHeaderColumns(),style:Fb()({height:c,overflow:"hidden",paddingRight:y,width:v},x)}),o.createElement(cw,Fb()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Db("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:b,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:m,style:Fb()({},s,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,r=e.isScrolling,i=e.parent,a=e.rowData,s=e.rowIndex,c=this.props.onColumnClick,l=t.props,u=l.cellDataGetter,h=l.cellRenderer,d=l.className,f=l.columnData,p=l.dataKey,m=l.id,g=h({cellData:u({columnData:f,dataKey:p,rowData:a}),columnData:f,columnIndex:n,dataKey:p,isScrolling:r,parent:i,rowData:a,rowIndex:s}),v=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return o.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:Db("ReactVirtualized__Table__rowColumn",d),key:"Row"+s+"-Col"+n,onClick:function(e){c&&c({columnData:f,dataKey:p,event:e})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(e){var t=e.column,n=e.index,r=this.props,i=r.headerClassName,a=r.headerStyle,s=r.onHeaderClick,c=r.sort,l=r.sortBy,u=r.sortDirection,h=t.props,d=h.columnData,f=h.dataKey,p=h.defaultSortDirection,m=h.disableSort,g=h.headerRenderer,v=h.id,y=h.label,b=!m&&c,w=Db("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:b}),x=this._getFlexStyleForColumn(t,Fb()({},a,t.props.headerStyle)),_=g({columnData:d,dataKey:f,disableSort:m,label:y,sortBy:l,sortDirection:u}),E=void 0,S=void 0,C=void 0,A=void 0,T=void 0;if(b||s){var M=l!==f?p:u===hx.DESC?hx.ASC:hx.DESC,k=function(e){b&&c({defaultSortDirection:p,event:e,sortBy:f,sortDirection:M}),s&&s({columnData:d,dataKey:f,event:e})};T=t.props["aria-label"]||y||f,A="none",C=0,E=k,S=function(e){"Enter"!==e.key&&" "!==e.key||k(e)}}return l===f&&(A=u===hx.ASC?"ascending":"descending"),o.createElement("div",{"aria-label":T,"aria-sort":A,className:w,id:v,key:"Header-Col"+n,onClick:E,onKeyDown:S,role:"columnheader",style:x,tabIndex:C},_)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,r=e.isScrolling,i=e.key,a=e.parent,s=e.style,c=this.props,l=c.children,u=c.onRowClick,h=c.onRowDoubleClick,d=c.onRowRightClick,f=c.onRowMouseOver,p=c.onRowMouseOut,m=c.rowClassName,g=c.rowGetter,v=c.rowRenderer,y=c.rowStyle,b=this.state.scrollbarWidth,w="function"==typeof m?m({index:n}):m,x="function"==typeof y?y({index:n}):y,_=g({index:n}),E=o.Children.toArray(l).map((function(e,i){return t._createColumn({column:e,columnIndex:i,isScrolling:r,parent:a,rowData:_,rowIndex:n,scrollbarWidth:b})})),S=Db("ReactVirtualized__Table__row",w),C=Fb()({},s,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:b},x);return v({className:S,columns:E,index:n,isScrolling:r,key:i,onRowClick:u,onRowDoubleClick:h,onRowRightClick:d,onRowMouseOver:f,onRowMouseOut:p,rowData:_,style:C})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",r=Fb()({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:o.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:i})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),t}(o.PureComponent);gx.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:uw,overscanRowCount:10,rowRenderer:px,headerRowRenderer:ux,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};gx.propTypes={};var vx=[],yx=null,bx=null;function wx(){bx&&(bx=null,document.body&&null!=yx&&(document.body.style.pointerEvents=yx),yx=null)}function xx(){wx(),vx.forEach((function(e){return e.__resetIsScrolling()}))}function _x(e){e.currentTarget===window&&null==yx&&document.body&&(yx=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){bx&&rw(bx);var e=0;vx.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),bx=iw(xx,e)}(),vx.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function Ex(e,t){vx.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",_x),vx.push(e)}function Sx(e,t){(vx=vx.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",_x),bx&&(rw(bx),wx()))}var Cx=function(e){return e===window},Ax=function(e){return e.getBoundingClientRect()};function Tx(e,t){if(e){if(Cx(e)){var n=window,r=n.innerHeight,i=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof i?i:0}}return Ax(e)}return{height:t.serverHeight,width:t.serverWidth}}function Mx(e,t){if(Cx(t)&&document.documentElement){var n=document.documentElement,r=Ax(e),i=Ax(n);return{top:r.top-i.top,left:r.left-i.left}}var o=kx(t),a=Ax(e),s=Ax(t);return{top:a.top+o.top-s.top,left:a.left+o.left-s.left}}function kx(e){return Cx(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var Ox=function(){return"undefined"!=typeof window?window:void 0},Px=function(e){function t(){var e,n,r,i;bb()(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=Eb()(this,(e=t.__proto__||vb()(t)).call.apply(e,[this].concat(a))),r._window=Ox(),r._isMounted=!1,r._positionFromTop=0,r._positionFromLeft=0,r.state=Fb()({},Tx(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),r._registerChild=function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=e,r.updatePosition()},r._onChildScroll=function(e){var t=e.scrollTop;if(r.state.scrollTop!==t){var n=r.props.scrollElement;n&&("function"==typeof n.scrollTo?n.scrollTo(0,t+r._positionFromTop):n.scrollTop=t+r._positionFromTop)}},r._registerResizeListener=function(e){e===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(e,r._onResize)},r._unregisterResizeListener=function(e){e===window?window.removeEventListener("resize",r._onResize,!1):e&&r._detectElementResize.removeResizeListener(e,r._onResize)},r._onResize=function(){r.updatePosition()},r.__handleWindowScrollEvent=function(){if(r._isMounted){var e=r.props.onScroll,t=r.props.scrollElement;if(t){var n=kx(t),i=Math.max(0,n.left-r._positionFromLeft),o=Math.max(0,n.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:i,scrollTop:o}),e({scrollLeft:i,scrollTop:o})}}},r.__resetIsScrolling=function(){r.setState({isScrolling:!1})},i=n,Eb()(r,i)}return Cb()(t,e),xb()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,i=n.height,o=n.width,a=this._child||r.findDOMNode(this);if(a instanceof Element&&e){var s=Mx(a,e);this._positionFromTop=s.top,this._positionFromLeft=s.left}var c=Tx(e,this.props);i===c.height&&o===c.width||(this.setState({height:c.height,width:c.width}),t({height:c.height,width:c.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(dw.a)(),this.updatePosition(e),e&&(Ex(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),Sx(this,r),Ex(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Sx(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,i=t.scrollLeft,o=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:o,isScrolling:n,scrollLeft:i,scrollTop:r,width:a})}}]),t}(o.PureComponent);Px.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:Ox(),serverHeight:0,serverWidth:0},Px.propTypes=null;function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lx(e){return(Lx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jx(e,t){return(jx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Rx(t)&&"function"!=typeof t?Dx(e):t}(this,Lx(t).call(this,e))).rowRenderer=n.rowRenderer.bind(Dx(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jx(e,t)}(t,e),n=t,i=[{key:"noRowsRenderer",value:function(){return null}}],(r=[{key:"rowRenderer",value:function(e){var t=e.index,n=this.props,r=n.messages,i=n.selected;return Object(s.isNil)(r[t])?null:a.a.createElement(jc,{key:r[t].timestamp},1===Object(s.size)(i.keys)?r[t][i.keys[0]]:JSON.stringify(Object(s.omit)(r[t],["timestamp"])))}},{key:"render",value:function(){var e=this,n=this.props.messages;return a.a.createElement(Dc,null,a.a.createElement(pw,{disableHeight:!0},(function(r){var i=r.width;return a.a.createElement(Lw,{style:{outline:"none"},height:200*Object(s.size)(n)+200,overscanRowCount:20,noRowsRenderer:t.noRowsRenderer,rowCount:Object(s.size)(n),rowHeight:200,rowRenderer:e.rowRenderer,width:i})})))}}])&&Fx(n.prototype,r),i&&Fx(n,i),t}(a.a.Component);function Ix(e){return(Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bx(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function zx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ux(e,t){return!t||"object"!==Ix(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hx(e){return(Hx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vx(e,t){return(Vx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ux(this,Hx(t).call(this,e))).forceUpdateId=null,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vx(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.forceUpdateId=setInterval((function(){e.forceUpdate()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.forceUpdateId)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.raw,r=t.selected;return e.selected!==r||e.raw!==n}},{key:"render",value:function(){var e=this.props,t=e.messageBuffers,n=e.openAddInfoPanel,r=e.raw,i=e.selected,o=0===Object(s.size)(t[i.name])?null:t[i.name][0];if(Object(s.isNil)(i.name))return a.a.createElement(Rc,{highlight:!0,onClick:n},a.a.createElement("u",null,"Add an info panel to receive messages."));if(0===Object(s.size)(t[i.name]))return a.a.createElement(Rc,null,"waiting for messages...");var c=r?Bx(t[i.name]):[];return a.a.createElement(a.a.Fragment,null,Object(s.size)(i.keys)>0&&a.a.createElement(Nc,null,Object(s.map)(i.keys,(function(e){return a.a.createElement("span",{key:e},e)}))),r?a.a.createElement(Nx,{messages:c,selected:i}):a.a.createElement(mb,{message:Object(s.omit)(o,["timestamp"]),selected:i}))}}])&&zx(n.prototype,r),i&&zx(n,i),t}(a.a.Component),$x={"sensor_msgs/Image":{key:"data"},"visualization_msgs/MarkerArray":{key:"markers",validation:function(e){return Object(s.size)(e)<=1e3}},"nav_msgs/OccupancyGrid":{key:"data"},"nav_msgs/Path":{key:"poses",validation:function(e){return Object(s.size)(e)<=1e3}},"sensor_msgs/PointCloud":{key:"points"},"sensor_msgs/PointCloud2":{key:"data"},"geometry_msgs/Polygon":{key:"points"},"geometry_msgs/PolygonStamped":{key:"polygon.points"},"geometry_msgs/PoseArray":{key:"poses",validation:function(e){return Object(s.size)(e)<=1e3}}},Gx=n("197s"),qx=n.n(Gx);function Yx(e){return(Yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kx(e){return(Kx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jx(e,t){return(Jx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qx=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Yx(t)&&"function"!=typeof t?Zx(e):t}(this,Kx(t).call(this,e))).state={selected:null,keys:[]},n.selectTopic=n.selectTopic.bind(Zx(n)),n.closeModal=n.closeModal.bind(Zx(n)),n.addInfoPanel=n.addInfoPanel.bind(Zx(n)),n.handleFilterKeysChange=n.handleFilterKeysChange.bind(Zx(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jx(e,t)}(t,e),n=t,(r=[{key:"handleFilterKeysChange",value:function(e){this.setState({keys:e})}},{key:"selectTopic",value:function(e){this.setState({selected:e})}},{key:"closeModal",value:function(){var e=this.props.closeModal;this.setState({selected:null,keys:[]},(function(){e()}))}},{key:"addInfoPanel",value:function(e,t){var n=this.props,r=n.closeModal,i=n.onAdd;this.setState({selected:null,keys:[]},(function(){i(e,t),r()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allTopics,r=t.open,i=t.topics,o=this.state,c=o.keys,l=o.selected,u=new Set(Object(s.map)(i,(function(e){return e.name}))),h=Object(s.filter)(n,(function(e){return!u.has(e.name)}));return r?a.a.createElement(Ic,{onClick:this.closeModal},a.a.createElement(Bc,{onClick:pe},a.a.createElement(zc,null,"Add Info Panel"),a.a.createElement(Lc,null,0===Object(s.size)(n)?"No topics available":Object(s.map)(h,(function(t){var n=t.name,r=t.messageType;return a.a.createElement(Xc,{type:"button",selected:Object(s.get)(l,"name")===n,key:n,onClick:function(){e.selectTopic({name:n,messageType:r})}},n,a.a.createElement(Js,null),"(",r,")")}))),a.a.createElement(Uc,null,a.a.createElement(qx.a,{value:c,onlyUnique:!0,inputProps:{placeholder:"Filter keys..."},onChange:this.handleFilterKeysChange})),a.a.createElement(Uc,null,a.a.createElement(Js,null),a.a.createElement(ic,{disabled:Object(s.isNil)(l),onClick:function(){return e.addInfoPanel(l,c)}},"Confirm"),a.a.createElement(ic,{onClick:this.closeModal},"Cancel")))):null}}])&&Xx(n.prototype,r),i&&Xx(n,i),t}(a.a.Component);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t_(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n_(n,!0).forEach((function(t){i_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a_(e){return(a_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c_(e,t){return(c_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l_=new Set(["sensor_msgs/Image","sensor_msgs/PointCloud2","sensor_msgs/PointCloud","sensor_msgs/LaserScan","nav_msgs/Path","nav_msgs/OccupancyGrid","visualization_msgs/MarkerArray","geometry_msgs/Polygon","geometry_msgs/PolygonStamped","geometry_msgs/PoseArray"]),u_=function(e){return l_.has(e)?{queue_length:1,compression:"cbor"}:{queue_length:1}},h_=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==e_(t)&&"function"!=typeof t?s_(e):t}(this,a_(t).call(this,e));var r=e.topics;return n.topicInstances={},n.messageBuffers={},n.state={selected:Object(s.get)(r,"[0]",{}),raw:!1,addModalOpen:!1},n.onMessage=n.onMessage.bind(s_(n)),n.onTabChange=n.onTabChange.bind(s_(n)),n.onRawClick=n.onRawClick.bind(s_(n)),n.toggleAddModal=n.toggleAddModal.bind(s_(n)),n.addInfoPanel=n.addInfoPanel.bind(s_(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c_(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.selected;return Object(s.isNil)(Object(s.find)(e.topics,(function(e){return e.name===n.name})))&&(n=Object(s.size)(e.topics)>0?e.topics[0]:{}),r_({},t,{selected:n,topics:e.topics})}}],(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.ros,r=t.topics;Object(s.forEach)(r,(function(t){var r=new g.a.Topic(r_({},t,{ros:n},u_(t.messageType)));r.subscribe((function(n){return e.onMessage(t,n)})),e.messageBuffers[t.name]=[],e.topicInstances[t.name]=r}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.ros,i=n.topics;if(!Object(s.isEqual)(e.topics,i)){var o=new Set(Object(s.map)(i,(function(e){return e.name}))),a=new Set(Object(s.map)(e.topics,(function(e){return e.name})));Object(s.forEach)(e.topics,(function(e){o.has(e.name)||(t.topicInstances[e.name].unsubscribe(),delete t.messageBuffers[e.name],delete t.topicInstances[e.name])})),Object(s.forEach)(i,(function(e){if(!a.has(e.name)){var n=new g.a.Topic(r_({},e,{ros:r},u_(e.messageType)));n.subscribe((function(n){return t.onMessage(e,n)})),t.messageBuffers[e.name]=[],t.topicInstances[e.name]=n}}))}}},{key:"onMessage",value:function(e,t){var n=e.name,r=this.messageBuffers[n];1e3===Object(s.size)(r)&&r.pop();var i=function(e,t){var n=e.keys,r=e.messageType,i=new Set(n),o=t;if(0!==Object(s.size)(n)&&Object(s.map)(o,(function(e,t){i.has(t)||delete o[t]})),Object(s.isNil)($x[r]))return o;var a=$x[r],c=a.key,l=a.validation,u=Object(s.get)(o,c);return l&&u&&l(u)?o:(u&&Object(s.set)(t,c,"..."),t)}(e,t);i.timestamp=performance.now(),r.unshift(i)}},{key:"onTabChange",value:function(e,t){var n=this.props,r=n.collapsed,i=n.togglePanelCollapse,o=n.topics,a=n.updateInfoTabs;if("close"===e.target.getAttribute("data-action")){var c=t_(o),l=Object(s.findIndex)(c,(function(e){return e.name===t.name}));c.splice(l,1),a(c)}else this.setState({selected:t},(function(){r&&i("info")}))}},{key:"onRawClick",value:function(e){this.setState({raw:e.target.checked||!1})}},{key:"toggleAddModal",value:function(e){this.setState({addModalOpen:e})}},{key:"addInfoPanel",value:function(e,t){var n=this.props,r=n.collapsed,i=n.togglePanelCollapse,o=n.topics,a=n.updateInfoTabs,s=t_(o);e.keys=t,s.push(e),r&&i("info"),setTimeout((function(){return a(s)}),0),this.toggleAddModal(!1)}},{key:"render",value:function(){var e=this,t=this.state,n=t.addModalOpen,r=t.raw,i=t.selected,o=this.props,c=o.collapsed,l=o.rosTopics,u=o.toggleGraphModal,h=o.togglePanelCollapse,d=o.topics;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ac,null,a.a.createElement(Tc,null,a.a.createElement(Mc,null,Object(s.map)(d,(function(t){return a.a.createElement(Oc,{selected:t.name===i.name,key:t.name,onClick:function(n){return e.onTabChange(n,t)}},a.a.createElement("span",null,t.name),a.a.createElement("span",{"data-action":"close"},"⊗"))})),a.a.createElement(Fc,{onClick:function(){return e.toggleAddModal(!0)}},"+")),a.a.createElement(kc,null,a.a.createElement(Rc,{highlight:!0,onClick:u},a.a.createElement("u",null,"RQT Graph")),a.a.createElement("label",null,"Raw:",a.a.createElement("input",{type:"checkbox",value:r,onChange:this.onRawClick})),a.a.createElement("span",{onClick:function(){return h("info")}},c?"Expand":"Collapse"," ",c?"▲":"▼"))),a.a.createElement(Pc,{collapsed:c},a.a.createElement(Wx,{raw:r,messageBuffers:this.messageBuffers,selected:i,openAddInfoPanel:function(){return e.toggleAddModal(!0)}}))),a.a.createElement(Qx,{open:n,topics:d,allTopics:l,closeModal:function(){return e.toggleAddModal(!1)},onAdd:this.addInfoPanel}))}}])&&o_(n.prototype,r),i&&o_(n,i),t}(a.a.PureComponent);function d_(e){return(d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f_(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g_(e){return(g_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y_(e,t){return(y_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==d_(t)&&"function"!=typeof t?v_(e):t}(this,g_(t).call(this,e))).state={rosEndpoint:"",rosStatus:de.INITIAL,addModalOpen:!1,configurationModalOpen:!1,rosTopics:[],rosParams:[],framesList:[],activeTool:x,graphModalOpen:!1},n.connectRos=n.connectRos.bind(v_(n)),n.disconnectRos=n.disconnectRos.bind(v_(n)),n.toggleAddModal=n.toggleAddModal.bind(v_(n)),n.refreshRosData=n.refreshRosData.bind(v_(n)),n.toggleConfigurationModal=n.toggleConfigurationModal.bind(v_(n)),n.addVisualization=n.addVisualization.bind(v_(n)),n.updateFramesList=n.updateFramesList.bind(v_(n)),n.updateConfiguration=n.updateConfiguration.bind(v_(n)),n.composePose=n.composePose.bind(v_(n)),n.selectTool=n.selectTool.bind(v_(n)),n.onPointTool=n.onPointTool.bind(v_(n)),n.onPoseEstimateTool=n.onPoseEstimateTool.bind(v_(n)),n.onNavGoalTool=n.onNavGoalTool.bind(v_(n)),n.togglePanelCollapse=n.togglePanelCollapse.bind(v_(n)),n.updateInfoTabs=n.updateInfoTabs.bind(v_(n)),n.toggleGraphModal=n.toggleGraphModal.bind(v_(n)),n.ros=new g.a.Ros,n.viewer=new y.a.TfViewer(n.ros,{onFramesListUpdate:n.updateFramesList}),n.toolPublisher=new lb(n.ros),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y_(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e){return{rosEndpoint:e.configuration.ros.endpoint}}}],(r=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.activeTool,i=n.rosEndpoint,o=this.props.configuration.globalOptions.fixedFrame.value,a=e.configuration.globalOptions.fixedFrame.value;if(this.raycaster&&a!==o&&(this.raycaster.fixedFrame=o),t.rosEndpoint!==i&&(this.disconnectRos(),this.connectRos()),r!==t.activeTool)switch(this.viewer.controls.enabled=!1,r){case x:this.viewer.controls.enabled=!0}}},{key:"componentDidMount",value:function(){var e=this,t=this.state.rosEndpoint;this.ros.on("error",(function(){e.setState({rosStatus:de.CONNECTION_ERROR})})),this.ros.on("connection",this.refreshRosData),this.ros.on("close",(function(){e.setState({rosStatus:de.INITIAL})})),t&&this.connectRos();var n=this.viewer,r=n.camera,i=n.renderer,o=n.scene;o.grid.raycast=function(){},this.raycaster=new ab(r,o,i.domElement)}},{key:"selectTool",value:function(e,t){switch(this.setState({activeTool:t}),this.raycaster.tool={name:e,type:t},t){case zy.TOOL_TYPE_POINT:this.raycaster.addOrReplaceEventListener(e,this.onPointTool);break;case zy.TOOL_TYPE_NAV_GOAL:this.raycaster.addOrReplaceEventListener(e,this.onNavGoalTool);break;case zy.TOOL_TYPE_POSE_ESTIMATE:this.raycaster.addOrReplaceEventListener(e,this.onPoseEstimateTool);break;case zy.TOOL_TYPE_CONTROLS:}}},{key:"composePose",value:function(e,t){var n=p_(e.toArray(),3),r=n[0],i=n[1],o=n[2],a=p_(t.toArray(),4);return{position:{x:r,y:i,z:o},orientation:{x:a[0],y:a[1],z:a[2],w:a[3]}}}},{key:"onPoseEstimateTool",value:function(e,t,n){var r=this.composePose(e,t);this.toolPublisher.publishPoseEstimateToolMessage(r,n)}},{key:"onNavGoalTool",value:function(e,t,n){var r=this.composePose(e,t);this.toolPublisher.publishNavGoalToolMessage(r,n)}},{key:"onPointTool",value:function(e,t){var n=p_(e.toArray(),3),r=n[0],i=n[1],o=n[2];this.toolPublisher.publishPointToolMessage({x:r,y:i,z:o},t)}},{key:"updateFramesList",value:function(e){this.setState({framesList:f_(e)})}},{key:"refreshRosData",value:function(){var e=this;this.ros.getTopics((function(t){e.setState({rosStatus:de.CONNECTED,rosTopics:c.a.map(t.topics,(function(e,n){return{name:e,messageType:t.types[n]}}))})})),this.ros.getParams((function(t){e.setState({rosParams:c.a.map(t,(function(e){return c.a.trimStart(e,"/")}))})}))}},{key:"componentWillUnmount",value:function(){this.viewer.destroy()}},{key:"connectRos",value:function(){var e=this.state.rosEndpoint;this.setState({rosStatus:de.CONNECTING}),this.ros.connect(e)}},{key:"disconnectRos",value:function(){this.ros&&this.ros.close&&this.ros.close()}},{key:"toggleAddModal",value:function(){var e=this.state.addModalOpen;this.setState({addModalOpen:!e})}},{key:"toggleConfigurationModal",value:function(){var e=this.state.configurationModalOpen;this.setState({configurationModalOpen:!e})}},{key:"toggleGraphModal",value:function(){this.setState((function(e){return{graphModalOpen:!e.graphModalOpen}}))}},{key:"addVisualization",value:function(e){var t=this.props.addVisualization;t(e),this.setState({addModalOpen:!1})}},{key:"updateConfiguration",value:function(e,t){var n=this.props.updateConfiguration;n(e,t),this.setState({configurationModalOpen:!1})}},{key:"togglePanelCollapse",value:function(e){var t,n,r,i=this.props.configuration.panels[e].collapsed;Object(s.isNil)(e)||this.updateConfiguration({panels:(t={},n=e,r={collapsed:!i},n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)})}},{key:"updateInfoTabs",value:function(e){Object(s.isNil)(e)||this.updateConfiguration({infoTabs:e},!0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.activeTool,r=t.addModalOpen,i=t.configurationModalOpen,o=t.framesList,s=t.graphModalOpen,l=t.rosEndpoint,u=t.rosParams,h=t.rosStatus,d=t.rosTopics,f=this.props,p=f.configuration,m=p.globalOptions,g=p.infoTabs,v=p.panels,y=v.header.display,b=v.info,w=b.collapsed,x=b.display,_=v.sidebar,E=_.collapsed,S=_.display,C=p.visualizations,A=f.configuration,T=f.removeVisualization,M=f.toggleVisibility,k=f.updateGlobalOptions,O=f.updateRosEndpoint,P=f.updateVizOptions;return a.a.createElement(a.a.Fragment,null,a.a.createElement($s,null),y&&a.a.createElement(Qy,{activeTool:n,selectTool:this.selectTool}),a.a.createElement(Qs,null,s&&a.a.createElement(Ih,{ros:this.ros,rosStatus:h,closeModal:this.toggleGraphModal}),r&&a.a.createElement(of,{ros:this.ros,rosTopics:d,rosParams:u,closeModal:this.toggleAddModal,addVisualization:this.addVisualization}),i&&a.a.createElement(Ay,{configuration:A,updateConfiguration:this.updateConfiguration,closeModal:this.toggleConfigurationModal}),S&&a.a.createElement(iv,{framesList:o,collapsedSidebar:E,globalOptions:m,rosEndpoint:l,rosInstance:this.ros,rosTopics:d,rosStatus:h,visualizations:C,viewer:this.viewer,connectRos:this.connectRos,disconnectRos:this.disconnectRos,removeVisualization:T,toggleAddModal:this.toggleAddModal,toggleVisibility:M,togglePanelCollapse:this.togglePanelCollapse,toggleConfigurationModal:this.toggleConfigurationModal,updateGlobalOptions:k,updateRosEndpoint:O,updateVizOptions:P}),a.a.createElement(ec,null,a.a.createElement(Cc,null,a.a.createElement(hv,{viewer:this.viewer,globalOptions:m})),x&&a.a.createElement(h_,{ros:this.ros,collapsed:w,rosTopics:d,updateInfoTabs:this.updateInfoTabs,togglePanelCollapse:this.togglePanelCollapse,topics:g,toggleGraphModal:this.toggleGraphModal})),c.a.map(C,(function(t){return a.a.createElement(iy,{options:t,id:t.key,key:t.key,viewer:e.viewer,rosTopics:d,rosInstance:e.ros})}))))}}])&&m_(n.prototype,r),i&&m_(n,i),t}(a.a.Component);b_.defaultProps={configuration:ge};var w_=d()(b_);function x_(e){return(x_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function __(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E_(e){return(E_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C_(e,t){return(C_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A_=Object(be.c)(Ks).withConfig({displayName:"Wrapper",componentId:"sc-1xwaa6s-0"})(["flex-direction:column;align-items:center;width:100%;height:100%;padding-top:200px;"]),T_=be.c.svg.withConfig({displayName:"Icon",componentId:"sc-1xwaa6s-1"})(["width:200px;height:200px;"]),M_=be.c.h1.withConfig({displayName:"Heading",componentId:"sc-1xwaa6s-2"})(["font-size:20px;margin-bottom:0;"]),k_=Object(be.c)(Ks).withConfig({displayName:"ButtonsWrapper",componentId:"sc-1xwaa6s-3"})(["","{margin:0 10px;}"],oc),O_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==x_(t)&&"function"!=typeof t?S_(e):t}(this,E_(t).call(this,e))).state={error:null},n.downloadConfig=n.downloadConfig.bind(S_(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C_(e,t)}(t,e),n=t,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e})}},{key:"downloadConfig",value:function(){var e=this.props.configuration;me(JSON.stringify(e,null,2),"zethus_config.json")}},{key:"render",value:function(){var e=this.state.error,t=this.props,n=t.children,r=t.resetReload;return e?a.a.createElement(A_,null,a.a.createElement(T_,{height:"300px",width:"300px",viewBox:"0 0 48 48",fill:"#000000",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M29.86,33.51A1,1,0,0,1,29,34a1,1,0,0,1-.51-.14,8.72,8.72,0,0,0-9,0,1,1,0,0,1-1-1.72,10.69,10.69,0,0,1,11,0A1,1,0,0,1,29.86,33.51ZM18.71,23.29l-.3-.29.3-.29a1,1,0,0,0-1.42-1.42l-.29.3-.29-.3a1,1,0,0,0-1.42,1.42l.3.29-.3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l.29-.3.29.3a1,1,0,0,0,1.42,0A1,1,0,0,0,18.71,23.29Zm14-2a1,1,0,0,0-1.42,0l-.29.3-.29-.3a1,1,0,0,0-1.42,1.42l.3.29-.3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l.29-.3.29.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42l-.3-.29.3-.29A1,1,0,0,0,32.71,21.29ZM48,9V39a3,3,0,0,1-3,3H3a3,3,0,0,1-3-3V9A3,3,0,0,1,3,6H45A3,3,0,0,1,48,9ZM2,9v5H46V9a1,1,0,0,0-1-1H3A1,1,0,0,0,2,9ZM46,39V16H2V39a1,1,0,0,0,1,1H45A1,1,0,0,0,46,39ZM5,12H7a1,1,0,0,0,0-2H5a1,1,0,0,0,0,2Zm6,0h2a1,1,0,0,0,0-2H11a1,1,0,0,0,0,2Zm6,0h2a1,1,0,0,0,0-2H17a1,1,0,0,0,0,2Z"})),a.a.createElement(M_,null,"We're sorry — something's gone wrong"),a.a.createElement("p",null,e.message||"An unknown error occured"),a.a.createElement(k_,null,a.a.createElement(oc,{onClick:this.downloadConfig},"Download config"),a.a.createElement(oc,{onClick:r},"Reset and reload"))):n}}])&&__(n.prototype,r),i&&__(n,i),t}(o.Component);function P_(e){return(P_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R_(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(n,!0).forEach((function(t){D_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N_(e){return(N_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B_(e,t){return(B_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z_=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==P_(t)&&"function"!=typeof t?I_(e):t}(this,N_(t).call(this,e));var r=e.configuration||p.a.get("zethus_config")||{};return n.state={configuration:c.a.merge({},ge,r)},n.updateVizOptions=n.updateVizOptions.bind(I_(n)),n.updateRosEndpoint=n.updateRosEndpoint.bind(I_(n)),n.updateGlobalOptions=n.updateGlobalOptions.bind(I_(n)),n.addVisualization=n.addVisualization.bind(I_(n)),n.removeVisualization=n.removeVisualization.bind(I_(n)),n.toggleVisibility=n.toggleVisibility.bind(I_(n)),n.updateConfiguration=n.updateConfiguration.bind(I_(n)),n.resetReload=n.resetReload.bind(I_(n)),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B_(e,t)}(t,e),n=t,(r=[{key:"updateConfiguration",value:function(e,t){var n,r=this.state.configuration;n=t?L_({},r,{},e):L_({},c.a.merge(r,e)),this.setState({configuration:n})}},{key:"updateVizOptions",value:function(e,t){var n=this.state.configuration.visualizations;this.updateConfiguration({visualizations:c.a.map(n,(function(n){return n.key===e?L_({},n,{},t):n}))},!0)}},{key:"updateRosEndpoint",value:function(e){var t=this.state.configuration.ros;this.updateConfiguration({ros:L_({},t,{endpoint:e})})}},{key:"componentWillUnmount",value:function(){var e=this.state.configuration;p.a.set("zethus_config",e)}},{key:"updateGlobalOptions",value:function(e,t){var n=this.state.configuration.globalOptions,r=c.a.cloneDeep(n);c.a.set(r,e,t),this.updateConfiguration({globalOptions:r},!0)}},{key:"removeVisualization",value:function(e){var t=e.target.dataset.id,n=this.state.configuration.visualizations;this.updateConfiguration({visualizations:c.a.filter(n,(function(e){return e.key!==t}))},!0)}},{key:"toggleVisibility",value:function(e){var t=e.target.dataset.id,n=this.state.configuration.visualizations;this.updateConfiguration({visualizations:c.a.map(n,(function(e){return e.key===t?L_({},e,{visible:!(!c.a.isBoolean(e.visible)||e.visible)}):e}))},!0)}},{key:"resetReload",value:function(){this.setState({configuration:ge},(function(){window.location.reload()}))}},{key:"addVisualization",value:function(e){var t=this.state.configuration.visualizations;this.updateConfiguration({visualizations:[].concat(R_(t),[L_({},e,{key:u.a.generate()})])})}},{key:"render",value:function(){var e=this.state.configuration;return a.a.createElement(O_,{configuration:e,resetReload:this.resetReload},a.a.createElement(w_,{configuration:e,addVisualization:this.addVisualization,removeVisualization:this.removeVisualization,toggleVisibility:this.toggleVisibility,updateConfiguration:this.updateConfiguration,updateVizOptions:this.updateVizOptions,updateRosEndpoint:this.updateRosEndpoint,updateGlobalOptions:this.updateGlobalOptions}))}}])&&j_(n.prototype,r),i&&j_(n,i),t}(a.a.Component),U_=d()(z_);i.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(Ws,null),a.a.createElement(U_,null)),document.getElementById("root"))},"7fqy":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},"7nPM":function(e,t,n){"use strict";function r(e){return function(t){var n=-1,r=e.length;if(t<0)return{};for(;++n<r;)if(e[n]>t)return{line:n+1,column:t-(e[n-1]||0)+1,offset:t};return{}}}function i(e){return function(t){var n=t&&t.line,r=t&&t.column;if(!isNaN(n)&&!isNaN(r)&&n-1 in e)return(e[n-2]||0)+r-1||0;return-1}}e.exports=function(e){var t=function(e){var t=[],n=e.indexOf("\n");for(;-1!==n;)t.push(n+1),n=e.indexOf("\n",n+1);return t.push(e.length+1),t}(String(e));return{toPosition:r(t),toOffset:i(t)}}},"81LO":function(e,t,n){var r=n("b5wT"),i=n("tQ6r");function o(e,t,n){for(var i;t.length&&(i=r.last(t)).i<=n;)t.pop(),e.push(i.vs),n++;return n}e.exports=function(e,t){var n=i.partition(e,(function(e){return r.has(e,"barycenter")})),a=n.lhs,s=r.sortBy(n.rhs,(function(e){return-e.i})),c=[],l=0,u=0,h=0;a.sort((d=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:d?t.i-e.i:e.i-t.i})),h=o(c,s,h),r.forEach(a,(function(e){h+=e.vs.length,c.push(e.vs),l+=e.barycenter*e.weight,u+=e.weight,h=o(c,s,h)}));var d;var f={vs:r.flatten(c,!0)};u&&(f.barycenter=l/u,f.weight=u);return f}},"830h":function(e,t){e.exports=window.WebSocket},"88Gu":function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"8J61":function(e,t,n){var r=n("W3FB"),i=n("nQt/"),o=n("hhYa"),a=n("gfzm").DOMParser;e.exports=function(e){var t=(e=e||{}).xml,n=e.string;this.materials={},this.links={},this.joints={},n&&(t=(new a).parseFromString(n,"text/xml"));var s=t.documentElement;this.name=s.getAttribute("name");for(var c=s.childNodes,l=0;l<c.length;l++){var u=c[l];if("material"===u.tagName){var h=new r({xml:u});void 0!==this.materials[h.name]?this.materials[h.name].isLink()?this.materials[h.name].assign(h):console.warn("Material "+h.name+"is not unique."):this.materials[h.name]=h}else if("link"===u.tagName){var d=new i({xml:u});if(void 0!==this.links[d.name])console.warn("Link "+d.name+" is not unique.");else{for(var f=0;f<d.visuals.length;f++){var p=d.visuals[f].material;null!==p&&(void 0!==this.materials[p.name]?d.visuals[f].material=this.materials[p.name]:this.materials[p.name]=p)}this.links[d.name]=d}}else if("joint"===u.tagName){var m=new o({xml:u});this.joints[m.name]=m}}}},"8c2E":function(e,t,n){var r=n("b5wT");e.exports=function(e){var t=function(e){var t={},n=0;return r.forEach(e.children(),(function i(o){var a=n;r.forEach(e.children(o),i);t[o]={low:a,lim:n++}})),t}(e);r.forEach(e.graph().dummyChains,(function(n){for(var r=e.node(n),i=r.edgeObj,o=function(e,t,n,r){var i,o,a=[],s=[],c=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);i=n;do{i=e.parent(i),a.push(i)}while(i&&(t[i].low>c||l>t[i].lim));o=i,i=r;for(;(i=e.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(e,t,i.v,i.w),a=o.path,s=o.lca,c=0,l=a[c],u=!0;n!==i.w;){if(r=e.node(n),u){for(;(l=a[c])!==s&&e.node(l).maxRank<r.rank;)c++;l===s&&(u=!1)}if(!u){for(;c<a.length-1&&e.node(l=a[c+1]).minRank<=r.rank;)c++;l=a[c]}e.setParent(n,l),n=e.successors(n)[0]}}))}},"8gHz":function(e,t,n){var r=n("5K7Z"),i=n("eaoh"),o=n("UWiX")("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},"8oxB":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"93I4":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"9Nap":function(e,t,n){var r=n("/9aa"),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},"9Z5P":function(e,t,n){"use strict";var r=n("ZkSf");function i(e){var t=e.children;e.children=[{type:"tableHead",align:e.align,children:[t[0]],position:t[0].position}],t.length>1&&e.children.push({type:"tableBody",align:e.align,children:t.slice(1),position:{start:t[1].position.start,end:t[t.length-1].position.end}})}e.exports=function(e){return r(e,"table",i),e}},"9ggG":function(e,t,n){var r=n("Z0cm"),i=n("/9aa"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},"9qUN":function(e,t,n){var r=n("e3BR");e.exports=function(e){this.type=r.URDF_CYLINDER,this.length=parseFloat(e.xml.getAttribute("length")),this.radius=parseFloat(e.xml.getAttribute("radius"))}},"9uj6":function(e,t,n){"use strict";var r=n("4qRI"),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=Object(r.a)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},A5Xg:function(e,t,n){var r=n("NsO/"),i=n("ar/p").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},A6mZ:function(e,t,n){"use strict";e.exports=function(e){return function(t,n){var o,a,s,c,l,u,h=this,d=h.offset,f=[],p=h[e+"Methods"],m=h[e+"Tokenizers"],g=n.line,v=n.column;if(!t)return f;x.now=b,x.file=h.file,y("");for(;t;){for(o=-1,a=p.length,l=!1;++o<a&&(c=p[o],!(s=m[c])||s.onlyAtStart&&!h.atStart||s.notInList&&h.inList||s.notInBlock&&h.inBlock||s.notInLink&&h.inLink||(u=t.length,s.apply(h,[x,t]),!(l=u!==t.length))););l||h.file.fail(new Error("Infinite loop"),x.now())}return h.eof=b(),f;function y(e){for(var t=-1,n=e.indexOf("\n");-1!==n;)g++,t=n,n=e.indexOf("\n",n+1);-1===t?v+=e.length:v=e.length-t,g in d&&(-1!==t?v+=d[g]:v<=d[g]&&(v=d[g]+1))}function b(){var e={line:g,column:v};return e.offset=h.toOffset(e),e}function w(e){this.start=e,this.end=b()}function x(e){var n,o=function(){var e=[],t=g+1;return function(){for(var n=g+1;t<n;)e.push((d[t]||0)+1),t++;return e}}(),a=(n=b(),function(e,t){var r=e.position,i=r?r.start:n,o=[],a=r&&r.end.line,s=n.line;if(e.position=new w(i),r&&t&&r.indent){if(o=r.indent,a<s){for(;++a<s;)o.push((d[a]||0)+1);o.push(n.column)}t=o.concat(t)}return e.position.indent=t||[],e}),s=b();return function(e){t.substring(0,e.length)!==e&&h.file.fail(new Error("Incorrectly eaten value: please report this warning on http://git.io/vg5Ft"),b())}(e),c.reset=l,l.test=u,c.test=u,t=t.substring(e.length),y(e),o=o(),c;function c(e,t){return a(function(e,t){var n=t?t.children:f,o=n[n.length-1];return o&&e.type===o.type&&e.type in r&&i(o)&&i(e)&&(e=r[e.type].call(h,o,e)),e!==o&&n.push(e),h.atStart&&0!==f.length&&h.exitStart(),e}(a(e),t),o)}function l(){var n=c.apply(null,arguments);return g=s.line,v=s.column,t=e+t,n}function u(){var n=a({});return g=s.line,v=s.column,t=e+t,n.position}}}};var r={text:function(e,t){return e.value+=t.value,e},blockquote:function(e,t){if(this.options.commonmark)return t;return e.children=e.children.concat(t.children),e}};function i(e){var t,n;return"text"!==e.type||!e.position||(t=e.position.start,n=e.position.end,t.line!==n.line||n.column-t.column===e.value.length)}},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},ABHV:function(e,t,n){"use strict";var r=n("0K0V"),i=r.Image||window.Image;e.exports=function(e,t){var n=new i;n.onload=function(){var e=new r,i=e.getContext("2d");e.width=n.width,e.height=n.height,i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.drawImage(n,0,0);for(var o=i.getImageData(0,0,n.width,n.height).data,a="",s=0;s<o.length;s+=4)a+=String.fromCharCode(o[s],o[s+1],o[s+2]);t(JSON.parse(a))},n.src="data:image/png;base64,"+e}},ACFR:function(e,t){function n(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w="number"==typeof e.w?e.w:1}n.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},n.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},n.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e)},n.prototype.invert=function(){this.conjugate(),this.normalize()},n.prototype.multiply=function(e){var t=this.x*e.w+this.y*e.z-this.z*e.y+this.w*e.x,n=-this.x*e.z+this.y*e.w+this.z*e.x+this.w*e.y,r=this.x*e.y-this.y*e.x+this.z*e.w+this.w*e.z,i=-this.x*e.x-this.y*e.y-this.z*e.z+this.w*e.w;this.x=t,this.y=n,this.z=r,this.w=i},n.prototype.clone=function(){return new n(this)},e.exports=n},AE40:function(e,t,n){var r=n("dunj"),i=n("jSBL"),o=n("zZ0H");e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},AP2z:function(e,t,n){var r=n("nmnc"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},AUvm:function(e,t,n){"use strict";var r=n("5T2Y"),i=n("B+OT"),o=n("jmDH"),a=n("Y7ZC"),s=n("kTiW"),c=n("6/1s").KEY,l=n("KUxP"),u=n("29s/"),h=n("RfKB"),d=n("YqAc"),f=n("UWiX"),p=n("zLkG"),m=n("Zxgi"),g=n("R+7+"),v=n("kAMH"),y=n("5K7Z"),b=n("93I4"),w=n("JB68"),x=n("NsO/"),_=n("G8Mo"),E=n("rr1i"),S=n("oVml"),C=n("A5Xg"),A=n("vwuL"),T=n("mqlF"),M=n("2faE"),k=n("w6GO"),O=A.f,P=M.f,R=C.f,F=r.Symbol,L=r.JSON,D=L&&L.stringify,j=f("_hidden"),N=f("toPrimitive"),I={}.propertyIsEnumerable,B=u("symbol-registry"),z=u("symbols"),U=u("op-symbols"),H=Object.prototype,V="function"==typeof F&&!!T.f,W=r.QObject,$=!W||!W.prototype||!W.prototype.findChild,G=o&&l((function(){return 7!=S(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=O(H,t);r&&delete H[t],P(e,t,n),r&&e!==H&&P(H,t,r)}:P,q=function(e){var t=z[e]=S(F.prototype);return t._k=e,t},Y=V&&"symbol"==typeof F.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof F},X=function(e,t,n){return e===H&&X(U,t,n),y(e),t=_(t,!0),y(n),i(z,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=S(n,{enumerable:E(0,!1)})):(i(e,j)||P(e,j,E(1,{})),e[j][t]=!0),G(e,t,n)):P(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=x(t)),i=0,o=r.length;o>i;)X(e,n=r[i++],t[n]);return e},Z=function(e){var t=I.call(this,e=_(e,!0));return!(this===H&&i(z,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,j)&&this[j][e])||t)},J=function(e,t){if(e=x(e),t=_(t,!0),e!==H||!i(z,t)||i(U,t)){var n=O(e,t);return!n||!i(z,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=R(x(e)),r=[],o=0;n.length>o;)i(z,t=n[o++])||t==j||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=R(n?U:x(e)),o=[],a=0;r.length>a;)!i(z,t=r[a++])||n&&!i(H,t)||o.push(z[t]);return o};V||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(U,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),G(this,e,E(1,n))};return o&&$&&G(H,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),A.f=J,M.f=X,n("ar/p").f=C.f=Q,n("NV0k").f=Z,T.f=ee,o&&!n("uOPS")&&s(H,"propertyIsEnumerable",Z,!0),p.f=function(e){return q(f(e))}),a(a.G+a.W+a.F*!V,{Symbol:F});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=k(f.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=F(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),a(a.S+a.F*!V,"Object",{create:function(e,t){return void 0===t?S(e):K(S(e),t)},defineProperty:X,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var oe=l((function(){T.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),L&&a(a.S+a.F*(!V||l((function(){var e=F();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,D.apply(L,r)}}),F.prototype[N]||n("NegM")(F.prototype,N,F.prototype.valueOf),h(F,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},AZ13:function(e,t,n){var r=n("GU3B"),i=n("RT9k");function o(e){e=e||{},this.translation=new r(e.translation),this.rotation=new i(e.rotation)}o.prototype.clone=function(){return new o(this)},e.exports=o},Ac7g:function(e,t,n){e.exports={Graph:n("lnHP"),version:n("w802")}},AevD:function(e,t,n){var r=n("M96O");function i(){this._arr=[],this._keyIndices={}}e.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},i.prototype.has=function(e){return r.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var i=this._arr,o=i.length;return n[e]=o,i.push({key:e,priority:t}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},i.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],o=n[t];n[e]=o,n[t]=i,r[o.key]=e,r[i.key]=t}},ApPD:function(e,t,n){var r=n("JB68"),i=n("U+KD");n("zn7N")("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},AyUB:function(e,t,n){e.exports={default:n("3GJH"),__esModule:!0}},"B+OT":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},B8du:function(e,t){e.exports=function(){return!1}},B9Yq:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},BCdy:function(e,t,n){var r=n("cqyl"),i=(n("PjQo"),n("cjKa").EventEmitter2);function o(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult;var n=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),i=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),o=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),a=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe((function(e){t.emit("goal",e)})),o.subscribe((function(e){e.status_list.forEach((function(e){t.emit("status",e)}))})),i.subscribe((function(e){t.emit("status",e.status),t.emit("feedback",e.feedback)})),a.subscribe((function(e){t.emit("status",e.status),t.emit("result",e.result)}))}o.prototype.__proto__=i.prototype,e.exports=o},BEtg:function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},BHpa:function(e,t){e.exports=function(e){var t=e.xml.getAttribute("rgba").split(" ");this.r=parseFloat(t[0]),this.g=parseFloat(t[1]),this.b=parseFloat(t[2]),this.a=parseFloat(t[3])}},BS4l:function(e,t,n){"use strict";var r=n("lU+G"),i=n("XedF"),o=n("PEyx"),a=n("Ve/E");e.exports=function(e,t){var n,s=e.selectAll("g.edgeLabel").data(t.edges(),(function(e){return o.edgeToId(e)})).classed("update",!0);s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=e.selectAll("g.edgeLabel")).each((function(e){var n=a.select(this);n.select(".label").remove();var o=t.edge(e),s=i(n,t.edge(e),0,0).classed("label",!0),c=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=c.width),r.has(o,"height")||(o.height=c.height)})),n=s.exit?s.exit():s.selectAll(null);return o.applyTransition(n,t).style("opacity",0).remove(),s}},Bhyg:function(e,t,n){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,r){"string"==typeof e?(2==arguments.length&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,r,i=function(e,t,n){if("string"==typeof t){var r=s(e,t);if(null!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var i=[],a=0,c=t.length;a<c;++a){var l=s(e,t[a]);if(null==l&&o.original)return;i.push(l)}return n&&n.apply(null,i)||!0}},o=function(e,t){var n=i("",e,t);return null==n&&o.original?o.original.apply(this,arguments):n},a=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return a(e,n[0])+"!"+a(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,n){n=a(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var o={},s={id:n,uri:"",exports:o,packaged:!0};o=r((function(e,t){return i(n,e,t)}),o,s)||s.exports,t.modules[n]=o,delete t.payloads[n]}r=t.modules[n]=o||r}return r};r=e,(n="ace")&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.acequire&&r.acequire.packaged||(o.original=r.acequire,r.acequire=o,r.acequire.packaged=!0)}(),ace.define("ace/lib/regexp",["require","exports","module"],(function(e,t,n){"use strict";var r,i={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===i.exec.call(/()??/,"")[1],a=(r=/^/g,i.test.call(r,""),!r.lastIndex);function s(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function c(e,t,n){if(Array.prototype.indexOf)return e.indexOf(t,n);for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1}a&&o||(RegExp.prototype.exec=function(e){var t,n,r=i.exec.apply(this,arguments);if("string"==typeof e&&r){if(!o&&r.length>1&&c(r,"")>-1&&(n=RegExp(this.source,i.replace.call(s(this),"g","")),i.replace.call(e.slice(r.index),n,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var l=1;l<r.length;l++)(t=this._xregexp.captureNames[l-1])&&(r[t]=r[l]);!a&&this.global&&!r[0].length&&this.lastIndex>r.index&&this.lastIndex--}return r},a||(RegExp.prototype.test=function(e){var t=i.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))})),ace.define("ace/lib/es5-shim",["require","exports","module"],(function(e,t,n){function r(){}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var n=d.call(arguments,1),i=function(){if(this instanceof i){var r=t.apply(this,n.concat(d.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(d.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,i.prototype=new r,r.prototype=null),i});var i,o,a,s,c,l=Function.prototype.call,u=Array.prototype,h=Object.prototype,d=u.slice,f=l.bind(h.toString),p=l.bind(h.hasOwnProperty);if((c=p(h,"__defineGetter__"))&&(i=l.bind(h.__defineGetter__),o=l.bind(h.__defineSetter__),a=l.bind(h.__lookupGetter__),s=l.bind(h.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,n=[];if(n.splice.apply(n,e(20)),n.splice.apply(n,e(26)),t=n.length,n.splice(5,0,"XXX"),n.length,t+1==n.length)return!0}()){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var n=this.length;e>0?e>n&&(e=n):null==e?e=0:e<0&&(e=Math.max(n+e,0)),e+t<n||(t=n-e);var r=this.slice(e,e+t),i=d.call(arguments,2),o=i.length;if(e===n)o&&this.push.apply(this,i);else{var a=Math.min(t,n-e),s=e+a,c=s+o-a,l=n-s,u=n-a;if(c<s)for(var h=0;h<l;++h)this[c+h]=this[s+h];else if(c>s)for(h=l;h--;)this[c+h]=this[s+h];if(o&&e===u)this.length=u,this.push.apply(this,i);else for(this.length=u+o,h=0;h<o;++h)this[e+h]=i[h]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==f(e)});var g,v,y=Object("a"),b="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=arguments[1],i=-1,o=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError;for(;++i<o;)i in n&&e.call(r,n[i],i,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=Array(r),o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(i[a]=e.call(o,n[a],a,t));return i}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=R(this),r=b&&"[object String]"==f(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;s<i;s++)s in r&&(t=r[s],e.call(a,t,s,n)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&!e.call(i,n[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in n&&e.call(i,n[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;o<r;o++)o in n&&(i=e.call(void 0,i,n[o],o,t));return i}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=R(this),n=b&&"[object String]"==f(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(i=e.call(void 0,i,n[o],o,t))}while(o--);return i}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=b&&"[object String]"==f(this)?this.split(""):R(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=P(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=b&&"[object String]"==f(this)?this.split(""):R(this),n=t.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,P(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:h)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(p(e,t)){var n;if(n={enumerable:!0,configurable:!0},c){var r=e.__proto__;e.__proto__=h;var i=a(e,t),o=s(e,t);if(e.__proto__=r,i||o)return i&&(n.get=i),o&&(n.set=o),n}return n.value=e[t],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var n;if(null===e)n=g();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,(n=new r).__proto__=e}return void 0!==t&&Object.defineProperties(n,t),n});function w(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}if(Object.defineProperty){var x=w({}),_="undefined"==typeof document||w(document.createElement("div"));if(!x||!_)var E=Object.defineProperty}if(!Object.defineProperty||E){Object.defineProperty=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Property description must be an object: "+n);if(E)try{return E.call(Object,e,t,n)}catch(e){}if(p(n,"value"))if(c&&(a(e,t)||s(e,t))){var r=e.__proto__;e.__proto__=h,delete e[t],e[t]=n.value,e.__proto__=r}else e[t]=n.value;else{if(!c)throw new TypeError("getters & setters can not be defined on this javascript engine");p(n,"get")&&i(e,t,n.get),p(n,"set")&&o(e,t,n.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var n in t)p(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze((function(){}))}catch(e){Object.freeze=(v=Object.freeze,function(e){return"function"==typeof e?e:v(e)})}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var n=p(e,t);return delete e[t],n}),!Object.keys){var S=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],A=C.length;for(var T in{toString:null})S=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var n in e)p(e,n)&&t.push(n);if(S)for(var r=0,i=A;r<i;r++){var o=C[r];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var k=new RegExp("^"+M+M+"*"),O=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(k,"").replace(O,"")}}function P(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}var R=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(e,t,n){"use strict";e("./regexp"),e("./es5-shim")})),ace.define("ace/lib/dom",["require","exports","module"],(function(e,t,n){"use strict";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var i=n.indexOf(t);if(-1==i)break;r=!1,n.splice(i,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if((t=t||document).createStyleSheet&&(n=t.styleSheets)){for(;r<n.length;)if(n[r++].owningElement.id===e)return!0}else if(n=t.getElementsByTagName("style"))for(;r<n.length;)if(n[r++].id===e)return!0;return!1},t.importCssString=function(e,n,r){if(r=r||document,n&&t.hasCssString(n,r))return null;var i;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */"),r.createStyleSheet?((i=r.createStyleSheet()).cssText=e,n&&(i.owningElement.id=n)):((i=t.createElement("style")).appendChild(r.createTextNode(e)),n&&(i.id=n),t.getDocumentHead(r).appendChild(i))},t.importCssStylsheet=function(e,n){if(n.createStyleSheet)n.createStyleSheet(e);else{var r=t.createElement("link");r.rel="stylesheet",r.href=e,t.getDocumentHead(n).appendChild(r)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),i=r.style;i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",r.appendChild(n);var o=e.documentElement;o.appendChild(r);var a=n.offsetWidth;i.overflow="scroll";var s=n.offsetWidth;return a==s&&(s=r.clientWidth),o.removeChild(r),a-s},"undefined"!=typeof document?(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.setInnerHtml=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,e.parentNode.replaceChild(n,e),n},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}):t.importCssString=function(){}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(e,t,n){"use strict";e("./fixoldbrowsers");var r=e("./oop"),i=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return r.mixin(n,n.MODIFIER_KEYS),r.mixin(n,n.PRINTABLE_KEYS),r.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();r.mixin(t,i),t.keyCodeToString=function(e){var t=i[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((i.match(/rv:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isIPad=i.indexOf("iPad")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0)}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./keys"),i=e("./useragent"),o=null,a=0;t.addListener=function(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1);if(e.attachEvent){var r=function(){n.call(e,window.event)};n._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,n){if(e.removeEventListener)return e.removeEventListener(t,n,!1);e.detachEvent&&e.detachEvent("on"+t,n._wrapper||n)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,n,r){function i(e){n&&n(e),r&&r(e),t.removeListener(document,"mousemove",n,!0),t.removeListener(document,"mouseup",i,!0),t.removeListener(document,"dragstart",i,!0)}return t.addListener(document,"mousemove",n,!0),t.addListener(document,"mouseup",i,!0),t.addListener(document,"dragstart",i,!0),i},t.addTouchMoveListener=function(e,n){var r,i;t.addListener(e,"touchstart",(function(e){var t=e.touches[0];r=t.clientX,i=t.clientY})),t.addListener(e,"touchmove",(function(e){var t=e.touches;if(!(t.length>1)){var o=t[0];e.wheelX=r-o.clientX,e.wheelY=i-o.clientY,r=o.clientX,i=o.clientY,n(e)}}))},t.addMouseWheelListener=function(e,n){"onmousewheel"in e?t.addListener(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),n(e)})):"onwheel"in e?t.addListener(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}n(e)})):t.addListener(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),n(e)}))},t.addMultiMouseDownListener=function(e,n,r,o){var a,s,c,l=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function h(e){if(0!==t.getButton(e)?l=0:e.detail>1?++l>4&&(l=1):l=1,i.isIE){var h=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-s)>5;c&&!h||(l=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[l-1]||600),1==l&&(a=e.clientX,s=e.clientY)}if(e._clicks=l,r[o]("mousedown",e),l>4)l=0;else if(l>1)return r[o](u[l],e)}function d(e){l=2,c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[l-1]||600),r[o]("mousedown",e),r[o](u[l],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){t.addListener(e,"mousedown",h),i.isOldIE&&t.addListener(e,"dblclick",d)}))};var s=!i.isMac||!i.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};function c(e,t,n){var c=s(t);if(!i.isMac&&o){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(c|=8),o.altGr){if(3==(3&c))return;o.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==o[n]&&(a=t.timeStamp);else if(18===n&&3===c&&2===l){t.timeStamp-a<50&&(o.altGr=!0)}}}if((n in r.MODIFIER_KEYS&&(n=-1),8&c&&n>=91&&n<=93&&(n=-1),!c&&13===n)&&(3===(l="location"in t?t.location:t.keyLocation)&&(e(t,c,-n),t.defaultPrevented)))return;if(i.isChromeOS&&8&c){if(e(t,c,n),t.defaultPrevented)return;c&=-9}return!!(c||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,c,n)}function l(){o=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[s(e)]},t.addCommandKeyListener=function(e,n){var r=t.addListener;if(i.isOldGecko||i.isOpera&&!("KeyboardEvent"in window)){var a=null;r(e,"keydown",(function(e){a=e.keyCode})),r(e,"keypress",(function(e){return c(n,e,a)}))}else{var s=null;r(e,"keydown",(function(e){o[e.keyCode]=(o[e.keyCode]||0)+1;var t=c(n,e,e.keyCode);return s=e.defaultPrevented,t})),r(e,"keypress",(function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),s=null)})),r(e,"keyup",(function(e){o[e.keyCode]=null})),o||(l(),r(window,"focus",l))}},"object"==typeof window&&window.postMessage&&!i.isOldIE){t.nextTick=function(e,n){n=n||window;t.addListener(n,"message",(function r(i){"zero-timeout-message-1"==i.data&&(t.stopPropagation(i),t.removeListener(n,"message",r),e())})),n.postMessage("zero-timeout-message-1","*")}}t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,i=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(i,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},i=function(e){null==n&&(n=setTimeout(r,e||t))};return i.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},i.schedule=i,i.call=function(){this.cancel(),e()},i.cancel=function(){n&&clearTimeout(n),n=null},i.isPending=function(){return n},i}})),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),a=e("../lib/lang"),s=e("../lib/keys"),c=s.KEY_MODS,l=i.isChrome<18,u=i.isIE;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className=i.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",i.isTouchPad&&n.setAttribute("x-palm-disable-auto-cap",!0),n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var h="\n aaaa a\n",d=!1,f=!1,p=!1,m=!1,g="",v=!0;try{var y=document.activeElement===n}catch(e){}r.addListener(n,"blur",(function(e){t.onBlur(e),y=!1})),r.addListener(n,"focus",(function(e){y=!0,t.onFocus(e),x()})),this.focus=function(){if(g)return n.focus();n.style.position="fixed",n.focus()},this.blur=function(){n.blur()},this.isFocused=function(){return y};var b=a.delayedCall((function(){y&&x(v)})),w=a.delayedCall((function(){m||(n.value=h,y&&x())}));function x(e){if(!m){if(m=!0,E)t=0,r=e?0:n.value.length-1;else var t=4,r=5;try{n.setSelectionRange(t,r)}catch(e){}m=!1}}function _(){m||(n.value=h,i.isWebKit&&w.schedule())}i.isWebKit||t.addEventListener("changeSelection",(function(){t.selection.isEmpty()!=v&&(v=!v,b.schedule())})),_(),y&&t.onFocus();var E=null;this.setInputHandler=function(e){E=e},this.getInputHandler=function(){return E};var S=!1,C=function(e){4===n.selectionStart&&5===n.selectionEnd||(E&&(e=E(e),E=null),p?(x(),e&&t.onPaste(e),p=!1):e==h.substr(0)&&4===n.selectionStart?S?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):d||(e.substring(0,9)==h&&e.length>h.length?e=e.substr(9):e.substr(0,4)==h.substr(0,4)?e=e.substr(4,e.length-h.length+1):e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e==h.charAt(0)||e.charAt(e.length-1)==h.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),d&&(d=!1),S&&(S=!1))},A=function(e){if(!m){var t=n.value;C(t),_()}},T=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!l){var i=u||n?"Text":"text/plain";try{return t?!1!==r.setData(i,t):r.getData(i)}catch(e){if(!n)return T(e,t,!0)}}},M=function(e,o){var a=t.getCopyText();if(!a)return r.preventDefault(e);T(e,a)?(i.isIOS&&(f=o,n.value="\n aa"+a+"a a\n",n.setSelectionRange(4,4+a.length),d={value:a}),o?t.onCut():t.onCopy(),i.isIOS||r.preventDefault(e)):(d=!0,n.value=a,n.select(),setTimeout((function(){d=!1,_(),x(),o?t.onCut():t.onCopy()})))};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,"select",(function(e){!function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length}(n)?E&&x(t.selection.isEmpty()):(t.selectAll(),x())})),r.addListener(n,"input",A),r.addListener(n,"cut",(function(e){M(e,!0)})),r.addListener(n,"copy",(function(e){M(e,!1)})),r.addListener(n,"paste",(function(e){var o=T(e);"string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(x),r.preventDefault(e)):(n.value="",p=!0)}));var k,O=function(){if(m&&t.onCompositionUpdate&&!t.$readOnly){var e=n.value.replace(/\x01/g,"");if(m.lastValue!==e&&(t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.canUndo&&(m.lastValue=e),m.lastValue)){var r=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(r),t.selection.clearSelection()}}},P=function(e){if(t.onCompositionEnd&&!t.$readOnly){var r=m;m=!1;var o=setTimeout((function(){o=null;var e=n.value.replace(/\x01/g,"");m||(e==r.lastValue?_():!r.lastValue&&e&&(_(),C(e)))}));E=function(e){return o&&clearTimeout(o),(e=e.replace(/\x01/g,""))==r.lastValue?"":(r.lastValue&&o&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",P),"compositionend"==e.type&&r.range&&t.selection.setRange(r.range),(!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603)&&A()}},R=a.delayedCall(O,50);function F(){clearTimeout(k),k=setTimeout((function(){g&&(n.style.cssText=g,g=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())}),0)}r.addListener(n,"compositionstart",(function(e){m||!t.onCompositionStart||t.$readOnly||((m={}).canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(O,0),t.on("mousedown",P),m.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())})),i.isGecko?r.addListener(n,"text",(function(){R.schedule()})):(r.addListener(n,"keyup",(function(){R.schedule()})),r.addListener(n,"keydown",(function(){R.schedule()}))),r.addListener(n,"compositionend",P),this.getElement=function(){return n},this.setReadOnly=function(e){n.readOnly=e},this.onContextMenu=function(e){S=!0,x(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,a){g||(g=n.style.cssText),n.style.cssText=(a?"z-index:100000;":"")+"height:"+n.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),c=o.computedStyle(t.container),l=s.top+(parseInt(c.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-l-n.clientHeight-2,d=function(e){n.style.left=e.clientX-u-2+"px",n.style.top=Math.min(e.clientY-l-2,h)+"px"};d(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(k),i.isWin&&r.capture(t.container,d,F))},this.onContextMenuClose=F;var L=function(e){t.textInput.onContextMenu(e),F()};if(r.addListener(n,"mouseup",L),r.addListener(n,"mousedown",(function(e){e.preventDefault(),F()})),r.addListener(t.renderer.scroller,"contextmenu",L),r.addListener(n,"contextmenu",L),i.isIOS){var D=null,j=!1;e.addEventListener("keydown",(function(e){D&&clearTimeout(D),j=!0})),e.addEventListener("keyup",(function(e){D=setTimeout((function(){j=!1}),100)}));var N=function(e){if(document.activeElement===n&&!j){if(f)return setTimeout((function(){f=!1}),100);var r=n.selectionStart,i=n.selectionEnd;if(n.setSelectionRange(4,5),r==i)switch(r){case 0:t.onCommandKey(null,0,s.up);break;case 1:t.onCommandKey(null,0,s.home);break;case 2:t.onCommandKey(null,c.option,s.left);break;case 4:t.onCommandKey(null,0,s.left);break;case 5:t.onCommandKey(null,0,s.right);break;case 7:t.onCommandKey(null,c.option,s.right);break;case 8:t.onCommandKey(null,0,s.end);break;case 9:t.onCommandKey(null,0,s.down)}else{switch(i){case 6:t.onCommandKey(null,c.shift,s.right);break;case 7:t.onCommandKey(null,c.shift|c.option,s.right);break;case 8:t.onCommandKey(null,c.shift,s.end);break;case 9:t.onCommandKey(null,c.shift,s.down)}switch(r){case 0:t.onCommandKey(null,c.shift,s.up);break;case 1:t.onCommandKey(null,c.shift,s.home);break;case 2:t.onCommandKey(null,c.shift|c.option,s.left);break;case 3:t.onCommandKey(null,c.shift,s.left)}}}};document.addEventListener("selectionchange",N),t.on("destroy",(function(){document.removeEventListener("selectionchange",N)}))}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("../lib/dom"),a=e("../lib/lang"),s=i.isChrome<18,c=i.isIE,l=e("./textinput_ios").TextInput;t.TextInput=function(e,t){if(i.isIOS)return l.call(this,e,t);var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var u="\u2028\u2028",h=!1,d=!1,f=!1,p="",m=!0;try{var g=document.activeElement===n}catch(e){}r.addListener(n,"blur",(function(e){t.onBlur(e),g=!1})),r.addListener(n,"focus",(function(e){g=!0,t.onFocus(e),b()})),this.focus=function(){if(p)return n.focus();var e=n.style.top;n.style.position="fixed",n.style.top="0px",n.focus(),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return g};var v=a.delayedCall((function(){g&&b(m)})),y=a.delayedCall((function(){f||(n.value=u,g&&b())}));function b(e){if(!f){if(f=!0,x)var t=0,r=e?0:n.value.length-1;else t=e?2:1,r=2;try{n.setSelectionRange(t,r)}catch(e){}f=!1}}function w(){f||(n.value=u,i.isWebKit&&y.schedule())}i.isWebKit||t.addEventListener("changeSelection",(function(){t.selection.isEmpty()!=m&&(m=!m,v.schedule())})),w(),g&&t.onFocus();var x=null;this.setInputHandler=function(e){x=e},this.getInputHandler=function(){return x};var _=!1,E=function(e){x&&(e=x(e),x=null),d?(b(),e&&t.onPaste(e),d=!1):e==u.charAt(0)?_?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==u?e=e.substr(2):e.charAt(0)==u.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==u.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==u.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),_&&(_=!1)},S=function(e){if(!f){var t=n.value;E(t),w()}},C=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!s){var i=c||n?"Text":"text/plain";try{return t?!1!==r.setData(i,t):r.getData(i)}catch(e){if(!n)return C(e,t,!0)}}},A=function(e,i){var o=t.getCopyText();if(!o)return r.preventDefault(e);C(e,o)?(i?t.onCut():t.onCopy(),r.preventDefault(e)):(h=!0,n.value=o,n.select(),setTimeout((function(){h=!1,w(),b(),i?t.onCut():t.onCopy()})))},T=function(e){A(e,!0)},M=function(e){A(e,!1)},k=function(e){var o=C(e);"string"==typeof o?(o&&t.onPaste(o,e),i.isIE&&setTimeout(b),r.preventDefault(e)):(n.value="",d=!0)};r.addCommandKeyListener(n,t.onCommandKey.bind(t)),r.addListener(n,"select",(function(e){h?h=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length}(n)?x&&b(t.selection.isEmpty()):(t.selectAll(),b())})),r.addListener(n,"input",S),r.addListener(n,"cut",T),r.addListener(n,"copy",M),r.addListener(n,"paste",k),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(e,"keydown",(function(e){if((!i.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:M(e);break;case 86:k(e);break;case 88:T(e)}}));var O,P=function(){if(f&&t.onCompositionUpdate&&!t.$readOnly){var e=n.value.replace(/\u2028/g,"");if(f.lastValue!==e&&(t.onCompositionUpdate(e),f.lastValue&&t.undo(),f.canUndo&&(f.lastValue=e),f.lastValue)){var r=t.selection.getRange();t.insert(f.lastValue),t.session.markUndoGroup(),f.range=t.selection.getRange(),t.selection.setRange(r),t.selection.clearSelection()}}},R=function(e){if(t.onCompositionEnd&&!t.$readOnly){var r=f;f=!1;var o=setTimeout((function(){o=null;var e=n.value.replace(/\u2028/g,"");f||(e==r.lastValue?w():!r.lastValue&&e&&(w(),E(e)))}));x=function(e){return o&&clearTimeout(o),(e=e.replace(/\u2028/g,""))==r.lastValue?"":(r.lastValue&&o&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",R),"compositionend"==e.type&&r.range&&t.selection.setRange(r.range),(!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603)&&S()}},F=a.delayedCall(P,50);function L(){clearTimeout(O),O=setTimeout((function(){p&&(n.style.cssText=p,p=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())}),0)}r.addListener(n,"compositionstart",(function(e){f||!t.onCompositionStart||t.$readOnly||((f={}).canUndo=t.session.$undoManager,t.onCompositionStart(),setTimeout(P,0),t.on("mousedown",R),f.canUndo&&!t.selection.isEmpty()&&(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())})),i.isGecko?r.addListener(n,"text",(function(){F.schedule()})):(r.addListener(n,"keyup",(function(){F.schedule()})),r.addListener(n,"keydown",(function(){F.schedule()}))),r.addListener(n,"compositionend",R),this.getElement=function(){return n},this.setReadOnly=function(e){n.readOnly=e},this.onContextMenu=function(e){_=!0,b(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,a){p||(p=n.style.cssText),n.style.cssText=(a?"z-index:100000;":"")+"height:"+n.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=t.container.getBoundingClientRect(),c=o.computedStyle(t.container),l=s.top+(parseInt(c.borderTopWidth)||0),u=s.left+(parseInt(s.borderLeftWidth)||0),h=s.bottom-l-n.clientHeight-2,d=function(e){n.style.left=e.clientX-u-2+"px",n.style.top=Math.min(e.clientY-l-2,h)+"px"};d(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(O),i.isWin&&r.capture(t.container,d,L))},this.onContextMenuClose=L;var D=function(e){t.textInput.onContextMenu(e),L()};r.addListener(n,"mouseup",D),r.addListener(n,"mousedown",(function(e){e.preventDefault(),L()})),r.addListener(t.renderer.scroller,"contextmenu",D),r.addListener(n,"contextmenu",D)}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";e("../lib/dom"),e("../lib/event");var r=e("../lib/useragent");function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,o=e.getButton();if(0!==o){var a=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(a||1==o)&&i.selection.moveToPosition(n),i.$blockScrolling--,void(2==o&&(i.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))}return this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;n.$blockScrolling++,this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"),n.$blockScrolling--},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var i=o(this.$clickSelection,n);n=i.cursor,e=i.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),i=n.selection[e](r.row,r.column);if(n.$blockScrolling++,this.$clickSelection){var a=this.$clickSelection.comparePoint(i.start),s=this.$clickSelection.comparePoint(i.end);if(-1==a&&s<=0)t=this.$clickSelection.end,i.end.row==r.row&&i.end.column==r.column||(r=i.start);else if(1==s&&a>=0)t=this.$clickSelection.start,i.start.row==r.row&&i.start.column==r.column||(r=i.end);else if(-1==a&&1==s)r=i.end,t=i.start;else{var c=o(this.$clickSelection,r);r=c.cursor,t=c.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.$blockScrolling--,n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,r,i=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,r=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))),o=Date.now();(i>0||o-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,i=r-n.t,o=e.wheelX/i,a=e.wheelY/i;i<250&&(o=(o+n.vx)/2,a=(a+n.vy)/2);var s=Math.abs(o/a),c=!1;if(s>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(c=!0),s<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(c=!0),c)n.allowed=r;else if(r-n.allowed<250){Math.abs(o)<=1.1*Math.abs(n.vx)&&Math.abs(a)<=1.1*Math.abs(n.vy)?(c=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=o,n.vy=a,c?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){this.editor._emit("mousewheel",e)}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var r=e("./lib/dom");function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){r.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/event"),a=e("../tooltip").Tooltip;function s(e){a.call(this,e)}i.inherits(s,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,i=this.getWidth(),o=this.getHeight();(e+=15)+i>n&&(e-=e+i-n),(t+=15)+o>r&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(s.prototype),t.GutterHandler=function(e){var t,n,i,a=e.editor,c=a.renderer.$gutterLayer,l=new s(a.container);function u(){t&&(t=clearTimeout(t)),i&&(l.hide(),i=null,a._signal("hideGutterTooltip",l),a.removeEventListener("mousewheel",u))}function h(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(a.isFocused()&&0==t.getButton()&&"foldWidgets"!=c.getRegion(t)){var n=t.getDocumentPosition().row,r=a.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return a.selectAll(),t.preventDefault();e.$clickSelection=a.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var s=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(s,"ace_fold-widget"))return u();i&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,r=c.$annotations[t];if(!r)return u();if(t==a.session.getLength()){var o=a.renderer.pixelToScreenCoordinates(0,n.y).row,s=n.$pos;if(o>a.session.documentToScreenRow(s.row,s.column))return u()}if(i!=r)if(i=r.text.join("<br/>"),l.setHtml(i),l.show(),a._signal("showGutterTooltip",l),a.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var d=n.domEvent.target.getBoundingClientRect(),f=l.getElement().style;f.left=d.right+"px",f.top=d.bottom+"px"}}():u()}),50))})),o.addListener(a.renderer.$gutter,"mouseout",(function(e){n=null,i&&!t&&(t=setTimeout((function(){t=null,u()}),50))})),a.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/event"),o=e("../lib/useragent"),a=200,s=200,c=5;function l(e){var t=e.editor,n=r.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.addEventListener("mousedown",this.onMouseDown.bind(e));var l,h,d,f,p,m,g,v,y,b,w,x=t.container,_=0;function E(){var e=m;(function(e,n){var r=Date.now(),i=!n||e.row!=n.row,o=!n||e.column!=n.column;!b||i||o?(t.$blockScrolling+=1,t.moveCursorToPosition(e),t.$blockScrolling-=1,b=r,w={x:h,y:d}):u(w.x,w.y,h,d)>c?b=null:r-b>=s&&(t.renderer.scrollCursorIntoView(),b=null)})(m=t.renderer.screenToTextCoordinates(h,d),e),function(e,n){var r=Date.now(),i=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),c={x:{left:h-s.left,right:s.right-h},y:{top:d-s.top,bottom:s.bottom-d}},l=Math.min(c.x.left,c.x.right),u=Math.min(c.y.top,c.y.bottom),f={row:e.row,column:e.column};l/o<=2&&(f.column+=c.x.left<c.x.right?-3:2),u/i<=1&&(f.row+=c.y.top<c.y.bottom?-1:1);var p=e.row!=f.row,m=e.column!=f.column,g=!n||e.row!=n.row;p||m&&!g?y?r-y>=a&&t.renderer.scrollCursorIntoView(f):y=r:y=null}(m,e)}function S(){p=t.selection.toOrientedRange(),l=t.session.addMarker(p,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(f),E(),f=setInterval(E,20),_=0,i.addListener(document,"mousemove",T)}function C(){clearInterval(f),t.session.removeMarker(l),l=null,t.$blockScrolling+=1,t.selection.fromOrientedRange(p),t.$blockScrolling-=1,t.isFocused()&&!v&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),p=null,m=null,_=0,y=null,b=null,i.removeListener(document,"mousemove",T)}this.onDragStart=function(e){if(this.cancelDrag||!x.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}p=t.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),i.setDragImage&&i.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),i.clearData(),i.setData("Text",t.session.getTextRange()),v=!0,this.setState("drag")},this.onDragEnd=function(e){if(x.draggable=!1,v=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;g||"move"!=n||t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return h=e.clientX,d=e.clientY,l||S(),_++,e.dataTransfer.dropEffect=g=k(e),i.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&M(e.dataTransfer))return h=e.clientX,d=e.clientY,l||(S(),_++),null!==A&&(A=null),e.dataTransfer.dropEffect=g=k(e),i.preventDefault(e)},this.onDragLeave=function(e){if(--_<=0&&l)return C(),g=null,i.preventDefault(e)},this.onDrop=function(e){if(m){var n=e.dataTransfer;if(v)switch(g){case"move":p=p.contains(m.row,m.column)?{start:m,end:m}:t.moveText(p,m);break;case"copy":p=t.moveText(p,m,!0)}else{var r=n.getData("Text");p={start:m,end:t.session.insert(m,r)},t.focus(),g=null}return C(),i.preventDefault(e)}},i.addListener(x,"dragstart",this.onDragStart.bind(e)),i.addListener(x,"dragend",this.onDragEnd.bind(e)),i.addListener(x,"dragenter",this.onDragEnter.bind(e)),i.addListener(x,"dragover",this.onDragOver.bind(e)),i.addListener(x,"dragleave",this.onDragLeave.bind(e)),i.addListener(x,"drop",this.onDrop.bind(e));var A=null;function T(){null==A&&(A=setTimeout((function(){null!=A&&l&&C()}),20))}function M(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function k(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var i="none";return n&&t.indexOf(r)>=0?i="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?i="move":t.indexOf(r)>=0&&(i="copy"),i}}function u(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var i=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in i&&(i.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(l.prototype),t.DragdropHandler=l})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),i=document.createElement("script");i.src=e,n.appendChild(i),i.onload=i.onreadystatechange=function(e,n){!n&&i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(i=i.onload=i.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var r={},i=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var a=0;a<n.length&&(n[a](t,this),!t.propagationStopped);a++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;t&&this.addEventListener(e,(function r(){n.removeEventListener(e,r),t.apply(null,arguments)}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],i=n._disabled_[e];i||(n._disabled_[e]=i=[]),i.push(r);var o=i.indexOf(t);-1!=o&&i.splice(o,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t){n[e];r&&this.setDefaultHandler(e,r.pop())}else if(r){var i=r.indexOf(t);-1!=i&&r.splice(i,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var r=e("./oop"),i=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return a('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:a('misspelled option "'+e+'"')}};function a(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var c=function(){this.$defaultOptions={}};(function(){r.implement(this,i),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=a,this.reportError=s}).call(c.prototype),t.AppConfig=c})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,r){var i=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),a=e("./lib/app_config").AppConfig;r.exports=t=new a;var s=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function l(i){if(s&&s.document){c.packaged=i||e.packaged||r.packaged||s.define&&n("B9Yq").packaged;for(var o,a={},l="",u=document.currentScript||document._currentScript,h=(u&&u.ownerDocument||document).getElementsByTagName("script"),d=0;d<h.length;d++){var f=h[d],p=f.src||f.getAttribute("src");if(p){for(var m=f.attributes,g=0,v=m.length;g<v;g++){var y=m[g];0===y.name.indexOf("data-ace-")&&(a[(o=y.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var b=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(l=b[1])}}for(var w in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)void 0!==a[w]&&t.set(w,a[w])}}t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return i.copyObject(c)},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",i=n[n.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");i=i.replace(o,"")}(!i||i==t)&&n.length>1&&(i=n[n.length-2]);var a=c[t+"Path"];return null==a?a=c.basePath:"/"==r&&(t=r=""),a&&"/"!=a.slice(-1)&&(a+="/"),a+t+r+i+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,r){var i,a;Array.isArray(n)&&(a=n[0],n=n[1]);try{i=e(n)}catch(e){}if(i&&!t.$loading[n])return r&&r(i);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(r),!(t.$loading[n].length>1)){var s=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return s();o.loadScript(t.moduleUrl(n,a),s)}},l(!0),t.init=l})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/event"),i=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,s=e("./mouse_event").MouseEvent,c=e("./dragdrop_handler").DragdropHandler,l=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new a(this),new c(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},s=e.renderer.getMouseEventTarget();r.addListener(s,"click",this.onMouseEvent.bind(this,"click")),r.addListener(s,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([s,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var l=e.renderer.$gutter;r.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(s,"mousedown",n),r.addListener(l,"mousedown",n),i.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n),r.addListener(e.renderer.scrollBarH.element,"mousedown",n)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),i=e.session.selection.getRange(),o=e.renderer;!i.isEmpty()&&i.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new s(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new s(t,this.editor))},this.onMouseWheel=function(e,t){var n=new s(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.onTouchMove=function(e,t){var n=new s(t,this.editor);n.speed=1,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var o=this,a=function(e){if(e){if(i.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new s(e,o.editor),o.$mouseMoved=!0}},c=function(e){clearInterval(u),l(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},l=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));o.$onCaptureMouseMove=a,o.releaseMouse=r.capture(this.editor.container,a,c);var u=setInterval(l,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),l.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module"],(function(e,t,n){"use strict";t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,i=r.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?r.removeFold(i):r.expandFold(i),t.stop())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,i=r.getParentFoldRangeData(n,!0),o=i.range||i.firstRange;if(o){n=o.start.row;var a=r.getFoldAt(n,r.getLine(n).length,1);a?r.removeFold(a):(r.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,r){for(var o,a=!1,s=this.$editor.commands,c=this.$handlers.length;c--&&!((o=this.$handlers[c].handleKeyboard(this.$data,e,t,n,r))&&o.command&&((a="null"==o.command||s.exec(o.command,this.$editor,o.args,r))&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),a)););return a||-1!=e||(o={command:"insertstring"},a=s.exec("insertstring",this.$editor,t)),a&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),a},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var r=0,i=0,o=!1,a=!1,s=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=1,h=0,d=1,f=2,p=3,m=4,g=5,v=6,y=7,b=8,w=9,x=10,_=11,E=12,S=13,C=14,A=15,T=16,M=17,k=18,O=[k,k,k,k,k,k,k,k,k,v,g,v,b,g,k,k,k,k,k,k,k,k,k,k,k,k,k,k,g,g,g,v,b,m,m,_,_,_,m,m,m,m,m,x,w,x,w,w,f,f,f,f,f,f,f,f,f,f,w,m,m,m,m,m,m,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,m,m,m,m,m,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,m,m,m,m,k,k,k,k,k,k,g,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,w,m,_,_,_,_,m,m,m,m,h,m,m,k,m,m,_,_,f,f,m,h,m,m,m,f,h,m,m,m,m,m],P=[b,b,b,b,b,b,b,b,b,b,b,k,k,k,h,d,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,b,g,S,C,A,T,M,w,_,_,_,_,_,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,w,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,b];function R(e,t,n){if(!(i<e))if(1!=e||r!=u||a)for(var o,s,c,l,h=n.length,d=0;d<h;){if(t[d]>=e){for(o=d+1;o<h&&t[o]>=e;)o++;for(s=d,c=o-1;s<c;s++,c--)l=n[s],n[s]=n[c],n[c]=l;d=o}d++}else n.reverse()}function F(e,t,n,i){var c,l,u,O,P=t[i];switch(P){case h:case d:o=!1;case m:case p:return P;case f:return o?p:f;case y:return o=!0,!0,d;case b:return m;case w:return i<1||i+1>=t.length||(c=n[i-1])!=f&&c!=p||(l=t[i+1])!=f&&l!=p?m:(o&&(l=p),l==c?l:m);case x:return(c=i>0?n[i-1]:g)==f&&i+1<t.length&&t[i+1]==f?f:m;case _:if(i>0&&n[i-1]==f)return f;if(o)return m;for(O=i+1,u=t.length;O<u&&t[O]==_;)O++;return O<u&&t[O]==f?f:m;case E:for(u=t.length,O=i+1;O<u&&t[O]==E;)O++;if(O<u){var R=e[i],F=R>=1425&&R<=2303||64286==R;if(c=t[O],F&&(c==d||c==y))return d}return i<1||(c=t[i-1])==g?m:n[i-1];case g:return o=!1,a=!0,r;case v:return s=!0,m;case S:case C:case T:case M:case A:o=!1;case k:return m}}function L(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?h:O[t]:5==n?/[\u0591-\u05f4]/.test(e)?d:h:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?E:/[\u0660-\u0669\u066b-\u066c]/.test(e)?p:1642==t?_:/[\u06f0-\u06f9]/.test(e)?f:y:32==n&&t<=8287?P[255&t]:254==n&&t>=65136?y:m}t.L=h,t.R=d,t.EN=f,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.DOT="·",t.doBidiReorder=function(e,n,h){if(e.length<2)return{};var f=e.split(""),w=new Array(f.length),x=new Array(f.length),_=[];r=h?u:0,function(e,t,n,u){var h=r?l:c,d=null,f=null,p=null,m=0,y=null,w=-1,x=null,_=null,E=[];if(!u)for(x=0,u=[];x<n;x++)u[x]=L(e[x]);for(i=r,o=!1,!1,a=!1,s=!1,_=0;_<n;_++){if(d=m,E[_]=f=F(e,u,E,_),y=240&(m=h[d][f]),m&=15,t[_]=p=h[m][5],y>0)if(16==y){for(x=w;x<_;x++)t[x]=1;w=-1}else w=-1;if(h[m][6])-1==w&&(w=_);else if(w>-1){for(x=w;x<_;x++)t[x]=p;w=-1}u[_]==g&&(t[_]=0),i|=p}if(s)for(x=0;x<n;x++)if(u[x]==v){t[x]=r;for(var S=x-1;S>=0&&u[S]==b;S--)t[S]=r}}(f,_,f.length,n);for(var E=0;E<w.length;w[E]=E,E++);R(2,_,w),R(1,_,w);for(E=0;E<w.length-1;E++)n[E]===p?_[E]=t.AN:_[E]===d&&(n[E]>y&&n[E]<S||n[E]===m||n[E]===k)?_[E]=t.ON_R:E>0&&"ل"===f[E-1]&&/\u0622|\u0623|\u0625|\u0627/.test(f[E])&&(_[E-1]=_[E]=t.R_H,E++);f[f.length-1]===t.DOT&&(_[f.length-1]=t.B);for(E=0;E<w.length;E++)x[E]=_[w[E]];return{logicalFromVisual:w,bidiLevels:x}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=L(e.charAt(r)),n||t[r]!=d&&t[r]!=y||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("./lib/bidiutil"),i=e("./lib/lang"),o=e("./lib/useragent"),a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="¶",this.seenBidi=!1};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&a.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;return e},this.updateRowLine=function(e,t){if(void 0===e&&(e=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=e===this.session.getLength()-1,this.line=this.session.getLine(e),this.session.$useWrapMode){var n=this.session.$wrapData[e];n&&(void 0===t&&(t=this.getSplitIndex()),t>0&&n.length?(this.wrapIndent=n.indent,this.line=t<n.length?this.line.substring(n[t-1],n[n.length-1]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[t]))}var o,a=this.session,s=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(o="\t"===e?a.getScreenTabSize(t+s):2,s+=o-1,i.stringRepeat(r.DOT,o)):e}))},this.updateBidiMap=function(){var e=[],t=this.isLastRow?this.EOF:this.EOL,n=this.line+(this.showInvisibles?t:r.DOT);r.hasBidiCharacters(n,e)?this.bidiMap=r.doBidiReorder(n,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("ה");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=o.isChrome?n:.45*n,this.charWidths[r.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setTextDir=function(e){this.isRtlDir=e},this.getPosLeft=function(e){e-=this.wrapIndent;var t=r.getVisualFromLogicalIdx(e>0?e-1:0,this.bidiMap),n=this.bidiMap.bidiLevels,i=0;0===e&&n[t]%2!=0&&t++;for(var o=0;o<t;o++)i+=this.charWidths[n[o]];return 0!==e&&n[t]%2==0&&(i+=this.charWidths[n[t]]),this.wrapIndent&&(i+=this.wrapIndent*this.charWidths[r.L]),i},this.getSelections=function(e,t){for(var n,i,o=this.bidiMap,a=o.bidiLevels,s=this.wrapIndent*this.charWidths[r.L],c=[],l=Math.min(e,t)-this.wrapIndent,u=Math.max(e,t)-this.wrapIndent,h=!1,d=!1,f=0,p=0;p<a.length;p++)i=o.logicalFromVisual[p],n=a[p],(h=i>=l&&i<u)&&!d?f=s:!h&&d&&c.push({left:f,width:s-f}),s+=this.charWidths[n],d=h;return h&&p===a.length&&c.push({left:f,width:s-f}),c},this.offsetToCol=function(e){var t=0,n=(e=Math.max(e,0),0),i=0,o=this.bidiMap.bidiLevels,a=this.charWidths[o[i]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[r.L]);e>n+a/2;){if(n+=a,i===o.length-1){a=0;break}a=this.charWidths[o[++i]]}return i>0&&o[i-1]%2!=0&&o[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&o[i-1]%2==0&&o[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===o.length-1&&0===a&&o[i-1]%2==0||!this.isRtlDir&&0===i&&o[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&o[i-1]%2!=0&&0!==a&&i--,t=this.bidiMap.logicalFromVisual[i]),t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var r=function(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var i={row:t+1,column:0};else if(this.start.row<e)i={row:e,column:0};return r.fromPoints(i||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var i={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(i||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new r(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",(function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){t.$isEmpty||t._emit("changeSelection")}))};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var t=this.getSelectionAnchor(),n=this.getSelectionLead(),r=this.isBackwards();r&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(r||0!==n.column)&&this.$moveSelection((function(){this.moveCursorTo(n.row,n.column+e)}))}},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(r);return i?(r=i.start.row,n=i.end.row):n=r,!0===t?new a(r,0,n,this.session.getLine(n).length):new a(r,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,i=e.column+t;return n<0&&(r=e.column-t,i=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,i).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),i=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);i[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=i[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var i=this.session.getFoldAt(e,t,1);if(i)this.moveCursorTo(i.end.row,i.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,i=this.session.tokenRe;if(i.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(i.lastIndex=0;(t=e[n])&&!i.test(t);)if(i.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return i.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),i=this.session.getFoldAt(e,t,1);if(i)return this.moveCursorTo(i.end.row,i.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var a=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+a)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),a=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-a)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column);var i=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&i.row===this.lead.row&&i.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[i.row]&&(i.row>0||e>0)&&i.row++,this.moveCursorTo(i.row,i.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var i=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(i.charAt(t))&&i.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(s.prototype),t.Selection=s})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var r=e("./config"),i=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],i=0,o=this.matchMappings[t]={defaultToken:"text"},a="g",s=[],c=0;c<n.length;c++){var l=n[c];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(a="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var u=l.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==h?l.token=l.token[0]:h-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:h-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=h>1?this.$applyToken:l.token),h>1&&(/\\\d/.test(l.regex)?u=l.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+i+1)})):(h=1,u=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||s.push(l)),o[i]=c,i+=h,r.push(u),l.onMatch||(l.onMatch=null)}}r.length||(o[0]=0,r.push("$")),s.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,a)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",a)}};(function(){this.$setMaxTokenCount=function(e){i=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var r=[],i=0,o=n.length;i<o;i++)t[i]&&(r[r.length]={type:n[i],value:t[i]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,i=0,o=r.length;i<o;i++)t[i+1]&&(n[n.length]={type:r[i],value:t[i+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,i={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,a,s,c){return r?r="]"!=s:s?r=!0:a?(n==i.stack&&(i.end=c+1,i.stack=-1),n--):o&&(n++,1!=o.length&&(i.stack=n,i.start=c)),e})),null!=i.end&&/^\)*$/.test(e.substr(i.end))&&(e=e.substring(0,i.start)+e.substr(i.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var a=this.matchMappings[r],s=this.regExps[r];s.lastIndex=0;for(var c,l=[],u=0,h=0,d={type:null,value:""};c=s.exec(e);){var f=a.defaultToken,p=null,m=c[0],g=s.lastIndex;if(g-m.length>u){var v=e.substring(u,g-m.length);d.type==f?d.value+=v:(d.type&&l.push(d),d={type:f,value:v})}for(var y=0;y<c.length-2;y++)if(void 0!==c[y+1]){f=(p=o[a[y]]).onMatch?p.onMatch(m,r,n,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),(o=this.states[r])||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),a=this.matchMappings[r],u=g,(s=this.regExps[r]).lastIndex=g),p.consumeLineEnd&&(u=g);break}if(m)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&l.push(d),d={type:f,value:m}):d.value+=m;else if(f){d.type&&l.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)l.push(f[y])}if(u==e.length)break;if(u=g,h++>i){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&l.push(d),d={value:e.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&l.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:l,state:n.length?n:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],i=0;i<r.length;i++){var o=r[i];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var a="function"==typeof e?(new e).getRules():e;if(i)for(var s=0;s<i.length;s++)i[s]=t+i[s];else for(var c in i=[],a)i.push(t+c);if(this.addRules(a,t),n){var l=Array.prototype[o?"push":"unshift"];for(s=0;s<i.length;s++)l.apply(this.$rules[i[s]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function i(o){var a=r[o];a.processed=!0;for(var s=0;s<a.length;s++){var c=a[s],l=null;Array.isArray(c)&&(l=c,c={}),!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token=c.token+".start",c.push=!0);var u=c.next||c.push;if(u&&Array.isArray(u)){var h=c.stateName;h||("string"!=typeof(h=c.token)&&(h=h[0]||""),r[h]&&(h+=n++)),r[h]=u,c.next=h,i(h)}else"pop"==u&&(c.next=t);if(c.push&&(c.nextState=c.next||c.push,c.next=e,delete c.push),c.rules)for(var d in c.rules)r[d]?r[d].push&&r[d].push.apply(r[d],c.rules[d]):r[d]=c.rules[d];var f="string"==typeof c?c:c.include;if(f&&(l=Array.isArray(f)?f.map((function(e){return r[e]})):r[f]),l){var p=[s,1].concat(l);c.noEscape&&(p=p.filter((function(e){return!e.next}))),a.splice.apply(a,p),s--}c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),delete c.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var i=Object.create(null);return Object.keys(e).forEach((function(t){var o=e[t];n&&(o=o.toLowerCase());for(var a=o.split(r||"|"),s=a.length;s--;)i[a[s]]=t})),Object.getPrototypeOf(i)&&(i.__proto__=null),this.$keywordList=Object.keys(i),e=null,n?function(e){return i[e.toLowerCase()]||t}:function(e){return i[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,i=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r,i=e("../../lib/oop"),o=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,s=e("../../lib/lang"),c=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,r){var i=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,i,e.end.column+(i?0:1)]}},p=function(e){this.add("braces","insertion",(function(t,n,i,o,a){var c=i.getCursorPosition(),l=o.doc.getLine(c.row);if("{"==a){d(i);var u=i.getSelectionRange(),h=o.doc.getTextRange(u);if(""!==h&&"{"!==h&&i.getWrapBehavioursEnabled())return f(u,h,"{","}");if(p.isSaneInsertion(i,o))return/[\]\}\)]/.test(l[c.column])||i.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(i,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(i,o,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(d(i),"}"==l.substring(c.column,c.column+1))if(null!==o.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&p.isAutoInsertedClosing(c,l,a))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){d(i);var m="";if(p.isMaybeInsertedClosing(c,l)&&(m=s.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===l.substring(c.column,c.column+1)){var g=o.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!g)return null;var v=this.$getIndent(o.getLine(g.row))}else{if(!m)return void p.clearMaybeInsertedClosing();v=this.$getIndent(l)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+m,selection:[1,y.length,1,y.length]}}p.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,i,o){var a=i.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==a){if(d(n),"}"==i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,r,i){if("("==i){d(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return f(o,a,"(",")");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){d(n);var s=n.getCursorPosition(),c=r.doc.getLine(s.row);if(")"==c.substring(s.column,s.column+1))if(null!==r.$findOpeningBracket(")",{column:s.column+1,row:s.row})&&p.isAutoInsertedClosing(s,c,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"("==o&&(d(n),")"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("brackets","insertion",(function(e,t,n,r,i){if("["==i){d(n);var o=n.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&n.getWrapBehavioursEnabled())return f(o,a,"[","]");if(p.isSaneInsertion(n,r))return p.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){d(n);var s=n.getCursorPosition(),c=r.doc.getLine(s.row);if("]"==c.substring(s.column,s.column+1))if(null!==r.$findOpeningBracket("]",{column:s.column+1,row:s.row})&&p.isAutoInsertedClosing(s,c,i))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&"["==o&&(d(n),"]"==r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)))return i.end.column++,i})),this.add("string_dquotes","insertion",(function(e,t,n,r,i){var o=r.$mode.$quotes||h;if(1==i.length&&o[i]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(i))return;d(n);var a=i,s=n.getSelectionRange(),c=r.doc.getTextRange(s);if(!(""===c||1==c.length&&o[c])&&n.getWrapBehavioursEnabled())return f(s,c,a,a);if(!c){var l=n.getCursorPosition(),u=r.doc.getLine(l.row),p=u.substring(l.column-1,l.column),m=u.substring(l.column,l.column+1),g=r.getTokenAt(l.row,l.column),v=r.getTokenAt(l.row,l.column+1);if("\\"==p&&g&&/escape/.test(g.type))return null;var y,b=g&&/string|escape/.test(g.type),w=!v||/string|escape/.test(v.type);if(m==a)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var x=r.$mode.tokenRe;x.lastIndex=0;var _=x.test(p);x.lastIndex=0;var E=x.test(p);if(_||E)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;y=!0}return{text:y?a+a:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,i){var o=r.doc.getTextRange(i);if(!i.isMultiLine()&&('"'==o||"'"==o)&&(d(n),r.doc.getLine(i.start.row).substring(i.start.column+1,i.start.column+2)==o))return i.end.column++,i}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",c)){var i=new a(t,n.row,n.column+1);if(!this.$matchTokenType(i.getCurrentToken()||"text",c))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",l)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=i.row,r.autoInsertedLineEnd=n+o.substr(i.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),o=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=i.row,r.maybeInsertedLineStart=o.substr(0,i.column)+n,r.maybeInsertedLineEnd=o.substr(i.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(p,o),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";t.packages={},function(e){var n=/\w{4}/g;for(var r in e)t.packages[r]=e[r].replace(n,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../tokenizer").Tokenizer,i=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),s=e("../lib/lang"),c=e("../token_iterator").TokenIterator,l=e("../range").Range,u=function(){this.HighlightRules=i};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.packages.L+a.packages.Mn+a.packages.Mc+a.packages.Nd+a.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var i=t.doc,o=!0,a=!0,c=1/0,l=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(s.escapeRegExp).join("|"),f=this.lineCommentStart[0];else m=s.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),u=t.getUseSoftTabs();y=function(e,t){var n=e.match(m);if(n){var r=n[1].length,o=n[0].length;d(e,r,o)||" "!=n[0][o-1]||o--,i.removeInLine(t,r,o)}};var h=f+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,c,c)?i.insertInLine({row:t,column:c},h):i.insertInLine({row:t,column:c},f))},b=function(e,t){return m.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%l!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return l>2?r%l!=l-1:r%l==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+s.escapeRegExp(f)+")"),g=new RegExp("(?:"+s.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(i.insertInLine({row:t,column:e.length},p),i.insertInLine({row:t,column:c},f))},y=function(e,t){var n;(n=e.match(g))&&i.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&i.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(m.test(e))return!0;for(var r=t.getTokens(n),i=0;i<r.length;i++)if("comment"===r[i].type)return!0}}function w(e){for(var t=n;t<=r;t++)e(i.getLine(t),t)}var x=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<c&&(c=n),a&&!b(e,t)&&(a=!1)):x>e.length&&(x=e.length)})),c==1/0&&(c=x,o=!1,a=!1),u&&c%l!=0&&(c=Math.floor(c/l)*l),w(a?y:v)},this.toggleBlockComment=function(e,t,n,r){var i=this.blockComment;if(i){!i.start&&i[0]&&(i=i[0]);var o,a,s=(m=new c(t,r.row,r.column)).getCurrentToken(),u=(t.selection,t.selection.toOrientedRange());if(s&&/comment/.test(s.type)){for(var h,d;s&&/comment/.test(s.type);){if(-1!=(g=s.value.indexOf(i.start))){var f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g;h=new l(f,p,f,p+i.start.length);break}s=m.stepBackward()}var m;for(s=(m=new c(t,r.row,r.column)).getCurrentToken();s&&/comment/.test(s.type);){var g;if(-1!=(g=s.value.indexOf(i.end))){f=m.getCurrentTokenRow(),p=m.getCurrentTokenColumn()+g;d=new l(f,p,f,p+i.end.length);break}s=m.stepForward()}d&&t.remove(d),h&&(t.remove(h),o=h.start.row,a=-i.start.length)}else a=i.start.length,o=n.start.row,t.insert(n.end,i.end),t.insert(n.start,i.start);u.start.row==o&&(u.start.column+=a),u.end.row==o&&(u.end.column+=a),t.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var n=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<n.length;t++)!function(e){var r=n[t],i=e[r];e[n[t]]=function(){return this.$delegator(r,arguments,i)}}(this)},this.$delegator=function(e,t,n){var r=t[0];"string"!=typeof r&&(r=r[0]);for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var o=r.split(this.$embeds[i]);if(!o[0]&&o[1]){t[0]=o[1];var a=this.$modes[this.$embeds[i]];return a[e].apply(a,t)}}var s=n.apply(this,t);return n?s:void 0},this.transformAction=function(e,t,n,r,i){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var a in o)if(o[a][t]){var s=o[a][t].apply(this,arguments);if(s)return s}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var i=t[r],o=0,a=i.length;o<a;o++)if("string"==typeof i[o].token)/keyword|support|storage/.test(i[o].token)&&n.push(i[o].regex);else if("object"==typeof i[o].token)for(var s=0,c=i[o].token.length;s<c;s++)if(/keyword|support|storage/.test(i[o].token[s])){r=i[o].regex.match(/\(.+?\)/g)[s];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,i=t.start.column,o=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=o.substring(0,i)+t.lines[0]+o.substring(i);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=o.substring(0,i)+e[r],e[r+t.lines.length-1]+=o.substring(i)}break;case"remove":var s=t.end.column,c=t.end.row;r===c?e[r]=o.substring(0,i)+o.substring(s):e.splice(r,c-r+1,o.substring(0,i)+e[c].substring(s))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}r.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,r){var i="insert"==t.action,o=(i?1:-1)*(t.end.row-t.start.row),a=(i?1:-1)*(t.end.column-t.start.column),s=t.start,c=i?s:t.end;if(e(n,s,r))return{row:n.row,column:n.column};if(e(c,n,!r))return{row:n.row+o,column:n.column+(n.row==c.row?a:0)};return{row:s.row,column:s.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var i={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,s=e("./anchor").Anchor,c=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return null==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),i=this.clippedPos(e,n);return this.applyDelta({start:r,end:i,action:"remove",lines:this.getLinesForRange({start:r,end:i})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,i=n?e-1:e,o=n?this.getLine(i).length:0,s=r?t+1:t,c=r?0:this.getLine(s).length,l=new a(i,o,s,c),u=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4&&this.$splitAndapplyLargeDelta(e,2e4),i(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length,i=e.start.row,o=e.start.column,a=0,s=0;;){a=s,s+=t-1;var c=n.slice(a,s);if(s>r){e.lines=c,e.start.row=i+a,e.start.column=o;break}c.push(""),this.applyDelta({start:this.pos(i+a,o),end:this.pos(i+s,o=0),action:e.action,lines:c},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=t||0,o=n.length;i<o;i++)if((e-=n[i].length+r)<0)return{row:i,column:e+n[i].length+r};return{row:o-1,column:n[o-1].length}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,i=0,o=Math.min(e.row,n.length),a=t||0;a<o;++a)i+=n[a].length+r;return i+e.column}}).call(c.prototype),t.Document=c})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,i=n.doc,o=t;n.lines[t];)t++;var a=i.getLength(),s=0;for(n.running=!1;t<a;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++s%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),o<=r&&n.fireUpdateEvent(o,r)}}};(function(){r.implement(this,i),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var a=o.firstRow,s=o.lastRow,c=a;c<=s;c++){var l=this.cache[c];null==l&&((l=r.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new i(c,e.offset,c,e.offset+e.length)})),this.cache[c]=l.length?l:"");for(var u=l.length;u--;)t.drawSingleLineMarker(e,l[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range;function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var r,i,o=0,a=this.folds,s=!0;null==t&&(t=this.end.row,n=this.end.column);for(var c=0;c<a.length;c++){if(-1==(i=(r=a[c]).range.compareStart(t,n)))return void e(null,t,n,o,s);if(!e(null,r.start.row,r.start.column,o,s)&&e(r.placeholder,r.start.row,r.start.column,o)||0===i)return;s=!r.sameRow,o=r.end.column}e(null,t,n,o,s)},this.getNextFoldTo=function(e,t){for(var n,r,i=0;i<this.folds.length;i++){if(-1==(r=(n=this.folds[i]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var r,i,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var a=(i=this.folds).indexOf(r);for(0===a&&(this.start.column+=n);a<i.length;a++){if((r=i[a]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var r=n.fold,o=this.folds,a=this.foldData,s=o.indexOf(r),c=o[s-1];this.end.row=c.end.row,this.end.column=c.end.column;var l=new i(a,o=o.splice(s,o.length-s));return a.splice(a.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var a=i[o],s=r(e,a.end);if(!(s>0)){var c=r(e,a.start);return 0===s?t&&0!==c?-o-2:o:c>0||0===c&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,i=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],o=1;o<n.length;o++){e=i,i=n[o];var a=r(e.end,i.start);a<0||(0!=a||e.isEmpty()||i.isEmpty())&&(r(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(o,1),t.push(i),i=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var i=this.pointIndex({row:t,column:0},r);i<0&&(i=-i-1);for(var o=[],a=r;a<i;a++)o.push(n[a]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,n=e.end;else n=e.start,t=e.end;for(var r=t.row,i=n.row-r,o=-t.column+n.column,a=this.ranges,s=0,c=a.length;s<c;s++){if(!((l=a[s]).end.row<r)){if(l.start.row>r)break;if(l.start.row==r&&l.start.column>=t.column&&(l.start.column==t.column&&this.$insertRight||(l.start.column+=o,l.start.row+=i)),l.end.row==r&&l.end.column>=t.column){if(l.end.column==t.column&&this.$insertRight)continue;l.end.column==t.column&&o>0&&s<c-1&&l.end.column>l.start.column&&l.end.column==a[s+1].start.column&&(l.end.column-=o),l.end.column+=o,l.end.row+=i}}}if(0!=i&&s<c)for(;s<c;s++){var l;(l=a[s]).start.row+=i,l.end.row+=i}}}).call(i.prototype),t.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";e("../range").Range;var r=e("../range_list").RangeList,i=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function a(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}i.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var t,n;t=e,n=this.start,a(t.start,n),a(t.end,n);for(var r=e.start.row,i=e.start.column,o=0,s=-1;o<this.subFolds.length&&1==(s=this.subFolds[o].range.compare(r,i));o++);var c=this.subFolds[o];if(0==s)return c.addSubFold(e);r=e.range.end.row,i=e.range.end.column;var l=o;for(s=-1;l<this.subFolds.length&&1==(s=this.subFolds[l].range.compare(r,i));l++);this.subFolds[l];if(0==s)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(o,l-o,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("./fold_line").FoldLine,o=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var i=r.folds,o=0;o<i.length;o++){var a=i[o];if(a.range.contains(e,t)){if(1==n&&a.range.isEnd(e,t))continue;if(-1==n&&a.range.isStart(e,t))continue;return a}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,i=[];t.column+=1,n.column-=1;for(var o=0;o<r.length;o++){var a=r[o].range.compareRange(e);if(2!=a){if(-2==a)break;for(var s=r[o].folds,c=0;c<s.length;c++){var l=s[c];if(-2==(a=l.range.compareRange(e)))break;if(2!=a){if(42==a)break;i.push(l)}}}}return t.column-=1,n.column+=1,i},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var i,o,a={end:{column:0}},s=0;s<r.folds.length;s++){var c=(o=r.folds[s]).range.compareEnd(e,t);if(-1==c){i=this.getLine(o.start.row).substring(a.end.column,o.start.column);break}if(0===c)return null;a=o}return i||(i=this.getLine(o.start.row).substring(a.end.column)),-1==n?i.substring(0,t-a.end.column):1==n?i.substring(t-a.end.column):i},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.start.row<=e&&i.end.row>=e)return i;if(i.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var i=n[r];if(i.end.row>=e)return i}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,i=0;i<n.length;i++){var o=n[i],a=o.end.row,s=o.start.row;if(a>=t){s<t&&(s>=e?r-=t-s:r=0);break}a>=e&&(r-=s>=e?a-s:a-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,a=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var s=n.start.row,c=n.start.column,l=n.end.row,u=n.end.column;if(!(s<l||s==l&&c<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(s,c,1),d=this.getFoldAt(l,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(s,c)&&this.removeFold(h),d&&!d.range.isEnd(l,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<r.length;p++){var m=r[p];if(l==m.start.row){m.addFold(n),a=!0;break}if(s==m.end.row){if(m.addFold(n),a=!0,!n.sameRow){var g=r[p+1];if(g&&g.start.row==l){m.merge(g);break}}break}if(l<=m.start.row)break}return a||(m=this.$addFoldLine(new i(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,i=this.$foldData,o=t.folds;if(1==o.length)i.splice(i.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var a=t.split(e.start.row,e.start.column);(o=a.folds).shift(),a.start.row=o[0].start.row,a.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,i;if(null==e?(n=new r(0,0,this.getLength(),0),t=!0):n="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,i=this.getFoldsInRangeList(n),t)this.removeFolds(i);else for(var o=i;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,i){null==r&&(r=e.start.row),null==i&&(i=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,a="";return e.walk((function(e,t,n,s){if(!(t<r)){if(t==r){if(n<i)return;s=Math.max(i,s)}a+=null!=e?e:o.getLine(t).substring(s,n)}}),t,n),a},this.getDisplayLine=function(e,t,n,r){var i,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,r):(i=this.doc.getLine(e)).substring(r||0,t||i.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new i(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var i=r.start;if(t=this.getFoldAt(i.row,i.column))return void this.expandFold(t);(n=this.findMatchingBracket(i))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:i.row,column:i.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(i.row,i.column)||r}else{var o=this.getFoldsInRange(r);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var a="...";if(!r.isMultiLine()){if((a=this.getTextRange(r)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)}},this.getCommentFoldRange=function(e,t,n){var i=new a(this,e,t),o=i.getCurrentToken(),s=o.type;if(o&&/^comment|string/.test(s)){"comment"==(s=s.match(/comment|string/)[0])&&(s+="|doc-start");var c=new RegExp(s),l=new r;if(1!=n){do{o=i.stepBackward()}while(o&&c.test(o.type));i.stepForward()}if(l.start.row=i.getCurrentTokenRow(),l.start.column=i.getCurrentTokenColumn()+2,i=new a(this,e,t),-1!=n){var u=-1;do{if(o=i.stepForward(),-1==u){var h=this.getState(i.$row);c.test(h)||(u=i.$row)}else if(i.$row>u)break}while(o&&c.test(o.type));o=i.stepBackward()}else o=i.getCurrentToken();return l.end.row=i.getCurrentTokenRow(),l.end.column=i.getCurrentTokenColumn()+o.value.length-2,l}},this.foldAll=function(e,t,n){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var i=e=e||0;i<t;i++)if(null==r[i]&&(r[i]=this.getFoldWidget(i)),"start"==r[i]){var o=this.getFoldWidgetRange(i);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){i=o.end.row;try{var a=this.addFold("...",o);a&&(a.collapseChildren=n)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,i=e-1;i>=0;){var o=n[i];if(null==o&&(o=n[i]=this.getFoldWidget(i)),"start"==o){var a=this.getFoldWidgetRange(i);if(r||(r=a),a&&a.end.row>=e)break}i--}return{range:-1!==i&&a,firstRange:r}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),i="end"===n?-1:1,o=this.getFoldAt(e,-1===i?0:r.length,i);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var a=this.getFoldWidgetRange(e,!0);if(a&&!a.isMultiLine()&&(o=this.getFoldAt(a.start.row,a.start.column,1))&&a.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var s=this.getParentFoldRangeData(e);if(s.range)var c=s.range.start.row+1,l=s.range.end.row;this.foldAll(c,l,t.all?1e4:0)}else t.children?(l=a?a.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):a&&(t.all&&(a.collapseChildren=1e4),this.addFold("...",a));return a}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,i=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,o=n.charAt(e.column-1),a=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(a||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},a=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!a)return null;if(a[1]){if(!(s=this.$findClosingBracket(a[1],e)))return null;t=i.fromPoints(e,s),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var s;if(!(s=this.$findOpeningBracket(a[2],e)))return null;t=i.fromPoints(s,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var c=t.column-a.getCurrentTokenColumn()-2,l=s.value;;){for(;c>=0;){var u=l.charAt(c);if(u==i){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:c+a.getCurrentTokenColumn()}}else u==e&&(o+=1);c-=1}do{s=a.stepBackward()}while(s&&!n.test(s.type));if(null==s)break;c=(l=s.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var i=this.$brackets[e],o=1,a=new r(this,t.row,t.column),s=a.getCurrentToken();if(s||(s=a.stepForward()),s){n||(n=new RegExp("(\\.?"+s.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var c=t.column-a.getCurrentTokenColumn();;){for(var l=s.value,u=l.length;c<u;){var h=l.charAt(c);if(h==i){if(0==(o-=1))return{row:a.getCurrentTokenRow(),column:c+a.getCurrentTokenColumn()}}else h==e&&(o+=1);c+=1}do{s=a.stepForward()}while(s&&!n.test(s.type));if(null==s)break;c=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/lang"),o=e("./bidihandler").BidiHandler,a=e("./config"),s=e("./lib/event_emitter").EventEmitter,c=e("./selection").Selection,l=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.$bidiHandler=new o(this),this.setDocument(e),this.selection=new c(this),a.resetOptions(this),this.setMode(t),a._signal("session",this)};p.$uid=0,function(){r.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i];if(t>o)n=i+1;else{if(!(t<o))return i;r=i-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||e.ignore||(this.$deltasDoc.push(e),t&&0!=t.length&&this.$deltasFold.push({action:"removeFolds",folds:t}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),i=0;if(null==t){var o=r.length-1;i=this.getLine(e).length}else for(o=0;o<r.length&&!((i+=r[o].value.length)>=t);o++);return(n=r[o])?(n.index=o,n.start=i-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,r){var i=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:i};return r?(this.$frontMarkers[i]=o,this._signal("changeFrontMarker")):(this.$backMarkers[i]=o,this._signal("changeBackMarker")),i},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var n=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete n[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var i=new u(e,0,t,1/0);return i.id=this.addMarker(i,n,"fullLine",r),i},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var i=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))i=/\s/;else i=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(i));o++}for(var a=t;a<n.length&&n.charAt(a).match(i);)a++;return new u(e,o,e,a)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,a.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.addEventListener){var r=this.onReloadTokenizer.bind(this);n.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var i=this;this.bgTokenizer.addEventListener("update",(function(e){i._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){a.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,i=0,o=this.$foldData[i],a=o?o.start.row:1/0,s=t.length,c=0;c<s;c++){if(c>a){if((c=o.end.row+1)>=s)break;a=(o=this.$foldData[i++])?o.start.row:1/0}null==n[c]&&(n[c]=this.$getStringScreenWidth(t[c])[0]),n[c]>r&&(r=n[c])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=e.length-1;-1!=r;r--){var i=e[r];"doc"==i.group?(this.doc.revertDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!0,n)):i.deltas.forEach((function(e){this.addFolds(e.folds)}),this)}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=null,r=0;r<e.length;r++){var i=e[r];"doc"==i.group&&(this.doc.applyDeltas(i.deltas),n=this.$getUndoSelection(i.deltas,!1,n))}return this.$fromUndo=!1,n&&this.$undoSelect&&!t&&this.selection.setSelectionRange(n),n}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,n){function r(e){return t?"insert"!==e.action:"insert"===e.action}var i,o,a=e[0];r(a)?i=u.fromPoints(a.start,a.end):i=u.fromPoints(a.start,a.start);for(var s=1;s<e.length;s++)r(a=e[s])?(o=a.start,-1==i.compare(o.row,o.column)&&i.setStart(o),o=a.end,1==i.compare(o.row,o.column)&&i.setEnd(o),!0):(o=a.start,-1==i.compare(o.row,o.column)&&(i=u.fromPoints(a.start,a.start)),!1);if(null!=n){0===u.comparePoints(n.start,i.start)&&(n.start.column+=i.end.column-i.start.column,n.end.column+=i.end.column-i.start.column);var c=n.compareRange(i);1==c?i.setStart(n.start):-1==c&&i.setEnd(n.end)}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var r=this.getTextRange(e),i=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var a=e.start.row-e.end.row;(l=a?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=l),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=l)),a&&o.start.row>=e.end.row&&(o.start.row+=a,o.end.row+=a)}if(o.end=this.insert(o.start,r),i.length){var s=e.start,c=o.start,l=(a=c.row-s.row,c.column-s.column);this.addFolds(i.map((function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=l),e.end.row==s.row&&(e.end.column+=l),e.start.row+=a,e.end.row+=a,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),r=this.getTabSize(),i=t.start.row;i<=t.end.row;++i){var o=this.getLine(i);n.start.row=i,n.end.row=i;for(var a=0;a<r&&" "==o.charAt(a);++a);a<r&&"\t"==o.charAt(a)?(n.start.column=a,n.end.column=a+1):(n.start.column=0,n.end.column=a),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((i=this.getRowFoldStart(e+n))<0)return 0;var r=i-e}else if(n>0){var i;if((i=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=i-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var o=new u(e,0,t,Number.MAX_VALUE),a=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),s=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,s),a.length&&this.addFolds(a),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,i=e.end,o=r.row,a=i.row,s=a-o,c=null;if(this.$updating=!0,0!=s)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,s);var l=this.$foldData;c=this.getFoldsInRange(e),this.removeFolds(c);var u=0;if(m=this.getFoldLine(i.row)){m.addRemoveChars(i.row,i.column,r.column-i.column),m.shiftRow(-s);var h=this.getFoldLine(o);h&&h!==m&&(h.merge(m),m=h),u=l.indexOf(m)+1}for(;u<l.length;u++){(m=l[u]).start.row>=i.row&&m.shiftRow(-s)}a=o}else{var d=Array(s);d.unshift(o,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);l=this.$foldData,u=0;if(m=this.getFoldLine(o)){var p=m.range.compareInside(r.row,r.column);0==p?(m=m.split(r.row,r.column))&&(m.shiftRow(s),m.addRemoveChars(a,0,i.column-r.column)):-1==p&&(m.addRemoveChars(o,0,i.column-r.column),m.shiftRow(s)),u=l.indexOf(m)+1}for(;u<l.length;u++){var m;(m=l[u]).start.row>=o&&m.shiftRow(s)}}else s=Math.abs(e.start.column-e.end.column),"remove"===n&&(c=this.getFoldsInRange(e),this.removeFolds(c),s=-s),(m=this.getFoldLine(o))&&m.addRemoveChars(o,r.column,s);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,a):this.$updateRowLengthCache(o,a),c},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,r){var i,o,a=this.doc.getAllLines(),s=this.getTabSize(),c=this.$wrapData,l=this.$wrapLimit,u=n;for(r=Math.min(r,a.length-1);u<=r;)(o=this.getFoldLine(u,o))?(i=[],o.walk(function(n,r,o,s){var c;if(null!=n){(c=this.$getDisplayTokens(n,i.length))[0]=e;for(var l=1;l<c.length;l++)c[l]=t}else c=this.$getDisplayTokens(a[r].substring(s,o),i.length);i=i.concat(c)}.bind(this),o.end.row,a[o.end.row].length+1),c[o.start.row]=this.$computeWrapSplits(i,l,s),u=o.end.row+1):(i=this.$getDisplayTokens(a[u]),c[u]=this.$computeWrapSplits(i,l,s),u++)};var e=3,t=4,n=10,o=11,c=12;function h(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(r,i,a){if(0==r.length)return[];var s=[],l=r.length,u=0,h=0,d=this.$wrapAsCode,f=this.$indentedSoftWrap,p=i<=Math.max(2*a,8)||!1===f?0:Math.floor(i/2);function m(e){var t=r.slice(u,e),i=t.length;t.join("").replace(/12/g,(function(){i-=1})).replace(/2/g,(function(){i-=1})),s.length||(g=function(){var e=0;if(0===p)return e;if(f)for(var t=0;t<r.length;t++){var i=r[t];if(i==n)e+=1;else{if(i!=o){if(i==c)continue;break}e+=a}}return d&&!1!==f&&(e+=a),Math.min(e,p)}(),s.indent=g),h+=i,s.push(h),u=e}for(var g=0;l-u>i-g;){var v=u+i-g;if(r[v-1]>=n&&r[v]>=n)m(v);else if(r[v]!=e&&r[v]!=t){for(var y=Math.max(v-(i-(i>>2)),u-1);v>y&&r[v]<e;)v--;if(d){for(;v>y&&r[v]<e;)v--;for(;v>y&&9==r[v];)v--}else for(;v>y&&r[v]<n;)v--;v>y?m(++v):(2==r[v=u+i]&&v--,m(v-g))}else{for(;v!=u-1&&r[v]!=e;v--);if(v>u){m(v);continue}for(v=u+i;v<r.length&&r[v]==t;v++);if(v==r.length)break;m(v)}}return s},this.$getDisplayTokens=function(e,t){var r,i=[];t=t||0;for(var a=0;a<e.length;a++){var s=e.charCodeAt(a);if(9==s){r=this.getScreenTabSize(i.length+t),i.push(o);for(var l=1;l<r;l++)i.push(c)}else 32==s?i.push(n):s>39&&s<48||s>57&&s<64?i.push(9):s>=4352&&h(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var r,i;for(null==t&&(t=1/0),n=n||0,i=0;i<e.length&&(9==(r=e.charCodeAt(i))?n+=this.getScreenTabSize(n):r>=4352&&h(r)?n+=2:n+=1,!(n>t));i++);return[n,i]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,i,o=0,a=0,s=0,c=0,l=this.$screenRowCache,u=this.$getRowCacheIndex(l,e),h=l.length;if(h&&u>=0){s=l[u],o=this.$docRowCache[u];var d=e>l[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),m=p?p.start.row:1/0;s<=e&&!(s+(c=this.getRowLength(o))>e||o>=f);)s+=c,++o>m&&(o=p.end.row+1,m=(p=this.getNextFoldLine(o,p))?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(s));if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(s+c<=e||o>f)return{row:f,column:this.getLine(f).length};r=this.getLine(o),p=null}var g=0,v=Math.floor(e-s);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(i=y[v],v>0&&y.length&&(g=y.indent,a=y[v-1]||y[y.length-1],r=r.substring(a)))}return void 0!==n&&this.$bidiHandler.isBidiRow(s+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(r,t-g)[1],this.$useWrapMode&&a>=i&&(a=i-1),p?p.idxToPosition(a):{row:o,column:a}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,i=0,o=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var a,s=0,c=this.$docRowCache,l=this.$getRowCacheIndex(c,e),u=c.length;if(u&&l>=0){s=c[l],i=this.$screenRowCache[l];var h=e>c[u-1]}else h=!u;for(var d=this.getNextFoldLine(s),f=d?d.start.row:1/0;s<e;){if(s>=f){if((a=d.end.row+1)>e)break;f=(d=this.getNextFoldLine(a,d))?d.start.row:1/0}else a=s+1;i+=this.getRowLength(s),s=a,h&&(this.$docRowCache.push(s),this.$screenRowCache.push(i))}var p="";d&&s>=f?(p=this.getFoldDisplayLine(d,e,t),o=d.start.row):(p=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var v=0;p.length>=g[v];)i++,v++;p=p.substring(g[v-1]||0,p.length),m=v>0?g.indent:0}}return{row:i,column:m+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,i=(s=0,(t=this.$foldData[s++])?t.start.row:1/0);r<n;){var o=this.$wrapData[r];e+=o?o.length+1:1,++r>i&&(r=t.end.row+1,i=(t=this.$foldData[s++])?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,s=0;s<a.length;s++)e-=(t=a[s]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var i,o;for(n||(n=1/0),r=r||0,o=0;o<t.length&&!((r+="\t"===(i=t.charAt(o))?this.getScreenTabSize(r):e.getCharacterWidth(i))>n);o++);return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=h}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),a.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),i=e("./lib/oop"),o=e("./range").Range,a=function(){this.$options={}};(function(){this.set=function(e){return i.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,i,a){return r=new o(e,n,i,a),!(n==a&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),a=[],s=t.re;if(t.$isMultiLine){var c,l=s.length,u=i.length-l;e:for(var h=s.offset||0;h<=u;h++){for(var d=0;d<l;d++)if(-1==i[h+d].search(s[d]))continue e;var f=i[h],p=i[h+l-1],m=f.length-f.match(s[0])[0].length,g=p.match(s[l-1])[0].length;c&&c.end.row===h&&c.end.column>m||(a.push(c=new o(h,m,h+l-1,g)),l>2&&(h=h+l-2))}}else for(var v=0;v<i.length;v++){var y=r.getMatchOffsets(i[v],s);for(d=0;d<y.length;d++){var b=y[d];a.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,x=n.start.column;for(v=0,d=a.length-1;v<d&&a[v].start.column<w&&a[v].start.row==n.start.row;)v++;for(;v<d&&a[d].end.column>x&&a[d].end.row==n.end.row;)d--;for(a=a.slice(v,d+1),v=0,d=a.length;v<d;v++)a[v].start.row+=n.start.row,a[v].end.row+=n.start.row}return a},this.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var i=r.exec(e);if(!i||i[0].length!=e.length)return null;if(t=e.replace(r,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var a=e[o];a&&a.toLowerCase()!=a?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var i=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,i);try{var o=new RegExp(n,i)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],i=0;i<n.length;i++)try{r.push(new RegExp(n[i],t))}catch(e){return!1}return r},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var r=1==t.backwards,i=0!=t.skipCurrent,o=t.range,a=t.start;a||(a=o?o[r?"end":"start"]:e.selection.getRange()),a.start&&(a=a[i!=r?"end":"start"]);var s=o?o.start.row:0,c=o?o.end.row:e.getLength()-1;if(r)var l=function(e){var n=a.row;if(!h(n,a.column,e)){for(n--;n>=s;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=c,s=a.row;n>=s;n--)if(h(n,Number.MAX_VALUE,e))return}};else l=function(e){var n=a.row;if(!h(n,a.column,e)){for(n+=1;n<=c;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=s,c=a.row;n<=c;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,i,o){var a=r?t-u+1:t;if(!(a<0)){var s=e.getLine(a),c=s.search(n[0]);if(!(!r&&c<i||-1===c)){for(var l=1;l<u;l++)if(-1==(s=e.getLine(a+l)).search(n[l]))return;var h=s.match(n[u-1])[0].length;if(!(r&&h>i))return!!o(a,c,a+u-1,h)||void 0}}};else if(r)h=function(t,r,i){var o,a=e.getLine(t),s=[],c=0;for(n.lastIndex=0;o=n.exec(a);){var l=o[0].length;if(c=o.index,!l){if(c>=a.length)break;n.lastIndex=c+=1}if(o.index+l>r)break;s.push(o.index,l)}for(var u=s.length-1;u>=0;u-=2){var h=s[u-1];if(i(t,h,t,h+(l=s[u])))return!0}};else h=function(t,r,i){var o,a=e.getLine(t),s=r;for(n.lastIndex=r;o=n.exec(a);){var c=o[0].length;if(i(t,s=o.index,t,s+c))return!0;if(!c&&(n.lastIndex=s+=1,s>=a.length))return!1}};return{forEach:l}}}).call(a.prototype),t.Search=a})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/keys"),i=e("../lib/useragent"),o=r.KEY_MODS;function a(e,t){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){a.call(this,e,t),this.$singleCommand=!1}s.prototype=a.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var i in r){var o=r[i];if(o==e)delete r[i];else if(Array.isArray(o)){var a=o.indexOf(e);-1!=a&&(o.splice(a,1),1==o.length&&(r[i]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var i=e.split(/\s+/);e=i.pop(),i.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var a=this.parseKeys(e),s=o[a.hashId]+a.key;this._addCommandToBinding(r+s,t,n)}),this)},this._addCommandToBinding=function(t,n,r){var i,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(i=o[t].indexOf(n))&&o[t].splice(i,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(n));var a=o[t];for(i=0;i<a.length;i++){if(e(a[i])>r)break}a.splice(i,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,a=t.length;a--;){var s=r.KEY_MODS[t[a]];if(null==s)return"undefined"!=typeof console&&console.error("invalid modifier "+t[a]+" in "+e),!1;o|=s}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,r){if(!(r<0)){var i=o[t]+n,a=this.commandKeyBinding[i];return e.$keyChain&&(e.$keyChain+=" "+i,a=this.commandKeyBinding[e.$keyChain]||a),!a||"chainKeys"!=a&&"chainKeys"!=a[a.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-i.length-1)),{command:a}):(e.$keyChain=e.$keyChain||i,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(a.prototype),t.HashHandler=a,t.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,a=function(e,t){i.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};r.inherits(a,i),function(){r.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(e.isAvailable&&!e.isAvailable(t))return!1;var i={editor:t,command:e,args:n};return i.returnValue=this._emit("exec",i),this._signal("afterExec",i),!1!==i.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(a.prototype),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var r=e("../lib/lang"),i=e("../config"),o=e("../range").Range;function a(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:a("Ctrl-,","Command-,"),exec:function(e){i.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:a("Alt-E","F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:a("Alt-Shift-E","Shift-F4"),exec:function(e){i.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:a("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:a(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:a("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:a("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:a("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:a("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:a("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:a(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:a("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:a("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:a("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:a("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:a("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:a("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:a("Ctrl-F","Command-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:a("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:a("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:a("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:a("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:a("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:a("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:a("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:a("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:a("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:a("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:a("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:a("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:a("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:a("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:a("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:a("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:a("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:a("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:a("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:a("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:a(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:a("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:a(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:a("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:a("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:a("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:a("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:a("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:a("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:a("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:a(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:a("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:a("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:a("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:a("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:a("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:a("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:a("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:a("Ctrl-H","Command-Option-F"),exec:function(e){i.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",bindKey:a("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:a("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:a("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:a("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:a("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:a("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:a("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:a("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:a("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:a("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:a("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:a("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:a("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:a("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:a("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:a("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:a("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:a("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:a("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:a(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:a("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:a("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:a("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:a("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:a(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),a=e.session.doc.getLine(n.row).length,s=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,c=e.session.doc.getLine(n.row),l=n.row+1;l<=i.row+1;l++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(l)));0!==u.length&&(u=" "+u),c+=u}i.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,i.row+2,0),c),s>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+s)):(a=e.session.doc.getLine(n.row).length>a?a+1:a,e.selection.moveCursorTo(n.row,a))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:a(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,i=[];r.length<1&&(r=[e.selection.getRange()]);for(var a=0;a<r.length;a++)a==r.length-1&&(r[a].end.row===t&&r[a].end.column===n||i.push(new o(r[a].end.row,r[a].end.column,t,n))),0===a?0===r[a].start.row&&0===r[a].start.column||i.push(new o(0,0,r[a].start.row,r[a].start.column)):i.push(new o(r[a-1].end.row,r[a-1].end.column,r[a].start.row,r[a].start.column));e.exitMultiSelectMode(),e.clearSelection();for(a=0;a<i.length;a++)e.selection.addRange(i[a],!1)},readOnly:!0,scrollIntoView:"none"}]})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/lang"),a=e("./lib/useragent"),s=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=function(e,t){var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++b.$uid,this.commands=new m(a.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new s(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new l(this)),this.keyBinding=new u(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};b.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),i=this.renderer.layerConfig;(r.start.row>=i.lastRow||r.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var i=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(i)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=t.findMatchingBracket(e.getCursorPosition());if(n)var r=new f(n.row,n.column,n.row,n.column+1);else if(t.$mode.getMatching)r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),r=new y(e.session,n.row,n.column),i=r.getCurrentToken();if(!i||!/\b(?:tag-open|tag-name)/.test(i.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==i.type.indexOf("tag-open")||(i=r.stepForward())){var o=i.value,a=0,s=r.stepBackward();if("<"==s.value)do{s=i,(i=r.stepForward())&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(i&&a>=0);else{do{i=s,s=r.stepBackward(),i&&i.value===o&&-1!==i.type.indexOf("tag-name")&&("<"===s.value?a++:"</"===s.value&&a--)}while(s&&a<=0);r.stepForward()}if(!i)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var c=r.getCurrentTokenRow(),l=r.getCurrentTokenColumn(),u=new f(c,l,c,l+i.value.length),h=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=h&&0!==u.compareRange(h.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),u&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(u,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(v.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column-1,r=t.end.column+1,i=e.getLine(t.start.row),o=i.length,a=i.substring(Math.max(n,0),Math.min(r,o));if(!(n>=0&&/^[\w\d]/.test(a)||r<=o&&/[\w\d]$/.test(a)))if(a=i.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(a))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:a})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(t);else{var n=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(n.length>r.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var i=r.length;i--;){var o=r[i];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,n[i])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,r=n.getMode(),i=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(n.getState(i.row),"insertion",this,n,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(a=new f.fromPoints(i,i)).end.column+=e.length,this.session.remove(a)}}else{var a=this.getSelectionRange();i=this.session.remove(a),this.clearSelection()}if("\n"==e||"\r\n"==e){var s=n.getLine(i.row);if(i.column>s.search(/\S|$/)){var c=s.substr(i.column).search(/\S|$/);n.doc.removeInLine(i.row,i.column,i.column+c)}}this.clearSelection();var l=i.column,u=n.getState(i.row),h=(s=n.getLine(i.row),r.checkOutdent(u,s,e));n.insert(i,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(i.row,l+o.selection[0],i.row,l+o.selection[1])):this.selection.setSelectionRange(new f(i.row+o.selection[0],o.selection[1],i.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(e)){var d=r.getNextLineIndent(u,s.slice(0,i.column),n.getTabString());n.insert({row:i.row+1,column:0},d)}h&&r.autoOutdent(u,n,i.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,n){this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),i=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var a=n.getLine(t.end.row);/^\s+$/.test(a)&&(t.end.column=a.length)}}i&&(t=i)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,i=this.session.getLine(e.row);t<i.length?(n=i.charAt(t)+i.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(n=i.charAt(t-1)+i.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var r=e.getLine(t.start.row),i=t.start,a=e.getTabSize(),s=e.documentToScreenColumn(i.row,i.column);if(this.session.getUseSoftTabs())var c=a-s%a,l=o.stringRepeat(" ",c);else{for(c=s%a;" "==r[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var i=new f(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);i.start.row=r,i.end.row=r,i.end.column=o.length,t.replace(i,n[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var i=n.exec(r);if(i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new f(t,n-1,t,n),i=this.session.getTextRange(r);if(!isNaN(parseFloat(i))&&isFinite(i)){var o=this.getNumberAt(t,n);if(o){var a=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,s=o.start+o.value.length-a,c=parseFloat(o.value);c*=Math.pow(10,s),a!==o.end&&n<a?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),c+=e;var l=(c/=Math.pow(10,s)).toFixed(s),u=new f(t,o.start,t,o.end);this.session.replace(u,l),this.moveCursorTo(t,Math.max(o.start+1,n+l.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var i=n.start.row;t.duplicateLines(i,i)}else{var o=r?n.start:n.end,a=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=a,e.setSelectionRange(n,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,r,i=this.selection;if(!i.inMultiSelectMode||this.inVirtualSelectionMode){var o=i.toOrientedRange();n=this.$getSelectedRows(o),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),i.fromOrientedRange(o)}else{var a=i.rangeList.ranges;i.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var s=0,c=0,l=a.length,u=0;u<l;u++){var h=u;a[u].moveBy(s,0);for(var d=(n=this.$getSelectedRows(a[u])).first,f=n.last;++u<l;){c&&a[u].moveBy(c,0);var p=this.$getSelectedRows(a[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,s=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);h<=u;)a[h].moveBy(s,0),h++;t||(s=0),c+=s}i.fromOrientedRange(i.ranges[0]),i.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,i=e*Math.floor(r.height/r.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(i,0)})):!1===t&&(this.selection.moveCursorBy(i,0),this.selection.clearSelection()),this.$blockScrolling--;var o=n.scrollTop;n.scrollBy(0,i*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new y(this.session,n.row,n.column),i=r.getCurrentToken(),o=i||r.stepForward();if(o){var a,s,c=!1,l={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!c;u++)if(h[o.value[u]])switch(s=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(l[s])&&(l[s]=0),o.value[u]){case"(":case"[":case"{":l[s]++;break;case")":case"]":case"}":l[s]--,-1===l[s]&&(a="bracket",c=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===i.value?l[o.value]++:"</"===i.value&&l[o.value]--,-1===l[o.value]&&(a="tag",c=!0));c||(i=o,o=r.stepForward(),u=0)}while(o&&!c);if(a){var d,p;if("bracket"===a)(d=this.session.getBracketRange(n))||(p=(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1)).start,(t||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){c=!1;do{o=i,(i=r.stepBackward())&&(-1!==i.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===i.value?l[m]++:"</"===i.value&&l[m]--,0===l[m]&&(c=!0)))}while(i&&!c)}o&&o.type.indexOf("tag-name")&&(p=d.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=d.end)}(p=d&&d.cursor||p)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),null!==n&&(this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;this.$blockScrolling+=1;var i=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&r++;return this.selection.setSelectionRange(i),this.$blockScrolling-=1,r},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var i=this.$scrollAnchor;i.style.cssText="position:absolute",this.container.insertBefore(i,this.container.firstChild);var o=this.on("changeSelection",(function(){r=!0})),a=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),s=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,a=e.layerConfig,s=o.top-a.offset;null!=(r=o.top>=0&&s+t.top<0||!(o.top<a.height&&o.top+t.top+a.lineHeight>window.innerHeight)&&null)&&(i.style.top=s+"px",i.style.left=o.left+"px",i.style.height=a.lineHeight+"px",i.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",s),this.renderer.off("beforeRender",a))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}.call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=b})),ace.define("ace/undomanager",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){this.reset()};(function(){function e(e){return{action:e.action,start:e.start,end:e.end,lines:1==e.lines.length?null:e.lines,text:1==e.lines.length?e.lines[0]:null}}function t(e){return{action:e.action,start:e.start,end:e.end,lines:e.lines||[e.text]}}function n(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++){for(var i=e[r],o={group:i.group,deltas:new Array(i.length)},a=0;a<i.deltas.length;a++){var s=i.deltas[a];o.deltas[a]=t(s)}n[r]=o}return n}this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),n=null;return t&&(n=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),n},this.redo=function(e){var t=this.$redoStack.pop(),n=null;return t&&(n=this.$doc.redoChanges(this.$deserializeDeltas(t),e),this.$undoStack.push(t),this.dirtyCounter++),n},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(t){return n(t,e)},this.$deserializeDeltas=function(e){return n(e,t)}}).call(r.prototype),t.UndoManager=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/dom"),i=e("../lib/oop"),o=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){i.implement(this,a),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,i=this.$annotations[r];i||(i=this.$annotations[r]={text:[]});var a=n.text;a=a?o.escapeHTML(a):n.html||"",-1===i.text.indexOf(a)&&i.text.push(a);var s=n.type;"error"==s?i.className=" ace_error":"warning"==s&&" ace_error"!=i.className?i.className=" ace_warning":"info"!=s||i.className||(i.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){for(var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(n),a=o?o.start.row:1/0,s=this.$showFoldWidgets&&t.foldWidgets,c=t.$breakpoints,l=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,f=null,p=-1,m=n;;){if(m>a&&(m=o.end.row+1,a=(o=t.getNextFoldLine(m,o))?o.start.row:1/0),m>i){for(;this.$cells.length>p+1;)f=this.$cells.pop(),this.element.removeChild(f.element);break}(f=this.$cells[++p])||((f={element:null,textNode:null,foldWidget:null}).element=r.createElement("div"),f.textNode=document.createTextNode(""),f.element.appendChild(f.textNode),this.element.appendChild(f.element),this.$cells[p]=f);var g="ace_gutter-cell ";if(c[m]&&(g+=c[m]),l[m]&&(g+=l[m]),this.$annotations[m]&&(g+=this.$annotations[m].className),f.element.className!=g&&(f.element.className=g),(y=t.getRowLength(m)*e.lineHeight+"px")!=f.element.style.height&&(f.element.style.height=y),s){var v=s[m];null==v&&(v=s[m]=t.getFoldWidget(m))}if(v){f.foldWidget||(f.foldWidget=r.createElement("span"),f.element.appendChild(f.foldWidget));g="ace_fold-widget ace_"+v;"start"==v&&m==a&&m<o.end.row?g+=" ace_closed":g+=" ace_open",f.foldWidget.className!=g&&(f.foldWidget.className=g);var y=e.lineHeight+"px";f.foldWidget.style.height!=y&&(f.foldWidget.style.height=y)}else f.foldWidget&&(f.element.removeChild(f.foldWidget),f.foldWidget=null);var b=h=d?d.getText(t,m):m+u;b!==f.textNode.data&&(f.textNode.data=b),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var w=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,x=this.$padding||this.$computePadding();(w+=x.left+x.right)===this.gutterWidth||isNaN(w)||(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(s.prototype),t.Gutter=s})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../range").Range,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(e){this.config=e;var t=[];for(var n in this.markers){var r=this.markers[n];if(r.range){var i=r.range.clipRows(e.firstRow,e.lastRow);if(!i.isEmpty())if(i=i.toScreenRange(this.session),r.renderer){var o=this.$getTop(i.start.row,e),a=this.$padding+(this.session.$bidiHandler.isBidiRow(i.start.row)?this.session.$bidiHandler.getPosLeft(i.start.column):i.start.column*e.characterWidth);r.renderer(t,i,a,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,i,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,i,r.clazz,e):i.isMultiLine()?"text"==r.type?this.drawTextMarker(t,i,r.clazz,e):this.drawMultiLineMarker(t,i,r.clazz,e):this.session.$bidiHandler.isBidiRow(i.start.row)?this.drawBidiSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e):this.drawSingleLineMarker(t,i,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){for(var a=this.session,s=t.start.row,c=t.end.row,l=s,u=0,h=0,d=a.getScreenLastRowColumn(l),f=null,p=new r(l,t.start.column,l,h);l<=c;l++)p.start.row=p.end.row=l,p.start.column=l==s?t.start.column:a.getRowWrapIndent(l),p.end.column=d,u=h,h=d,d=l+1<c?a.getScreenLastRowColumn(l+1):l==c?0:t.end.column,f=n+(l==s?" ace_start":"")+" ace_br"+((l==s||l==s+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(l==c?8:0)),this.session.$bidiHandler.isBidiRow(l)?this.drawBidiSingleLineMarker(e,p,f,i,l==c?0:1,o):this.drawSingleLineMarker(e,p,f,i,l==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,r,i){var o,a,s,c=this.$padding;(i=i||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((l=t.clone()).end.row=l.start.row,l.end.column=this.session.getLine(l.start.row).length,this.drawBidiSingleLineMarker(e,l,n+" ace_br1 ace_start",r,null,i)):(o=r.lineHeight,a=this.$getTop(t.start.row,r),s=c+t.start.column*r.characterWidth,e.push("<div class='",n," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",s,"px;",i,"'></div>"));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var l;(l=t.clone()).start.row=l.end.row,l.start.column=0,this.drawBidiSingleLineMarker(e,l,n+" ace_br12",r,null,i)}else{var u=t.end.column*r.characterWidth;o=r.lineHeight,a=this.$getTop(t.end.row,r),e.push("<div class='",n," ace_br12' style='","height:",o,"px;","width:",u,"px;","top:",a,"px;","left:",c,"px;",i,"'></div>")}if(!((o=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){a=this.$getTop(t.start.row+1,r);var h=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",n,h?" ace_br"+h:"","' style='","height:",o,"px;","right:0;","top:",a,"px;","left:",c,"px;",i,"'></div>")}},this.drawSingleLineMarker=function(e,t,n,r,i,o){var a=r.lineHeight,s=(t.end.column+(i||0)-t.start.column)*r.characterWidth,c=this.$getTop(t.start.row,r),l=this.$padding+t.start.column*r.characterWidth;e.push("<div class='",n,"' style='","height:",a,"px;","width:",s,"px;","top:",c,"px;","left:",l,"px;",o||"","'></div>")},this.drawBidiSingleLineMarker=function(e,t,n,r,i,o){var a=r.lineHeight,s=this.$getTop(t.start.row,r),c=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(t){e.push("<div class='",n,"' style='","height:",a,"px;","width:",t.width+(i||0),"px;","top:",s,"px;","left:",c+t.left,"px;",o||"","'></div>")}))},this.drawFullLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;t.start.row!=t.end.row&&(a+=this.$getTop(t.end.row,r)-o),e.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")},this.drawScreenLineMarker=function(e,t,n,r,i){var o=this.$getTop(t.start.row,r),a=r.lineHeight;e.push("<div class='",n,"' style='","height:",a,"px;","top:",o,"px;","left:0;right:0;",i||"","'></div>")}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){r.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+o.stringRepeat(this.TAB_CHAR,n)+"</span>"):t.push(o.stringRepeat(" ",n));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r="ace_indent-guide",i="",a="";if(this.showInvisibles){r+=" ace_invisible",i=" ace_invisible_space",a=" ace_invisible_tab";var s=o.stringRepeat(this.SPACE_CHAR,this.tabSize),c=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=s=o.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+r+i+"'>"+s+"</span>",this.$tabStrings["\t"]="<span class='"+r+a+"'>"+c+"</span>"}},this.updateLines=function(e,t,n){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var r=Math.max(t,e.firstRow),i=Math.min(n,e.lastRow),o=this.element.childNodes,a=0,s=e.firstRow;s<r;s++){if(c=this.session.getFoldLine(s)){if(c.containsRow(r)){r=c.start.row;break}s=c.end.row}a++}s=r;for(var c,l=(c=this.session.getNextFoldLine(s))?c.start.row:1/0;s>l&&(s=c.end.row+1,l=(c=this.session.getNextFoldLine(s,c))?c.start.row:1/0),!(s>i);){var u=o[a++];if(u){var h=[];this.$renderLine(h,s,!this.$useLineGroups(),s==l&&c),u.style.height=e.lineHeight*this.session.getRowLength(s)+"px",u.innerHTML=h.join("")}s++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var n=this.element;if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)n.removeChild(n.firstChild);if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)n.removeChild(n.lastChild);if(e.firstRow<t.firstRow){var i=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)}if(e.lastRow>t.lastRow){i=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);n.appendChild(i)}},this.$renderLinesFragment=function(e,t,n){for(var r=this.element.ownerDocument.createDocumentFragment(),o=t,a=this.session.getNextFoldLine(o),s=a?a.start.row:1/0;o>s&&(o=a.end.row+1,s=(a=this.session.getNextFoldLine(o,a))?a.start.row:1/0),!(o>n);){var c=i.createElement("div"),l=[];if(this.$renderLine(l,o,!1,o==s&&a),c.innerHTML=l.join(""),this.$useLineGroups())c.className="ace_line_group",r.appendChild(c),c.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;c.firstChild;)r.appendChild(c.firstChild);o++}return r},this.update=function(e){this.config=e;for(var t=[],n=e.firstRow,r=e.lastRow,i=n,o=this.session.getNextFoldLine(i),a=o?o.start.row:1/0;i>a&&(i=o.end.row+1,a=(o=this.session.getNextFoldLine(i,o))?o.start.row:1/0),!(i>r);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(i),"px'>"),this.$renderLine(t,i,!1,i==a&&o),this.$useLineGroups()&&t.push("</div>"),i++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,r){var i=this,a=r.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(e,n,r,a,s){if(n)return i.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(i.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var c=i.session.getScreenTabSize(t+a);return t+=c-1,i.$tabStrings[c]}if("　"==e){var l=i.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=i.showInvisibles?i.SPACE_CHAR:"";return t+=1,"<span class='"+l+"' style='width:"+2*i.config.characterWidth+"px'>"+u+"</span>"}return r?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+i.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*i.config.characterWidth+"px'>"+e+"</span>")}));if(this.$textToken[n.type])e.push(a);else{var s="ace_"+n.type.replace(/\./g," ace_"),c="";"fold"==n.type&&(c=" style='width:"+n.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",s,"'",c,">",a,"</span>")}return t+r.length},this.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);return r<=0||r>=n?t:" "==t[0]?(r-=r%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],r/this.tabSize)),t.substr(r)):"\t"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["\t"],r)),t.substr(r)):t},this.$renderWrappedLine=function(e,t,n,r){for(var i=0,a=0,s=n[0],c=0,l=0;l<t.length;l++){var u=t[l],h=u.value;if(0==l&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(e,h,s)))continue;i-=h.length}if(i+h.length<s)c=this.$renderToken(e,c,u,h),i+=h.length;else{for(;i+h.length>=s;)c=this.$renderToken(e,c,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,r||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(o.stringRepeat(" ",n.indent)),c=0,s=n[++a]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,c=this.$renderToken(e,c,u,h))}}},this.$renderSimpleLine=function(e,t){var n=0,r=t[0],i=r.value;this.displayIndentGuides&&(i=this.renderIndentGuide(e,i)),i&&(n=this.$renderToken(e,n,r,i));for(var o=1;o<t.length;o++)i=(r=t[o]).value,n=this.$renderToken(e,n,r,i)},this.$renderLine=function(e,t,n,r){if(r||0==r||(r=this.session.getFoldLine(t)),r)var i=this.$getFoldLineTokens(t,r);else i=this.session.getTokens(t);if(n||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),i.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,i,o,n):this.$renderSimpleLine(e,i)}this.showInvisibles&&(r&&(t=r.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),n||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var n=this.session,r=[];var i=n.getTokens(e);return t.walk((function(e,t,o,a,s){null!=e?r.push({type:"fold",value:e}):(s&&(i=n.getTokens(t)),i.length&&function(e,t,n){for(var i=0,o=0;o+e[i].value.length<t;)if(o+=e[i].value.length,++i==e.length)return;for(o!=t&&((a=e[i].value.substring(t-o)).length>n-t&&(a=a.substring(0,n-t)),r.push({type:e[i].type,value:a}),o=t+a.length,i+=1);o<n&&i<e.length;){var a;(a=e[i].value).length+o>n?r.push({type:e[i].type,value:a.substring(0,n-o)}):r.push(e[i]),o+=a.length,i+=1}}(i,a,o))}),t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(s.prototype),t.Text=s})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r,i=e("../lib/dom"),o=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)t[n].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||r||(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&i.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var i=t.length;n<i;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var a=(this.cursors[r++]||this.addCursor()).style;this.drawCursor?this.drawCursor(a,o,e,t[n],this.session):(a.left=o.left+"px",a.top=o.top+"px",a.width=e.characterWidth+"px",a.height=e.lineHeight+"px")}}for(;this.cursors.length>r;)this.removeCursor();var s=this.session.getOverwrite();this.$setOverwrite(s),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,s=function(e){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(s.prototype);var c=function(e,t){s.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=i.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(c,s),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>32768?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var l=function(e,t){s.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(l,s),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(l.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=l,t.VScrollBar=c,t.HScrollBar=l})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var r=e("./lib/event"),i=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;r.nextFrame((function(){var e;for(t.pending=!1;e=t.changes;)t.changes=0,t.onRender(e)}),this.window)}}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),i=e("../lib/dom"),o=e("../lib/lang"),a=e("../lib/useragent"),s=e("../lib/event_emitter").EventEmitter,c=0,l=t.FontMetrics=function(e){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),c||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){r.implement(this,s),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=i.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;c=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval((function(){e.checkForSizeChanges()}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===c){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/c}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(l.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),i=e("./lib/dom"),o=e("./config"),a=e("./lib/useragent"),s=e("./layer/gutter").Gutter,c=e("./layer/marker").Marker,l=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,f=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter;i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var g=function(e,t){var n=this;this.container=e||i.createElement("div"),this.$keepTextAreaAtCursor=!a.isOldIE,i.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new c(this.content);var r=this.$textLayer=new l(this.content);this.canvas=r.element,this.$markerFront=new c(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var i=this.container;r||(r=i.clientHeight||i.scrollHeight),n||(n=i.clientWidth||i.scrollWidth);var o=this.$updateCachedSize(e,t,n,r);if(!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return r&&(e||o.height!=r)&&(o.height=r,i|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||o.width!=n)&&(i|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)),o.$dirty=!n||!r,i&&this._signal("resize",a),i},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var n=this.session.selection.getCursor();n.column=0,e=this.$cursorLayer.getPixelPosition(n,!0),t*=this.session.getRowLength(n.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=i.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;t-=e.offset;var r=this.textarea.style,i=this.lineHeight;if(t<0||t>e.height-i)r.top=r.left="0";else{var o=this.characterWidth;if(this.$composition){var a=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(a)[0]+2,i+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,r.height=i+"px",r.width=o+"px",r.left=Math.min(n,this.$size.scrollerWidth-o)+"px",r.top=Math.min(t,this.$size.height-i)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,r){var i=this.scrollMargin;i.top=0|e,i.bottom=0|t,i.right=0|r,i.left=0|n,i.v=i.top+i.bottom,i.h=i.left+i.right,i.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-i.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-n.offset+"px",this.content.style.marginTop=-n.offset+"px",this.content.style.width=n.width+2*this.$padding+"px",this.content.style.height=n.minHeight+"px"}if(e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(e&this.CHANGE_SCROLL)return e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");e&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender")}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var i=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,i=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-i-2*this.$padding<0),a=this.$horizScroll!==o;a&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var s=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var c=this.scrollTop%this.lineHeight,l=t.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=u;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,r-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,i+2*this.$padding-t.scrollerWidth+h.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+u<0||this.scrollTop>h.top),f=s!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,m,g=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),y=v+g,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),p=e.documentToScreenRow(v,0),m=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+m,c=this.scrollTop-p*b;var x=0;return this.layerConfig.width!=i&&(x=this.CHANGE_H_SCROLL),(a||f)&&(x=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(i=this.$getLongestLine())),this.layerConfig={width:i,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:c,gutterOffset:b?Math.max(0,Math.ceil((c+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},x},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),i=r.left,o=r.top,a=n&&n.top||0,s=n&&n.bottom||0,c=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;c+a>o?(t&&c+a>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):c+this.$size.scrollerHeight-s<o+this.lineHeight&&(t&&c+this.$size.scrollerHeight-s<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var l=this.scrollLeft;l>i?(i<this.$padding+2*this.layerConfig.characterWidth&&(i=-this.scrollMargin.left),this.session.setScrollLeft(i)):l+this.$size.scrollerWidth<i+this.characterWidth?this.session.setScrollLeft(Math.round(i+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&i-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,i=n.top-r*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var n,r,i=0,o=this.STEPS,a=[];for(i=0;i<o;++i)a.push((n=i/this.STEPS,r=e,(t-e)*(Math.pow(n-1,3)+1)+r));return a},this.scrollToLine=function(e,t,n,r){var i=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(i-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(i),!1!==n&&this.animateScrolling(o,r)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var i=this.$scrollAnimation.steps;if(i.length&&(e=i[0])==n)return}var o=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=e+this.scrollLeft-n.left-this.$padding,i=r/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=Math.round(i);return{row:o,column:a,side:i-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=e+this.scrollLeft-n.left-this.$padding,i=Math.round(r/this.characterWidth),o=(t+this.scrollTop-n.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(i,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),i=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:n.left+i-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)a(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],a)}function a(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.importCssString(r.cssText,r.cssClass,n.container.ownerDocument),n.theme&&i.removeCssClass(n.container,n.theme.cssClass);var o="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=r.cssClass,n.theme=r,i.addCssClass(n.container,r.cssClass),i.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){i.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){i.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(g.prototype),o.defineOptions(g.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=i.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=g})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,a=e("../config");function s(e,t){var n=function(e,t){var n=t.src;i.qualifyURL(e);try{return new Blob([n],{type:"application/javascript"})}catch(e){var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return r.append(n),r.getBlob("application/javascript")}}(e,t),r=(window.URL||window.webkitURL).createObjectURL(n);return new Worker(r)}var c=function(t,n,r,i,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)i=i||a.moduleUrl(n.id,"worker");else{var c=this.$normalizePath;i=i||c(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach((function(t){l[t]=c(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}this.$worker=s(i,n),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:l,module:n.id,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return i.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(c.prototype);var l=function(e,t,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,i=!1,s=Object.create(o),c=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){c.messageBuffer.push(e),r&&(i?setTimeout(l):l())},this.setEmitSync=function(e){i=e};var l=function(){var e=c.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&s._signal(e.event,e.data)};s.postMessage=function(e){c.onMessage({data:e})},s.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},s.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],(function(e){for(r=new e[n](s);c.messageBuffer.length;)l()}))};l.prototype=c.prototype,t.UIWorkerClient=l,t.WorkerClient=c,t.createWorker=s})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./range").Range,i=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),a=function(e,t,n,r,i,o){var a=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=i,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){a.onCursorChange()}))},this.$pos=n;var s=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=s.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,i),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var a=this.others.length-1;a>=0;a--){var s={row:(c=this.others[a]).row,column:c.column+o};this.doc.insertMergedLines(s,e.lines)}else if("remove"===e.action)for(a=this.others.length-1;a>=0;a--){var c;s={row:(c=this.others[a]).row,column:c.column+o};this.doc.remove(new r(s.row,s.column,s.row,s.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(a.prototype),t.PlaceHolder=a})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),i=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,a=t.shiftKey,s=t.ctrlKey,c=e.getAccelKey(),l=e.getButton();if(s&&i.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)e.editor.textInput.onContextMenu(e.domEvent);else if(s||n||c){if(0===l){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),m=d.getCursor(),g=e.inSelection()||d.isEmpty()&&o(p,m),v=e.x,y=e.y,b=h.session,w=h.renderer.pixelToScreenCoordinates(v,y),x=w;if(h.$mouseHandler.$enableJumpToDef)s&&n||c&&n?u=a?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(c&&!n){if(u="add",!f&&a)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&i.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&g)return;if(!f){var _=d.toOrientedRange();h.addSelectionMarker(_)}var E=d.rangeList.rangeAtPoint(p);h.$blockScrolling++,h.inVirtualSelectionMode=!0,a&&(E=null,_=d.ranges[0]||_,h.removeSelectionMarker(_)),h.once("mouseup",(function(){var e=d.toOrientedRange();E&&e.isEmpty()&&o(E.cursor,e.cursor)?d.substractPoint(e.cursor):(a?d.substractPoint(_.cursor):_&&(h.removeSelectionMarker(_),d.addRange(_)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1}))}else if("block"==u){var S;e.stop(),h.inVirtualSelectionMode=!0;var C=[];h.$blockScrolling++,f&&!c?d.toSingleRange():!f&&c&&(S=d.toOrientedRange(),h.addSelectionMarker(S)),a?w=b.documentToScreenPosition(d.lead):d.moveToPosition(p),h.$blockScrolling--,x={row:-1,column:-1};var A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(x,e)&&o(t,d.lead)||(x=e,h.$blockScrolling++,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(C),C=d.rectangularRangeBlock(x,w),h.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=h.$mouseHandler.$clickSelection.clone()),C.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers(),h.$blockScrolling--)};r.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){clearInterval(T),h.removeSelectionMarkers(C),C.length||(C=[d.toOrientedRange()]),h.$blockScrolling++,S&&(h.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<C.length;t++)d.addRange(C[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--}));var T=setInterval((function(){A()}),20);return e.preventDefault()}}}else 0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,i=e("./range").Range,o=e("./selection").Selection,a=e("./mouse/multi_select_handler").onMouseDown,s=e("./lib/event"),c=e("./lib/lang"),l=e("./commands/multi_select_commands");t.commands=l.defaultCommands.concat(l.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{n=this.getRange();var r=this.isBackwards(),o=n.start.row,a=n.end.row;if(o==a){if(r)var s=n.end,c=n.start;else s=n.start,c=n.end;return this.addRange(i.fromPoints(c,c)),void this.addRange(i.fromPoints(s,s))}var l=[],u=this.getLineRange(o,!0);u.start.column=n.start.column,l.push(u);for(var h=o+1;h<a;h++)l.push(this.getLineRange(h,!0));(u=this.getLineRange(a,!0)).end.column=n.end.column,l.push(u),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=i.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(r,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],o=e.column<t.column;if(o)var a=e.column,s=t.column,c=e.offsetX,l=t.offsetX;else a=t.column,s=e.column,c=t.offsetX,l=e.offsetX;var u,h,d=e.row<t.row;if(d)var f=e.row,p=t.row;else f=t.row,p=e.row;a<0&&(a=0),f<0&&(f=0),f==p&&(n=!0);for(var m=f;m<=p;m++){var g=i.fromPoints(this.session.screenToDocumentPosition(m,a,c),this.session.screenToDocumentPosition(m,s,l));if(g.isEmpty()){if(v&&(u=g.end,h=v,u.row==h.row&&u.column==h.column))break;var v=g.end}g.cursor=o?g.start:g.end,r.push(g)}if(d&&r.reverse(),!n){for(var y=r.length-1;r[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;r[b].isEmpty();)b++;for(var w=y;w>=b;w--)r[w].isEmpty()&&r.splice(w,1)}return r}}.call(o.prototype);var d=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",a),e.commands.addCommands(l.defaultCommands),function(e){var t=e.textInput.getElement(),n=!1;function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}s.addListener(t,"keydown",(function(t){var i=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&i?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()})),s.addListener(t,"keyup",r),s.addListener(t,"blur",r)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var i=t.indexOf(r);-1!=i&&t.splice(i,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,i=n&&n.keepOrder,a=1==n||n&&n.$byLines,s=this.session,c=this.selection,l=c.rangeList,u=(i?c:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=c._eventRegistry;c._eventRegistry={};var d=new o(s);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(a)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=s.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(u[f])}d.detach(),this.selection=s.selection=c,this.inVirtualSelectionMode=!1,c._eventRegistry=h,c.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var i=this.session.getDocument().getNewLineCharacter();(e=n.join(i)).length==(n.length-1)*i.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row==t.row&&this.session.$clipPositionToDocument(r.row,r.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var i=this.$search.findAll(this.session);if(!i.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;n||o.toSingleRange(i[0]);for(var a=i.length;a--;)o.addRange(i[a],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),this.$blockScrolling-=1,i.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var a,s=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())l=s;else var c=this.session.documentToScreenPosition(r?n.end:n.start),l=this.session.screenToDocumentPosition(c.row+e,c.column);r?(a=i.fromPoints(s,l)).cursor=a.start:(a=i.fromPoints(l,s)).cursor=a.end;if(a.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(a),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,i=r.length;i--;){if((s=r[i]).isEmpty()){var o=t.getWordRange(s.start.row,s.start.column);s.start.row=o.start.row,s.start.column=o.start.column,s.end.row=o.end.row,s.end.column=o.end.column}}n.mergeOverlappingRanges();var a=[];for(i=r.length;i--;){var s=r[i];a.unshift(t.getTextRange(s))}e<0?a.unshift(a.pop()):a.push(a.shift());for(i=r.length;i--;){o=(s=r[i]).clone();t.replace(s,a[i]),s.start.row=o.start.row,s.start.column=o.start.column}},this.selectMore=function(e,t,n){var r=this.session,i=r.multiSelect.toOrientedRange();if(!i.isEmpty()||((i=r.getWordRange(i.start.row,i.start.column)).cursor=-1==e?i.start:i.end,this.multiSelect.addRange(i),!n)){var o=r.getTextRange(i),a=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(r,o,e);a&&(a.cursor=-1==e?a.start:a.end,this.$blockScrolling+=1,this.session.unfold(a),this.multiSelect.addRange(a),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(i.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,o=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var a=0,s=1/0,l=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>a&&(a=n.column),r<s&&(s=r),r}));n.forEach((function(t,n){var r=t.cursor,o=a-r.column,u=l[n]-s;o>u?e.insert(r,c.stringRepeat(" ",o-u)):e.remove(new i(r.row,r.column,r.row,r.column-o+u)),t.start.column=t.end.column=a,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,m=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<m);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=m&&(d=m-1)}var g=this.session.removeFullLines(h,d);g=this.$reAlignText(g,f),this.session.insert({row:h,column:0},g.join("\n")+"\n"),f||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,r,i,o=!0,a=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,i=t[3].length,t):(n+r+i!=t[1].length+t[2].length+t[3].length&&(a=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),i>t[3].length&&(i=t[3].length),t):[e]})).map(t?l:o?a?function(e){return e[2]?s(n+r-e[2].length)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:l:function(e){return e[2]?s(n)+e[2]+s(i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function s(e){return c.stringRepeat(" ",e)}function l(e){return e[2]?s(n)+e[2]+s(r-e[2].length+i)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",a)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",a))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../../range").Range,i=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var i=/\S/,o=e.getLine(t),a=o.search(i);if(-1!=a){for(var s=n||o.length,c=e.getLength(),l=t,u=t;++t<c;){var h=e.getLine(t).search(i);if(-1!=h){if(h<=a)break;u=t}}if(u>l){var d=e.getLine(u).length;return new r(l,s,u,d)}}},this.openingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i+1},s=e.$findClosingBracket(t,a,o);if(s){var c=e.foldWidgets[s.row];return null==c&&(c=e.getFoldWidget(s.row)),"start"==c&&s.row>a.row&&(s.row--,s.column=e.getLine(s.row).length),r.fromPoints(a,s)}},this.closingBracketBlock=function(e,t,n,i,o){var a={row:n,column:i},s=e.$findOpeningBracket(t,a);if(s)return s.column++,a.column--,r.fromPoints(s,a)}}).call(i.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";e("./lib/oop");var r=e("./lib/dom");e("./range").Range;function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,i=r.start.row,o=r.end.row,a="add"==e.action,s=i+1;s<o;s++)n[s]&&(n[s].hidden=a);n[o]&&(a?n[i]?n[o].hidden=a:n[i]=n[o]:(n[i]==n[o]&&(n[i]=void 0),n[o].hidden=a))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){t.splice(n+1,r).forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var i=new Array(r);i.unshift(n,0),t.splice.apply(t,i),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var n=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,n.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/n.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var o=this.session.lineWidgets;e.row!=i.end.row||o[i.start.row]?e.hidden=!0:o[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var i=1/0,o=0;o<n.length;o++){var a=n[o];if(a&&a.el&&a.session==this.session){if(!a._inDocument){if(this.session.lineWidgets[a.row]!=a)continue;a._inDocument=!0,t.container.appendChild(a.el)}a.h=a.el.offsetHeight,a.fixedWidth||(a.w=a.el.offsetWidth,a.screenWidth=Math.ceil(a.w/r.characterWidth));var s=a.h/r.lineHeight;a.coverLine&&(s-=this.session.getRowLineCount(a.row))<0&&(s=0),a.rowCount!=s&&(a.rowCount=s,a.row<i&&(i=a.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var i=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,r.length);i>0&&!r[i];)i--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var a=i;a<=o;a++){var s=r[a];if(s&&s.el)if(s.hidden)s.el.style.top=-100-(s.pixelHeight||0)+"px";else{s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el));var c=t.$cursorLayer.getPixelPosition({row:a,column:0},!0).top;s.coverLine||(c+=n.lineHeight*this.session.getRowLineCount(s.row)),s.el.style.top=c-n.offset+"px";var l=s.coverGutter?0:t.gutterWidth;s.fixedWidth||(l-=t.scrollLeft),s.el.style.left=l+"px",s.fullWidth&&s.screenWidth&&(s.el.style.minWidth=n.width+2*n.padding+"px"),s.fixedWidth?s.el.style.right=t.scrollBar.getWidth()+"px":s.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var r=e("../line_widgets").LineWidgets,i=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(e));var a=e.getCursorPosition(),s=a.row,c=n.widgetManager.getWidgetsAtRow(s).filter((function(e){return"errorMarker"==e.type}))[0];c?c.destroy():s-=t;var l,u=function(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=function(e,t,n){for(var r=0,i=e.length-1;r<=i;){var o=r+i>>1,a=n(t,e[o]);if(a>0)r=o+1;else{if(!(a<0))return o;i=o-1}}return-(r+1)}(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var a=r[i];if(a&&n){if(a.row===t){do{a=r[i+=n]}while(a&&a.row===t);if(!a)return r.slice()}var s=[];t=a.row;do{s[n<0?"unshift":"push"](a),a=r[i+=n]}while(a&&a.row==t);return s.length&&s}}}(n,s,t);if(u){var h=u[0];a.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,a.row=h.row,l=e.renderer.$gutterLayer.$annotations[a.row]}else{if(c)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(a.row),e.selection.moveToPosition(a);var d={row:a.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},f=d.el.appendChild(i.createElement("div")),p=d.el.appendChild(i.createElement("div"));p.className="error_widget_arrow "+l.className;var m=e.renderer.$cursorLayer.getPixelPosition(a).left;p.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+l.className,f.innerHTML=l.text.join("<br>"),f.appendChild(i.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/dom"),o=e("./lib/event"),a=e("./editor").Editor,s=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.define=n("B9Yq"),t.edit=function(e){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;r=s.value,e=i.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(r=i.getInnerText(e),e.innerHTML="");var c=t.createEditSession(r),u=new a(new l(e));u.setSession(c);var h={document:c,editor:u,onResize:u.resize.bind(u,null)};return s&&(h.textarea=s),o.addListener(window,"resize",h.onResize),u.on("destroy",(function(){o.removeListener(window,"resize",h.onResize),h.editor.container.env=null})),u.container.env=u.env=h,u},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new c),n},t.EditSession=s,t.UndoManager=c,t.version="1.2.9"})),ace.acequire(["ace/ace"],(function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})),e.exports=window.ace.acequire("ace/ace")},BiGR:function(e,t,n){var r=n("nmnc"),i=n("03A+"),o=n("Z0cm"),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},BjVE:function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("**",t),r=e.indexOf("__",t);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},BkRI:function(e,t,n){var r=n("OBhP"),i=1,o=4;e.exports=function(e){return r(e,i|o)}},Bpvx:function(e,t,n){"use strict";var r=n("Qfp6"),i=n("Pfkr"),o=n("3RSX"),a=n("n8Jw")||0;function s(){return i(a)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return r.seed(t),e.exports},e.exports.worker=function(t){return a=t,e.exports},e.exports.characters=function(e){return void 0!==e&&r.characters(e),r.shuffled()},e.exports.isValid=o},Brp5:function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("`",t)}},C4tZ:function(e,t,n){"use strict";var r=n("6Ekc").longestPath,i=n("GEWS"),o=n("dOj1");e.exports=function(e){switch(e.graph().ranker){case"network-simplex":s(e);break;case"tight-tree":!function(e){r(e),i(e)}(e);break;case"longest-path":a(e);break;default:s(e)}};var a=r;function s(e){o(e)}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},CMye:function(e,t,n){var r=n("GoyQ");e.exports=function(e){return e==e&&!r(e)}},CR0S:function(e,t,n){"use strict";var r,i="object"==typeof window&&(window.crypto||window.msCrypto);r=i&&i.getRandomValues?function(e){return i.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=r},CRs9:function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("*",t),r=e.indexOf("_",t);if(-1===r)return n;if(-1===n)return r;return r<n?r:n}},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},ChrQ:function(e,t,n){var r=n("y7/N");e.exports=function(e){this.name=e.xml.getAttribute("name"),this.visuals=[];for(var t=e.xml.getElementsByTagName("visual"),n=0;n<t.length;n++)this.visuals.push(new r({xml:t[n]}))}},CrYA:function(e,t,n){var r=n("MFOe").Global;function i(){return r.sessionStorage}function o(e){return i().getItem(e)}e.exports={name:"sessionStorage",read:o,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(o(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},Cwc5:function(e,t,n){var r=n("NKxu"),i=n("Npjl");e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},CyBW:function(e,t,n){var r=n("ozMc"),i=(n("fjOl"),n("MliZ").EventEmitter2);function o(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult;var n=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),i=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),o=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),a=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe((function(e){t.emit("goal",e)})),o.subscribe((function(e){e.status_list.forEach((function(e){t.emit("status",e)}))})),i.subscribe((function(e){t.emit("status",e.status),t.emit("feedback",e.feedback)})),a.subscribe((function(e){t.emit("status",e.status),t.emit("result",e.result)}))}o.prototype.__proto__=i.prototype,e.exports=o},D8kY:function(e,t,n){var r=n("Ojgd"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},DSRE:function(e,t,n){(function(e){var r=n("Kz5y"),i=n("B8du"),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c}).call(this,n("YuTi")(e))},"DlR+":function(e,t,n){var r=n("MFOe"),i=r.Global,o=r.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!l(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:c,clearAll:function(){s((function(e,t){c(t)}))}};var a=i.document;function s(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(o(t[n])){var r=t[n].split("="),i=unescape(r[0]);e(unescape(r[1]),i)}}function c(e){e&&l(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function l(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e,t){return e&&r(t,i(t),e)}},"E+oP":function(e,t,n){var r=n("A90E"),i=n("QqLw"),o=n("03A+"),a=n("Z0cm"),s=n("MMmD"),c=n("DSRE"),l=n("6sVZ"),u=n("c6wG"),h="[object Map]",d="[object Set]",f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=i(e);if(t==h||t==d)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},E2jh:function(e,t,n){var r,i=n("2gN3"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},E4pH:function(e,t,n){var r=n("e1dK");e.exports=function(e){r(this,e)}},E9ZH:function(e,t){e.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),o=n("wclG");e.exports=function(e,t){return o(i(e,t,r),e+"")}},EBzq:function(e,t,n){"use strict";var r=[].slice;e.exports=function(e,t){var n;return function(){var t,a=r.call(arguments,0),s=e.length>a.length;s&&a.push(i);try{t=e.apply(null,a)}catch(e){if(s&&n)throw e;return i(e)}s||(t&&"function"==typeof t.then?t.then(o,i):t instanceof Error?i(t):o(t))};function i(){n||(n=!0,t.apply(null,arguments))}function o(e){i(null,e)}}},ECyS:function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){return"Object"===r(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function o(e){return"Array"===r(e)}function a(e){return"Symbol"===r(e)}function s(e,t,n,r){var i=r.propertyIsEnumerable(t)?"enumerable":"nonenumerable";"enumerable"===i&&(e[t]=n),"nonenumerable"===i&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}t.a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=null,c=e;return i(e)&&e.extensions&&1===Object.keys(e).length&&(c={},r=e.extensions),t.reduce((function(e,t){return function e(t,n,r){if(!i(n))return r&&o(r)&&r.forEach((function(e){n=e(t,n)})),n;var c={};if(i(t)){var l=Object.getOwnPropertyNames(t),u=Object.getOwnPropertySymbols(t);c=l.concat(u).reduce((function(e,r){var i=t[r];return(!a(r)&&!Object.getOwnPropertyNames(n).includes(r)||a(r)&&!Object.getOwnPropertySymbols(n).includes(r))&&s(e,r,i,t),e}),{})}var h=Object.getOwnPropertyNames(n),d=Object.getOwnPropertySymbols(n);return h.concat(d).reduce((function(a,c){var l=n[c],u=i(t)?t[c]:void 0;return r&&o(r)&&r.forEach((function(e){l=e(u,l)})),void 0!==u&&i(l)&&(l=e(u,l,r)),s(a,c,l,n),a}),c)}(e,t,r)}),c)}},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");e.exports=function(e,t){return r(e,i(e),t)}},EFJG:function(e,t){e.exports="0.6.3"},EJiy:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("F+2o")),i=a(n("+JPL")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},EQPF:function(e,t,n){"use strict";e.exports=function(e,t){return function(n){var r,i=0,o=n.indexOf("\\"),a=e[t],s=[];for(;-1!==o;)s.push(n.slice(i,o)),i=o+1,(r=n.charAt(i))&&-1!==a.indexOf(r)||s.push("\\"),o=n.indexOf("\\",i);return s.push(n.slice(i)),s.join("")}}},"EV5+":function(e,t,n){"use strict";var r=n("PEyx"),i=n("Ve/E"),o=n("lU+G");e.exports=function(e,t){function n(e){var n=t.edge(e);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}e.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(e,t).style("opacity",1).attr("transform",n)}},EXMj:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},EiaH:function(e,t,n){
/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
e.exports={graphlib:n("Xdfk"),dagre:n("yLCY"),intersect:n("U4bP"),render:n("cSR1"),util:n("PEyx"),version:n("EFJG")}},Eidx:function(e,t,n){"use strict";var r=n("IPAr");e.exports=function(e,t,n){var i,o,a,s,c=t.charAt(0);if("\n"!==c)return;if(n)return!0;s=1,i=t.length,o=c,a="";for(;s<i&&(c=t.charAt(s),r(c));)a+=c,"\n"===c&&(o+=a,a=""),s++;e(o)}},EmYC:function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("[",t),r=e.indexOf("![",t);if(-1===r)return n;return n<r?n:r}},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},Esvb:function(e,t,n){"use strict";var r=n("aCXt"),i=n("+XMi");e.exports=i;var o=i.prototype;function a(e,t,n){var i=this.path,o=new r(e,t,n);return i&&(o.name=i+":"+o.name,o.file=i),o.fatal=!1,this.messages.push(o),o}o.message=a,o.info=function(){var e=this.message.apply(this,arguments);return e.fatal=null,e},o.fail=function(){var e=this.message.apply(this,arguments);throw e.fatal=!0,e},o.warn=a},EwQA:function(e,t,n){var r=n("zZ0H");e.exports=function(e){return"function"==typeof e?e:r}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},"F+2o":function(e,t,n){e.exports={default:n("2Nb0"),__esModule:!0}},F9We:function(e,t,n){var r;try{r=n("4Ai+")}catch(e){}r||(r=window.graphlib),e.exports=r},FUBA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),a=c(o),s=c(n("17x9"));function c(e){return e&&e.__esModule?e:{default:e}}var l={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},d=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),f=function(){return d?"_"+Math.random().toString(36).substr(2,12):void 0},p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||f()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||f()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(h(e,this.sizer),this.placeHolderSizer&&h(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return d&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:l},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:l},this.props.placeholder):null)}}]),t}(o.Component);p.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},p.defaultProps={minWidth:1,injectStyles:!0},t.default=p},FYw3:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("EJiy"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,o.default)(t))&&"function"!=typeof t?e:t}},FZoo:function(e,t,n){var r=n("MrPd"),i=n("4uTw"),o=n("wJg7"),a=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,u=(t=i(t,e)).length,h=u-1,d=e;null!=d&&++l<u;){var f=s(t[l]),p=n;if(l!=h){var m=d[f];void 0===(p=c?c(m,f,d):void 0)&&(p=a(m)?m:o(t[l+1])?[]:{})}r(d,f,p),d=d[f]}return e}},FfPP:function(e,t,n){var r=n("idmN"),i=n("hgQt");e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},FlQf:function(e,t,n){"use strict";var r=n("ccE7")(!0);n("MPFp")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},FpHa:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},FyfS:function(e,t,n){e.exports={default:n("Rp86"),__esModule:!0}},"G+a2":function(e,t,n){var r=n("E9ZH");e.exports=function(e){this.type=r.URDF_CYLINDER,this.length=parseFloat(e.xml.getAttribute("length")),this.radius=parseFloat(e.xml.getAttribute("radius"))}},G6B7:function(e,t,n){(function(r){var i,o,a,s;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}s=function(e,t,i,o,a,s,l,u,h,d,f){"use strict";var p="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t;var m="default"in i?i.default:i;o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,s=s&&s.hasOwnProperty("default")?s.default:s,l=l&&l.hasOwnProperty("default")?l.default:l,h=h&&h.hasOwnProperty("default")?h.default:h,f=f&&f.hasOwnProperty("default")?f.default:f;
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
    See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function v(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function b(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function w(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function x(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function _(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_(arguments[t]));return e}var S=function(n){var r,i=this;this.createdAt=new Date,this.isStreamLive=!1,this.isStreamPaused=!1,this.internalListener=null,this.listeners=new Set,this.rosConnectionHook=null,this.rosCloseHook=null,this.rosErrorHook=null,this.addRosHealthHooks=function(){i.rosCloseHook=function(){i.isStreamLive=!1,i.cleanStream("complete")},i.rosErrorHook=function(e){i.isStreamLive=!1,i.cleanStream("error",e)},i.ros.on("error",i.rosErrorHook),i.ros.on("close",i.rosCloseHook)},this.removeRosHealthHooks=function(){i.ros.off("error",i.rosErrorHook),i.ros.off("close",i.rosCloseHook),i.rosErrorHook=null,i.rosCloseHook=null},this.addListener=function(e){return i.listeners.has(e)?{success:!1,reason:"listener already present"}:(i.listeners.add(e),i.isStreamLive&&i.stream.addListener(e),{success:!0})},this.removeListener=function(e){return i.listeners.has(e)?(i.listeners.delete(e),i.stream.removeListener(e),{success:!0}):{success:!1,reason:"listener not present"}},this.cleanStream=function(e,t){"error"===e?i.stream.shamefullySendError(t):i.stream.shamefullySendComplete(),i.listeners.forEach((function(e){i.stream.removeListener(e)}))},this.removeAllListeners=function(){return i.listeners.forEach((function(e){i.stream.removeListener(e)})),i.listeners.clear(),{success:!0}},this.pause=function(){return i.isStreamPaused=!0,{success:!0}},this.resume=function(){return i.isStreamPaused=!1,{success:!0}},this.ros=n.ros,this.hasMemory=null!=(r=n.memory)&&r;var o={ros:this.ros,name:n.topicName,messageType:n.messageType};n.compression&&(o.compression=n.compression),n.queueSize&&(o.queue_size=n.queueSize),n.queueLength&&(o.queue_length=n.queueLength),this.topic=new e.Topic(o),this.producer={start:function(e){i.rosCloseHook||i.rosErrorHook||i.addRosHealthHooks(),i.internalListener=function(t){i.isStreamPaused||e.next(t)},i.topic.subscribe(i.internalListener)},stop:function(){i.topic.unsubscribe(i.internalListener),i.removeRosHealthHooks()}},this.stream=this.hasMemory?t.createWithMemory(this.producer):t.create(this.producer),this.isStreamLive=!0,this.rosConnectionHook=function(){i.isStreamLive||(i.stream=i.hasMemory?t.createWithMemory(i.producer):t.create(i.producer),i.isStreamLive=!0,i.listeners.forEach((function(e){i.stream.addListener(e)})))},this.ros.on("connection",this.rosConnectionHook)},C="Axes",A="FlatArrow",T=5e6,M={INHERIT:0,FIXED:1,VIEW_FACING:2},k=[M.VIEW_FACING],O={NONE:0,MENU:1,BUTTON:2,MOVE_AXIS:3,MOVE_PLANE:4,ROTATE_AXIS:5,MOVE_ROTATE:6,MOVE_3D:7,ROTATE_3D:8,MOVE_ROTATE_3D:9},P="geometry_msgs/PolygonStamped",R="moveit_msgs/CollisionObject",F="moveit_msgs/DisplayTrajectory",L="moveit_msgs/PlanningScene",D="visualization_msgs/InteractiveMarkerInit",j={INT8:1,UINT8:2,INT16:3,UINT16:4,INT32:5,UINT32:6,FLOAT32:7,FLOAT64:8},N={ADD:0,REMOVE:1,APPEND:2,MOVE:3},I={BOX:1,SPHERE:2,CYLINDER:3,CONE:4},B={ARROW:0,CUBE:1,SPHERE:2,CYLINDER:3,LINE_STRIP:4,LINE_LIST:5,CUBE_LIST:6,SPHERE_LIST:7,POINTS:8,TEXT_VIEW_FACING:9,MESH_RESOURCE:10,TRIANGLE_LIST:11},z={MAP:"map",CONST_MAP:"constmap",RAW:"raw"},U={SQUARES:"squares",POINTS:"points",FLAT_SQUARES:"flat_squares",SPHERES:"spheres",BOXES:"boxes"},H={INTENSITY:"Intensity",AXIS_COLOR:"AxisColor",FLAT_COLOR:"FlatColor"},V={RGB:"rgb",INTENSITY:"intensity"},W={X:"x",Y:"y",Z:"z"},$=y({INTENSITY:"intensity"},W),G={arrow:"Arrow",axes:C},q={arrow:"Arrow",axes:C,flatArrow:A},Y={arrow:"Arrow",arrowWithCircle:"ArrowWithCircle"},X=1,K=1,Z=32,J=1,Q=1,ee="#ff0000",te="#008000",ne="#0000ff",re="#f0ff00",ie="#f0ff00",oe={backgroundColor:0,gridSize:30,gridDivisions:30,gridColor:2236962,gridCenterlineColor:3355443},ae={selectedFrame:""},se={shaftLength:1,shaftRadius:.05,headLength:.3,headRadius:.1},ce={axesLength:1,axesRadius:.1},le={arrowLength:.3},ue={robot:new i.Group,loop:!0},he={channelName:$.INTENSITY,useRainbow:!1,invertRainbow:!1,minColor:"#000000",maxColor:"#ffffff",autocomputeIntensityBounds:!1,maxIntensity:3730,minIntensity:388},de={},fe={axis:W.X,autocomputeValueBounds:!1,useFixedFrame:!1,minAxisValue:0,maxAxisValue:0},pe={streamType:"mjpeg",f:526,maxDepthPerTile:1,pointSize:3,width:1024,height:1024,whiteness:0,varianceThreshold:16667e-9},me={queueSize:1,width:320,height:240,compression:"cbor"},ge={width:320,height:240},ve=y(y({selectable:!1,style:U.FLAT_SQUARES,size:.05,alpha:1,decayTime:0,queueSize:10,compression:"cbor",colorTransformer:H.INTENSITY,flatColor:"#ffffff"},he),fe),ye={alpha:1,colorScheme:z.MAP,compression:"cbor",drawBehind:!1},be={queueSize:1,namespaces:[]},we={queueSize:1,namespaces:[],throttleRate:0},xe={queueSize:1,namespaces:[],throttleRate:0,publishThrottleRate:0,hideOtherHandlesOnSelect:!0,hideOtherControlsInstancesOnSelect:!0},_e=y(y(y(y({type:"Arrow",color:ee,alpha:1},se),ce),le),{positionTolerance:.1,angleTolerance:.1,keep:100}),Ee={color:"#ffffff",alpha:1},Se={},Ce={compression:"cbor",colorChannel:V.RGB,size:.0125,useRainbow:!0,queueSize:1},Ae={color:"#ff0000",alpha:1,radius:.2},Te={color:"#ffffff",alpha:1},Me=y(y(y({color:ee,alpha:1},se),ce),{type:q.arrow}),ke={circleRadius:.3,tube:.03,radialSegments:16,tubularSegments:100,arc:1.7*Math.PI},Oe=y(y(y({},se),ke),{circleConeLength:.1,circleConeRadius:.1}),Pe=y(y({forceColor:ee,torqueColor:re,alpha:1,forceArrowScale:1,torqueArrowScale:1,arrowWidth:1},Oe),{type:Y.arrow}),Re=y(y(y(y({color:ee,alpha:1},se),ce),le),{type:q.arrow}),Fe={color:ee,alpha:1},Le={},De={},je=["sensor_msgs/Image","sensor_msgs/LaserScan","visualization_msgs/Marker","visualization_msgs/MarkerArray","nav_msgs/OccupancyGrid","nav_msgs/Odometry","nav_msgs/Path",L,"sensor_msgs/PointCloud2",P,"geometry_msgs/PoseStamped","geometry_msgs/PoseArray","geometry_msgs/PoseStamped","robot_description","tf/tfMessage","tf2_msgs/TFMessage"],Ne=["geometry_msgs/AccelStamped","moveit_msgs/BoundingVolume","sensor_msgs/CompressedImage","sensor_msgs/JointState","moveit_msgs/DisplayRobotState",F,D,"sensor_msgs/MagneticField","sensor_msgs/PointCloud","geometry_msgs/PoseWithCovariance","sensor_msgs/Range","geometry_msgs/TwistStamped","geometry_msgs/Vector3Stamped","geometry_msgs/WrenchStamped"],Ie=Object.freeze({__proto__:null,OBJECT_TYPE_ARROW:"Arrow",OBJECT_TYPE_ARROW_WITH_CIRCLE:"ArrowWithCircle",OBJECT_TYPE_AXES:C,OBJECT_TYPE_FLAT_ARROW:A,MAX_POINTCLOUD_POINTS:T,DEFAULT_BACKGROUND_COLOR:0,DEFAULT_GRID_SIZE:30,DEFAULT_GRID_DIVISIONS:30,DEFAULT_GRID_COLOR:2236962,DEFAULT_GRID_COLOR_CENTERLINE:3355443,INTERACTIVE_MARKER_ORIENTATION_MODES:M,UNSUPPORTED_INTERACTIVE_MARKER_ORIENTATION_MODES:k,INTERACTIVE_MARKER_INTERACTION_MODES:O,MESSAGE_TYPE_ROBOT_MODEL:"robot_description",MESSAGE_TYPE_ACCELSTAMPED:"geometry_msgs/AccelStamped",MESSAGE_TYPE_POINTSTAMPED:"geometry_msgs/PointStamped",MESSAGE_TYPE_POLYGONSTAMPED:P,MESSAGE_TYPE_POSEARRAY:"geometry_msgs/PoseArray",MESSAGE_TYPE_POSECOVARIANCE:"geometry_msgs/PoseWithCovariance",MESSAGE_TYPE_POSESTAMPED:"geometry_msgs/PoseStamped",MESSAGE_TYPE_TWISTSTAMPED:"geometry_msgs/TwistStamped",MESSAGE_TYPE_VECTOR3STAMPED:"geometry_msgs/Vector3Stamped",MESSAGE_TYPE_WRENCHSTAMPED:"geometry_msgs/WrenchStamped",MESSAGE_TYPE_BOUNDINGVOLUME:"moveit_msgs/BoundingVolume",MESSAGE_TYPE_COLLISION_OBJECT:R,MESSAGE_TYPE_DISPLAYROBOTSTATE:"moveit_msgs/DisplayRobotState",MESSAGE_TYPE_DISPLAYTRAJECTORY:F,MESSAGE_TYPE_PLANNINGSCENE:L,MESSAGE_TYPE_OCCUPANCYGRID:"nav_msgs/OccupancyGrid",MESSAGE_TYPE_ODOMETRY:"nav_msgs/Odometry",MESSAGE_TYPE_PATH:"nav_msgs/Path",MESSAGE_TYPE_COMPRESSEDIMAGE:"sensor_msgs/CompressedImage",MESSAGE_TYPE_DISPLAYJOINTSTATE:"sensor_msgs/JointState",MESSAGE_TYPE_IMAGE:"sensor_msgs/Image",MESSAGE_TYPE_LASERSCAN:"sensor_msgs/LaserScan",MESSAGE_TYPE_MAGNETICFIELD:"sensor_msgs/MagneticField",MESSAGE_TYPE_POINTCLOUD:"sensor_msgs/PointCloud",MESSAGE_TYPE_POINTCLOUD2:"sensor_msgs/PointCloud2",MESSAGE_TYPE_RANGE:"sensor_msgs/Range",MESSAGE_TYPE_TF:"tf/tfMessage",MESSAGE_TYPE_TF2:"tf2_msgs/TFMessage",MESSAGE_TYPE_MARKER:"visualization_msgs/Marker",MESSAGE_TYPE_MARKERARRAY:"visualization_msgs/MarkerArray",MESSAGE_TYPE_INTERACTIVEMARKER:D,MESSAGE_TYPE_INTERACTIVEMARKER_UPDATE:"visualization_msgs/InteractiveMarkerUpdate",MESSAGE_TYPE_INTERACTIVEMARKER_FEEDBACK:"visualization_msgs/InteractiveMarkerFeedback",VIZ_TYPE_IMAGE:"Image",VIZ_TYPE_INTERACTIVEMARKER:"InteractiveMarker",VIZ_TYPE_LASERSCAN:"LaserScan",VIZ_TYPE_MAP:"Map",VIZ_TYPE_MARKER:"Marker",VIZ_TYPE_MARKERARRAY:"MarkerArray",VIZ_TYPE_ODOMETRY:"Odometry",VIZ_TYPE_PATH:"Path",VIZ_TYPE_POINT:"Point",VIZ_TYPE_POINTCLOUD:"PointCloud",VIZ_TYPE_POLYGON:"Polygon",VIZ_TYPE_POSE:"Pose",VIZ_TYPE_POSEARRAY:"PoseArray",VIZ_TYPE_RANGE:"Range",VIZ_TYPE_ROBOTMODEL:"RobotModel",VIZ_TYPE_TF:"Tf",VIZ_TYPE_WRENCH:"Wrench",POINT_FIELD_DATATYPES:j,COLLISION_OBJECT_OPERATIONS:N,SOLID_PRIMITIVE_TYPES:I,MARKER_OBJECT_TYPES:B,LINE_STYLES:{LINES:"Lines",BILLBOARDS:"Billboards"},MAP_COLOR_SCHEMES:z,LASERSCAN_STYLES:U,COLOR_TRANSFORMERS:H,POINTCLOUD_COLOR_CHANNELS:V,AXES:W,INTENSITY_CHANNEL_OPTIONS:$,ODOMETRY_OBJECT_TYPES:G,POSE_OBJECT_TYPES:q,WRENCH_OBJECT_TYPES:Y,DEFAULT_CYLINDER_HEIGHT:X,DEFAULT_CYLINDER_RADIUS:K,DEFAULT_RADIAL_SEGMENTS:Z,DEFAULT_CONE_HEIGHT:J,DEFAULT_CONE_RADIUS:Q,DEFAULT_COLOR_X_AXIS:ee,DEFAULT_COLOR_Y_AXIS:te,DEFAULT_COLOR_Z_AXIS:ne,DEFAULT_COLOR_ARROW:re,DEFAULT_COLOR_LINE:ie,DEFAULT_OPTIONS_SCENE:oe,DEFAULT_OPTIONS_TF_VIEWER:ae,DEFAULT_OPTIONS_ARROW:se,DEFAULT_OPTIONS_AXES:ce,DEFAULT_OPTIONS_FLATARROW:le,DEFAULT_OPTIONS_DISPLAYTRAJECTORY:ue,DEFAULT_OPTIONS_COLLISION_OBJECT:de,DEFAULT_OPTIONS_DEPTHCLOUD:pe,DEFAULT_OPTIONS_IMAGE:me,DEFAULT_OPTIONS_IMAGE_STREAM:ge,DEFAULT_OPTIONS_LASERSCAN:ve,DEFAULT_OPTIONS_MAP:ye,DEFAULT_OPTIONS_MARKER:be,DEFAULT_OPTIONS_MARKERARRAY:we,DEFAULT_OPTIONS_INTERACTIVE_MARKER:xe,DEFAULT_OPTIONS_ODOMETRY:_e,DEFAULT_OPTIONS_PATH:Ee,DEFAULT_OPTIONS_PLANNINGSCENE:Se,DEFAULT_OPTIONS_POINTCLOUD:Ce,DEFAULT_OPTIONS_POINT:Ae,DEFAULT_OPTIONS_POLYGON:Te,DEFAULT_OPTIONS_POSE:Me,DEFAULT_OPTIONS_TORUS:ke,DEFAULT_OPTIONS_ARROW_WITH_CIRCLE:Oe,DEFAULT_OPTIONS_WRENCH:Pe,DEFAULT_OPTIONS_POSEARRAY:Re,DEFAULT_OPTIONS_RANGE:Fe,DEFAULT_OPTIONS_ROBOTMODEL:Le,DEFAULT_OPTIONS_TF:De,SUPPORTED_MESSAGE_TYPES:je,UNSUPPORTED_MESSAGE_TYPES:Ne}),Be=function(e,t){switch(t.type){case"Arrow":var n=t.alpha,r=t.color,o=t.headLength,a=t.headRadius,s=t.shaftLength,c=t.shaftRadius;e.setHeadDimensions({radius:a,length:o}),e.setShaftDimensions({radius:c,length:s}),e.setAlpha(n),e.setColor({cone:new i.Color(r),cylinder:new i.Color(r)});break;case C:var l=t.axesLength,u=t.axesRadius;e.setLength(l),e.setRadius(u);break;case A:var h=t.arrowLength,d=t.color;e.setLength(h),e.setColor(new i.Color(d));break;case"ArrowWithCircle":var f=t.alpha,p=t.circleConeLength,m=t.circleConeRadius,g=t.circleRadius,v=t.color,y=t.headLength,b=t.headRadius,w=t.shaftLength,x=t.shaftRadius,_=t.tube;e.setHeadDimensions({radius:b,length:y}),e.setShaftDimensions({radius:x,length:w}),e.setTorusDimensions({radius:g,tube:_}),e.setCircleConeDimensions({radius:m,length:p}),e.setAlpha(f),e.setColor({cone:new i.Color(v),cylinder:new i.Color(v),torus:new i.Color(v),circleCone:new i.Color(v)})}};function ze(e){if(null==e)throw new TypeError("Expected 'val' to be defined, but received "+e)}function Ue(e){if(!(e instanceof i.Mesh))throw new TypeError("Expected 'val' to be mesh")}function He(e){if(!(e instanceof i.Material))throw new TypeError("Expected 'val' to be Material")}function Ve(e){if(void 0===e.length)throw new TypeError("Expected 'val' to be an array")}function We(e){return e instanceof i.Object3D}function $e(e){return e instanceof HTMLElement}function Ge(e){if(!(e instanceof HTMLVideoElement))throw new Error("the provided element must be an HTMLVideoElement")}var qe=function(){function e(e,t,n,r){void 0===r&&(r={});var i=r.onHeaderChange;this.options=r,this.ros=e,this.headerFrameId="",e&&t&&this.changeTopic(t,n,!1),this.onHeaderChange=i||function(){},this.update=this.update.bind(this)}return e.prototype.hide=function(){ze(this.object),this.object.visible=!1},e.prototype.show=function(){ze(this.object),this.object.visible=!0},e.prototype.destroy=function(){this.unsubscribe(),this.object&&this.object.parent&&(this.object.parent.remove(this.object),this.object=null)},e.prototype.reset=function(){},e.prototype.subscribe=function(){var e=this;this.dataSourceInstances&&this.dataSourceInstances.forEach((function(t){var n={next:e.update,error:function(e){return console.log(e)},complete:function(){return console.log("stream complete")}};t.addListener(n)}))},e.prototype.unsubscribe=function(){this.dataSourceInstances&&this.dataSourceInstances.forEach((function(e){e.removeAllListeners()}))},e.prototype.update=function(e){var t=e.header?e.header.frame_id:"";t!==this.headerFrameId&&(this.headerFrameId=t,this.onHeaderChange(this.headerFrameId))},e.prototype.updateOptions=function(e){this.options=y(y({},this.options),e)},e.prototype.changeTopic=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=this.options,o=i.compression,a=i.queueSize,s=i.throttleRate;n&&this.unsubscribe(),this.topicName=e,this.messageType=t||this.messageType,this.dataSourceInstances=(Array.isArray(e)?e:[{name:e,messageType:t}]).map((function(e){var t=e.name,n=e.messageType;return new S({ros:r.ros,topicName:t,messageType:n,compression:o||"none",throttleRate:s||0,queueSize:a||10})})),n&&(this.reset(),this.subscribe())},e}(),Ye=function(e,t){var n=t.translation,r=n.x,o=n.y,a=n.z,s=t.rotation,c=s.w,l=s.x,u=s.y,h=s.z;e.position.set(r,o,a),e.quaternion.copy(new i.Quaternion(l,u,h,c).normalize())},Xe=function(e,t){var n=t.x,r=t.y,i=t.z;e.scale.set(n,r,i)},Ke=function(e,t){"color"in e.material&&("string"==typeof t||"number"==typeof t?e.material.color=new i.Color(t):e.material.color.setRGB(t.r,t.g,t.b))},Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.setTransform=function(e){Ye(this,e)},t.prototype.setScale=function(e){Xe(this,e)},t.prototype.setColor=function(e){this.children.forEach((function(t){Ke(t,e)}))},t}(i.Group),Je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.setTransform=function(e){Ye(this,e)},t.prototype.setScale=function(e){e&&Xe(this,e)},t.prototype.setColor=function(e){e&&Ke(this,e)},t.prototype.setAlpha=function(e){Array.isArray(this.material)?this.material.forEach((function(t){t.opacity=i.Math.clamp(e,0,1)})):this.material.opacity=i.Math.clamp(e,0,1)},t}(i.Mesh),Qe=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.BoxGeometry,t.material=new i.MeshLambertMaterial,t}return v(t,e),t}(Je),et=function(e){function t(t,n,r){void 0===r&&(r=de);var i=e.call(this,null!=t?t:null,null!=n?n:null,R,y(y({},de),r))||this;return i.object=new Ze,i.updateOptions(y(y({},de),r)),i}return v(t,e),t.prototype.update=function(n){var r,i;e.prototype.update.call(this,n);var o=n.id,a=n.operation,s=n.primitive_poses,c=n.primitives,l=this.object.getObjectByName(o);switch(a){case N.ADD:l&&(null===(r=l.parent)||void 0===r||r.remove(l));var u=new Ze;u.name=o,c.forEach((function(e,n){var r,i=t.getNewPrimitive(e);null===(r=i)||void 0===r||r.setTransform({translation:s[n].position,rotation:s[n].orientation}),i&&u.add(i)})),this.object.add(u);break;case N.REMOVE:l&&(null===(i=l.parent)||void 0===i||i.remove(l));break;case N.APPEND:c.forEach((function(e,n){var r,i,o=t.getNewPrimitive(e);null===(r=o)||void 0===r||r.setTransform({translation:s[n].position,rotation:s[n].orientation}),o&&(null===(i=l)||void 0===i||i.add(o))}))}},t.getNewPrimitive=function(e){var t=e.type,n=e.dimensions;switch(t){case I.BOX:var r=new Qe,i=_(n,3),o=i[0],a=i[1],s=i[2];return r.setScale({x:o,y:a,z:s}),r;default:return null}},t}(qe),tt=function(e){function t(t,n,r){void 0===r&&(r=ue);var o=e.call(this,t,n,F,r)||this;o.pointsUpdateIds=[],o.object=new Ze,o.updateOptions(y(y({},ue),r));var a=o.options.robot;return o.robotClone=a.clone(!0),Object.keys(o.robotClone.links).forEach((function(e){o.robotClone.links[e].traverse((function(e){e.material&&(e.material=new i.MeshPhongMaterial({color:"#ff0000"}))}))})),o}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t),t.loop&&this.lastMessage?this.update(this.lastMessage,!0):this.resetLoopback()},t.prototype.resetLoopback=function(){clearTimeout(this.loopbackId),clearTimeout(this.poseRemovalId),this.pointsUpdateIds&&this.pointsUpdateIds.map((function(e){return clearTimeout(e)})),this.pointsUpdateIds=[],this.robotClone&&this.robotClone.parent&&this.robotClone.parent.remove(this.robotClone)},t.prototype.update=function(t,n){var r,i=this,o=this.options.loop;this.resetLoopback(),n||(this.lastMessage=t),e.prototype.update.call(this,t);var a=_(t.trajectory,1)[0].joint_trajectory,s=a.joint_names,c=a.points,l=t.trajectory_start.joint_state,u=l.name,h=l.position;if(null===(r=this.object)||void 0===r||r.add(this.robotClone),u.forEach((function(e,t){var n=i.robotClone.getObjectByName(e);n&&n.setAngle(h[t])})),c.forEach((function(e){var t=e.positions,n=e.time_from_start,r=n.nsec,o=n.sec;i.pointsUpdateIds.push(window.setTimeout((function(){s.forEach((function(e,n){var r=i.robotClone.getObjectByName(e);r&&r.setAngle(t[n])}))}),1e3*o+r/1e6))})),c.length>0){var d=c[c.length-1].time_from_start,f=d.nsec,p=d.sec;this.poseRemovalId=window.setTimeout((function(){var e;null===(e=i.robotClone.parent)||void 0===e||e.remove(i.robotClone),o&&(i.loopbackId=window.setTimeout((function(){i.lastMessage&&i.update(i.lastMessage,!0)}),1e3))}),1e3*p+f/1e6)}},t}(qe),nt=function(e){function t(t,n,r){void 0===r&&(r=Se);var i=e.call(this,t,n,L,y(y({},Se),r))||this;return i.collisionObjectViz=new et,i.attachedCollisionObjects=new Map,i.object=new Ze,i.object.add(i.collisionObjectViz.object),i.updateOptions(y(y({},Se),r)),i}return v(t,e),t.prototype.update=function(t){var n,r,i=this;e.prototype.update.call(this,t);var o=t.robot_state,a=o.attached_collision_objects,s=void 0===a?[]:a,c=o.is_diff,l=o.joint_state,u=l.name,h=l.position;if(t.world.collision_objects.forEach((function(e){i.collisionObjectViz.update(e)})),s.length&&s.map((function(e){var t,n=e.link_name,r=e.object,o=new et,a=null===(t=i.object)||void 0===t?void 0:t.getObjectByName(n);ze(a),o.object=a,o.update(r),i.attachedCollisionObjects.set(r.id,o)})),!c){var d=s.map((function(e){return e.object.id}));try{for(var f=x(this.attachedCollisionObjects.entries()),p=f.next();!p.done;p=f.next()){var m=_(p.value,2),g=m[0],v=m[1];-1===d.indexOf(g)&&(v.update({id:g,operation:N.REMOVE}),this.attachedCollisionObjects.delete(g))}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}u.forEach((function(e,t){var n,r=null===(n=i.object)||void 0===n?void 0:n.getObjectByName(e);r&&r.setAngle(h[t])}))},t}(qe),rt=function(e){function t(t,n,r){void 0===t&&(t=re),void 0===n&&(n=K),void 0===r&&(r=X);var o=e.call(this)||this;return o.geometry=new i.CylinderGeometry(n,n,r,Z),o.material=new i.MeshLambertMaterial({color:t}),o.material.transparent=!0,o.rotateX(Math.PI/2),o}return v(t,e),t}(Je),it=function(e){function t(t){void 0===t&&(t=ee);var n=e.call(this)||this;return n.geometry=new i.ConeGeometry(Q,J,Z),n.material=new i.MeshLambertMaterial({color:t}),n.material.transparent=!0,n}return v(t,e),t}(Je),ot=function(e){function t(){var t=e.call(this)||this;return t.cone=new it(ee),t.cylinder=new rt(ee),t.cone.rotateZ(-Math.PI/2),t.cylinder.rotateZ(-Math.PI/2),t.cone.setScale({x:Q,y:J,z:Q}),t.cylinder.setScale({x:K,y:X,z:K}),t.cylinder.translateY(t.cylinder.scale.y/2),t.cone.translateY(t.cylinder.scale.y+t.cone.scale.y/2),t.add(t.cone),t.add(t.cylinder),t}return v(t,e),t.prototype.setTransform=function(e){Ye(this,e)},t.prototype.setColor=function(e){var t=e.cone,n=e.cylinder;t&&this.cone.setColor(t),n&&this.cylinder.setColor(n)},t.prototype.setHeadDimensions=function(e){var t=e.radius,n=e.length;if(t){var r=this.cone.scale.y;this.cone.setScale({x:t,y:r,z:t})}if(n){var i=this.cone.scale,o=i.x,a=i.z;this.cone.setScale({x:o,y:n,z:a}),this.cone.position.set(0,0,0),this.cone.translateY(this.cylinder.scale.y+n/2)}},t.prototype.setShaftDimensions=function(e){var t=e.radius,n=e.length;if(t){var r=this.cylinder.scale.y;this.cylinder.setScale({x:t,y:r,z:t})}if(n){var i=this.cylinder.scale,o=i.x,a=i.z;this.cylinder.setScale({x:o,y:n,z:a}),this.cylinder.position.set(0,0,0),this.cylinder.translateY(n/2),this.setHeadDimensions({length:this.cone.scale.y})}},t.prototype.setAlpha=function(e){this.cylinder.setAlpha(e),this.cone.setAlpha(e)},t.prototype.setScale=function(e){var t=e.x,n=_([t/2,t/2],2),r=n[0],i=n[1];Xe(this,{x:t,y:r,z:i})},t}(i.Group),at=function(e){function t(t,n){void 0===t&&(t=K),void 0===n&&(n=X);var r=e.call(this)||this;return r.objectType=C,r.x=new rt(ee,t,n),r.y=new rt(te,t,n),r.z=new rt(ne,t,n),r.x.translateX(n/2),r.y.translateZ(-n/2),r.z.translateY(n/2),r.x.rotateZ(-Math.PI/2),r.y.rotateX(Math.PI/2),r.add(r.x),r.add(r.y),r.add(r.z),r}return v(t,e),t.prototype.setLength=function(e){var t=+(""+e);[this.x,this.y,this.z].forEach((function(e){e.position.set(0,0,0),e.scale.setY(t)})),this.x.translateY(t/2),this.y.translateY(-t/2),this.z.translateY(t/2)},t.prototype.setRadius=function(e){var t=+(""+e);this.children.forEach((function(e){e.scale.setX(t),e.scale.setZ(t)}))},t}(Ze),st=function(e){function t(t,n){void 0===t&&(t=ie),void 0===n&&(n=!1);var r=e.call(this)||this;r.geometry=new i.Geometry,r.geometry.vertices.push(new i.Vector3(0,0,0));var o={};return n||(o.vertexColors=i.VertexColors),r.material=new i.LineBasicMaterial(y({},o)),r.material.transparent=!0,r.setColor(t),r}return v(t,e),t.prototype.setColor=function(e){e&&Ke(this,e)},t.prototype.updatePoints=function(e,t){void 0===t&&(t=[]),this.geometry.vertices=e.map((function(e){var t=e.x,n=e.y,r=e.z;return new i.Vector3(t,n,r)})),this.geometry.verticesNeedUpdate=!0;var n=[];t.forEach((function(e){if("string"==typeof e||"number"==typeof e)n.push(new i.Color(e));else if(e){var t=e.r,r=e.g,o=e.b;n.push(new i.Color(t,r,o))}})),this.geometry.colors=n,this.geometry.colorsNeedUpdate=!0},t.prototype.setTransform=function(e){Ye(this,e)},t.prototype.setAlpha=function(e){He(this.material),this.material.opacity=e},t}(i.Line),ct=function(e){function t(){var t=e.call(this)||this;return t.objectType=A,t.arrowTop=new st(16711680,!0),t.topPoints=[],t.arrowLength=new st(16711680,!0),t.topPoints.push(new i.Vector3(2,1,0)),t.topPoints.push(new i.Vector3(3,0,0)),t.topPoints.push(new i.Vector3(2,-1,0)),t.arrowTop.updatePoints(t.topPoints),t.add(t.arrowTop),t.arrowLength.updatePoints([new i.Vector3(0,0,0),new i.Vector3(3,0,0)]),t.add(t.arrowLength),t.scale.set(.1,.1,.1),t}return v(t,e),t.prototype.setLength=function(e){this.scale.set(e,e,e)},t.prototype.setColor=function(e){var t=e.r,n=e.g,r=e.b;this.arrowTop.material.color.setRGB(t,n,r),this.arrowLength.material.color.setRGB(t,n,r)},t}(Ze),lt=function(){function e(e){var t,n=this;this.onHeaderChange=function(e){},this.headerFrameId="",this.hide=function(){ze(n.object),We(n.object)?n.object.visible=!1:$e(n.object)&&(n.object.style.visibility="hidden")},this.show=function(){ze(n.object),We(n.object)?n.object.visible=!0:$e(n.object)&&(n.object.style.visibility="visible")},this.destroy=function(){var e,t,r,i;n.unsubscribe(),We(n.object)?null===(t=null===(e=n.object)||void 0===e?void 0:e.parent)||void 0===t||t.remove(n.object):$e(n.object)&&(null===(i=null===(r=n.object)||void 0===r?void 0:r.parentElement)||void 0===i||i.removeChild(n.object)),n.object=void 0},this.reset=function(){},this.subscribe=function(){n.sources.forEach((function(e){var t={next:n.update,error:function(e){return console.log(e)},complete:function(){}};e.addListener(t)}))},this.unsubscribe=function(){n.sources.forEach((function(e){e.removeAllListeners()}))},this.sources=e.sources,this.options=null!=(t=e.options)?t:{},this.update=this.update.bind(this),this.updateOptions=this.updateOptions.bind(this)}return e.prototype.update=function(e){var t,n,r=null!=(n=null===(t=e.header)||void 0===t?void 0:t.frame_id)?n:"";r!==this.headerFrameId&&(this.headerFrameId=r,this.onHeaderChange(this.headerFrameId))},e.prototype.updateOptions=function(e){this.options=y(y({},this.options),e)},e.prototype.changeSources=function(e){this.unsubscribe(),this.sources=e,this.subscribe()},e}(),ut=function(e){function t(t,n){void 0===n&&(n=Me);var r=e.call(this,{sources:[t],options:y(y({},Me),n)})||this;return r.object=new i.Group,r.primitive=null,r.updateOptions(y(y({},Me),n)),r}return v(t,e),t.getNewPrimitive=function(e){var t=null;switch(e.type){case q.arrow:t=new ot;break;case q.axes:t=new at;break;case q.flatArrow:t=new ct}return t},t.prototype.updateOptions=function(n){var r,i,o;e.prototype.updateOptions.call(this,n);var a=this.options.type;if((null===(r=this.primitive)||void 0===r?void 0:r.type)!==a&&(null===(i=this.object)||void 0===i||i.remove(this.primitive),this.primitive=null),!this.primitive){var s=t.getNewPrimitive(this.options);s&&(this.primitive=s,null===(o=this.object)||void 0===o||o.add(this.primitive))}Be(this.primitive,this.options)},t.prototype.update=function(t){var n;e.prototype.update.call(this,t);var r=t.pose,i=r.orientation,o=r.position;null===(n=this.primitive)||void 0===n||n.setTransform({translation:o,rotation:i})},t}(lt),ht=function(e){function t(){var t=e.call(this)||this;t.circleCone=new it(ee),t.material=new i.MeshLambertMaterial({color:t.cone.material.color}),t.add(t.circleCone),t.material.transparent=!0;var n=ke,r=new i.TorusGeometry(n.circleRadius,n.tube,n.radialSegments,n.tubularSegments,n.arc);return t.torus=new Je(r,t.material),t.add(t.torus),t.circleCone.rotateX(r.parameters.arc),t.circleCone.translateZ(-Math.cos(-r.parameters.arc)*r.parameters.radius),t.circleCone.translateY(-Math.sin(-r.parameters.arc)*r.parameters.radius),t.circleCone.translateX(t.cylinder.scale.y/2),t.torus.translateX(t.cylinder.scale.y/2),t.torus.rotateY(Math.PI/2),t}return v(t,e),t.prototype.setTorusDimensions=function(e){var t=e.radius,n=e.tube,r=ke;this.torus.geometry=new i.TorusGeometry(t,n,r.radialSegments,r.tubularSegments,r.arc),this.torus.position.set(0,0,0),this.torus.rotation.set(0,0,0),this.torus.translateX(this.cylinder.scale.y/2),this.torus.rotateY(Math.PI/2)},t.prototype.setCircleConeDimensions=function(e){var t=e.radius,n=+(""+t),r=+(""+e.length);if(function(e){if(!(e instanceof i.TorusGeometry))throw new Error("the provided geometry was not TorusGeometry")}(this.torus.geometry),n){var o=this.circleCone.scale.y;this.circleCone.setScale({x:t,y:o,z:t})}if(r){var a=this.circleCone.scale,s=a.x,c=a.z;this.circleCone.setScale({x:s,y:r,z:c})}this.circleCone.position.set(0,0,0),this.circleCone.rotation.set(0,0,0),this.circleCone.translateX(this.cylinder.scale.y/2),this.circleCone.translateZ(-Math.cos(-this.torus.geometry.parameters.arc)*this.torus.geometry.parameters.radius),this.circleCone.translateY(-Math.sin(-this.torus.geometry.parameters.arc)*this.torus.geometry.parameters.radius),this.circleCone.rotateX(this.torus.geometry.parameters.arc)},t.prototype.setColor=function(e){var t=e.cone,n=e.cylinder,r=e.torus,i=e.circleCone;t&&this.cone.setColor(t),n&&this.cylinder.setColor(n),r&&Ke(this.torus,this.cone.material.color),i&&this.circleCone.setColor(i)},t.prototype.setAlpha=function(t){e.prototype.setAlpha.call(this,t),He(this.torus.material),this.torus.material.opacity=i.Math.clamp(t,0,1),this.circleCone.setAlpha(t)},t}(ot),dt=function(e){function t(t,n){void 0===n&&(n=Pe);var r=e.call(this,{sources:[t],options:y(y({},Pe),n)})||this;return r.primitiveX=null,r.primitiveY=null,r.object=new i.Group,r}return v(t,e),t.getNewPrimitive=function(e){var t=null;switch(e.type){case Y.arrow:t=new ot;break;case Y.arrowWithCircle:t=new ht}return t},t.prototype.getOrUpdatePrimitive=function(e,n){var r,i,o;if(null===e||(null===(r=e)||void 0===r?void 0:r.type)!==n){e&&(null===(i=this.object)||void 0===i||i.remove(e));var a=t.getNewPrimitive({type:n});return a&&(null===(o=this.object)||void 0===o||o.add(a)),a}return e},t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t),this.primitiveX=this.getOrUpdatePrimitive(this.primitiveX,Y.arrow),this.primitiveY=this.getOrUpdatePrimitive(this.primitiveY,Y.arrowWithCircle);var n={color:this.options.forceColor,alpha:this.options.alpha,headLength:this.options.headLength*this.options.forceArrowScale,headRadius:this.options.headRadius*this.options.arrowWidth,shaftLength:this.options.shaftLength*this.options.forceArrowScale,shaftRadius:this.options.shaftRadius*this.options.arrowWidth,type:Y.arrow},r={color:this.options.torqueColor,alpha:this.options.alpha,arc:this.options.arc,circleConeRadius:this.options.circleConeRadius*this.options.arrowWidth,circleConeLength:this.options.circleConeLength*this.options.arrowWidth,circleRadius:this.options.circleRadius*this.options.torqueArrowScale,headLength:this.options.headLength*this.options.torqueArrowScale,headRadius:this.options.headRadius*this.options.arrowWidth,shaftLength:this.options.shaftLength*this.options.torqueArrowScale,shaftRadius:this.options.shaftRadius*this.options.arrowWidth,tube:this.options.tube*this.options.arrowWidth,tubularSegments:this.options.tubularSegments,type:Y.arrowWithCircle};Be(this.primitiveX,n),Be(this.primitiveY,r)},t.prototype.update=function(t){var n,r;e.prototype.update.call(this,t);var o=t.wrench,a=o.force,s=o.torque,c=new i.Vector3(1,0,0),l=new i.Vector3(a.x,a.y,a.z).normalize(),u=new i.Vector3(s.x,s.y,s.z).normalize(),h=(new i.Quaternion).setFromUnitVectors(c,l),d=(new i.Quaternion).setFromUnitVectors(c,u);null===(n=this.primitiveX)||void 0===n||n.setTransform({translation:{y:0,x:0,z:0},rotation:h}),null===(r=this.primitiveY)||void 0===r||r.setTransform({translation:{y:0,x:0,z:0},rotation:d})},t}(lt),ft=function(e){function t(t,n,r){void 0===r&&(r=Te);var i=e.call(this,t,n,P,y(y({},Te),r))||this;return i.object=new Ze,i.line=new st(null,!0),i.updateOptions(y(y({},Te),r)),i}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t);var n=this.options,r=n.alpha,o=n.color;this.line.setColor(new i.Color(o)),this.line.setAlpha(r)},t.prototype.update=function(t){e.prototype.update.call(this,t);var n=t.polygon.points;n.push(n[0]),this.line.updatePoints(n),this.object.add(this.line)},t}(qe),pt=function(e){function t(t){var n=e.call(this)||this;return(new i.FontLoader).load("https://raw.githubusercontent.com/mrdoob/three.js/dev/examples/fonts/helvetiker_regular.typeface.json",(function(e){n.geometry=new i.TextGeometry(t,{font:e,size:.05,height:.005,curveSegments:12,bevelEnabled:!1,bevelThickness:10,bevelSize:8,bevelSegments:5}),n.material=new i.MeshBasicMaterial({color:14540253})})),n.rotateX(Math.PI/2),n.rotateY(Math.PI),n}return v(t,e),t}(Je),mt=function(e){function t(n){var r=e.call(this)||this;r.arrow=new ot,r.add(new at(.015,.25));var o=new pt(n);return o.rotateY(Math.PI).translateX(.03).translateY(.03),r.add(o),r.arrow.setHeadDimensions({length:.3*J/2,radius:.1*Q/2}),r.arrow.setShaftDimensions({length:.85*X,radius:.05*K/6}),r.arrow.setColor({cone:new i.Color("#FF1493"),cylinder:new i.Color(re)}),r.add(r.arrow),r.name=t.getName(n),r}return v(t,e),t.getName=function(e){return"tf-"+e},t}(Ze),gt=function(e){function t(t,n){void 0===n&&(n=De);var r=e.call(this,{sources:[t],options:y(y({},De),n)})||this;return r.object=new i.Group,r.object.name="tf-tree",r}return v(t,e),t.prototype.update=function(e){var t,n=this;e.transforms.forEach((function(e){var t=e.header.frame_id,r=e.child_frame_id,o=e.transform,a=_([n.getFrameOrCreate(r),n.getFrameOrCreate(t)],2),s=a[0],c=a[1];if(c.add(s),s.setTransform(o),s.position.length()<.1)s.arrow.visible=!1;else{s.arrow.lookAt(c.getWorldPosition(new i.Vector3)),s.arrow.rotateY(-Math.PI/2),s.arrow.visible=!0;var l=s.arrow.cone.scale.y;s.arrow.setShaftDimensions({length:s.position.length()-l})}})),null===(t=this.object)||void 0===t||t.children.forEach((function(e){e.arrow.visible=!1}))},t.prototype.getFrameOrCreate=function(e){var t,n,r=null===(t=this.object)||void 0===t?void 0:t.getObjectByName(mt.getName(e));if(r)return r;var i=new mt(e);return null===(n=this.object)||void 0===n||n.add(i),i},t}(lt);function vt(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r||"undefined"!=typeof self&&self;var yt,bt=vt((function(e,t){e.exports=function(e,t,n,r){function i(e){return(i="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(){for(var e,t=Object.getPrototypeOf(this),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(e=t.clone).call.apply(e,[this].concat(r));return o.isURDFCollider=!0,o}function v(e){e.isURDFCollider=!0,e.clone=g}var y=function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=d(this,(e=u(t)).call.apply(e,[this].concat(i)))).isURDFLink=!0,n.type="URDFLink",n.urdfNode=null,n}return l(t,e),s(t,[{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"delete",value:function(){var e=this;this.parent.remove(this),this.children.map((function(t){e.remove(t)}))}},{key:"copy",value:function(e,n){return f(u(t.prototype),"copy",this).call(this,e,n),this.urdfNode=e.urdfNode,this}}]),t}(e.Object3D),b=function(t){function n(){var e,t;o(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=d(this,(e=u(n)).call.apply(e,[this].concat(i)))).isURDFJoint=!0,t.type="URDFJoint",t.urdfNode=null,t.jointValue=null,t.jointType="fixed",t.axis=null,t.limit={lower:0,upper:0},t.ignoreLimits=!1,t.origPosition=null,t.origQuaternion=null,t}return l(n,t),s(n,[{key:"jointType",get:function(){return this._jointType},set:function(e){if(this.jointType!==e)switch(this._jointType=e,e){case"fixed":case"continuous":case"revolute":case"prismatic":this.jointValue=0;break;case"planar":this.jointValue=new Array(2).fill(0);break;case"floating":this.jointValue=new Array(6).fill(0)}}},{key:"angle",get:function(){return this.jointValue}}]),s(n,[{key:"copy",value:function(e,t){return f(u(n.prototype),"copy",this).call(this,e,t),this.urdfNode=e.urdfNode,this.jointType=e.jointType,this.axis=e.axis?e.axis.clone():null,this.limit.lower=e.limit.lower,this.limit.upper=e.limit.upper,this.ignoreLimits=!1,this.jointValue=Array.isArray(e.jointValue)?m(e.jointValue):e.jointValue,this.origPosition=e.origPosition?e.origPosition.clone():null,this.origQuaternion=e.origQuaternion?e.origQuaternion.clone():null,this}},{key:"setAngle",value:function(){return this.setOffset.apply(this,arguments)}},{key:"setOffset",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];switch(n=n.map((function(e){return parseFloat(e)})),this.origPosition&&this.origQuaternion||(this.origPosition=this.position.clone(),this.origQuaternion=this.quaternion.clone()),this.jointType){case"fixed":break;case"continuous":case"revolute":var i=n[0];if(null==i)break;if(i===this.jointValue)break;this.ignoreLimits||"revolute"!==this.jointType||(i=Math.min(this.limit.upper,i),i=Math.max(this.limit.lower,i));var o=(new e.Quaternion).setFromAxisAngle(this.axis,i);this.quaternion.multiplyQuaternions(this.origQuaternion,o),this.jointValue=i,this.matrixWorldNeedsUpdate=!0;break;case"prismatic":var a=n[0];if(null==a)break;if(a===this.jointValue)break;this.ignoreLimits||(a=Math.min(this.limit.upper,a),a=Math.max(this.limit.lower,a)),this.position.copy(this.origPosition),this.position.addScaledVector(this.axis,a),this.jointValue=a,this.worldMatrixNeedsUpdate=!0;break;case"floating":case"planar":console.warn("'".concat(this.jointType,"' joint not yet supported"))}return this.jointValue}}]),n}(e.Object3D),w=function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=d(this,(e=u(t)).call.apply(e,[this].concat(i)))).isURDFRobot=!0,n.urdfNode=null,n.urdfRobotNode=null,n.robotName=null,n.links=null,n.joints=null,n}return l(t,e),s(t,[{key:"copy",value:function(e,n){var r=this;return f(u(t.prototype),"copy",this).call(this,e,n),this.urdfRobotNode=e.urdfRobotNode,this.robotName=e.robotName,this.links={},this.joints={},this.traverse((function(t){t.isURDFJoint&&t.name in e.joints&&(r.joints[t.name]=t),t.isURDFLink&&t.name in e.links&&(r.links[t.name]=t)})),this}},{key:"setAngle",value:function(e){var t=this.joints[e];if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.setAngle.apply(t,r)}return null}},{key:"setAngles",value:function(e){for(var t in e)this.setAngle(t,e[t])}}]),t}(y),x=new e.Quaternion,_=new e.Euler;function E(e){return e?e.trim().split(/\s+/g).map((function(e){return parseFloat(e)})):[0,0,0]}function S(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||e.rotation.set(0,0,0),_.set(t[0],t[1],t[2],"ZYX"),x.setFromEuler(_),x.multiply(e.quaternion),e.quaternion.copy(x)}return function(){function a(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,a),this.manager=t||e.DefaultLoadingManager,this.allowMeshBVH=n,this.retryMap={}}return s(a,[{key:"load",value:function(t,n,r,i,o){var a,s=this,c=this.manager,l=e.LoaderUtils.extractUrlBase(t),u=this.manager.resolveURL(t),h={},d=function(){},f=function(){},p=function(){};c.onError&&(d=c.onProgress.bind(c)),c.onProgress&&(f=c.onProgress.bind(c)),c.onLoad&&(p=c.onLoad.bind(c));var m=this;c.onError=function(e){h[e]="Error in loading resource",i&&i({url:e,retry:m.retryMap[e]}),d(e)},c.onProgress=function(e,t,n){r&&r(e,t,n),f(e,t,n)},c.onLoad=function(){if(n){var e=0===Object.keys(h).length?void 0:h;n(a,e)}p()},o=Object.assign({workingPath:l},o),c.itemStart(u),fetch(u,o.fetchOptions).then((function(e){return e.text()})).then((function(e){a=s.parse(e,o),window.model=a,c.itemEnd(u)})).catch((function(e){console.error("URDFLoader: Error parsing file.",e),c.itemError(u),c.itemEnd(u)}))}},{key:"parse",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.packages||"",s=o.loadMeshCb||this.defaultMeshLoader.bind(this),c=o.workingPath||"",l=!("parseVisual"in o)||o.parseVisual,u=o.parseCollision||!1,h=this.manager,d={},f={},g={};function x(e){if(!/^package:\/\//.test(e))return c?c+e:e;var t=p(e.replace(/^package:\/\//,"").split(/\/(.+)/),2),n=t[0],r=t[1];return"string"==typeof a?a.endsWith(n)?a+"/"+r:a+"/"+n+"/"+r:"object"===i(a)?n in a?a[n]+"/"+r:(console.error("URDFLoader : ".concat(n," not found in provided package list.")),null):void 0}var _=function(e){var t=m((new DOMParser).parseFromString(e,"text/xml").children).filter((function(e){return"robot"===e.nodeName})).pop();return C.call(n,t)};function C(e){var t=this,n=m(e.children),r=n.filter((function(e){return"link"===e.nodeName.toLowerCase()})),i=n.filter((function(e){return"joint"===e.nodeName.toLowerCase()})),o=n.filter((function(e){return"material"===e.nodeName.toLowerCase()})),a=new w;return a.robotName=e.getAttribute("name"),a.urdfRobotNode=e,o.forEach((function(e){var n=e.getAttribute("name");g[n]=M.call(t,e)})),r.forEach((function(n){var r=n.getAttribute("name"),i=null===e.querySelector('child[link="'.concat(r,'"]'));d[r]=T.call(t,n,i?a:null)})),i.forEach((function(e){var n=e.getAttribute("name");f[n]=A.call(t,e)})),a.joints=f,a.links=d,a}function A(t){var n=m(t.children),r=t.getAttribute("type"),i=new b;i.urdfNode=t,i.name=t.getAttribute("name"),i.jointType=r;var o=null,a=null,s=[0,0,0],c=[0,0,0];n.forEach((function(e){var t=e.nodeName.toLowerCase();"origin"===t?(s=E(e.getAttribute("xyz")),c=E(e.getAttribute("rpy"))):"child"===t?a=d[e.getAttribute("link")]:"parent"===t?o=d[e.getAttribute("link")]:"limit"===t&&(i.limit.lower=parseFloat(e.getAttribute("lower")||i.limit.lower),i.limit.upper=parseFloat(e.getAttribute("upper")||i.limit.upper))})),o.add(i),i.add(a),S(i,c),i.position.set(s[0],s[1],s[2]);var l=n.filter((function(e){return"axis"===e.nodeName.toLowerCase()}))[0];if(l){var u=l.getAttribute("xyz").split(/\s+/g).map((function(e){return parseFloat(e)}));i.axis=new e.Vector3(u[0],u[1],u[2]),i.axis.normalize()}return i}function T(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&(n=new y);var r=m(e.children);return n.name=e.getAttribute("name"),n.urdfNode=e,l&&r.filter((function(e){return"visual"===e.nodeName.toLowerCase()})).forEach((function(e){return k.call(t,e,n,g)})),u&&r.filter((function(e){return"collision"===e.nodeName.toLowerCase()})).forEach((function(e){return k.call(t,e,n)})),n}function M(t){var n=this,r=m(t.children),i=new e.MeshPhongMaterial;return i.name=t.getAttribute("name")||"",r.forEach((function(t){var r=t.nodeName.toLowerCase();if("color"===r){var o=t.getAttribute("rgba").split(/\s/g).map((function(e){return parseFloat(e)}));i.color.setRGB(o[0],o[1],o[2]),i.opacity=o[3],i.transparent=o[3]<1}else if("texture"===r){var a=new e.TextureLoader(h),s=x(t.getAttribute("filename"));i.map=a.load(s,(function(){return null}),(function(){return null}),(function e(){n.retryMap[s]=function(){return a.load(s,(function(){return null}),(function(){return null}),e)}}))}})),i}function k(t,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="collision"===t.nodeName.toLowerCase(),c=[0,0,0],l=[0,0,0],u=[1,1,1],d=m(t.children),f=null,p=null,g=d.filter((function(e){return"material"===e.nodeName.toLowerCase()}))[0];if(g){var y=g.getAttribute("name");f=y&&y in o?o[y]:M.call(this,g)}else f=new e.MeshPhongMaterial;d.forEach((function(t){var o=t.nodeName.toLowerCase();if("geometry"===o){var d=t.children[0].nodeName.toLowerCase();if("mesh"===d){var m=x(t.children[0].getAttribute("filename"));if(null!==m){var g=t.children[0].getAttribute("scale");g&&(u=E(g)),s(m,h,(function t(o,d){d?(console.error("URDFLoader: Error loading mesh.",d),i.retryMap[m]=function(){return s(m,h,t)}):o&&(o instanceof e.Mesh&&(o.material=f,i.allowMeshBVH&&(o.raycast=r.acceleratedRaycast,o.geometry.boundsTree=new r.MeshBVH(o.geometry))),n.add(o),o.position.set(c[0],c[1],c[2]),o.rotation.set(0,0,0),o.scale.x*=u[0],o.scale.y*=u[1],o.scale.z*=u[2],S(o,l),a&&v(o))}))}}else if("box"===d){(p=new e.Mesh).geometry=new e.BoxBufferGeometry(1,1,1),p.material=f,i.allowMeshBVH&&(p.raycast=r.acceleratedRaycast,p.geometry.boundsTree=new r.MeshBVH(p.geometry));var y=E(t.children[0].getAttribute("size"));n.add(p),p.scale.set(y[0],y[1],y[2]),a&&v(p)}else if("sphere"===d){(p=new e.Mesh).geometry=new e.SphereBufferGeometry(1,30,30),p.material=f,i.allowMeshBVH&&(p.raycast=r.acceleratedRaycast,p.geometry.boundsTree=new r.MeshBVH(p.geometry));var b=parseFloat(t.children[0].getAttribute("radius"))||0;p.scale.set(b,b,b),n.add(p),a&&v(p)}else if("cylinder"===d){(p=new e.Mesh).geometry=new e.CylinderBufferGeometry(1,1,1,30),p.material=f,i.allowMeshBVH&&(p.raycast=r.acceleratedRaycast,p.geometry.boundsTree=new r.MeshBVH(p.geometry));var w=parseFloat(t.children[0].getAttribute("radius"))||0,_=parseFloat(t.children[0].getAttribute("length"))||0;p.scale.set(w,_,w),p.rotation.set(Math.PI/2,0,0),n.add(p),a&&v(p)}}else"origin"===o&&(c=E(t.getAttribute("xyz")),l=E(t.getAttribute("rpy")))})),p&&(S(p,l,!0),p.position.set(c[0],c[1],c[2]))}return _(t)}},{key:"defaultMeshLoader",value:function(r,i,o){/\.stl(?:\?|$)/i.test(r)?new t.STLLoader(i).load(r,(function(t){var n=new e.Mesh(t,new e.MeshPhongMaterial);o(n)})):/\.dae(?:\?|$)/i.test(r)?new n.ColladaLoader(i).load(r,(function(e){return o(e.scene)})):console.warn("URDFLoader: Could not load model at ".concat(r,".\nNo loader available"))}}]),a}()}(m,o,a,s)})),wt=(yt=bt)&&yt.__esModule&&Object.prototype.hasOwnProperty.call(yt,"default")?yt.default:yt,xt=["PerspectiveCamera","OrthographicCamera","AmbientLight","DirectionalLight","HemisphereLight","Light","RectAreaLight","SpotLight","PointLight"],_t=function(e){function t(t,n,r){void 0===r&&(r=Le);var i=e.call(this,t,n,r)||this;return i.object=new Ze,i.updateOptions(y(y({},Le),r)),i}return v(t,e),t}(function(e){function t(t,n,r){void 0===r&&(r=Le);var o=e.call(this,i.DefaultLoadingManager)||this;return o.packages={},o.hide=function(){var e,t;ze(o.object),Object.values((t=null===(e=o.urdfObject)||void 0===e?void 0:e.links,null!=t?t:[])).forEach((function(e){e.hide()}))},o.show=function(){var e,t;ze(o.object),Object.values((t=null===(e=o.urdfObject)||void 0===e?void 0:e.links,null!=t?t:[])).forEach((function(e){e.show()}))},o.destroy=function(){var e,t,n,r;Object.values((t=null===(e=o.urdfObject)||void 0===e?void 0:e.links,null!=t?t:[])).forEach((function(e){e.delete()})),null===(r=null===(n=o.object)||void 0===n?void 0:n.parent)||void 0===r||r.remove(o.object),o.object=void 0},o.reset=function(){},o.options=r,o.packages=r.packages,o.param=new p.Param({ros:t,name:n}),o.updateOptions=o.updateOptions.bind(o),o.getPackages=o.getPackages.bind(o),o.defaultLoadMeshCallback=o.defaultLoadMeshCallback.bind(o),o.onComplete=o.onComplete.bind(o),o.loadURDF=o.loadURDF.bind(o),o.loadFromParam=o.loadFromParam.bind(o),o.removeExcludedObjects=o.removeExcludedObjects.bind(o),o}return v(t,e),t.prototype.onComplete=function(e){this.removeExcludedObjects(e)},t.prototype.loadFromParam=function(e,t){var n=this;void 0===e&&(e=this.onComplete),void 0===t&&(t={}),this.param.get((function(r){n.loadURDF(r,e,t)}))},t.prototype.loadURDF=function(t,n,r){void 0===n&&(n=this.onComplete);var i=e.prototype.parse.call(this,t,y({packages:r.packages||this.packages,loadMeshCb:r.loadMeshCb||this.defaultLoadMeshCallback,fetchOptions:{mode:"cors",credentials:"same-origin"}},r));ze(this.object),this.urdfObject=i,this.object.add(i),this.object.name=i.robotName,n(this.object)},t.prototype.removeExcludedObjects=function(e){for(var t,n=[e];Object.keys(n).length>0;)null===(t=n.shift())||void 0===t||t.children.forEach((function(e){var t;if(e)if(xt.indexOf(e.type)>-1){var r=e.parent,i=null===(t=r)||void 0===t?void 0:t.children.filter((function(t){return t!==e}));r&&i&&(r.children=i)}else n.push(e)}))},t.prototype.defaultLoadMeshCallback=function(t,n,r){var i=this;e.prototype.defaultMeshLoader.call(this,t,n,(function(e){i.removeExcludedObjects(e),r(e)}))},t.prototype.getPackages=function(e){this.param.get((function(t){var n=(new DOMParser).parseFromString(t,"text/xml"),r=E(Array.from(n.querySelectorAll("mesh"))).map((function(e){var t,n;return _(null===(n=null===(t=e)||void 0===t?void 0:t.getAttribute("filename"))||void 0===n?void 0:n.replace(/^package:\/\//,"").split(/\/(.+)/),1)[0]}));e(E(new Set(r)))}))},t.prototype.updateOptions=function(e){this.options=y(y({},this.options),e)},t}(wt)),Et=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.SphereGeometry(1,Z,Z),t.material=new i.MeshLambertMaterial,t.material.transparent=!0,t}return v(t,e),t}(Je),St=function(e){function t(t,n){void 0===n&&(n=Ae);var r=e.call(this,{sources:[t],options:y(y({},Ae),n)})||this,i=r.options,o=i.alpha,a=i.color,s=i.radius;return r.object=new Ze,r.sphere=new Et,r.object.add(r.sphere),r.sphere.setColor(a),r.sphere.setAlpha(o),r.sphere.setScale({x:s,y:s,z:s}),r}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t)},t.prototype.update=function(t){var n;e.prototype.update.call(this,t);var r=t.point,i=r.x,o=r.y,a=r.z;null===(n=this.object)||void 0===n||n.position.set(i,o,a)},t}(lt),Ct=function(e,t,n,r){var o=e.attributes[t];!function(e){if(!(e instanceof i.BufferAttribute))throw new Error("the provided attribute must be an BufferAttribute")}(o),o.updateRange={offset:0,count:3*r},o.count=r,o.array=n,o.needsUpdate=!0},At=function(){function e(){}return e.decode=function(e,t,n){var r=e.height*e.width,o=new Float32Array(3*r),a=new Float32Array(3*r),s=new Float32Array(3*r),c=Uint8Array.from(e.data).buffer,l=new DataView(c),u={},h={},d=new i.Color;e.fields.forEach((function(e){u[e.name]=e.offset,h[e.name]=function(e,t){switch(t){case j.INT8:return e.getInt8;case j.UINT8:return e.getUint8;case j.INT16:return e.getInt16;case j.UINT16:return e.getUint16;case j.INT32:return e.getInt32;case j.UINT32:return e.getUint32;case j.FLOAT64:return e.getFloat64;case j.FLOAT32:default:return e.getFloat32}}(l,e.datatype)}));for(var f=0;f<r;f++){var p=f*e.point_step;if(void 0!==u.x&&void 0!==u.y&&void 0!==u.z&&(o[3*f]=h.x.call(l,p+u.x,!e.is_bigendian),o[3*f+1]=h.y.call(l,p+u.y,!e.is_bigendian),o[3*f+2]=h.z.call(l,p+u.z,!e.is_bigendian)),void 0!==u.rgb&&t===V.RGB&&(a[3*f]=l.getUint8(p+u.rgb+2)/255,a[3*f+1]=l.getUint8(p+u.rgb+1)/255,a[3*f+2]=l.getUint8(p+u.rgb)/255),void 0!==u.intensity&&t===V.INTENSITY){var m=h.intensity.call(l,p+u.intensity,!e.is_bigendian),g=Math.min(m,360)/360;if(n){var v=d.setHSL(g,1,.5).toArray().map((function(e){return 255*e}));a[3*f]=v[0]/255,a[3*f+1]=v[1]/255,a[3*f+2]=v[2]/255}else a[3*f]=g/360,a[3*f+1]=g/360,a[3*f+2]=g/360}void 0!==u.normal_x&&void 0!==u.normal_y&&void 0!==u.normal_z&&(s[3*f]=h.normal_x.call(l,p+u.normal_x,!e.is_bigendian),s[3*f+1]=h.normal_y.call(l,p+u.normal_y,!e.is_bigendian),s[3*f+2]=h.normal_z.call(l,p+u.normal_z,!e.is_bigendian))}return{positions:o,colors:a,normals:s}},e.attachDecoder=function(t){var n=t.get_memory,r=new(0,t.PCLDecoder),i=n();e.decode=function(e,t,n){var o=e.height*e.width,a={},s=new Float32Array(3*o);e.fields.forEach((function(e){a[e.name]=e.offset}));var c=new Uint8Array(i.buffer),l=r.get_copy_memory_ptr();c.set(e.data,l),r.compute(o,e.point_step,a.x,a.y,a.z,a.rgb||0,a.intensity||0,t===V.INTENSITY,n);var u=r.get_position_memory_ptr(),h=r.get_color_memory_ptr();return{positions:new Float32Array(i.buffer,u,3*o),colors:t===V.INTENSITY&&!a.intensity||t===V.RGB&&!a.rgb?new Float32Array(3*o):new Float32Array(i.buffer,h,3*o),normals:s}}},e}();window.WebAssembly||n.e(1).then(n.bind(null,"p4lg")).then((function(e){At.attachDecoder(e)}));var Tt=function(e,t){if(void 0===t&&(t=Ce),!e)return{positions:new Float32Array(0),colors:new Float32Array(0),normals:new Float32Array(0)};var n=t.colorChannel,r=t.useRainbow,i=At.decode(e,n,r),o=i.colors,a=i.normals;return{positions:i.positions,colors:o,normals:a}},Mt=function(e){function t(t,n){void 0===n&&(n=Ce);var r=e.call(this,{sources:[t],options:y(y({},Ce),n)})||this;r.update=function(t){e.prototype.update.call(r,t);var n=Tt(t,r.options),i=n.colors,o=n.normals,a=n.positions;r.updatePointCloudGeometry(a,i,o)};var o=new i.PointsMaterial({size:r.options.size,vertexColors:i.VertexColors}),a=new i.BufferGeometry;return a.addAttribute("position",new i.BufferAttribute(new Float32Array(3*T),3).setDynamic(!0)),a.addAttribute("color",new i.BufferAttribute(new Float32Array(3*T),3).setDynamic(!0)),a.addAttribute("normal",new i.BufferAttribute(new Float32Array(3*T),3).setDynamic(!0)),a.setDrawRange(0,0),a.computeBoundingSphere(),r.object=new i.Points(a,o),r.object.frustumCulled=!1,r.updateOptions(y(y({},Ce),n)),r}return v(t,e),t.prototype.updatePointCloudGeometry=function(e,t,n){ze(this.object);var r=this.object,o=r.geometry,a=r.material;a.size===this.options.size||Number.isNaN(this.options.size)||(a.size=this.options.size,a.needsUpdate=!0);var s=Math.min(T,Math.floor(e.length/3));!function(e){if(!(e instanceof i.BufferGeometry))throw new Error("the provided attribute must be an BufferGeometry")}(o),o.setDrawRange(0,s),Ct(o,"position",e,s),Ct(o,"color",t,s),Ct(o,"normal",n,s)},t}(lt),kt=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.BoxGeometry,t.material=new i.MeshLambertMaterial,t}return v(t,e),t}(Je),Ot=function(e){function t(t,n){void 0===n&&(n=5);var r=e.call(this)||this;return r.geometry=new i.Geometry,r.material=new i.LineBasicMaterial({linewidth:n}),r.material.vertexColors=i.VertexColors,r}return v(t,e),t.prototype.setColor=function(e){Ke(this,e)},t.prototype.updatePoints=function(e,t){this.geometry.vertices=e.map((function(e){var t=e.x,n=e.y,r=e.z;return new i.Vector3(t,n,r)})),this.geometry.verticesNeedUpdate=!0,t.length>0&&(this.geometry.colors=t.map((function(e){var t=e.r,n=e.g,r=e.b;return new i.Color(t,n,r)})),this.geometry.colorsNeedUpdate=!0)},t.prototype.setTransform=function(e){Ye(this,e)},t}(i.LineSegments),Pt=function(){function e(e,t){this.objectPool=e,this.Primitive=t}return e.prototype.setObjectDimension=function(e,t,n,r){var i=t.x,o=t.y,a=t.z;e.setColor(n),e.setScale(r),e.position.set(i,o,a)},e.prototype.reusePool=function(e,t,n){for(var r=n.scale,i=e.length,o=0;o<i;o++){var a=this.objectPool.children[o];this.setObjectDimension(a,e[o],t[o],r)}for(o=i;o<this.objectPool.children.length;o++)this.objectPool.children[o].visible=!1},e.prototype.increasePool=function(e,t,n){for(var r=this.objectPool.children.length,i=n.scale,o=0;o<r;o++){var a=this.objectPool.children[o];this.setObjectDimension(a,e[o],t[o],i)}for(o=r;o<e.length;o++){var s=new this.Primitive,c=e[o],l=c.x,u=c.y,h=c.z;s.setColor(t[o]),s.setScale(i),s.position.set(l,u,h),this.objectPool.add(s)}},e}(),Rt=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.Geometry,t.material=new i.MeshBasicMaterial,t.objectCacher=new Pt(t,Et),t}return v(t,e),t.prototype.updatePoints=function(e,t,n){var r=y(y({},n),{subtype:B.SPHERE});e.length<this.children.length?this.objectCacher.reusePool(e,t,r):this.objectCacher.increasePool(e,t,r)},t}(Je),Ft=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.Geometry,t.material=new i.PointsMaterial({vertexColors:i.VertexColors}),t}return v(t,e),t.prototype.setTransform=function(e){Ye(this,e)},t.prototype.updatePoints=function(e,t,n){var r=n.scale.x;this.material.size=r,this.geometry.vertices=e.map((function(e){return new i.Vector3(e.x,e.y,e.z)})),this.geometry.verticesNeedUpdate=!0,t.length>0&&(this.geometry.colors=t.map((function(e){return new i.Color(e.r,e.g,e.b)})),this.geometry.colorsNeedUpdate=!0)},t.prototype.setScale=function(e){this.material.size="number"==typeof e?e:e.x},t}(i.Points),Lt=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.Geometry,t.material=new i.MeshBasicMaterial({vertexColors:i.FaceColors}),t.material.side=i.DoubleSide,t}return v(t,e),t.prototype.updatePoints=function(e,t,n){void 0===t&&(t=[]);var r=[],o=[],a=n.scale,s=a.x,c=a.y,l=a.z;this.scale.set(s,c,l);for(var u=0,h=e.length/3;u<h;u++){[e[3*u],e[3*u+1],e[3*u+2]].map((function(e){r.push(new i.Vector3(e.x,e.y,e.z))}));var d=0===t.length?{r:1,g:0,b:0}:t[3*u];o.push(new i.Face3(3*u,3*u+2,3*u+1,new i.Vector3,new i.Color(d.r,d.g,d.b)))}this.geometry.vertices=r,this.geometry.faces=o,this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry.elementsNeedUpdate=!0,this.geometry.verticesNeedUpdate=!0},t}(Je),Dt=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.Geometry,t.material=new i.MeshBasicMaterial,t.objectCacher=new Pt(t,kt),t}return v(t,e),t.prototype.updatePoints=function(e,t,n){var r=y(y({},n),{subType:B.CUBE});e.length<this.children.length?this.objectCacher.reusePool(e,t,r):this.objectCacher.increasePool(e,t,r)},t}(Je),jt=function(e){function t(t){var n=e.call(this)||this;return n.color=new i.Color(1,1,1),n.text=new l(t,1,"#"+n.color.getHexString()),n.add(n.text),n}return v(t,e),t.prototype.setColor=function(e){var t=e.b,n=e.g,r=e.r;this.color.r===r&&this.color.g===n&&this.color.b===t||(this.color=new i.Color(r,n,t),this.text.color="#"+this.color.getHexString())},t}(Je),Nt=function(){function e(e){this.timeouts={},this.timeouts={},this.onTimeout=e}return e.prototype.track=function(e,t){var n=this;clearInterval(this.timeouts[e]),0!==t&&void 0!==t&&(this.timeouts[e]=window.setTimeout((function(){n.onTimeout(e)}),1e3*t))},e.prototype.untrack=function(e){clearInterval(this.timeouts[e]),delete this.timeouts[e]},e.prototype.destroy=function(){var e,t,n=Object.keys(this.timeouts);try{for(var r=x(n),i=r.next();!i.done;i=r.next()){var o=i.value;clearInterval(this.timeouts[o]),delete this.timeouts[o]}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e}(),It=function(){function e(e,t){this.objectMap={},this.namespaces={},this.object=e,this.onChangeCb=t,this.markerLifetime=new Nt(this.onMarkerLifetimeOver.bind(this))}return e.prototype.onMarkerLifetimeOver=function(e){this.objectMap[e]&&this.removeObject(e)},e.prototype.getMarkerOrCreate=function(t){var n=e.getId(t);if(!this.objectMap[n]){var r=function(e){switch(e.type){case B.CUBE:return new kt;case B.SPHERE:return new Et;case B.CYLINDER:var t=new Ze;return t.add(new rt),t;case B.LINE_LIST:return new Ot;case B.LINE_STRIP:return new st;case B.SPHERE_LIST:return new Rt;case B.POINTS:return new Ft;case B.TRIANGLE_LIST:return new Lt;case B.CUBE_LIST:return new Dt;case B.TEXT_VIEW_FACING:return new jt(e.text);case B.ARROW:default:var n=new ot;return n.setHeadDimensions({radius:.1*Q,length:.3*J}),n.setShaftDimensions({radius:.05*K,length:.7*X}),n}}(t);this.objectMap[n]=r,this.object.add(r)}return this.objectMap[n].visible=this.namespaces[t.ns],this.objectMap[n]},e.prototype.extractNameSpace=function(e){return e.split("-")[0]},e.prototype.updateOptions=function(e){var t=e.namespaces;for(var n in this.namespaces=t,this.objectMap)if(this.objectMap.hasOwnProperty(n)){var r=this.extractNameSpace(n);this.objectMap[n].visible=this.namespaces[r]}},e.prototype.onChange=function(){this.onChangeCb()},e.prototype.updateMarker=function(t){var n=t.color,r=t.colors,i=t.lifetime,o=t.points,a=t.pose,s=a.orientation,c=a.position,l=t.scale,u=this.getMarkerOrCreate(t),h=e.getId(t);this.markerLifetime.track(h,i.sec||i.secs),u.updatePoints&&u.updatePoints(o,r,t),u.setTransform({translation:c,rotation:s}),u.setScale&&!u.updatePoints&&u.setScale({x:l.x,y:l.y,z:l.z}),u.setColor&&r.length<=0&&u.setColor(n);var d=t.ns;d in this.namespaces||(this.namespaces[d]=!0,this.onChange())},e.prototype.removeObject=function(e){var t,n=this.objectMap[e];null===(t=n.parent)||void 0===t||t.remove(n),delete this.objectMap[e]},e.prototype.reset=function(){var e=this;this.namespaces={},this.markerLifetime.destroy(),this.onChange(),Object.keys(this.objectMap).forEach((function(t){e.removeObject(t)}))},e.getId=function(e){return e.ns+"-"+e.id},e}(),Bt=function(e){function t(t,n){var r;void 0===n&&(n=we);var i=e.call(this,{sources:[t],options:y(y({},we),n)})||this;return i.reset=function(){i.markerManager.reset()},i.object=new Ze,i.markerManager=new It(i.object,null!=(r=i.onNameSpaceChange)?r:function(){return null}),i}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t),this.markerManager.updateOptions(this.options)},t.prototype.update=function(t){var n=this;e.prototype.update.call(this,t),t.markers.forEach((function(e){n.markerManager.updateMarker(e)}))},t}(lt),zt=function(){function e(e){void 0===e&&(e={}),this.maxPts=e.max_pts||1e4,this.rootObject=e.rootObject||new i.Object3D}return e.prototype.setup=function(e,t,n){var r=this;this.rootObject.children.forEach((function(e){r.rootObject.remove(e)})),this.positions=new i.BufferAttribute(new Float32Array(3*this.maxPts),3,!1),this.colors=new i.BufferAttribute(new Float32Array(3*this.maxPts),3,!1);var o={};e===U.POINTS&&(o={map:(new i.TextureLoader).load("https://raw.githubusercontent.com/mrdoob/three.js/master/examples/textures/sprites/circle.png"),alphaTest:.5}),this.geometry=new i.BufferGeometry,this.geometry.addAttribute("position",this.positions.setDynamic(!0)),this.geometry.addAttribute("color",this.colors.setDynamic(!0)),this.material=new i.PointsMaterial(y({color:8947848,size:t},o)),this.material.vertexColors=i.VertexColors,this.material.transparent=!0,this.material.opacity=n,this.object=new i.Points(this.geometry,this.material),this.rootObject.add(this.object)},e.prototype.update=function(e){ze(this.geometry),ze(this.positions),ze(this.colors),this.geometry.setDrawRange(0,e),this.positions.needsUpdate=!0,this.colors.needsUpdate=!0,this.positions.updateRange.count=e*this.positions.itemSize,this.colors.updateRange.count=e*this.colors.itemSize},e.prototype.setAlpha=function(e){ze(this.material),this.material.opacity=e},e.prototype.setSize=function(e){ze(this.material),this.material.size=e},e}(),Ut=function(e){function t(t,n){void 0===n&&(n=ve);var r=e.call(this,{sources:[t],options:y(y({},ve),n)})||this;return r.cachedMessage=null,r.points=new zt,r.sphereList=new Rt,r.cubeList=new Dt,r.object=new Ze,r.object.add(r.points.rootObject),r.object.add(r.sphereList),r.object.add(r.cubeList),r}return v(t,e),t.prototype.getNormalizedIntensity=function(e){var t=this.options,n=t.maxIntensity,r=t.minIntensity;return(e-r)/(n-r)},t.prototype.applyIntensityTransform=function(e,t){var n,r=this.options,o=r.channelName,a=r.maxColor,s=r.minColor,c=t.x,l=t.y,u=t.z;switch(o){case $.INTENSITY:n=this.getNormalizedIntensity(e);break;case $.X:n=this.getNormalizedIntensity(c);break;case $.Y:n=this.getNormalizedIntensity(l);break;case $.Z:n=this.getNormalizedIntensity(u)}var h=new i.Color(s),d=new i.Color(a);ze(n);var f=n*d.getHex()+(1-n)*h.getHex();return new i.Color(f)},t.prototype.getNormalizedAxisValue=function(e){var t=this.options,n=t.maxAxisValue,r=t.minAxisValue;return(e-r)/(n-r)},t.prototype.applyAxisColorTransform=function(e,t){var n,r=this.options,o=r.axis,a=r.maxAxisValue,s=r.minAxisValue,c=t.x,l=t.y,u=t.z;switch(o){case W.X:n=this.getNormalizedAxisValue(c);break;case W.Y:n=this.getNormalizedAxisValue(l);break;case W.Z:n=this.getNormalizedAxisValue(u)}ze(n);var h=n*a+(1-n)*s;return new i.Color(h)},t.prototype.colorTransformer=function(e,t){var n=this.options,r=n.colorTransformer,o=n.flatColor;switch(r){case H.INTENSITY:return this.applyIntensityTransform(e,t);case H.AXIS_COLOR:return this.applyAxisColorTransform(e,t);case H.FLAT_COLOR:return new i.Color(o);default:return null}},t.prototype.setupPoints=function(e,t,n){ze(n),ze(this.points.colors),ze(this.points.positions),Ve(this.points.colors.array),Ve(this.points.positions.array),this.points.colors.array[e]=n.r,this.points.positions.array[e++]=t.x,this.points.colors.array[e]=n.g,this.points.positions.array[e++]=t.y,this.points.colors.array[e]=n.b,this.points.positions.array[e++]=t.z},t.prototype.hideAllObjects=function(){this.points.rootObject.visible=!1,this.sphereList.visible=!1,this.cubeList.visible=!1},t.prototype.setStyleDimensions=function(e){var t=this.options,n=t.alpha,r=t.style,i=this.options.size,o=e.intensities,a=e.ranges.length,s=[],c=[];if(!(i<.001)&&i){this.hideAllObjects(),this.points.setup(r,i,n);for(var l=0,u=0;u<a;u++){var h=e.ranges[u];if(h>=e.range_min&&h<=e.range_max){var d=e.angle_min+u*e.angle_increment,f={x:h*Math.cos(d),y:h*Math.sin(d),z:0},p=this.colorTransformer(o[u],f);switch(r){case U.POINTS:case U.SQUARES:case U.FLAT_SQUARES:this.setupPoints(l,f,p),l+=3;break;default:s.push(f),c.push(p)}}}var m={scale:{x:i,y:i,z:i}};switch(r){case U.SPHERES:this.sphereList.visible=!0,this.sphereList.updatePoints(s,c,m);break;case U.BOXES:this.cubeList.visible=!0,this.cubeList.updatePoints(s,c,m);break;default:this.points.rootObject.visible=!0,this.points.update(l/3)}}},t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t),this.cachedMessage&&this.setStyleDimensions(this.cachedMessage)},t.prototype.update=function(t){e.prototype.update.call(this,t),this.setStyleDimensions(t),this.cachedMessage=t},t}(lt),Ht=function(e){var t,n=document.createElement("canvas");return n.width=e.width,n.height=e.height,null===(t=n.getContext("2d"))||void 0===t||t.putImageData(e,0,0),n},Vt=function(e,t,n,r){for(var i=e.data,o=e.height,a=e.step,s=Uint8Array.from(i),c=new DataView(s.buffer),l=0,u=0;u<a*o;u+=t){for(var h=0;h<n.length;h++)r.data[l++]=c.getUint8(u+n[h]);3===n.length&&(r.data[l++]=255)}},Wt=function(e){function t(){var t=e.call(this)||this;return t.geometry=new i.PlaneGeometry,t.material=new i.MeshBasicMaterial,t}return v(t,e),t}(Je),$t=function(e){function t(t,n){void 0===n&&(n=ye);var r=e.call(this,{sources:[t],options:y(y({},ye),n)})||this;return r.cachedMessage=null,r.object=new Wt,Ue(r.object),He(r.object.material),r.object.material.transparent=!0,r.updateOptions(y(y({},ye),n)),r}return v(t,e),t.prototype.updateOptions=function(t){Ue(this.object),He(this.object.material),e.prototype.updateOptions.call(this,t);var n=this.options,r=n.alpha,o=n.drawBehind;this.object.material.opacity=r,this.object.material.side=o?i.DoubleSide:i.FrontSide,this.object.material.needsUpdate=!0,this.cachedMessage&&this.setCanvasData(this.cachedMessage)},t.prototype.updateCanvasDimensions=function(e){var t,n,r=e.info,i=r.height,o=r.origin,a=r.resolution,s=r.width;null===(t=this.object)||void 0===t||t.scale.set(s*a,-1*i*a,1);var c=s*a/2+o.position.x,l=i*a/2+o.position.y;null===(n=this.object)||void 0===n||n.position.set(c,l,o.position.z||-.01)},t.prototype.setCanvasData=function(e){var t=this.options.colorScheme,n=e.data,r=e.info,o=r.height,a=r.width,s=new ImageData(a,o),c=null;switch(t){case z.MAP:!function(e,t,n,r){for(var i=0;i<n;i++)for(var o=0;o<t;o++){var a=r[o+(n-i-1)*t],s=new DataView(Uint8Array.from([a]).buffer).getUint8(0),c=4*(o+i*t);if(s>=0&&s<=100){var l=255-255*s/100;e.data[c]=l,e.data[++c]=l,e.data[++c]=l,e.data[++c]=255}else s>=101&&s<=127?(e.data[c]=0,e.data[++c]=255,e.data[++c]=0,e.data[++c]=255):s>=128&&s<=254?(e.data[c]=255,e.data[++c]=255*(s-128)/126,e.data[++c]=0,e.data[++c]=255):(e.data[c]=112,e.data[++c]=137,e.data[++c]=134,e.data[++c]=255)}}(s,a,o,n),c=Ht(s);break;case z.CONST_MAP:!function(e,t,n,r){for(var i=0;i<n;i++)for(var o=0;o<t;o++){var a=r[o+(n-i-1)*t],s=new DataView(Uint8Array.from([a]).buffer).getUint8(0),c=4*(o+i*t);if(0===s)e.data[c]=0,e.data[++c]=0,e.data[++c]=0,e.data[++c]=0;else if(s>=1&&s<=98){var l=255*s/100;e.data[c]=l,e.data[++c]=0,e.data[++c]=255-l,e.data[++c]=255}else 99===s?(e.data[c]=0,e.data[++c]=255,e.data[++c]=255,e.data[++c]=255):100===s?(e.data[c]=255,e.data[++c]=0,e.data[++c]=255,e.data[++c]=255):s>100&&s<=127?(e.data[c]=0,e.data[++c]=255,e.data[++c]=0,e.data[++c]=255):s>=128&&s<=254?(e.data[c]=255,e.data[++c]=255*(s-128)/126,e.data[++c]=0,e.data[++c]=255):(e.data[c]=112,e.data[++c]=137,e.data[++c]=134,e.data[++c]=255)}}(s,a,o,n),c=Ht(s);break;case z.RAW:!function(e,t,n,r){for(var i=0;i<n;i++)for(var o=0;o<t;o++){var a=r[o+(n-i-1)*t],s=4*(o+i*t),c=new DataView(Uint8Array.from([a]).buffer).getUint8(0);e.data[s]=c,e.data[++s]=c,e.data[++s]=c,e.data[++s]=255}}(s,a,o,n),c=Ht(s)}Ue(this.object),function(e){if(!(e instanceof i.MeshBasicMaterial))throw new TypeError("Expected 'val' to be MeshBasicMaterial")}(this.object.material),c&&(this.object.material.map=new i.CanvasTexture(c),this.object.material.map.minFilter=i.NearestFilter,this.object.material.map.magFilter=i.NearestFilter,this.object.material.needsUpdate=!0),this.updateCanvasDimensions(e)},t.prototype.update=function(t){e.prototype.update.call(this,t),this.setCanvasData(t),this.cachedMessage=t},t}(lt),Gt=function(e){function t(t,n){void 0===n&&(n=_e);var r=e.call(this,{sources:[t],options:y(y({},_e),n)})||this;return r.objectPool=[],r.keepSize=100,r.currentObjectIndex=-1,r.object=new Ze,r}return v(t,e),t.prototype.setKeepSize=function(e){var t,n=[];if(0!==e){if(e<this.keepSize&&e<this.objectPool.length){for(var r=this.objectPool.length-e,i=0;i<r;i++)null===(t=this.object)||void 0===t||t.remove(this.objectPool[i]);n=E(this.objectPool.slice(this.objectPool.length-e,this.objectPool.length))}else n=E(this.objectPool);this.objectPool=n,this.keepSize=e,this.currentObjectIndex=this.objectPool.length-1}else this.keepSize=0},t.prototype.removeAllObjects=function(){var e=this;this.objectPool.forEach((function(t,n){var r;null===(r=t.parent)||void 0===r||r.remove(t),delete e.objectPool[n]})),this.objectPool=[]},t.prototype.checkToleranceThresholdExceed=function(e){return 0===this.objectPool.length||function(e,t,n){var r=n.angleTolerance,i=n.positionTolerance,o=t.position,a=t.quaternion,s=e.position,c=e.quaternion,l=s.distanceTo(o)>i,u=c.angleTo(a)>r;return l||u}({position:this.objectPool[this.currentObjectIndex].position,quaternion:this.objectPool[this.currentObjectIndex].quaternion},e,this.options)},t.prototype.getObject=function(){switch(this.options.type){case G.arrow:return new ot;case G.axes:return new at}return new i.Object3D},t.prototype.changeObjectPoolType=function(){var e=this,t=[];this.objectPool.forEach((function(n,r){var i,o,a=n.position,s=n.quaternion;null===(i=n.parent)||void 0===i||i.remove(n),delete e.objectPool[r];var c=e.getObject();c.position.set(a.x,a.y,a.z),c.quaternion.set(s.x,s.y,s.z,s.w),t.push(c),null===(o=e.object)||void 0===o||o.add(c),Be(c,e.options)})),this.objectPool=t},t.prototype.updateOptions=function(t){var n=this,r=this.options.type;e.prototype.updateOptions.call(this,t);var i=this.options,o=i.keep;i.type!==r&&this.changeObjectPoolType(),this.objectPool.forEach((function(e){Be(e,n.options)})),this.setKeepSize(o)},t.prototype.update=function(t){var n,r;if(e.prototype.update.call(this,t),this.keepSize){var o=t.pose.pose,a=o.orientation,s=o.position,c={translation:s,rotation:a},l={position:new i.Vector3(s.x,s.y,s.z),quaternion:new i.Quaternion(a.x,a.y,a.z,a.w)};if(this.checkToleranceThresholdExceed(l)){var u=this.getObject();if(Be(u,this.options),this.objectPool.push(u),this.currentObjectIndex+=1,this.currentObjectIndex=i.Math.clamp(this.currentObjectIndex,0,this.keepSize-1),null===(n=this.object)||void 0===n||n.add(u),Ye(u,c),this.objectPool.length>this.keepSize){var h=this.objectPool[0];null===(r=this.object)||void 0===r||r.remove(h),delete this.objectPool[0];var d=this.objectPool.slice(1);this.objectPool=E(d)}}}else this.removeAllObjects()},t}(lt),qt=function(e){function t(t,n){void 0===n&&(n=Re);var r=e.call(this,{sources:[t],options:y(y({},Re),n)})||this;return r.object=new i.Group,r}return v(t,e),t.prototype.update=function(t){ze(this.object),e.prototype.update.call(this,t),this.object.children.forEach((function(e){var t;null===(t=e.parent)||void 0===t||t.remove(e)})),this.object.children=[];for(var n=0;n<t.poses.length;n++){var r=ut.getNewPrimitive(this.options);r&&(Ye(r,{translation:t.poses[n].position,rotation:t.poses[n].orientation}),Be(r,this.options),this.object.add(r))}},t}(lt),Yt=function(e){function t(t,n){void 0===n&&(n=Ee);var r=e.call(this,{sources:[t],options:y(y({},Ee),n)})||this,o=r.options,a=o.alpha,s=o.color;return r.object=new Ze,r.line=new st(null,!0),r.line.setColor(new i.Color(s)),r.line.setAlpha(a),r}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t);var n=this.options,r=n.alpha,o=n.color;this.line.setColor(new i.Color(o)),this.line.setAlpha(r)},t.prototype.update=function(t){var n;e.prototype.update.call(this,t);var r=(t.poses||[]).map((function(e){return e.pose.position}));this.line.updatePoints(r),null===(n=this.object)||void 0===n||n.add(this.line)},t}(lt),Xt=function(e){function t(t,n){void 0===n&&(n=me);var r=e.call(this,{sources:[t],options:y(y({},me),n)})||this;r.hide=function(){ze(r.object),r.object.style.visibility="hidden"},r.show=function(){ze(r.object),r.object.style.visibility="visible"};var i=r.options,o=i.height,a=i.width;return r.object=document.createElement("canvas"),r.shadowObject=document.createElement("canvas"),r.object.width=a,r.object.height=o,r}return v(t,e),t.prototype.applyImageData=function(e){var t=e.encoding,n=e.height,r=e.width;ze(this.object);var i=this.object.getContext("2d");ze(i);var o=this.shadowObject.getContext("2d");ze(o);var a=o.createImageData(r,n),s=r/n;switch(t){case"bayer_rggb8":case"bayer_bggr8":case"bayer_gbrg8":case"bayer_grbg8":case"bayer_rggb16":case"bayer_bggr16":case"bayer_gbrg16":case"bayer_grbg16":case"8UC1":case"8SC1":case"mono8":Vt(e,1,[0,0,0],a);break;case"8UC3":case"8SC3":case"bgr8":Vt(e,3,[2,1,0],a);break;case"8UC4":case"8SC4":case"bgra8":Vt(e,4,[2,1,0,3],a);break;case"rgb8":Vt(e,3,[0,1,2],a);break;case"rgba8":Vt(e,4,[0,1,2,3],a)}i.clearRect(0,0,this.object.width,this.object.height),i.fillStyle="#000",i.fillRect(0,0,this.object.width,this.object.height),o.clearRect(0,0,this.shadowObject.width,this.shadowObject.height),o.putImageData(a,0,0);var c=this.object.width/s,l=this.object.height*s;s>=this.object.width/this.object.height?i.drawImage(this.shadowObject,0,0,r,n,0,(this.object.height-c)/2,this.object.width,c):i.drawImage(this.shadowObject,0,0,r,n,(this.object.width-l)/2,0,l,this.object.height)},t.prototype.updateDimensions=function(e,t){ze(this.object),this.object.width=e,this.object.height=t},t.prototype.update=function(e){var t=e.height,n=e.width;this.shadowObject.width=n,this.shadowObject.height=t,this.applyImageData(e)},t}(lt),Kt=function(e){function t(t,n){void 0===n&&(n=ge);var r=e.call(this,{options:y(y({},ge),n)})||this;r.hide=function(){ze(r.object),r.object.style.visibility="hidden"},r.show=function(){ze(r.object),r.object.style.visibility="visible"};var i=r.options,o=i.height,a=i.width;return r.url=t,r.object=document.createElement("img"),r.object.src=r.url,r.object.setAttribute("draggable","false"),r.object.width=a,r.object.height=o,r}return v(t,e),t}(function(){function e(e){var t,n=this;this.hide=function(){ze(n.object),We(n.object)?n.object.visible=!1:$e(n.object)&&(n.object.style.visibility="hidden")},this.show=function(){ze(n.object),We(n.object)?n.object.visible=!0:$e(n.object)&&(n.object.style.visibility="visible")},this.destroy=function(){var e,t,r,i;We(n.object)?null===(t=null===(e=n.object)||void 0===e?void 0:e.parent)||void 0===t||t.remove(n.object):$e(n.object)&&(null===(i=null===(r=n.object)||void 0===r?void 0:r.parentElement)||void 0===i||i.removeChild(n.object)),n.object=void 0},this.reset=function(){},this.options=null!=(t=e.options)?t:{},this.updateOptions=this.updateOptions.bind(this)}return e.prototype.updateOptions=function(e){this.options=y(y({},this.options),e)},e}()),Zt=function(e){function t(t,n){var r;void 0===n&&(n=be);var i=e.call(this,{sources:[t],options:y(y({},be),n)})||this;return i.reset=function(){i.markerManager.reset()},i.object=new Ze,i.markerManager=new It(i.object,null!=(r=i.onNameSpaceChange)?r:function(){return null}),i.updateOptions(y(y({},be),n)),i}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t),this.markerManager.updateOptions(this.options)},t.prototype.update=function(t){e.prototype.update.call(this,t),this.markerManager.updateMarker(t)},t}(lt),Jt=function(e){function t(t,n){void 0===n&&(n=Fe);var r=e.call(this,{sources:[t],options:y(y({},Fe),n)})||this,o=r.options,a=o.alpha,s=o.color;return r.object=new Ze,r.cylinder=new rt(r.options.color,.01,.01),r.cylinder.rotateZ(Math.PI/2),r.object.add(r.cylinder),r.cylinder.setAlpha(a),r.cylinder.setColor(new i.Color(s)),r}return v(t,e),t.prototype.updateOptions=function(t){e.prototype.updateOptions.call(this,t);var n=this.options,r=n.alpha,o=n.color;this.cylinder.setColor(new i.Color(o)),this.cylinder.setAlpha(r)},t.prototype.update=function(t){e.prototype.update.call(this,t);var n=t.field_of_view,r=t.max_range,o=t.min_range;this.cylinder.geometry=new i.CylinderGeometry(o*Math.tan(n)/4,r*Math.tan(n)/4,r-o,Z,Z),this.cylinder.geometry.verticesNeedUpdate=!0,this.cylinder.position.setX(.5*(o+r))},t}(lt),Qt=vt((function(e,t){var n;e.exports=((n=function e(){var t=0,n=document.createElement("div");function r(e){return n.appendChild(e.dom),e}function i(e){for(var r=0;r<n.children.length;r++)n.children[r].style.display=r===e?"block":"none";t=e}n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",(function(e){e.preventDefault(),i(++t%n.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,c=r(new e.Panel("FPS","#0ff","#002")),l=r(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=r(new e.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:n,addPanel:r,showPanel:i,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-o,200),a+1e3<=e&&(c.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:n,setMode:i}}).Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,c=48*a,l=3*a,u=2*a,h=3*a,d=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=c,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,c),g.fillStyle=t,g.fillText(e,l,u),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(c,v){r=Math.min(r,c),i=Math.max(i,c),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,d),g.fillStyle=t,g.fillText(o(c)+" "+e+" ("+o(r)+"-"+o(i)+")",l,u),g.drawImage(m,h+a,d,f-a,p,h,d,f-a,p),g.fillRect(h+f-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-a,d,a,o((1-c/v)*p))}}},n)})),en=function(e){function t(t){void 0===t&&(t=oe);var n=e.call(this)||this;return n.options=oe,n.vizWrapper=new i.Group,n.add(n.vizWrapper),n.stats=new Qt,n.stats.showPanel(0),n.initLights(),n.initGrid(),n.updateOptions(t),n}return v(t,e),t.prototype.initLights=function(){var e=this;[[-1,0],[1,0],[0,-1],[0,1]].forEach((function(t){var n,r=new i.DirectionalLight(16777215,.4);n=_(t,2),r.position.x=n[0],r.position.y=n[1],r.position.z=1,e.add(r)}));var t=new i.AmbientLight(16777215,.2);this.add(t)},t.prototype.initGrid=function(){this.grid=new i.GridHelper(0,0),this.add(this.grid)},t.prototype.addObject=function(e){this.vizWrapper.add(e)},t.prototype.addVisualization=function(e){var t=e.object;t&&(this.vizWrapper.getObjectById(t.id)||this.addObject(t))},t.prototype.getObjectByName=function(e){return this.vizWrapper.getObjectByName(e)},t.prototype.updateOptions=function(e){var t,n;void 0===e&&(e=oe),this.options=y(y({},oe),e);var r=this.options,o=r.backgroundColor,a=r.gridCenterlineColor,s=r.gridColor,c=r.gridDivisions,l=r.gridSize;null===(t=this.grid)||void 0===t||t.copy(new i.GridHelper(l,c,a,s)),null===(n=this.grid)||void 0===n||n.rotateX(-Math.PI/2),this.background=new i.Color(o)},t}(i.Scene),tn=function(e){function t(t,n){void 0===n&&(n=pe);var r=e.call(this)||this;return r.options=pe,r.metaLoaded=!1,r.options=y(y({},pe),n),r.url=t,r.animate=r.animate.bind(r),r.onMetaLoaded=r.onMetaLoaded.bind(r),r}return v(t,e),t.prototype.onMetaLoaded=function(){this.metaLoaded=!0,this.initStreamer()},t.prototype.isMjpeg=function(){return"mjpeg"===this.options.streamType.toLowerCase()},t.prototype.initVideo=function(){var e=this.options,t=e.height,n=e.width;this.video=document.createElement(this.isMjpeg()?"img":"video"),this.video.width=n,this.video.height=t,this.video.addEventListener(this.isMjpeg()?"load":"loadedmetadata",this.onMetaLoaded,!1),this.isMjpeg()||(Ge(this.video),this.video.loop=!0),this.video.src=this.url,this.video.crossOrigin="Anonymous",this.video.setAttribute("crossorigin","Anonymous")},t.prototype.initStreamer=function(){var e=this.options,t=e.f,n=e.height,r=e.maxDepthPerTile,o=e.pointSize,a=e.varianceThreshold,s=e.whiteness,c=e.width,l=Math.max(c,n)/1024;if(this.metaLoaded){this.texture=new i.Texture(this.video),this.geometry=new i.Geometry;for(var u=c/2,h=n/2,d=0,f=u*h;d<f;d+=1)this.geometry.vertices.push(new i.Vector3(d%u,d/u,0));this.material=new i.ShaderMaterial({uniforms:{map:{type:"t",value:this.texture},width:{type:"f",value:u},height:{type:"f",value:h},focallength:{type:"f",value:t},pointSize:{type:"f",value:o},zOffset:{type:"f",value:0},whiteness:{type:"f",value:s},varianceThreshold:{type:"f",value:a},maxDepthPerTile:{type:"f",value:r},resolutionFactor:{type:"f",value:l}},vertexShader:"uniform sampler2D map;\n\nuniform float width;\nuniform float height;\nuniform float nearClipping, farClipping;\n\nuniform float pointSize;\nuniform float zOffset;\n\nuniform float focallength;\nuniform float maxDepthPerTile;\nuniform float resolutionFactor;\n\nvarying vec2 vUvP;\nvarying vec2 colorP;\n\nvarying float depthVariance;\nvarying float maskVal;\n\nfloat sampleDepth(vec2 pos)\n  {\n    float depth;\n\n    vec2 vUv = vec2( pos.x / (width*2.0), pos.y / (height*2.0)+0.5 );\n    vec2 vUv2 = vec2( pos.x / (width*2.0)+0.5, pos.y / (height*2.0)+0.5 );\n\n    vec4 depthColor = texture2D( map, vUv );\n\n    depth = ( depthColor.r + depthColor.g + depthColor.b ) / 3.0 ;\n\n    if (depth>0.99)\n    {\n      vec4 depthColor2 = texture2D( map, vUv2 );\n      float depth2 = ( depthColor2.r + depthColor2.g + depthColor2.b ) / 3.0 ;\n      depth = 0.99+depth2;\n    }\n\n    return depth;\n  }\n\nfloat median(float a, float b, float c)\n  {\n    float r=a;\n\n    if ( (a<b) && (b<c) )\n    {\n      r = b;\n    }\n    if ( (a<c) && (c<b) )\n    {\n      r = c;\n    }\n    return r;\n  }\n\nfloat variance(float d1, float d2, float d3, float d4, float d5, float d6, float d7, float d8, float d9)\n  {\n    float mean = (d1 + d2 + d3 + d4 + d5 + d6 + d7 + d8 + d9) / 9.0;\n    float t1 = (d1-mean);\n    float t2 = (d2-mean);\n    float t3 = (d3-mean);\n    float t4 = (d4-mean);\n    float t5 = (d5-mean);\n    float t6 = (d6-mean);\n    float t7 = (d7-mean);\n    float t8 = (d8-mean);\n    float t9 = (d9-mean);\n    float v = (t1*t1+t2*t2+t3*t3+t4*t4+t5*t5+t6*t6+t7*t7+t8*t8+t9*t9)/9.0;\n    return v;\n  }\n\nvec2 decodeDepth(vec2 pos)\n  {\n    vec2 ret;\n\n\n    float depth1 = sampleDepth(vec2(position.x-1.0, position.y-1.0));\n    float depth2 = sampleDepth(vec2(position.x, position.y-1.0));\n    float depth3 = sampleDepth(vec2(position.x+1.0, position.y-1.0));\n    float depth4 = sampleDepth(vec2(position.x-1.0, position.y));\n    float depth5 = sampleDepth(vec2(position.x, position.y));\n    float depth6 = sampleDepth(vec2(position.x+1.0, position.y));\n    float depth7 = sampleDepth(vec2(position.x-1.0, position.y+1.0));\n    float depth8 = sampleDepth(vec2(position.x, position.y+1.0));\n    float depth9 = sampleDepth(vec2(position.x+1.0, position.y+1.0));\n\n    float median1 = median(depth1, depth2, depth3);\n    float median2 = median(depth4, depth5, depth6);\n    float median3 = median(depth7, depth8, depth9);\n\n    ret.x = median(median1, median2, median3);\n    ret.y = variance(depth1, depth2, depth3, depth4, depth5, depth6, depth7, depth8, depth9);\n\n    return ret;\n\n  }\n\n\nvoid main() {\n\n  vUvP = vec2( position.x / (width*2.0), position.y / (height*2.0)+0.5 );\n  colorP = vec2( position.x / (width*2.0)+0.5 , position.y / (height*2.0)  );\n\n  vec4 pos = vec4(0.0,0.0,0.0,0.0);\n  depthVariance = 0.0;\n\n  if ( (vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>0.0))\n  {\n    vec2 smp = decodeDepth(vec2(position.x, position.y));\n    float depth = smp.x;\n    depthVariance = smp.y;\n\n    float z = -depth;\n\n    pos = vec4(\n      ( position.x / width - 0.5 ) * z * 0.5 * maxDepthPerTile * resolutionFactor * (1000.0/focallength) * -1.0,\n      ( position.y / height - 0.5 ) * z * 0.5 * maxDepthPerTile * resolutionFactor * (1000.0/focallength),\n      (- z + zOffset / 1000.0) * maxDepthPerTile,\n      1.0);\n\n    vec2 maskP = vec2( position.x / (width*2.0), position.y / (height*2.0)  );\n    vec4 maskColor = texture2D( map, maskP );\n    maskVal = ( maskColor.r + maskColor.g + maskColor.b ) / 3.0 ;\n  }\n\n  gl_PointSize = pointSize;\n  gl_Position = projectionMatrix * modelViewMatrix * pos;\n\n}",fragmentShader:"uniform sampler2D map;\nuniform float varianceThreshold;\nuniform float whiteness;\n\nvarying vec2 vUvP;\nvarying vec2 colorP;\n\nvarying float depthVariance;\nvarying float maskVal;\n\n\nvoid main() {\n\n  vec4 color;\n\n  if ( (depthVariance>varianceThreshold) || (maskVal>0.5) ||(vUvP.x<0.0)|| (vUvP.x>0.5) || (vUvP.y<0.5) || (vUvP.y>1.0))\n  {\n    discard;\n  }\n  else\n  {\n    color = texture2D( map, colorP );\n\n    float fader = whiteness /100.0;\n\n    color.r = color.r * (1.0-fader)+ fader;\n\n    color.g = color.g * (1.0-fader)+ fader;\n\n    color.b = color.b * (1.0-fader)+ fader;\n\n    color.a = 1.0;//smoothstep( 20000.0, -20000.0, gl_FragCoord.z / gl_FragCoord.w );\n  }\n\n  gl_FragColor = vec4( color.r, color.g, color.b, color.a );\n\n}"}),this.mesh=new i.Points(this.geometry,this.material),this.mesh.frustumCulled=!1,this.mesh.position.set(0,0,0),this.add(this.mesh),requestAnimationFrame(this.animate)}},t.prototype.animate=function(){var e;this.texture&&(this.isMjpeg()?this.texture.needsUpdate=!0:(Ge(this.video),this.video.readyState===this.video.HAVE_ENOUGH_DATA&&(this.texture.needsUpdate=!0)),(null===(e=this.video)||void 0===e?void 0:e.src)&&requestAnimationFrame(this.animate))},t.prototype.startStream=function(){this.isMjpeg()||(Ge(this.video),this.video.play())},t.prototype.stopStream=function(){var e;this.isMjpeg()||(Ge(this.video),this.video.pause()),null===(e=this.video)||void 0===e||e.removeAttribute("src")},t}(i.Object3D),nn=function(e){function t(t,n){void 0===n&&(n=pe);var r=e.call(this,{sources:[],options:y(y({},pe),n)})||this;return r.subscribe=function(){var e,t;null===(e=r.object)||void 0===e||e.initVideo(),null===(t=r.object)||void 0===t||t.startStream()},r.unsubscribe=function(){var e;null===(e=r.object)||void 0===e||e.stopStream()},r.url=t,r.object=new tn(t,n),r}return v(t,e),t}(lt),rn=function(e,t){t=void 0!==t?t:document,this.enabled=!0,this.center=new i.Vector3,this.panSpeed=.01,this.zoomSpeed=.05,this.rotationSpeed=.005;var n=this,r=new i.Vector3,o=new i.Vector3,a=new i.Box3,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},c=s.NONE,l=this.center,u=new i.Matrix3,h=new i.Vector2,d=new i.Vector2,f=new i.Spherical,p=new i.Sphere,m={type:"change"};function g(e){if(!1!==n.enabled){h.set(e.clientX,e.clientY);var t=h.x-d.x,r=h.y-d.y;c===s.ROTATE?n.rotate(o.set(-t,-r,0)):c===s.ZOOM?n.zoom(o.set(0,0,r)):c===s.PAN&&n.pan(o.set(-t,r,0)),d.set(e.clientX,e.clientY)}}function v(){t.removeEventListener("mousemove",g,!1),t.removeEventListener("mouseup",v,!1),t.removeEventListener("mouseout",v,!1),t.removeEventListener("dblclick",v,!1),c=s.NONE}function y(e){e.preventDefault(),n.zoom(o.set(0,0,e.deltaY>0?1:-1))}function b(e){!1!==n.enabled&&(0===e.button?c=s.ROTATE:1===e.button?c=s.ZOOM:2===e.button&&(c=s.PAN),d.set(e.clientX,e.clientY),t.addEventListener("mousemove",g,!1),t.addEventListener("mouseup",v,!1),t.addEventListener("mouseout",v,!1),t.addEventListener("dblclick",v,!1))}function w(e){e.preventDefault()}this.focus=function(t){var r;a.setFromObject(t),!1===a.isEmpty()?(a.getCenter(l),r=a.getBoundingSphere(p).radius):(l.setFromMatrixPosition(t.matrixWorld),r=.1),o.set(0,0,1),o.applyQuaternion(e.quaternion),o.multiplyScalar(4*r),e.position.copy(l).add(o),n.dispatchEvent(m)},this.pan=function(t){var r=e.zoom;t.multiplyScalar(n.panSpeed/r),t.applyMatrix3(u.getNormalMatrix(e.matrix)),e.position.add(t),l.add(t),n.dispatchEvent(m)},this.zoom=function(t){e.zoom-=(t.z||0)*e.zoom*.1,e.updateProjectionMatrix(),n.dispatchEvent(m)},this.rotate=function(t){r.copy(e.position).sub(l),f.setFromCartesianCoords(-1*r.x,r.z,r.y),f.theta+=t.x*n.rotationSpeed,f.makeSafe();var i=r.setFromSpherical(f);r.set(-1*i.x,i.z,i.y),e.position.copy(l).add(r),e.lookAt(l),n.dispatchEvent(m)},t.addEventListener("contextmenu",w,!1),t.addEventListener("mousedown",b,!1),t.addEventListener("wheel",y,!1);var x=[new i.Vector3,new i.Vector3,new i.Vector3],_=[new i.Vector3,new i.Vector3,new i.Vector3],E=null;function S(e){if(!1!==n.enabled){switch(e.touches.length){case 1:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio),E=x[0].distanceTo(x[1])}_[0].copy(x[0]),_[1].copy(x[1])}}function C(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),n.rotate(x[0].sub(a(x[0],_)).multiplyScalar(-1));break;case 2:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var t=x[0].distanceTo(x[1]);n.zoom(o.set(0,0,E-t)),E=t;var r=x[0].clone().sub(a(x[0],_)),i=x[1].clone().sub(a(x[1],_));r.x=-r.x,i.x=-i.x,n.pan(r.add(i))}_[0].copy(x[0]),_[1].copy(x[1])}function a(e,t){var n=t[0];for(var r in t)n.distanceTo(e)>t[r].distanceTo(e)&&(n=t[r]);return n}}t.addEventListener("touchstart",S,!1),t.addEventListener("touchmove",C,!1),this.dispose=function(){t.removeEventListener("contextmenu",w,!1),t.removeEventListener("mousedown",b,!1),t.removeEventListener("wheel",y,!1),t.removeEventListener("mousemove",g,!1),t.removeEventListener("mouseup",v,!1),t.removeEventListener("mouseout",v,!1),t.removeEventListener("dblclick",v,!1),t.removeEventListener("touchstart",S,!1),t.removeEventListener("touchmove",C,!1)}};(rn.prototype=Object.create(i.EventDispatcher.prototype)).constructor=rn;var on=window.ResizeObserver||u.ResizeObserver,an=function(){function e(e,t){var n=this;void 0===t&&(t=oe),this.options=oe,this.previousWidth=0,this.previousHeight=0,this.options=y(y({},oe),t),this.scene=e||new en,this.ro=new on((function(e){e.length>0&&n.onWindowResize()})),this.initCamera(),this.animate=this.animate.bind(this),this.onWindowResize=this.onWindowResize.bind(this)}return e.prototype.animate=function(){var e;this.scene.stats.begin(),this.scene.updateMatrixWorld(),ze(this.camera),null===(e=this.renderer)||void 0===e||e.render(this.scene,this.camera),this.scene.stats.end(),requestAnimationFrame(this.animate)},e.prototype.initCamera=function(){this.camera=new i.OrthographicCamera(-100,100,100,-100,.1,1e3),this.camera.zoom=.5,this.camera.position.set(0,0,10),this.camera.up=new i.Vector3(0,0,1),this.camera.lookAt(new i.Vector3),this.scene.add(this.camera)},e.prototype.setContainer=function(e){this.container=e,this.initRenderer(e),this.controls=new rn(this.camera,this.container),this.controls.enableDamping=!0,this.ro.observe(this.container),requestAnimationFrame(this.animate),this.onWindowResize()},e.prototype.initRenderer=function(e){var t=new i.WebGLRenderer({antialias:!0});t.autoClear=!1,t.setPixelRatio(window.devicePixelRatio),ze(this.container),t.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer=t,this.container.appendChild(t.domElement)},e.prototype.updateOptions=function(e){void 0===e&&(e=oe),this.options=y(y({},this.options),e),this.scene.updateOptions(this.options)},e.prototype.destroy=function(){this.ro.unobserve(this.container)},e.prototype.onWindowResize=function(){var e;ze(this.container),ze(this.camera);var t=this.container,n=t.offsetHeight,r=t.offsetWidth;if(Math.abs(r-this.previousWidth)>10||Math.abs(n-this.previousHeight)>10){var i=_([r/100,n/100],2),o=i[0],a=i[1];this.camera.left=-o/2,this.camera.right=o/2,this.camera.top=a/2,this.camera.bottom=-a/2,this.camera.updateProjectionMatrix(),null===(e=this.renderer)||void 0===e||e.setSize(r,n),this.previousWidth=r,this.previousHeight=n}},e.prototype.addVisualization=function(e){this.scene.addVisualization(e)},e}(),sn=function(e,t){t=void 0!==t?t:document,this.enabled=!0,this.center=new i.Vector3,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var n=this,r=new i.Vector3,o=new i.Vector3,a=new i.Box3,s={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},c=s.NONE,l=this.center,u=new i.Matrix3,h=new i.Vector2,d=new i.Vector2,f=new i.Spherical,p=new i.Sphere,m={type:"change"};function g(e){!1!==n.enabled&&(0===e.button?c=s.ROTATE:1===e.button?c=s.ZOOM:2===e.button&&(c=s.PAN),d.set(e.clientX,e.clientY),t.addEventListener("mousemove",v,!1),t.addEventListener("mouseup",y,!1),t.addEventListener("mouseout",y,!1),t.addEventListener("dblclick",y,!1))}function v(e){if(!1!==n.enabled){h.set(e.clientX,e.clientY);var t=h.x-d.x,r=h.y-d.y;c===s.ROTATE?n.rotate(o.set(-t,-r,0)):c===s.ZOOM?n.zoom(o.set(0,0,r)):c===s.PAN&&n.pan(o.set(-t,r,0)),d.set(e.clientX,e.clientY)}}function y(e){t.removeEventListener("mousemove",v,!1),t.removeEventListener("mouseup",y,!1),t.removeEventListener("mouseout",y,!1),t.removeEventListener("dblclick",y,!1),c=s.NONE}function b(e){e.preventDefault(),n.zoom(o.set(0,0,e.deltaY>0?1:-1))}function w(e){e.preventDefault()}this.focus=function(t){var r;a.setFromObject(t),!1===a.isEmpty()?(a.getCenter(l),r=a.getBoundingSphere(p).radius):(l.setFromMatrixPosition(t.matrixWorld),r=.1),o.set(0,0,1),o.applyQuaternion(e.quaternion),o.multiplyScalar(4*r),e.position.copy(l).add(o),n.dispatchEvent(m)},this.pan=function(t){var r=e.position.distanceTo(l);t.multiplyScalar(r*n.panSpeed),t.applyMatrix3(u.getNormalMatrix(e.matrix)),e.position.add(t),l.add(t),n.dispatchEvent(m)},this.zoom=function(t){var r=e.position.distanceTo(l);t.multiplyScalar(r*n.zoomSpeed),t.length()>r||(t.applyMatrix3(u.getNormalMatrix(e.matrix)),e.position.add(t),n.dispatchEvent(m))},this.rotate=function(t){r.copy(e.position).sub(l),f.setFromCartesianCoords(-1*r.x,r.z,r.y),f.theta+=t.x*n.rotationSpeed,f.phi+=t.y*n.rotationSpeed,f.makeSafe();var i=r.setFromSpherical(f);r.set(-1*i.x,i.z,i.y),e.position.copy(l).add(r),e.lookAt(l),n.dispatchEvent(m)},this.dispose=function(){t.removeEventListener("contextmenu",w,!1),t.removeEventListener("mousedown",g,!1),t.removeEventListener("wheel",b,!1),t.removeEventListener("mousemove",v,!1),t.removeEventListener("mouseup",y,!1),t.removeEventListener("mouseout",y,!1),t.removeEventListener("dblclick",y,!1),t.removeEventListener("touchstart",S,!1),t.removeEventListener("touchmove",C,!1)},t.addEventListener("contextmenu",w,!1),t.addEventListener("mousedown",g,!1),t.addEventListener("wheel",b,!1);var x=[new i.Vector3,new i.Vector3,new i.Vector3],_=[new i.Vector3,new i.Vector3,new i.Vector3],E=null;function S(e){if(!1!==n.enabled){switch(e.touches.length){case 1:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio),E=x[0].distanceTo(x[1])}_[0].copy(x[0]),_[1].copy(x[1])}}function C(e){if(!1!==n.enabled){switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),n.rotate(x[0].sub(a(x[0],_)).multiplyScalar(-1));break;case 2:x[0].set(e.touches[0].pageX,e.touches[0].pageY,0).divideScalar(window.devicePixelRatio),x[1].set(e.touches[1].pageX,e.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var t=x[0].distanceTo(x[1]);n.zoom(o.set(0,0,E-t)),E=t;var r=x[0].clone().sub(a(x[0],_)),i=x[1].clone().sub(a(x[1],_));r.x=-r.x,i.x=-i.x,n.pan(r.add(i))}_[0].copy(x[0]),_[1].copy(x[1])}function a(e,t){var n=t[0];for(var r in t)n.distanceTo(e)>t[r].distanceTo(e)&&(n=t[r]);return n}}t.addEventListener("touchstart",S,!1),t.addEventListener("touchmove",C,!1)};(sn.prototype=Object.create(i.EventDispatcher.prototype)).constructor=sn;var cn=window.ResizeObserver||u.ResizeObserver,ln=function(){function e(e,t){var n=this;void 0===t&&(t={}),this.options={},this.previousWidth=0,this.previousHeight=0,this.options=y(y({},oe),t),this.scene=e||new en(this.options),this.ro=new cn((function(e){e.length>0&&n.onWindowResize()})),this.initCamera(),this.animate=this.animate.bind(this),this.onWindowResize=this.onWindowResize.bind(this)}return e.prototype.animate=function(){var e;this.scene.stats.begin(),this.scene.updateMatrixWorld(),ze(this.camera),null===(e=this.renderer)||void 0===e||e.render(this.scene,this.camera),this.scene.stats.end(),requestAnimationFrame(this.animate)},e.prototype.initCamera=function(){this.camera=new i.PerspectiveCamera(50,1,.01,1e3),this.camera.position.set(0,5,10),this.camera.up=new i.Vector3(0,0,1),this.camera.lookAt(new i.Vector3),this.scene.add(this.camera)},e.prototype.setContainer=function(e){this.container=e,this.initRenderer(),this.controls=new sn(this.camera,this.container),this.controls.enableDamping=!0,this.ro.observe(this.container),requestAnimationFrame(this.animate),this.onWindowResize()},e.prototype.initRenderer=function(){var e=new i.WebGLRenderer({antialias:!0});e.autoClear=!1,e.setPixelRatio(window.devicePixelRatio),ze(this.container),e.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer=e,this.container.appendChild(e.domElement)},e.prototype.updateOptions=function(e){void 0===e&&(e=oe),this.options=y(y({},this.options),e),this.scene.updateOptions(this.options)},e.prototype.destroy=function(){this.ro.unobserve(this.container)},e.prototype.onWindowResize=function(){var e;ze(this.container),ze(this.camera);var t=this.container,n=t.offsetHeight,r=t.offsetWidth;(Math.abs(r-this.previousWidth)>10||Math.abs(n-this.previousHeight)>10)&&(this.camera.aspect=r/n,this.camera.updateProjectionMatrix(),null===(e=this.renderer)||void 0===e||e.setSize(r,n),this.previousWidth=r,this.previousHeight=n)},e.prototype.addVisualization=function(e){this.scene.addVisualization(e)},e}(),un=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,null,y(y({},ae),n))||this;return r.options={},r.framesList=[],r.options.onFramesListUpdate,r.ros=t,r.onFramesListUpdate=n.onFramesListUpdate||function(){},r.initRosEvents(),r.getTFMessages=r.getTFMessages.bind(r),r.setFrameTransform=r.setFrameTransform.bind(r),r.addRobot=r.addRobot.bind(r),r.onRosConnection=r.onRosConnection.bind(r),r}return v(t,e),t.prototype.initRosEvents=function(){var e=this;this.ros.on("connection",(function(){e.onRosConnection()})),this.ros.isConnected&&this.onRosConnection()},t.prototype.onRosConnection=function(){var e=this;this.ros.getTopics((function(t){["/tf","/tf_static"].forEach((function(n){new p.Topic({ros:e.ros,name:n,messageType:t.types[t.topics.indexOf(n)]}).subscribe(e.getTFMessages)}))}))},t.prototype.getTFMessages=function(e){var t=this;e.transforms.forEach((function(e){var n=e.header.frame_id,r=e.child_frame_id,i=e.transform,o=i.rotation,a=o.w,s=o.x,c=o.y,l=o.z,u=i.translation,h=u.x,d=u.y,f=u.z,p=_([t.getObjectOrCreate(r),t.getObjectOrCreate(n)],2),m=p[0];p[1].add(m),m.position.set(h,d,f),m.quaternion.set(s,c,l,a)})),this.setFrameTransform()},t.prototype.getObjectOrCreate=function(e){var t=this.scene.vizWrapper;-1===this.framesList.indexOf(e)&&(this.framesList.push(e),this.onFramesListUpdate(this.framesList));var n=t.getObjectByName(e+"-tf-connector");if(n)return n;var r=new i.Group;return r.name=e+"-tf-connector",this.scene.addObject(r),r},t.prototype.setFrameTransform=function(){var e=this.options.selectedFrame,t=this.scene.vizWrapper;if(e){var n=this.getObjectOrCreate(e);if(n){t.position.set(0,0,0),t.quaternion.set(0,0,0,1),t.updateMatrixWorld();var r=new i.Vector3,o=new i.Quaternion;n.getWorldQuaternion(o);var a=o.w,s=o.x,c=o.y,l=o.z;t.quaternion.set(-s,-c,-l,a),t.updateMatrixWorld(),n.getWorldPosition(r);var u=r.negate();t.position.set(u.x,u.y,u.z)}}},t.prototype.addVisualization=function(t){var n=this;e.prototype.addVisualization.call(this,t),t.onHeaderChange=function(e){n.getObjectOrCreate(e).add(t.object)}},t.prototype.attachObjectOutsideTree=function(e){e.frameId&&this.getObjectOrCreate(e.frameId).attach(e)},t.prototype.addRobot=function(t){var n=this;t.loadFromParam((function(){var r;e.prototype.addVisualization.call(n,t);var i=(null===(r=t.object)||void 0===r?void 0:r.children[0]).links;Object.keys(i).map((function(e){var t=i[e];n.getObjectOrCreate(e).add(t)}))}))},t.prototype.setFixedFrame=function(){},t}(ln),hn=function(){function e(e,t,n){this.markerManagerMap={},this.controlsMap={},this.objectMap={},this.namespaces={},this.callback=function(){return null},this.object=e,this.viewer=t,this.hideOtherHandlesOnSelect=n.hideOtherHandlesOnSelect,this.hideOtherControlsInstancesOnSelect=n.hideOtherControlsInstancesOnSelect,this.visible=n.visible,this.onChange=this.onChange.bind(this)}return e.prototype.getMarkerManagerOrCreate=function(e){var t=e;if(!this.markerManagerMap[t]||!this.objectMap[t]){var n=new Ze;n.name=t||"",this.markerManagerMap[t]=new It(n,this.onChange),this.objectMap[t]=n,this.object.add(n)}return{manager:this.markerManagerMap[t],object:this.objectMap[t]}},e.prototype.onChange=function(){this.callback&&this.callback()},e.prototype.onNamespaceChange=function(e){this.callback=e},e.prototype.initMarkers=function(t,n,r){var i=this,o=t.controls,a=t.header.frame_id,s=t.name,c=t.pose,l=c.orientation,u=c.position,h=t.scale,p=this.getMarkerManagerOrCreate(s),m=p.manager,g=p.object;g.visible=r,g.frameId=a,this.viewer.attachObjectOutsideTree&&this.viewer.attachObjectOutsideTree(g),g.setTransform({translation:u,rotation:l}),g.userData.control={frameId:t.header.frame_id,markerName:t.name},g.userData.handlesControlsMap={},o.forEach((function(t,a){var c,l,u=s;if(void 0===i.controlsMap[u]&&(i.controlsMap[u]=[]),(null===(c=i.controlsMap[u])||void 0===c?void 0:c.length)!==o.length){var p=t.orientation_mode===M.FIXED?d.ANCHOR_MODE.FIXED:d.ANCHOR_MODE.INHERIT,v=n.anchor(g,{separationT:{x:.4,y:.4,z:.4},orientation:t.orientation,mode:p,hideOtherHandlesOnSelect:i.hideOtherHandlesOnSelect,hideOtherControlsInstancesOnSelect:i.hideOtherControlsInstancesOnSelect,showHelperPlane:!0});v.scale.set(h,h,h),v.visible=r,e.enableControls(g,t.interaction_mode,t.orientation_mode,t.name,v,f({seed:u+"-"+t.name+"-"+2*a})),null===(l=i.controlsMap[u])||void 0===l||l.push(v)}t.markers.length>0&&t.markers.forEach((function(e){m.updateMarker(e)}))}))},e.prototype.setVisible=function(e){this.visible=e,Object.values(this.controlsMap).map((function(t){var n;null===(n=t)||void 0===n||n.map((function(t){t.visible=e,t.object.visible=e}))}))},e.prototype.updatePose=function(e){var t=e.name,n=e.pose,r=this.objectMap[t];if(r&&n){var i=n.orientation,o=n.position;r.setTransform({translation:o,rotation:i})}},e.enableControls=function(t,n,r,o,a,s){var c;a.showAll(!1);var l=new i.Quaternion;a.getWorldQuaternion(l);var u=(new i.Euler).setFromQuaternion(l),h=e.getAlignmentColor(u),f=null!=h?h:s;if(-1!==k.indexOf(r)&&n===O.ROTATE_AXIS)return t.userData.handlesControlsMap=y(y({},t.userData.handlesControlsMap),((c={})[d.DEFAULT_HANDLE_GROUP_NAME.ER]=o,c)),void a.showByNames([d.DEFAULT_HANDLE_GROUP_NAME.ER],!0);var p=[];switch(n){case O.NONE:case O.MENU:case O.BUTTON:break;case O.MOVE_AXIS:p=[d.DEFAULT_HANDLE_GROUP_NAME.XPT,d.DEFAULT_HANDLE_GROUP_NAME.XNT],a.translationXP.setColor(f),a.translationXN.setColor(f);break;case O.MOVE_PLANE:p=[d.DEFAULT_HANDLE_GROUP_NAME.PICK_PLANE_YZ],a.pickPlaneYZ.setColor(f);break;case O.ROTATE_AXIS:p=[d.DEFAULT_HANDLE_GROUP_NAME.XR],a.rotationX.setColor(f);break;case O.MOVE_ROTATE:p=[d.DEFAULT_HANDLE_GROUP_NAME.XR,d.DEFAULT_HANDLE_GROUP_NAME.PICK_PLANE_YZ],a.pickPlaneYZ.setColor(f),a.rotationX.setColor(f);break;case O.MOVE_3D:p=[d.DEFAULT_HANDLE_GROUP_NAME.XPT,d.DEFAULT_HANDLE_GROUP_NAME.XNT,d.DEFAULT_HANDLE_GROUP_NAME.YPT,d.DEFAULT_HANDLE_GROUP_NAME.YNT,d.DEFAULT_HANDLE_GROUP_NAME.ZPT,d.DEFAULT_HANDLE_GROUP_NAME.ZNT,d.DEFAULT_HANDLE_GROUP_NAME.PICK];break;case O.ROTATE_3D:p=[d.DEFAULT_HANDLE_GROUP_NAME.XR,d.DEFAULT_HANDLE_GROUP_NAME.YR,d.DEFAULT_HANDLE_GROUP_NAME.ZR];break;case O.MOVE_ROTATE_3D:p=[d.DEFAULT_HANDLE_GROUP_NAME.PICK]}p.map((function(e){t.userData.handlesControlsMap[e]=o})),a.showByNames(p,!0)},e.getAlignmentColor=function(e){for(var t=Math.pow(10,-3),n=_(e.toArray(),3),r=n[0],i=n[1],o=n[2],a=-4;a<=4;a++){var s=a*Math.PI/2;if(Math.abs(r-s)<t&&Math.abs(i)<t&&Math.abs(o)<t)return"red";if(Math.abs(i-s)<t&&Math.abs(r)<t&&Math.abs(o)<t)return"green";if(Math.abs(o-s)<t&&Math.abs(i)<t&&Math.abs(r)<t)return"blue"}return null},e.prototype.removeObject=function(e){var t,n=this.objectMap[e];null===(t=n.parent)||void 0===t||t.remove(n),delete this.objectMap[e]},e.prototype.reset=function(e){var t=this;this.onChange(),e&&Object.keys(this.objectMap).forEach((function(e){t.removeObject(e)}))},e}(),dn=function(e){function t(t,n,r,i){void 0===i&&(i=xe);var o=e.call(this,t,n,D,y(y({},xe),i))||this;o.init=!1,o.object=new Ze,o.interactiveMarkersNames=new Set,o.interactiveMarkersFrameIds=new Set,o.clientId="amphion-"+Math.round(Math.random()*Math.pow(10,8)),o.messageSequence=0,o.feedbackTopic=null,o.init=!1,o.viewer=r,o.updateOptions(y(y({},xe),i)),o.interactiveMarkerManager=new hn(o.object,r,o.options);var a=o.options.publishThrottleRate;return o.debouncedPublish=h(o.publish.bind(o),a&&a>0?a:0),o.initFreeformControls(),o.publishManual=o.publishManual.bind(o),o}return v(t,e),t.prototype.hide=function(){e.prototype.hide.call(this),this.interactiveMarkerManager.setVisible(!1)},t.prototype.show=function(){e.prototype.show.call(this),this.interactiveMarkerManager.setVisible(!0)},t.prototype.destroy=function(){var t;e.prototype.destroy.call(this),null===(t=this.freeformControls)||void 0===t||t.destroy(),this.freeformControls=null,this.interactiveMarkerManager.reset(!0),this.interactiveMarkersNames=new Set},t.prototype.initFreeformControls=function(){var e=this,t=this.viewer,n=t.camera,r=t.controls,i=t.renderer,o=t.scene;ze(n),ze(i),this.freeformControls=new d.ControlsManager(n,i.domElement),o.add(this.freeformControls),this.freeformControls.listen(d.RAYCASTER_EVENTS.DRAG_START,(function(){r.enabled=!1})),this.freeformControls.listen(d.RAYCASTER_EVENTS.DRAG,(function(t,n){return e.debouncedPublish(t,n)})),this.freeformControls.listen(d.RAYCASTER_EVENTS.DRAG_STOP,(function(t,n){e.debouncedPublish(t,n),r.enabled=!0}))},t.makeInteractiveMarkerFeedbackMessage=function(e){var t=e.seq,n=e.frame_id,r=e.client_id,i=e.marker_name,o=e.control_name,a=e.position,s=e.quaternion;return new p.Message({header:{seq:t,frame_id:n,stamp:{secs:0,nsecs:0}},client_id:r,marker_name:i,control_name:o,pose:{position:{x:a.x,y:a.y,z:a.z},orientation:{x:s.x,y:s.y,z:s.z,w:s.w}},event_type:1,menu_entry_id:0,mouse_point:{x:0,y:0,z:0},mouse_point_valid:!1})},t.makeInteractiveMarkerFeedbackTopic=function(e,t){return new p.Topic({ros:e,name:t,messageType:"visualization_msgs/InteractiveMarkerFeedback"})},t.prototype.publish=function(e,n){var r;if(e){var i=e.userData.control,o=i.frameId,a=i.markerName,s=e.userData.handlesControlsMap[n],c=t.makeInteractiveMarkerFeedbackMessage({seq:this.messageSequence,client_id:this.clientId,frame_id:o,marker_name:a,control_name:s,position:e.position,quaternion:e.quaternion});null!==this.feedbackTopic&&(null===(r=this.feedbackTopic)||void 0===r||r.publish(c)),this.messageSequence++}},t.prototype.publishManual=function(e){var n=t.makeInteractiveMarkerFeedbackMessage(y(y({seq:this.messageSequence,client_id:this.clientId},e),{frame_id:Array.from(this.interactiveMarkersFrameIds)[0],marker_name:Array.from(this.interactiveMarkersNames)[0]}));null!==this.feedbackTopic&&this.feedbackTopic.publish(n),this.messageSequence++},t.prototype.updateOptions=function(n){void 0!==n.feedbackTopicName?this.feedbackTopic&&this.feedbackTopic.name===n.feedbackTopicName.name||(ze(this.ros),this.feedbackTopic=t.makeInteractiveMarkerFeedbackTopic(this.ros,n.feedbackTopicName.name)):this.feedbackTopic=null;var r=this.options.updateTopicName!==n.topicName&&this.init,i=this.topicName===this.options.updateTopicName;if(r&&void 0!==n.updateTopicName){var o=n.updateTopicName,a=o.messageType,s=o.name;this.changeTopic(s,a,!0)}else r&&i&&this.unsubscribe();e.prototype.updateOptions.call(this,n)},t.prototype.update=function(t){var n=this;if(e.prototype.update.call(this,t),t.markers&&t.markers.length>0&&(t.markers.forEach((function(e){n.interactiveMarkersNames.has(e.name)||n.interactiveMarkerManager.initMarkers(e,n.freeformControls,n.options.visible),n.interactiveMarkersNames.add(e.name),e.header&&n.interactiveMarkersFrameIds.add(e.header.frame_id),t.markers.forEach((function(e){n.interactiveMarkerManager.updatePose(e)}))})),!this.init))if(this.init=!0,void 0!==this.options.updateTopicName){var r=this.options.updateTopicName,i=r.messageType,o=r.name;this.init=!0,this.changeTopic(o,i,!0)}else this.unsubscribe();t.poses&&t.poses.length>0&&t.poses.forEach((function(e){n.interactiveMarkerManager.updatePose(e)})),t.erases},t.prototype.reset=function(){this.interactiveMarkerManager.reset(!1)},t}(qe),fn=n("6cd3").open,pn=function(){function e(){var e=this;this.files=new Set,this.topics=[],this.readers={},this.addFile=function(t){return b(e,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:if(this.files.has(t))throw new Error("file already exists in the bucket");return this.files.add(t),this.readers[t.name]={topics:{},queue:[]},[4,this.processFile(t)];case 1:return e.sent(),[2]}}))}))},this.removeFile=function(t,n){return b(e,void 0,void 0,(function(){return w(this,(function(e){if(!this.files.has(t))throw new Error("file does not exist in the bucket");return this.files.delete(t),clearTimeout(this.readers[t.name].timer),clearTimeout(this.readers[t.name].queueStartWaitTimer),this.readers[t.name]={topics:{},queue:[]},this.topics=this.topics.filter((function(e){return e.rosbagFileName!==t.name})),n(),[2]}))}))},this.addReader=function(t,n,r){var i,o=e.readers[n].topics;if(!o)throw new Error("add "+n+" to the bucket first");o[t]||(o[t]=new Set),null===(i=o[t])||void 0===i||i.add(r)},this.removeReader=function(t,n,r){var i,o,a=e.readers[n].topics;if(!a)throw new Error("add "+n+" to the bucket first");if(!(null===(i=a[t])||void 0===i?void 0:i.has(r)))throw new Error("reader has not yet been added to the bucket");null===(o=a[t])||void 0===o||o.delete(r)},this.processQueue=function(t){0!==e.readers[t.name].queue.length?e.enqueueProcessing(0,t):e.readers[t.name].queueStartWaitTimer=window.setTimeout((function(){e.processQueue(t)}),500)},this.enqueueProcessing=function(t,n){var r=e.readers[n.name].queue,i=r[t],o=r[t+1];if(e.processBagReadResult(i,n),o){var a=i.timestamp,s=a.sec,c=a.nsec,l=o.timestamp,u=l.sec,h=l.nsec,d=Math.floor(s*Math.pow(10,3)+c/Math.pow(10,6)),f=Math.floor(u*Math.pow(10,3)+h/Math.pow(10,6)),p=0;f>d&&(p=f-d),p<4?e.enqueueProcessing(t+1,n):e.readers[n.name].timer=window.setTimeout((function(){e.enqueueProcessing(t+1,n)}),p)}else e.enqueueProcessing(0,n)},this.processBagReadResult=function(t,n){var r,i,o=e.readers[n.name].topics,a=o["*"],s=o[t.topic];null===(r=a)||void 0===r||r.forEach((function(e){return e(n,t)})),null===(i=s)||void 0===i||i.forEach((function(e){return e(n,t)}))}}return e.prototype.processFile=function(e){return b(this,void 0,void 0,(function(){var t,n=this;return w(this,(function(r){switch(r.label){case 0:return[4,fn(e)];case 1:return t=r.sent(),Object.keys(t.connections).forEach((function(r){var i=t.connections[r],o=i.topic,a=i.type;-1===n.topics.findIndex((function(t){return t.name===o&&t.rosbagFileName===e.name}))&&n.topics.push({name:o,messageType:a,rosbagFileName:e.name})})),t.readMessages({},(function(t){n.readers[e.name].queue.push(t)})),this.processQueue(e),[2]}}))}))},e}();return{CollisionObject:et,DepthCloud:nn,DisplayTrajectory:tt,PlanningScene:nt,Point:St,PointCloud:Mt,Polygon:ft,Pose:ut,Wrench:dt,PoseArray:qt,Tf:gt,RobotModel:_t,MarkerArray:Bt,LaserScan:Ut,Map:$t,Odometry:Gt,Path:Yt,Image:Xt,ImageStream:Kt,Marker:Zt,Range:Jt,Scene:en,Viewer2d:an,Viewer3d:ln,TfViewer:un,InteractiveMarkers:dn,RosbagBucket:pn,RosTopicDataSource:S,RosbagDataSource:function(e){var n,r=this;this.createdAt=new Date,this.isStreamPaused=!1,this.internalListener=null,this.listeners=new Set,this.addListener=function(e){return r.listeners.has(e)?{success:!1,reason:"listener already present"}:(r.listeners.add(e),r.stream.addListener(e),{success:!0})},this.removeListener=function(e){return r.listeners.has(e)?(r.listeners.delete(e),r.stream.removeListener(e),{success:!0}):{success:!1,reason:"listener not present"}},this.removeAllListeners=function(){return r.listeners.forEach((function(e){r.stream.removeListener(e)})),r.listeners.clear(),{success:!0}},this.pause=function(){return r.isStreamPaused=!0,{success:!0}},this.resume=function(){return r.isStreamPaused=!1,{success:!0}},this.hasMemory=null!=(n=e.memory)&&n,this.bucket=e.bucket,this.producer={start:function(t){r.internalListener=function(e,n){r.isStreamPaused||t.next(n.message)},r.bucket.addReader(e.topicName,e.fileName,r.internalListener)},stop:function(){r.internalListener&&r.bucket.removeReader(e.topicName,e.fileName,r.internalListener)}},this.stream=this.hasMemory?t.createWithMemory(this.producer):t.create(this.producer)},CONSTANTS:Ie}},"object"===c(t)&&void 0!==e?e.exports=s(n("2Vzt"),n("uqDE"),n("Womt"),n("UY5k"),n("uLOr"),n("qMV5"),n("cLqi"),n("vCiO"),n("VPo4"),n("Qs34"),n("UjdW")):(o=[n("2Vzt"),n("uqDE"),n("Womt"),n("UY5k"),n("uLOr"),n("qMV5"),n("cLqi"),n("vCiO"),n("VPo4"),n("Qs34"),n("UjdW")],void 0===(a="function"==typeof(i=s)?i.apply(t,o):i)||(e.exports=a))}).call(this,n("yLpj"))},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");e.exports=function(e){return r(e,o,i)}},G8Mo:function(e,t,n){var r=n("93I4");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},GDhZ:function(e,t,n){var r=n("wF/u"),i=n("mwIZ"),o=n("hgQt"),a=n("9ggG"),s=n("CMye"),c=n("IOzZ"),l=n("9Nap"),u=1,h=2;e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,u|h)}}},GEWS:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph,o=n("6Ekc").slack;function a(e,t){return r.forEach(e.nodes(),(function n(i){r.forEach(t.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;e.hasNode(s)||o(t,r)||(e.setNode(s,{}),e.setEdge(i,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return o(t,n)}))}function c(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,r=new i({directed:!1}),l=e.nodes()[0],u=e.nodeCount();r.setNode(l,{});for(;a(r,e)<u;)t=s(r,e),n=r.hasNode(t.v)?o(e,t):-o(e,t),c(r,e,n);return r}},GNiM:function(e,t,n){var r=n("I01J"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},GQeE:function(e,t,n){e.exports={default:n("iq4v"),__esModule:!0}},GU3B:function(e,t){function n(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0}n.prototype.add=function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},n.prototype.subtract=function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},n.prototype.multiplyQuaternion=function(e){var t=e.w*this.x+e.y*this.z-e.z*this.y,n=e.w*this.y+e.z*this.x-e.x*this.z,r=e.w*this.z+e.x*this.y-e.y*this.x,i=-e.x*this.x-e.y*this.y-e.z*this.z;this.x=t*e.w+i*-e.x+n*-e.z-r*-e.y,this.y=n*e.w+i*-e.y+r*-e.x-t*-e.z,this.z=r*e.w+i*-e.z+t*-e.y-n*-e.x},n.prototype.clone=function(){return new n(this)},e.exports=n},GbLa:function(e,t,n){var r=n("M96O"),i=n("lnHP");function o(e){return r.map(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),o={v:t};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(e){return r.map(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(n)||(i.value=n),i}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:a(e)};r.isUndefined(e.graph())||(t.value=r.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},Gdbo:function(e,t,n){"use strict";e.exports=function(e){if(e)throw e}},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},Gqj6:function(e,t,n){"use strict";var r=n("3GlI");e.exports=function(e,t,n){var h,d,f,p,m,g,v,y,b,w,x,_=this.options,E=t.length+1,S=0,C="";if(!_.gfm)return;for(;S<E&&((f=t.charAt(S))===a||f===o);)C+=f,S++;if(w=S,(f=t.charAt(S))!==s&&f!==c)return;S++,d=f,h=1,C+=f;for(;S<E&&(f=t.charAt(S))===d;)C+=f,h++,S++;if(h<l)return;for(;S<E&&((f=t.charAt(S))===a||f===o);)C+=f,S++;p="",m="";for(;S<E&&(f=t.charAt(S))!==i&&f!==s&&f!==c;)f===a||f===o?m+=f:(p+=m+f,m=""),S++;if((f=t.charAt(S))&&f!==i)return;if(n)return!0;(x=e.now()).column+=C.length,x.offset+=C.length,C+=p,p=this.decode.raw(this.unescape(p),x),m&&(C+=m);m="",y="",b="",g="",v="";for(;S<E;)if(f=t.charAt(S),g+=y,v+=b,y="",b="",f===i){for(g?(y+=f,b+=f):C+=f,m="",S++;S<E&&(f=t.charAt(S))===a;)m+=f,S++;if(y+=m,b+=m.slice(w),!(m.length>=u)){for(m="";S<E&&(f=t.charAt(S))===d;)m+=f,S++;if(y+=m,b+=m,!(m.length<h)){for(m="";S<E&&((f=t.charAt(S))===a||f===o);)y+=f,b+=f,S++;if(!f||f===i)break}}}else g+=f,b+=f,S++;return e(C+=g+y)({type:"code",lang:p||null,value:r(v)})};var i="\n",o="\t",a=" ",s="~",c="`",l=3,u=4},H8j4:function(e,t,n){var r=n("QkVE");e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},HDyB:function(e,t,n){var r=n("nmnc"),i=n("JHRd"),o=n("ljhN"),a=n("or5M"),s=n("7fqy"),c=n("rEGp"),l=1,u=2,h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",x="[object DataView]",_=r?r.prototype:void 0,E=_?_.valueOf:void 0;e.exports=function(e,t,n,r,_,S,C){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case h:case d:case m:return o(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case p:var A=s;case v:var T=r&l;if(A||(A=c),e.size!=t.size&&!T)return!1;var M=C.get(e);if(M)return M==t;r|=u,C.set(e,t);var k=a(A(e),A(t),r,_,S,C);return C.delete(e),k;case b:if(E)return E.call(e)==E.call(t)}return!1}},HLqC:function(e,t,n){var r=n("R5Y4"),i=n("mv/X"),o=n("ZCgT");e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},HOxn:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Promise");e.exports=r},HRR4:function(e,t,n){"use strict";var r=n("IPAr"),i=n("kaWx");e.exports=y,y.notInList=!0,y.notInBlock=!0;var o='"',a="'",s="\\",c="\n",l="\t",u=" ",h="[",d="]",f="(",p=")",m=":",g="<",v=">";function y(e,t,n){for(var r,v,y,x,_,E,S,C,A=this.options.commonmark,T=0,M=t.length,k="";T<M&&((x=t.charAt(T))===u||x===l);)k+=x,T++;if((x=t.charAt(T))===h){for(T++,k+=x,y="";T<M&&(x=t.charAt(T))!==d;)x===s&&(y+=x,T++,x=t.charAt(T)),y+=x,T++;if(y&&t.charAt(T)===d&&t.charAt(T+1)===m){for(E=y,T=(k+=y+d+m).length,y="";T<M&&((x=t.charAt(T))===l||x===u||x===c);)k+=x,T++;if(y="",r=k,(x=t.charAt(T))===g){for(T++;T<M&&b(x=t.charAt(T));)y+=x,T++;if((x=t.charAt(T))===b.delimiter)k+=g+y+x,T++;else{if(A)return;T-=y.length+1,y=""}}if(!y){for(;T<M&&w(x=t.charAt(T));)y+=x,T++;k+=y}if(y){for(S=y,y="";T<M&&((x=t.charAt(T))===l||x===u||x===c);)y+=x,T++;if(_=null,(x=t.charAt(T))===o?_=o:x===a?_=a:x===f&&(_=p),_){if(!y)return;for(T=(k+=y+x).length,y="";T<M&&(x=t.charAt(T))!==_;){if(x===c){if(T++,(x=t.charAt(T))===c||x===_)return;y+=c}y+=x,T++}if((x=t.charAt(T))!==_)return;v=k,k+=y+x,T++,C=y,y=""}else y="",T=k.length;for(;T<M&&((x=t.charAt(T))===l||x===u);)k+=x,T++;return(x=t.charAt(T))&&x!==c?void 0:!!n||(r=e(r).test().end,S=this.decode.raw(this.unescape(S),r,{nonTerminated:!1}),C&&(v=e(v).test().end,C=this.decode.raw(this.unescape(C),v)),e(k)({type:"definition",identifier:i(E),title:C||null,url:S}))}}}}function b(e){return e!==v&&e!==h&&e!==d}function w(e){return e!==h&&e!==d&&!r(e)}b.delimiter=v},HcVr:function(e,t,n){"use strict";var r=n("Vu6g"),i=n("t/3S"),o=n("UrYC"),a=(n("5HGo"),null);"undefined"!=typeof bson&&(a=bson().BSON),e.exports=function(e){function t(t){"publish"===t.op?e.emit(t.topic,t.msg):"service_response"===t.op?e.emit(t.id,t):"call_service"===t.op?e.emit(t.service,t):"status"===t.op&&(t.id?e.emit("status:"+t.id,t):e.emit("status",t))}function n(e,t){"png"===e.op?r(e.data,t):t(e)}return{onopen:function(t){e.isConnected=!0,e.emit("connection",t)},onclose:function(t){e.isConnected=!1,e.emit("close",t)},onerror:function(t){e.emit("error",t)},onmessage:function(e){if("undefined"!=typeof Blob&&e.data instanceof Blob)!function(e,t){if(!a)throw"Cannot process BSON encoded message without BSON header.";var n=new FileReader;n.onload=function(){var e=new Uint8Array(this.result),n=a.deserialize(e);t(n)},n.readAsArrayBuffer(e)}(e.data,(function(e){n(e,t)}));else if(e.data instanceof ArrayBuffer){t(i.decode(e.data,o))}else{n(JSON.parse("string"==typeof e?e:e.data),t)}}}}},HeW1:function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof(e=e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},Hfiw:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{setPrototypeOf:n("6tYh").set})},Hsns:function(e,t,n){var r=n("93I4"),i=n("5T2Y").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},HzoJ:function(e,t,n){var r=n("b5wT");e.exports=function(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var i=r.reduce(n,(function(t,n){var r=e.edge(n),i=e.node(n.v);return{sum:t.sum+r.weight*i.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}return{v:t}}))}},I01J:function(e,t,n){var r=n("44Ds"),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},IDHz:function(e,t,n){var r=n("fjOl"),i=n("MliZ").EventEmitter2;function o(e){var t=this;this.actionClient=e.actionClient,this.goalMessage=e.goalMessage,this.isFinished=!1;var n=new Date;this.goalID="goal_"+Math.random()+"_"+n.getTime(),this.goalMessage=new r({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",(function(e){t.status=e})),this.on("result",(function(e){t.isFinished=!0,t.result=e})),this.on("feedback",(function(e){t.feedback=e})),this.actionClient.goals[this.goalID]=this}o.prototype.__proto__=i.prototype,o.prototype.send=function(e){var t=this;t.actionClient.goalTopic.publish(t.goalMessage),e&&setTimeout((function(){t.isFinished||t.emit("timeout")}),e)},o.prototype.cancel=function(){var e=new r({id:this.goalID});this.actionClient.cancelTopic.publish(e)},e.exports=o},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},IP1Z:function(e,t,n){"use strict";var r=n("2faE"),i=n("rr1i");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},IPAr:function(e,t,n){"use strict";e.exports=function(e){return i.test("number"==typeof e?r(e):e.charAt(0))};var r=String.fromCharCode,i=/\s/},IRYA:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return"[object String]"===n.call(e)}},IWTy:function(e,t,n){var r=n("yue5");e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,c=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=c?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}},Ig6t:function(e,t,n){var r=n("b5wT"),i=n("tQ6r");function o(e,t,n,r,o,a){var s={width:0,height:0,rank:a,borderType:t},c=o[t][a-1],l=i.addDummyNode(e,"border",s,n);o[t][a]=l,e.setParent(l,r),c&&e.setEdge(c,l,{weight:1})}e.exports=function(e){r.forEach(e.children(),(function t(n){var i=e.children(n),a=e.node(n);if(i.length&&r.forEach(i,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,c=a.maxRank+1;s<c;++s)o(e,"borderLeft","_bl",n,a,s),o(e,"borderRight","_br",n,a,s)}}))}},Ioao:function(e,t,n){var r=n("heNW"),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(c),r(e,this,l)}}},IoeE:function(e,t,n){"use strict";e.exports=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t.children||[]).reduce((function(t,n){return"definition"===n.type&&(t[n.identifier]={href:n.url,title:n.title}),e(n,t)}),n)}},IujW:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=n("U6jy"),o=n("1VtT"),a=n("fUUT"),s=n("17x9"),c=n("wnOJ"),l=n("cVWj"),u=n("u3i/"),h=n("UV+P"),d=n("9Z5P"),f=n("IoeE"),p=n("Nw8X"),m=n("3m36"),g=n("h9ck"),v=Object.keys(m),y=function(e){var t=e.source||e.children||"",n=e.parserOptions;if(e.allowedTypes&&e.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");var r=i(m,e.renderers),s=[[a,n]].concat(e.plugins||[]).reduce(b,o()),p=s.parse(t),y=i(e,{renderers:r,definitions:f(p)}),w=function(e){var t=[d,c()],n=e.disallowedTypes;e.allowedTypes&&(n=v.filter((function(t){return"root"!==t&&-1===e.allowedTypes.indexOf(t)})));var r=e.unwrapDisallowed?"unwrap":"remove";n&&n.length>0&&t.push(u.ofType(n,r));e.allowNode&&t.push(u.ifNotMatch(e.allowNode,r));var i=!e.escapeHtml&&!e.skipHtml,o=(e.astPlugins||[]).some((function(e){return(Array.isArray(e)?e[0]:e).identity===g.HtmlParser}));i&&!o&&t.push(l);return e.astPlugins?t.concat(e.astPlugins):t}(e),x=s.runSync(p),_=w.reduce((function(e,t){return t(e,y)}),x);return h(_,y)};function b(e,t){return Array.isArray(t)?e.use.apply(e,r(t)):e.use(t)}y.defaultProps={renderers:{},escapeHtml:!0,skipHtml:!1,sourcePos:!1,rawSourcePos:!1,transformLinkUri:p,astPlugins:[],plugins:[],parserOptions:{}},y.propTypes={className:s.string,source:s.string,children:s.string,sourcePos:s.bool,rawSourcePos:s.bool,escapeHtml:s.bool,skipHtml:s.bool,allowNode:s.func,allowedTypes:s.arrayOf(s.oneOf(v)),disallowedTypes:s.arrayOf(s.oneOf(v)),transformLinkUri:s.oneOfType([s.func,s.bool]),linkTarget:s.oneOfType([s.func,s.string]),transformImageUri:s.func,astPlugins:s.arrayOf(s.func),unwrapDisallowed:s.bool,renderers:s.object,plugins:s.array,parserOptions:s.object},y.types=v,y.renderers=m,y.uriTransformer=p,e.exports=y},Ivbl:function(e,t,n){var r=n("epdU"),i=e.exports={Ros:n("U1bi"),Topic:n("cqyl"),Message:n("PjQo"),Param:n("WQ2p"),Service:n("US93"),ServiceRequest:n("kAvd"),ServiceResponse:n("b3Az")};r(i.Ros,["Param","Service","Topic"],i)},IyW0:function(e,t,n){"use strict";var r=n("b5wT"),i=n("tQ6r"),o=n("jFXE").positionX;e.exports=function(e){(function(e){var t=i.buildLayerMatrix(e),n=e.graph().ranksep,o=0;r.forEach(t,(function(t){var i=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=o+i/2})),o+=i+n}))})(e=i.asNonCompoundGraph(e)),r.forEach(o(e),(function(t,n){e.node(n).x=t}))}},J2m7:function(e,t,n){var r=n("XKAG")(n("UfWW"));e.exports=r},J5yW:function(e,t,n){"use strict";var r=n("1iAE"),i=n("ZONP");e.exports=function(e){return r(e)||i(e)}},JB68:function(e,t,n){var r=n("Jes0");e.exports=function(e){return Object(r(e))}},JC6p:function(e,t,n){var r=n("cq/+"),i=n("7GkX");e.exports=function(e,t){return e&&r(e,t,i)}},JHRd:function(e,t,n){var r=n("Kz5y").Uint8Array;e.exports=r},JHgL:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).get(e)}},"JMW+":function(e,t,n){"use strict";var r,i,o,a,s=n("uOPS"),c=n("5T2Y"),l=n("2GTP"),u=n("QMMT"),h=n("Y7ZC"),d=n("93I4"),f=n("eaoh"),p=n("EXMj"),m=n("oioR"),g=n("8gHz"),v=n("QXhf").set,y=n("q6LJ")(),b=n("ZW5q"),w=n("RDmV"),x=n("vBP9"),_=n("zXhZ"),E=c.TypeError,S=c.process,C=S&&S.versions,A=C&&C.v8||"",T=c.Promise,M="process"==u(S),k=function(){},O=i=b.f,P=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n("UWiX")("species")]=function(e){e(k,k)};return(M||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(E("Promise-chain cycle")):(o=R(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(c,(function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=w((function(){M?S.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=M||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(c,(function(){var t;M?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},I=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,l(I,r,1),l(N,r,1))}catch(e){N.call(r,e)}})):(n._v=e,n._s=1,F(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};P||(T=function(e){p(this,T,"Promise","_h"),f(e),r.call(this);try{e(l(I,this,1),l(N,this,1))}catch(e){N.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n("XJU/")(T.prototype,{then:function(e,t){var n=O(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=M?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(I,e,1),this.reject=l(N,e,1)},b.f=O=function(e){return e===T||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!P,{Promise:T}),n("RfKB")(T,"Promise"),n("TJWN")("Promise"),a=n("WEpk").Promise,h(h.S+h.F*!P,"Promise",{reject:function(e){var t=O(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!P),"Promise",{resolve:function(e){return _(s&&this===a?T:this,e)}}),h(h.S+h.F*!(P&&n("TuGD")((function(e){T.all(e).catch(k)}))),"Promise",{all:function(e){var t=this,n=O(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=O(t),r=n.reject,i=w((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},JO7F:function(e,t,n){e.exports={default:n("/eQG"),__esModule:!0}},JPst:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},JRpN:function(e,t,n){var r=n("b5wT"),i=n("tQ6r");e.exports={run:function(e){var t=i.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};return r.forEach(e.children(),(function(n){!function n(i,o){var a=e.children(i);a&&a.length&&r.forEach(a,(function(e){n(e,o+1)}));t[i]=o}(n,1)})),t}(e),o=r.max(r.values(n))-1,a=2*o+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=a}));var s=function(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;r.forEach(e.children(),(function(c){!function e(t,n,o,a,s,c,l){var u=t.children(l);if(!u.length)return void(l!==n&&t.setEdge(n,l,{weight:0,minlen:o}));var h=i.addBorderNode(t,"_bt");var d=i.addBorderNode(t,"_bb");var f=t.node(l);t.setParent(h,l);f.borderTop=h;t.setParent(d,l);f.borderBottom=d;r.forEach(u,(function(r){e(t,n,o,a,s,c,r);var i=t.node(r),u=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,m=u!==f?1:s-c[l]+1;t.setEdge(h,u,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:m,nestingEdge:!0})}));t.parent(l)||t.setEdge(n,h,{weight:0,minlen:s+c[l]})}(e,t,a,s,o,n,c)})),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},JSQU:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},JZM8:function(e,t,n){var r=n("FfPP"),i=n("xs/l")((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},JbBM:function(e,t,n){n("Hfiw"),e.exports=n("WEpk").Object.setPrototypeOf},Jes0:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},JlFY:function(e,t,n){"use strict";var r=n("IPAr"),i=n("Brp5");e.exports=a,a.locator=i;var o="`";function a(e,t,n){for(var i,a,s,c,l,u,h,d,f=t.length,p=0,m="",g="";p<f&&t.charAt(p)===o;)m+=o,p++;if(m){for(l=m,c=p,m="",d=t.charAt(p),s=0;p<f;){if(u=d,d=t.charAt(p+1),u===o?(s++,g+=u):(s=0,m+=u),s&&d!==o){if(s===c){l+=m+g,h=!0;break}m+=g,g=""}p++}if(!h){if(c%2!=0)return;m=""}if(n)return!0;for(i="",a="",f=m.length,p=-1;++p<f;)u=m.charAt(p),r(u)?a+=u:(a&&(i&&(i+=a),a=""),i+=u);return e(l)({type:"inlineCode",value:i})}}},JmpY:function(e,t,n){var r=n("eUgh");e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},JqBK:function(e,t,n){"use strict";e.exports=function(e){return String(e).replace(/\s+/g," ")}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},Jxod:function(e,t,n){var r=n("GU3B"),i=n("RT9k");function o(e){e=e||{},this.position=new r(e.position),this.orientation=new i(e.orientation)}o.prototype.applyTransform=function(e){this.position.multiplyQuaternion(e.rotation),this.position.add(e.translation);var t=e.rotation.clone();t.multiply(this.orientation),this.orientation=t},o.prototype.clone=function(){return new o(this)},o.prototype.multiply=function(e){var t=e.clone();return t.applyTransform({rotation:this.orientation,translation:this.position}),t},o.prototype.getInverse=function(){var e=this.clone();return e.orientation.invert(),e.position.multiplyQuaternion(e.orientation),e.position.x*=-1,e.position.y*=-1,e.position.z*=-1,e},e.exports=o},K2KW:function(e,t,n){"use strict";var r=n("RjOF"),i=n("3GlI");e.exports=function(e,t,n){var r,l,u,h=-1,d=t.length,f="",p="",m="",g="";for(;++h<d;)if(r=t.charAt(h),u)if(u=!1,f+=m,p+=g,m="",g="",r===o)m=r,g=r;else for(f+=r,p+=r;++h<d;){if(!(r=t.charAt(h))||r===o){g=r,m=r;break}f+=r,p+=r}else if(r===s&&t.charAt(h+1)===r&&t.charAt(h+2)===r&&t.charAt(h+3)===r)m+=c,h+=3,u=!0;else if(r===a)m+=r,u=!0;else{for(l="";r===a||r===s;)l+=r,r=t.charAt(++h);if(r!==o)break;m+=l+r,g+=r}if(p)return!!n||e(f)({type:"code",lang:null,value:i(p)})};var o="\n",a="\t",s=" ",c=r(s,4)},KJAg:function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,a,s,c,l,u=["pedantic","commonmark"],h=u.length,d=e.length,f=-1;for(;++f<d;){for(i=e[f],o=i[1]||{},a=i[0],s=-1,l=!1;++s<h;)if(void 0!==o[c=u[s]]&&o[c]!==n.options[c]){l=!0;break}if(!l&&t[a].apply(n,r))return!0}return!1}},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KN5b:function(e,t,n){var r=n("GU3B"),i=n("e3BR");e.exports=function(e){this.scale=null,this.type=i.URDF_MESH,this.filename=e.xml.getAttribute("filename");var t=e.xml.getAttribute("scale");if(t){var n=t.split(" ");this.scale=new r({x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}}},KUxP:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},KX5q:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("IPAr"),o=n("BjVE");e.exports=c,c.locator=o;var a="*",s="_";function c(e,t,n){var o,c,l,u,h,d,f,p=0,m=t.charAt(p);if(!(m!==a&&m!==s||t.charAt(++p)!==m||(c=this.options.pedantic,h=(l=m)+l,d=t.length,p++,u="",m="",c&&i(t.charAt(p)))))for(;p<d;){if(f=m,!((m=t.charAt(p))!==l||t.charAt(p+1)!==l||c&&i(f))&&(m=t.charAt(p+2))!==l){if(!r(u))return;return!!n||((o=e.now()).column+=2,o.offset+=2,e(h+u+h)({type:"strong",children:this.tokenizeInline(u,o)}))}c||"\\"!==m||(u+=m,m=t.charAt(++p)),u+=m,p++}}},"KZ/l":function(e,t,n){var r=n("b5wT"),i=n("F9We").Graph,o=n("RYnF");e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new i,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,i=t(e),o=r+i;n.setEdge(e.v,e.w,o),s=Math.max(s,n.node(e.v).out+=i),a=Math.max(a,n.node(e.w).in+=i)}));var l=r.range(s+a+3).map((function(){return new o})),u=a+1;return r.forEach(n.nodes(),(function(e){c(l,u,n.node(e))})),{graph:n,buckets:l,zeroIdx:u}}(e,t||a),l=function(e,t,n){var r,i=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=o.dequeue();)s(e,t,n,r);if(e.nodeCount())for(var c=t.length-2;c>0;--c)if(r=t[c].dequeue()){i=i.concat(s(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(l,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=r.constant(1);function s(e,t,n,i,o){var a=o?[]:void 0;return r.forEach(e.inEdges(i.v),(function(r){var i=e.edge(r),s=e.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,c(t,n,s)})),r.forEach(e.outEdges(i.v),(function(r){var i=e.edge(r),o=r.w,a=e.node(o);a.in-=i,c(t,n,a)})),e.removeNode(i.v),a}function c(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},Kp9H:function(e,t,n){"use strict";var r=n("b5wT"),i=n("5jIi"),o=n("14Cm"),a=n("OOL/"),s=n("iBet"),c=n("1PPP"),l=n("F9We").Graph,u=n("tQ6r");function h(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function d(e,t){var n=new l;r.forEach(e,(function(e){var i=e.graph().root,o=a(e,i,n,t);r.forEach(o.vs,(function(t,n){e.node(t).order=n})),c(e,n,o.vs)}))}function f(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=h(e,r.range(1,t+1),"inEdges"),a=h(e,r.range(t-1,-1,-1),"outEdges"),s=i(e);f(e,s);for(var c,l=Number.POSITIVE_INFINITY,p=0,m=0;m<4;++p,++m){d(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(e);var g=o(e,s);g<l&&(m=0,c=r.cloneDeep(s),l=g)}f(e,c)}},Kq0i:function(e,t,n){var r=n("RF+X");e.exports=function(e,t,n){var i=e.x,o=e.y,a=[],s=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;t.forEach((function(e){s=Math.min(s,e.x),c=Math.min(c,e.y)}));for(var l=i-e.width/2-s,u=o-e.height/2-c,h=0;h<t.length;h++){var d=t[h],f=t[h<t.length-1?h+1:0],p=r(e,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}if(!a.length)return console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",e),e;a.length>1&&a.sort((function(e,t){var r=e.x-n.x,i=e.y-n.y,o=Math.sqrt(r*r+i*i),a=t.x-n.x,s=t.y-n.y,c=Math.sqrt(a*a+s*s);return o<c?-1:o===c?0:1}));return a[0]}},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},Kz5y:function(e,t,n){var r=n("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LGYb:function(e,t,n){var r=n("1hJj"),i=n("jbM+"),o=n("Xt/L"),a=n("xYSL"),s=n("dQpi"),c=n("rEGp"),l=200;e.exports=function(e,t,n){var u=-1,h=i,d=e.length,f=!0,p=[],m=p;if(n)f=!1,h=o;else if(d>=l){var g=t?null:s(e);if(g)return c(g);f=!1,h=a,m=new r}else m=t?[]:p;e:for(;++u<d;){var v=e[u],y=t?t(v):v;if(v=n||0!==v?v:0,f&&y==y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),p.push(v)}else h(m,y,n)||(m!==p&&m.push(y),p.push(v))}return p}},LOD6:function(e,t,n){var r=n("OqVj"),i=e.exports={Ros:n("UCHQ"),Topic:n("ozMc"),Message:n("fjOl"),Param:n("NWaZ"),Service:n("ZNcB"),ServiceRequest:n("E4pH"),ServiceResponse:n("5adj")};r(i.Ros,["Param","Service","Topic"],i)},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},LboF:function(e,t,n){"use strict";var r,i={},o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function s(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function c(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id],a=0;if(o){for(o.refs++;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(g(r.parts[a],t))}else{for(var s=[];a<r.parts.length;a++)s.push(g(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function l(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var r=n.nc;r&&(e.attributes.nonce=r)}if(Object.keys(e.attributes).forEach((function(n){t.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i&&e.setAttribute("media",i),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=p||(p=l(t)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=l(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=s(e,t);return c(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o],l=i[a.id];l&&(l.refs--,r.push(l))}e&&c(s(e,t),t);for(var u=0;u<r.length;u++){var h=r[u];if(0===h.refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete i[h.id]}}}}},LcsW:function(e,t,n){var r=n("kekF")(Object.getPrototypeOf,Object);e.exports=r},LsHQ:function(e,t,n){var r=n("EA7m"),i=n("mv/X");e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,a)}return t}))}},LvDl:function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o,a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",d=1,f=2,p=4,m=1,g=2,v=1,y=2,b=4,w=8,x=16,_=32,E=64,S=128,C=256,A=512,T=30,M="...",k=800,O=16,P=1,R=2,F=1/0,L=9007199254740991,D=17976931348623157e292,j=NaN,N=4294967295,I=N-1,B=N>>>1,z=[["ary",S],["bind",v],["bindKey",y],["curry",w],["curryRight",x],["flip",A],["partial",_],["partialRight",E],["rearg",C]],U="[object Arguments]",H="[object Array]",V="[object AsyncFunction]",W="[object Boolean]",$="[object Date]",G="[object DOMException]",q="[object Error]",Y="[object Function]",X="[object GeneratorFunction]",K="[object Map]",Z="[object Number]",J="[object Null]",Q="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ie="[object Symbol]",oe="[object Undefined]",ae="[object WeakMap]",se="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",ue="[object Float32Array]",he="[object Float64Array]",de="[object Int8Array]",fe="[object Int16Array]",pe="[object Int32Array]",me="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",be=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,Ee=/[&<>"']/g,Se=RegExp(_e.source),Ce=RegExp(Ee.source),Ae=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Fe=RegExp(Re.source),Le=/^\s+|\s+$/g,De=/^\s+/,je=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ie=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ve=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Ge=/^\[object .+?Constructor\]$/,qe=/^0o[0-7]+$/i,Ye=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,Je="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Qe+"]",nt="["+Je+"]",rt="\\d+",it="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Qe+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+ot+"|"+at+")",ft="(?:"+ht+"|"+at+")",pt="(?:"+nt+"|"+st+")"+"?",mt="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[ct,lt,ut].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[it,lt,ut].join("|")+")"+mt,vt="(?:"+[ct+nt+"?",nt,lt,ut,et].join("|")+")",yt=RegExp("['’]","g"),bt=RegExp(nt,"g"),wt=RegExp(st+"(?="+st+")|"+vt+mt,"g"),xt=RegExp([ht+"?"+ot+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+dt,"$"].join("|")+")",ht+"?"+dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,gt].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Je+"\\ufe0e\\ufe0f]"),Et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,St=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,At={};At[ue]=At[he]=At[de]=At[fe]=At[pe]=At[me]=At[ge]=At[ve]=At[ye]=!0,At[U]=At[H]=At[ce]=At[W]=At[le]=At[$]=At[q]=At[Y]=At[K]=At[Z]=At[Q]=At[te]=At[ne]=At[re]=At[ae]=!1;var Tt={};Tt[U]=Tt[H]=Tt[ce]=Tt[le]=Tt[W]=Tt[$]=Tt[ue]=Tt[he]=Tt[de]=Tt[fe]=Tt[pe]=Tt[K]=Tt[Z]=Tt[Q]=Tt[te]=Tt[ne]=Tt[re]=Tt[ie]=Tt[me]=Tt[ge]=Tt[ve]=Tt[ye]=!0,Tt[q]=Tt[Y]=Tt[ae]=!1;var Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ot=parseInt,Pt="object"==typeof e&&e&&e.Object===Object&&e,Rt="object"==typeof self&&self&&self.Object===Object&&self,Ft=Pt||Rt||Function("return this")(),Lt=t&&!t.nodeType&&t,Dt=Lt&&"object"==typeof r&&r&&!r.nodeType&&r,jt=Dt&&Dt.exports===Lt,Nt=jt&&Pt.process,It=function(){try{var e=Dt&&Dt.require&&Dt.require("util").types;return e||Nt&&Nt.binding&&Nt.binding("util")}catch(e){}}(),Bt=It&&It.isArrayBuffer,zt=It&&It.isDate,Ut=It&&It.isMap,Ht=It&&It.isRegExp,Vt=It&&It.isSet,Wt=It&&It.isTypedArray;function $t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Gt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function qt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Yt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Kt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Zt(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Jt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Qt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function en(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tn(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function nn(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var on=dn("length");function an(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function sn(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function cn(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,un,n)}function ln(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function un(e){return e!=e}function hn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:j}function dn(e){return function(t){return null==t?o:t[e]}}function fn(e){return function(t){return null==e?o:e[t]}}function pn(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function mn(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function vn(e){return function(t){return e(t)}}function yn(e,t){return Qt(t,(function(t){return e[t]}))}function bn(e,t){return e.has(t)}function wn(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function xn(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var _n=fn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),En=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Sn(e){return"\\"+Mt[e]}function Cn(e){return _t.test(e)}function An(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Tn(e,t){return function(n){return e(t(n))}}function Mn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==h||(e[n]=h,o[i++]=n)}return o}function kn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function On(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Pn(e){return Cn(e)?function(e){var t=wt.lastIndex=0;for(;wt.test(e);)++t;return t}(e):on(e)}function Rn(e){return Cn(e)?function(e){return e.match(wt)||[]}(e):function(e){return e.split("")}(e)}var Fn=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ln=function e(t){var n,r=(t=null==t?Ft:Ln.defaults(Ft.Object(),t,Ln.pick(Ft,St))).Array,i=t.Date,Je=t.Error,Qe=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,it=t.TypeError,ot=r.prototype,at=Qe.prototype,st=tt.prototype,ct=t["__core-js_shared__"],lt=at.toString,ut=st.hasOwnProperty,ht=0,dt=(n=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ft=st.toString,pt=lt.call(tt),mt=Ft._,gt=nt("^"+lt.call(ut).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=jt?t.Buffer:o,wt=t.Symbol,_t=t.Uint8Array,Mt=vt?vt.allocUnsafe:o,Pt=Tn(tt.getPrototypeOf,tt),Rt=tt.create,Lt=st.propertyIsEnumerable,Dt=ot.splice,Nt=wt?wt.isConcatSpreadable:o,It=wt?wt.iterator:o,on=wt?wt.toStringTag:o,fn=function(){try{var e=Bo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Dn=t.clearTimeout!==Ft.clearTimeout&&t.clearTimeout,jn=i&&i.now!==Ft.Date.now&&i.now,Nn=t.setTimeout!==Ft.setTimeout&&t.setTimeout,In=et.ceil,Bn=et.floor,zn=tt.getOwnPropertySymbols,Un=vt?vt.isBuffer:o,Hn=t.isFinite,Vn=ot.join,Wn=Tn(tt.keys,tt),$n=et.max,Gn=et.min,qn=i.now,Yn=t.parseInt,Xn=et.random,Kn=ot.reverse,Zn=Bo(t,"DataView"),Jn=Bo(t,"Map"),Qn=Bo(t,"Promise"),er=Bo(t,"Set"),tr=Bo(t,"WeakMap"),nr=Bo(tt,"create"),rr=tr&&new tr,ir={},or=ha(Zn),ar=ha(Jn),sr=ha(Qn),cr=ha(er),lr=ha(tr),ur=wt?wt.prototype:o,hr=ur?ur.valueOf:o,dr=ur?ur.toString:o;function fr(e){if(Ms(e)&&!vs(e)&&!(e instanceof vr)){if(e instanceof gr)return e;if(ut.call(e,"__wrapped__"))return da(e)}return new gr(e)}var pr=function(){function e(){}return function(t){if(!Ts(t))return{};if(Rt)return Rt(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function mr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wr;++t<n;)this.add(e[t])}function _r(e){var t=this.__data__=new br(e);this.size=t.size}function Er(e,t){var n=vs(e),r=!n&&gs(e),i=!n&&!r&&xs(e),o=!n&&!r&&!i&&js(e),a=n||r||i||o,s=a?gn(e.length,rt):[],c=s.length;for(var l in e)!t&&!ut.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Go(l,c))||s.push(l);return s}function Sr(e){var t=e.length;return t?e[xi(0,t-1)]:o}function Cr(e,t){return ca(no(e),Lr(t,0,e.length))}function Ar(e){return ca(no(e))}function Tr(e,t,n){(n===o||fs(e[t],n))&&(n!==o||t in e)||Rr(e,t,n)}function Mr(e,t,n){var r=e[t];ut.call(e,t)&&fs(r,n)&&(n!==o||t in e)||Rr(e,t,n)}function kr(e,t){for(var n=e.length;n--;)if(fs(e[n][0],t))return n;return-1}function Or(e,t,n,r){return Br(e,(function(e,i,o){t(r,e,n(e),o)})),r}function Pr(e,t){return e&&ro(t,ic(t),e)}function Rr(e,t,n){"__proto__"==t&&fn?fn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Fr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:Qs(e,t[n]);return a}function Lr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Dr(e,t,n,r,i,a){var s,c=t&d,l=t&f,u=t&p;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!Ts(e))return e;var h=vs(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ut.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return no(e,s)}else{var m=Ho(e),g=m==Y||m==X;if(xs(e))return Ki(e,c);if(m==Q||m==U||g&&!i){if(s=l||g?{}:Wo(e),!c)return l?function(e,t){return ro(e,Uo(e),t)}(e,function(e,t){return e&&ro(t,oc(t),e)}(s,e)):function(e,t){return ro(e,zo(e),t)}(e,Pr(s,e))}else{if(!Tt[m])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case ce:return Zi(e);case W:case $:return new r(+e);case le:return function(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ue:case he:case de:case fe:case pe:case me:case ge:case ve:case ye:return Ji(e,n);case K:return new r;case Z:case re:return new r(e);case te:return function(e){var t=new e.constructor(e.source,Ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new r;case ie:return i=e,hr?tt(hr.call(i)):{}}var i}(e,m,c)}}a||(a=new _r);var v=a.get(e);if(v)return v;a.set(e,s),Fs(e)?e.forEach((function(r){s.add(Dr(r,t,n,r,e,a))})):ks(e)&&e.forEach((function(r,i){s.set(i,Dr(r,t,n,i,e,a))}));var y=h?o:(u?l?Ro:Po:l?oc:ic)(e);return qt(y||e,(function(r,i){y&&(r=e[i=r]),Mr(s,i,Dr(r,t,n,i,e,a))})),s}function jr(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function Nr(e,t,n){if("function"!=typeof e)throw new it(c);return ia((function(){e.apply(o,n)}),t)}function Ir(e,t,n,r){var i=-1,o=Zt,s=!0,c=e.length,l=[],u=t.length;if(!c)return l;n&&(t=Qt(t,vn(n))),r?(o=Jt,s=!1):t.length>=a&&(o=bn,s=!1,t=new xr(t));e:for(;++i<c;){var h=e[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,s&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(h)}else o(t,d,r)||l.push(h)}return l}fr.templateSettings={escape:Ae,evaluate:Te,interpolate:Me,variable:"",imports:{_:fr}},fr.prototype=mr.prototype,fr.prototype.constructor=fr,gr.prototype=pr(mr.prototype),gr.prototype.constructor=gr,vr.prototype=pr(mr.prototype),vr.prototype.constructor=vr,yr.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},yr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},yr.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===l?o:n}return ut.call(t,e)?t[e]:o},yr.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==o:ut.call(t,e)},yr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===o?l:t,this},br.prototype.clear=function(){this.__data__=[],this.size=0},br.prototype.delete=function(e){var t=this.__data__,n=kr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,!0)},br.prototype.get=function(e){var t=this.__data__,n=kr(t,e);return n<0?o:t[n][1]},br.prototype.has=function(e){return kr(this.__data__,e)>-1},br.prototype.set=function(e,t){var n=this.__data__,r=kr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},wr.prototype.clear=function(){this.size=0,this.__data__={hash:new yr,map:new(Jn||br),string:new yr}},wr.prototype.delete=function(e){var t=No(this,e).delete(e);return this.size-=t?1:0,t},wr.prototype.get=function(e){return No(this,e).get(e)},wr.prototype.has=function(e){return No(this,e).has(e)},wr.prototype.set=function(e,t){var n=No(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},xr.prototype.add=xr.prototype.push=function(e){return this.__data__.set(e,l),this},xr.prototype.has=function(e){return this.__data__.has(e)},_r.prototype.clear=function(){this.__data__=new br,this.size=0},_r.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_r.prototype.get=function(e){return this.__data__.get(e)},_r.prototype.has=function(e){return this.__data__.has(e)},_r.prototype.set=function(e,t){var n=this.__data__;if(n instanceof br){var r=n.__data__;if(!Jn||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new wr(r)}return n.set(e,t),this.size=n.size,this};var Br=ao(qr),zr=ao(Yr,!0);function Ur(e,t){var n=!0;return Br(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Hr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(c===o?s==s&&!Ds(s):n(s,c)))var c=s,l=a}return l}function Vr(e,t){var n=[];return Br(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Wr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=$o),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Wr(s,t-1,n,r,i):en(i,s):r||(i[i.length]=s)}return i}var $r=so(),Gr=so(!0);function qr(e,t){return e&&$r(e,t,ic)}function Yr(e,t){return e&&Gr(e,t,ic)}function Xr(e,t){return Kt(t,(function(t){return Ss(e[t])}))}function Kr(e,t){for(var n=0,r=(t=Gi(t,e)).length;null!=e&&n<r;)e=e[ua(t[n++])];return n&&n==r?e:o}function Zr(e,t,n){var r=t(e);return vs(e)?r:en(r,n(e))}function Jr(e){return null==e?e===o?oe:J:on&&on in tt(e)?function(e){var t=ut.call(e,on),n=e[on];try{e[on]=o;var r=!0}catch(e){}var i=ft.call(e);r&&(t?e[on]=n:delete e[on]);return i}(e):function(e){return ft.call(e)}(e)}function Qr(e,t){return e>t}function ei(e,t){return null!=e&&ut.call(e,t)}function ti(e,t){return null!=e&&t in tt(e)}function ni(e,t,n){for(var i=n?Jt:Zt,a=e[0].length,s=e.length,c=s,l=r(s),u=1/0,h=[];c--;){var d=e[c];c&&t&&(d=Qt(d,vn(t))),u=Gn(d.length,u),l[c]=!n&&(t||a>=120&&d.length>=120)?new xr(c&&d):o}d=e[0];var f=-1,p=l[0];e:for(;++f<a&&h.length<u;){var m=d[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(p?bn(p,g):i(h,g,n))){for(c=s;--c;){var v=l[c];if(!(v?bn(v,g):i(e[c],g,n)))continue e}p&&p.push(g),h.push(m)}}return h}function ri(e,t,n){var r=null==(e=ta(e,t=Gi(t,e)))?e:e[ua(Ea(t))];return null==r?o:$t(r,e,n)}function ii(e){return Ms(e)&&Jr(e)==U}function oi(e,t,n,r,i){return e===t||(null==e||null==t||!Ms(e)&&!Ms(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=vs(e),c=vs(t),l=s?H:Ho(e),u=c?H:Ho(t),h=(l=l==U?Q:l)==Q,d=(u=u==U?Q:u)==Q,f=l==u;if(f&&xs(e)){if(!xs(t))return!1;s=!0,h=!1}if(f&&!h)return a||(a=new _r),s||js(e)?ko(e,t,n,r,i,a):function(e,t,n,r,i,o,a){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t)));case W:case $:case Z:return fs(+e,+t);case q:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case K:var s=An;case ne:var c=r&m;if(s||(s=kn),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;r|=g,a.set(e,t);var u=ko(s(e),s(t),r,i,o,a);return a.delete(e),u;case ie:if(hr)return hr.call(e)==hr.call(t)}return!1}(e,t,l,n,r,i,a);if(!(n&m)){var p=h&&ut.call(e,"__wrapped__"),v=d&&ut.call(t,"__wrapped__");if(p||v){var y=p?e.value():e,b=v?t.value():t;return a||(a=new _r),i(y,b,n,r,a)}}if(!f)return!1;return a||(a=new _r),function(e,t,n,r,i,a){var s=n&m,c=Po(e),l=c.length,u=Po(t).length;if(l!=u&&!s)return!1;var h=l;for(;h--;){var d=c[h];if(!(s?d in t:ut.call(t,d)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var p=!0;a.set(e,t),a.set(t,e);var g=s;for(;++h<l;){d=c[h];var v=e[d],y=t[d];if(r)var b=s?r(y,v,d,t,e,a):r(v,y,d,e,t,a);if(!(b===o?v===y||i(v,y,n,r,a):b)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a)}(e,t,n,r,oi,i))}function ai(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=tt(e);i--;){var c=n[i];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var l=(c=n[i])[0],u=e[l],h=c[1];if(s&&c[2]){if(u===o&&!(l in e))return!1}else{var d=new _r;if(r)var f=r(u,h,l,e,t,d);if(!(f===o?oi(h,u,m|g,r,d):f))return!1}}return!0}function si(e){return!(!Ts(e)||(t=e,dt&&dt in t))&&(Ss(e)?gt:Ge).test(ha(e));var t}function ci(e){return"function"==typeof e?e:null==e?Oc:"object"==typeof e?vs(e)?pi(e[0],e[1]):fi(e):Bc(e)}function li(e){if(!Zo(e))return Wn(e);var t=[];for(var n in tt(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ui(e){if(!Ts(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Zo(e),n=[];for(var r in e)("constructor"!=r||!t&&ut.call(e,r))&&n.push(r);return n}function hi(e,t){return e<t}function di(e,t){var n=-1,i=bs(e)?r(e.length):[];return Br(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function fi(e){var t=Io(e);return 1==t.length&&t[0][2]?Qo(t[0][0],t[0][1]):function(n){return n===e||ai(n,e,t)}}function pi(e,t){return Yo(e)&&Jo(t)?Qo(ua(e),t):function(n){var r=Qs(n,e);return r===o&&r===t?ec(n,e):oi(t,r,m|g)}}function mi(e,t,n,r,i){e!==t&&$r(t,(function(a,s){if(i||(i=new _r),Ts(a))!function(e,t,n,r,i,a,s){var c=na(e,n),l=na(t,n),u=s.get(l);if(u)return void Tr(e,n,u);var h=a?a(c,l,n+"",e,t,s):o,d=h===o;if(d){var f=vs(l),p=!f&&xs(l),m=!f&&!p&&js(l);h=l,f||p||m?vs(c)?h=c:ws(c)?h=no(c):p?(d=!1,h=Ki(l,!0)):m?(d=!1,h=Ji(l,!0)):h=[]:Ps(l)||gs(l)?(h=c,gs(c)?h=Ws(c):Ts(c)&&!Ss(c)||(h=Wo(l))):d=!1}d&&(s.set(l,h),i(h,l,r,a,s),s.delete(l));Tr(e,n,h)}(e,t,s,n,mi,r,i);else{var c=r?r(na(e,s),a,s+"",e,t,i):o;c===o&&(c=a),Tr(e,s,c)}}),oc)}function gi(e,t){var n=e.length;if(n)return Go(t+=t<0?n:0,n)?e[t]:o}function vi(e,t,n){var r=-1;return t=Qt(t.length?t:[Oc],vn(jo())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(di(e,(function(e,n,i){return{criteria:Qt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var c=Qi(i[r],o[r]);if(c){if(r>=s)return c;var l=n[r];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function yi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Kr(e,a);n(s,a)&&Ai(o,Gi(a,e),s)}return o}function bi(e,t,n,r){var i=r?ln:cn,o=-1,a=t.length,s=e;for(e===t&&(t=no(t)),n&&(s=Qt(e,vn(n)));++o<a;)for(var c=0,l=t[o],u=n?n(l):l;(c=i(s,u,c,r))>-1;)s!==e&&Dt.call(s,c,1),Dt.call(e,c,1);return e}function wi(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Go(i)?Dt.call(e,i,1):Ii(e,i)}}return e}function xi(e,t){return e+Bn(Xn()*(t-e+1))}function _i(e,t){var n="";if(!e||t<1||t>L)return n;do{t%2&&(n+=e),(t=Bn(t/2))&&(e+=e)}while(t);return n}function Ei(e,t){return oa(ea(e,t,Oc),e+"")}function Si(e){return Sr(fc(e))}function Ci(e,t){var n=fc(e);return ca(n,Lr(t,0,n.length))}function Ai(e,t,n,r){if(!Ts(e))return e;for(var i=-1,a=(t=Gi(t,e)).length,s=a-1,c=e;null!=c&&++i<a;){var l=ua(t[i]),u=n;if(i!=s){var h=c[l];(u=r?r(h,l,c):o)===o&&(u=Ts(h)?h:Go(t[i+1])?[]:{})}Mr(c,l,u),c=c[l]}return e}var Ti=rr?function(e,t){return rr.set(e,t),e}:Oc,Mi=fn?function(e,t){return fn(e,"toString",{configurable:!0,enumerable:!1,value:Tc(t),writable:!0})}:Oc;function ki(e){return ca(fc(e))}function Oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function Pi(e,t){var n;return Br(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=B){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!Ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return Fi(e,t,Oc,n)}function Fi(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,s=t!=t,c=null===t,l=Ds(t),u=t===o;i<a;){var h=Bn((i+a)/2),d=n(e[h]),f=d!==o,p=null===d,m=d==d,g=Ds(d);if(s)var v=r||m;else v=u?m&&(r||f):c?m&&f&&(r||!p):l?m&&f&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);v?i=h+1:a=h}return Gn(a,I)}function Li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!fs(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function Di(e){return"number"==typeof e?e:Ds(e)?j:+e}function ji(e){if("string"==typeof e)return e;if(vs(e))return Qt(e,ji)+"";if(Ds(e))return dr?dr.call(e):"";var t=e+"";return"0"==t&&1/e==-F?"-0":t}function Ni(e,t,n){var r=-1,i=Zt,o=e.length,s=!0,c=[],l=c;if(n)s=!1,i=Jt;else if(o>=a){var u=t?null:Eo(e);if(u)return kn(u);s=!1,i=bn,l=new xr}else l=t?[]:c;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,s&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),c.push(h)}else i(l,d,n)||(l!==c&&l.push(d),c.push(h))}return c}function Ii(e,t){return null==(e=ta(e,t=Gi(t,e)))||delete e[ua(Ea(t))]}function Bi(e,t,n,r){return Ai(e,t,n(Kr(e,t)),r)}function zi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Oi(e,r?0:o,r?o+1:i):Oi(e,r?o+1:0,r?i:o)}function Ui(e,t){var n=e;return n instanceof vr&&(n=n.value()),tn(t,(function(e,t){return t.func.apply(t.thisArg,en([e],t.args))}),n)}function Hi(e,t,n){var i=e.length;if(i<2)return i?Ni(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=Ir(a[o]||s,e[c],t,n));return Ni(Wr(a,1),t,n)}function Vi(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var c=r<a?t[r]:o;n(s,e[r],c)}return s}function Wi(e){return ws(e)?e:[]}function $i(e){return"function"==typeof e?e:Oc}function Gi(e,t){return vs(e)?e:Yo(e,t)?[e]:la($s(e))}var qi=Ei;function Yi(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Oi(e,t,n)}var Xi=Dn||function(e){return Ft.clearTimeout(e)};function Ki(e,t){if(t)return e.slice();var n=e.length,r=Mt?Mt(n):new e.constructor(n);return e.copy(r),r}function Zi(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function Ji(e,t){var n=t?Zi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qi(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=Ds(e),s=t!==o,c=null===t,l=t==t,u=Ds(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||c&&n&&i||!s&&i||!l)return-1}return 0}function eo(e,t,n,i){for(var o=-1,a=e.length,s=n.length,c=-1,l=t.length,u=$n(a-s,0),h=r(l+u),d=!i;++c<l;)h[c]=t[c];for(;++o<s;)(d||o<a)&&(h[n[o]]=e[o]);for(;u--;)h[c++]=e[o++];return h}function to(e,t,n,i){for(var o=-1,a=e.length,s=-1,c=n.length,l=-1,u=t.length,h=$n(a-c,0),d=r(h+u),f=!i;++o<h;)d[o]=e[o];for(var p=o;++l<u;)d[p+l]=t[l];for(;++s<c;)(f||o<a)&&(d[p+n[s]]=e[o++]);return d}function no(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ro(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var c=t[a],l=r?r(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),i?Rr(n,c,l):Mr(n,c,l)}return n}function io(e,t){return function(n,r){var i=vs(n)?Gt:Or,o=t?t():{};return i(n,e,jo(r,2),o)}}function oo(e){return Ei((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&qo(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=tt(t);++r<i;){var c=n[r];c&&e(t,c,r,a)}return t}))}function ao(e,t){return function(n,r){if(null==n)return n;if(!bs(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=tt(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function so(e){return function(t,n,r){for(var i=-1,o=tt(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}function co(e){return function(t){var n=Cn(t=$s(t))?Rn(t):o,r=n?n[0]:t.charAt(0),i=n?Yi(n,1).join(""):t.slice(1);return r[e]()+i}}function lo(e){return function(t){return tn(Sc(gc(t).replace(yt,"")),e,"")}}function uo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=pr(e.prototype),r=e.apply(n,t);return Ts(r)?r:n}}function ho(e){return function(t,n,r){var i=tt(t);if(!bs(t)){var a=jo(n,3);t=ic(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function fo(e){return Oo((function(t){var n=t.length,r=n,i=gr.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new it(c);if(i&&!s&&"wrapper"==Lo(a))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var l=Lo(a=t[r]),u="wrapper"==l?Fo(a):o;s=u&&Xo(u[0])&&u[1]==(S|w|_|C)&&!u[4].length&&1==u[9]?s[Lo(u[0])].apply(s,u[3]):1==a.length&&Xo(a)?s[l]():s.thru(a)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&vs(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function po(e,t,n,i,a,s,c,l,u,h){var d=t&S,f=t&v,p=t&y,m=t&(w|x),g=t&A,b=p?o:uo(e);return function v(){for(var y=arguments.length,w=r(y),x=y;x--;)w[x]=arguments[x];if(m)var _=Do(v),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,_);if(i&&(w=eo(w,i,a,m)),s&&(w=to(w,s,c,m)),y-=E,m&&y<h){var S=Mn(w,_);return xo(e,t,po,v.placeholder,n,w,S,l,u,h-y)}var C=f?n:this,A=p?C[e]:e;return y=w.length,l?w=function(e,t){var n=e.length,r=Gn(t.length,n),i=no(e);for(;r--;){var a=t[r];e[r]=Go(a,n)?i[a]:o}return e}(w,l):g&&y>1&&w.reverse(),d&&u<y&&(w.length=u),this&&this!==Ft&&this instanceof v&&(A=b||uo(A)),A.apply(C,w)}}function mo(e,t){return function(n,r){return function(e,t,n,r){return qr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function go(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ji(n),r=ji(r)):(n=Di(n),r=Di(r)),i=e(n,r)}return i}}function vo(e){return Oo((function(t){return t=Qt(t,vn(jo())),Ei((function(n){var r=this;return e(t,(function(e){return $t(e,r,n)}))}))}))}function yo(e,t){var n=(t=t===o?" ":ji(t)).length;if(n<2)return n?_i(t,e):t;var r=_i(t,In(e/Pn(t)));return Cn(t)?Yi(Rn(r),0,e).join(""):r.slice(0,e)}function bo(e){return function(t,n,i){return i&&"number"!=typeof i&&qo(t,n,i)&&(n=i=o),t=zs(t),n===o?(n=t,t=0):n=zs(n),function(e,t,n,i){for(var o=-1,a=$n(In((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:zs(i),e)}}function wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Vs(t),n=Vs(n)),e(t,n)}}function xo(e,t,n,r,i,a,s,c,l,u){var h=t&w;t|=h?_:E,(t&=~(h?E:_))&b||(t&=~(v|y));var d=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,c,l,u],f=n.apply(o,d);return Xo(e)&&ra(f,d),f.placeholder=r,aa(f,e,t)}function _o(e){var t=et[e];return function(e,n){if(e=Vs(e),(n=null==n?0:Gn(Us(n),292))&&Hn(e)){var r=($s(e)+"e").split("e");return+((r=($s(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Eo=er&&1/kn(new er([,-0]))[1]==F?function(e){return new er(e)}:Dc;function So(e){return function(t){var n=Ho(t);return n==K?An(t):n==ne?On(t):function(e,t){return Qt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Co(e,t,n,i,a,s,l,u){var d=t&y;if(!d&&"function"!=typeof e)throw new it(c);var f=i?i.length:0;if(f||(t&=~(_|E),i=a=o),l=l===o?l:$n(Us(l),0),u=u===o?u:Us(u),f-=a?a.length:0,t&E){var p=i,m=a;i=a=o}var g=d?o:Fo(e),A=[e,t,n,i,a,p,m,s,l,u];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<(v|y|S),a=r==S&&n==w||r==S&&n==C&&e[7].length<=t[8]||r==(S|C)&&t[7].length<=t[8]&&n==w;if(!o&&!a)return e;r&v&&(e[2]=t[2],i|=n&v?0:b);var s=t[3];if(s){var c=e[3];e[3]=c?eo(c,s,t[4]):s,e[4]=c?Mn(e[3],h):t[4]}(s=t[5])&&(c=e[5],e[5]=c?to(c,s,t[6]):s,e[6]=c?Mn(e[5],h):t[6]);(s=t[7])&&(e[7]=s);r&S&&(e[8]=null==e[8]?t[8]:Gn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(A,g),e=A[0],t=A[1],n=A[2],i=A[3],a=A[4],!(u=A[9]=A[9]===o?d?0:e.length:$n(A[9]-f,0))&&t&(w|x)&&(t&=~(w|x)),t&&t!=v)T=t==w||t==x?function(e,t,n){var i=uo(e);return function a(){for(var s=arguments.length,c=r(s),l=s,u=Do(a);l--;)c[l]=arguments[l];var h=s<3&&c[0]!==u&&c[s-1]!==u?[]:Mn(c,u);return(s-=h.length)<n?xo(e,t,po,a.placeholder,o,c,h,o,o,n-s):$t(this&&this!==Ft&&this instanceof a?i:e,this,c)}}(e,t,u):t!=_&&t!=(v|_)||a.length?po.apply(o,A):function(e,t,n,i){var o=t&v,a=uo(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=i.length,h=r(u+c),d=this&&this!==Ft&&this instanceof t?a:e;++l<u;)h[l]=i[l];for(;c--;)h[l++]=arguments[++s];return $t(d,o?n:this,h)}}(e,t,n,i);else var T=function(e,t,n){var r=t&v,i=uo(e);return function t(){return(this&&this!==Ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return aa((g?Ti:ra)(T,A),e,t)}function Ao(e,t,n,r){return e===o||fs(e,st[n])&&!ut.call(r,n)?t:e}function To(e,t,n,r,i,a){return Ts(e)&&Ts(t)&&(a.set(t,e),mi(e,t,o,To,a),a.delete(t)),e}function Mo(e){return Ps(e)?o:e}function ko(e,t,n,r,i,a){var s=n&m,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var h=-1,d=!0,f=n&g?new xr:o;for(a.set(e,t),a.set(t,e);++h<c;){var p=e[h],v=t[h];if(r)var y=s?r(v,p,h,t,e,a):r(p,v,h,e,t,a);if(y!==o){if(y)continue;d=!1;break}if(f){if(!rn(t,(function(e,t){if(!bn(f,t)&&(p===e||i(p,e,n,r,a)))return f.push(t)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function Oo(e){return oa(ea(e,o,ya),e+"")}function Po(e){return Zr(e,ic,zo)}function Ro(e){return Zr(e,oc,Uo)}var Fo=rr?function(e){return rr.get(e)}:Dc;function Lo(e){for(var t=e.name+"",n=ir[t],r=ut.call(ir,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Do(e){return(ut.call(fr,"placeholder")?fr:e).placeholder}function jo(){var e=fr.iteratee||Pc;return e=e===Pc?ci:e,arguments.length?e(arguments[0],arguments[1]):e}function No(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Io(e){for(var t=ic(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Jo(i)]}return t}function Bo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return si(n)?n:o}var zo=zn?function(e){return null==e?[]:(e=tt(e),Kt(zn(e),(function(t){return Lt.call(e,t)})))}:Hc,Uo=zn?function(e){for(var t=[];e;)en(t,zo(e)),e=Pt(e);return t}:Hc,Ho=Jr;function Vo(e,t,n){for(var r=-1,i=(t=Gi(t,e)).length,o=!1;++r<i;){var a=ua(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&As(i)&&Go(a,i)&&(vs(e)||gs(e))}function Wo(e){return"function"!=typeof e.constructor||Zo(e)?{}:pr(Pt(e))}function $o(e){return vs(e)||gs(e)||!!(Nt&&e&&e[Nt])}function Go(e,t){var n=typeof e;return!!(t=null==t?L:t)&&("number"==n||"symbol"!=n&&Ye.test(e))&&e>-1&&e%1==0&&e<t}function qo(e,t,n){if(!Ts(n))return!1;var r=typeof t;return!!("number"==r?bs(n)&&Go(t,n.length):"string"==r&&t in n)&&fs(n[t],e)}function Yo(e,t){if(vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ds(e))||(Oe.test(e)||!ke.test(e)||null!=t&&e in tt(t))}function Xo(e){var t=Lo(e),n=fr[t];if("function"!=typeof n||!(t in vr.prototype))return!1;if(e===n)return!0;var r=Fo(n);return!!r&&e===r[0]}(Zn&&Ho(new Zn(new ArrayBuffer(1)))!=le||Jn&&Ho(new Jn)!=K||Qn&&"[object Promise]"!=Ho(Qn.resolve())||er&&Ho(new er)!=ne||tr&&Ho(new tr)!=ae)&&(Ho=function(e){var t=Jr(e),n=t==Q?e.constructor:o,r=n?ha(n):"";if(r)switch(r){case or:return le;case ar:return K;case sr:return"[object Promise]";case cr:return ne;case lr:return ae}return t});var Ko=ct?Ss:Vc;function Zo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function Jo(e){return e==e&&!Ts(e)}function Qo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in tt(n)))}}function ea(e,t,n){return t=$n(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=$n(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(s),$t(e,this,c)}}function ta(e,t){return t.length<2?e:Kr(e,Oi(t,0,-1))}function na(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ra=sa(Ti),ia=Nn||function(e,t){return Ft.setTimeout(e,t)},oa=sa(Mi);function aa(e,t,n){var r=t+"";return oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return qt(z,(function(n){var r="_."+n[0];t&n[1]&&!Zt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ie);return t?t[1].split(Be):[]}(r),n)))}function sa(e){var t=0,n=0;return function(){var r=qn(),i=O-(r-n);if(n=r,i>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ca(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=xi(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var la=function(e){var t=ss(e,(function(e){return n.size===u&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,(function(e,n,r,i){t.push(r?i.replace(Ue,"$1"):n||e)})),t}));function ua(e){if("string"==typeof e||Ds(e))return e;var t=e+"";return"0"==t&&1/e==-F?"-0":t}function ha(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function da(e){if(e instanceof vr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fa=Ei((function(e,t){return ws(e)?Ir(e,Wr(t,1,ws,!0)):[]})),pa=Ei((function(e,t){var n=Ea(t);return ws(n)&&(n=o),ws(e)?Ir(e,Wr(t,1,ws,!0),jo(n,2)):[]})),ma=Ei((function(e,t){var n=Ea(t);return ws(n)&&(n=o),ws(e)?Ir(e,Wr(t,1,ws,!0),o,n):[]}));function ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=$n(r+i,0)),sn(e,jo(t,3),i)}function va(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=Us(n),i=n<0?$n(r+i,0):Gn(i,r-1)),sn(e,jo(t,3),i,!0)}function ya(e){return(null==e?0:e.length)?Wr(e,1):[]}function ba(e){return e&&e.length?e[0]:o}var wa=Ei((function(e){var t=Qt(e,Wi);return t.length&&t[0]===e[0]?ni(t):[]})),xa=Ei((function(e){var t=Ea(e),n=Qt(e,Wi);return t===Ea(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ni(n,jo(t,2)):[]})),_a=Ei((function(e){var t=Ea(e),n=Qt(e,Wi);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ni(n,o,t):[]}));function Ea(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Sa=Ei(Ca);function Ca(e,t){return e&&e.length&&t&&t.length?bi(e,t):e}var Aa=Oo((function(e,t){var n=null==e?0:e.length,r=Fr(e,t);return wi(e,Qt(t,(function(e){return Go(e,n)?+e:e})).sort(Qi)),r}));function Ta(e){return null==e?e:Kn.call(e)}var Ma=Ei((function(e){return Ni(Wr(e,1,ws,!0))})),ka=Ei((function(e){var t=Ea(e);return ws(t)&&(t=o),Ni(Wr(e,1,ws,!0),jo(t,2))})),Oa=Ei((function(e){var t=Ea(e);return t="function"==typeof t?t:o,Ni(Wr(e,1,ws,!0),o,t)}));function Pa(e){if(!e||!e.length)return[];var t=0;return e=Kt(e,(function(e){if(ws(e))return t=$n(e.length,t),!0})),gn(t,(function(t){return Qt(e,dn(t))}))}function Ra(e,t){if(!e||!e.length)return[];var n=Pa(e);return null==t?n:Qt(n,(function(e){return $t(t,o,e)}))}var Fa=Ei((function(e,t){return ws(e)?Ir(e,t):[]})),La=Ei((function(e){return Hi(Kt(e,ws))})),Da=Ei((function(e){var t=Ea(e);return ws(t)&&(t=o),Hi(Kt(e,ws),jo(t,2))})),ja=Ei((function(e){var t=Ea(e);return t="function"==typeof t?t:o,Hi(Kt(e,ws),o,t)})),Na=Ei(Pa);var Ia=Ei((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,Ra(e,n)}));function Ba(e){var t=fr(e);return t.__chain__=!0,t}function za(e,t){return t(e)}var Ua=Oo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Fr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof vr&&Go(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:za,args:[i],thisArg:o}),new gr(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var Ha=io((function(e,t,n){ut.call(e,n)?++e[n]:Rr(e,n,1)}));var Va=ho(ga),Wa=ho(va);function $a(e,t){return(vs(e)?qt:Br)(e,jo(t,3))}function Ga(e,t){return(vs(e)?Yt:zr)(e,jo(t,3))}var qa=io((function(e,t,n){ut.call(e,n)?e[n].push(t):Rr(e,n,[t])}));var Ya=Ei((function(e,t,n){var i=-1,o="function"==typeof t,a=bs(e)?r(e.length):[];return Br(e,(function(e){a[++i]=o?$t(t,e,n):ri(e,t,n)})),a})),Xa=io((function(e,t,n){Rr(e,n,t)}));function Ka(e,t){return(vs(e)?Qt:di)(e,jo(t,3))}var Za=io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ja=Ei((function(e,t){if(null==e)return[];var n=t.length;return n>1&&qo(e,t[0],t[1])?t=[]:n>2&&qo(t[0],t[1],t[2])&&(t=[t[0]]),vi(e,Wr(t,1),[])})),Qa=jn||function(){return Ft.Date.now()};function es(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Co(e,S,o,o,o,o,t)}function ts(e,t){var n;if("function"!=typeof t)throw new it(c);return e=Us(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ns=Ei((function(e,t,n){var r=v;if(n.length){var i=Mn(n,Do(ns));r|=_}return Co(e,r,t,n,i)})),rs=Ei((function(e,t,n){var r=v|y;if(n.length){var i=Mn(n,Do(rs));r|=_}return Co(t,r,e,n,i)}));function is(e,t,n){var r,i,a,s,l,u,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new it(c);function m(t){var n=r,a=i;return r=i=o,h=t,s=e.apply(a,n)}function g(e){var n=e-u;return u===o||n>=t||n<0||f&&e-h>=a}function v(){var e=Qa();if(g(e))return y(e);l=ia(v,function(e){var n=t-(e-u);return f?Gn(n,a-(e-h)):n}(e))}function y(e){return l=o,p&&r?m(e):(r=i=o,s)}function b(){var e=Qa(),n=g(e);if(r=arguments,i=this,u=e,n){if(l===o)return function(e){return h=e,l=ia(v,t),d?m(e):s}(u);if(f)return Xi(l),l=ia(v,t),m(u)}return l===o&&(l=ia(v,t)),s}return t=Vs(t)||0,Ts(n)&&(d=!!n.leading,a=(f="maxWait"in n)?$n(Vs(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==o&&Xi(l),h=0,r=u=i=l=o},b.flush=function(){return l===o?s:y(Qa())},b}var os=Ei((function(e,t){return Nr(e,1,t)})),as=Ei((function(e,t,n){return Nr(e,Vs(t)||0,n)}));function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new it(c);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ss.Cache||wr),n}function cs(e){if("function"!=typeof e)throw new it(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=wr;var ls=qi((function(e,t){var n=(t=1==t.length&&vs(t[0])?Qt(t[0],vn(jo())):Qt(Wr(t,1),vn(jo()))).length;return Ei((function(r){for(var i=-1,o=Gn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return $t(e,this,r)}))})),us=Ei((function(e,t){var n=Mn(t,Do(us));return Co(e,_,o,t,n)})),hs=Ei((function(e,t){var n=Mn(t,Do(hs));return Co(e,E,o,t,n)})),ds=Oo((function(e,t){return Co(e,C,o,o,o,t)}));function fs(e,t){return e===t||e!=e&&t!=t}var ps=wo(Qr),ms=wo((function(e,t){return e>=t})),gs=ii(function(){return arguments}())?ii:function(e){return Ms(e)&&ut.call(e,"callee")&&!Lt.call(e,"callee")},vs=r.isArray,ys=Bt?vn(Bt):function(e){return Ms(e)&&Jr(e)==ce};function bs(e){return null!=e&&As(e.length)&&!Ss(e)}function ws(e){return Ms(e)&&bs(e)}var xs=Un||Vc,_s=zt?vn(zt):function(e){return Ms(e)&&Jr(e)==$};function Es(e){if(!Ms(e))return!1;var t=Jr(e);return t==q||t==G||"string"==typeof e.message&&"string"==typeof e.name&&!Ps(e)}function Ss(e){if(!Ts(e))return!1;var t=Jr(e);return t==Y||t==X||t==V||t==ee}function Cs(e){return"number"==typeof e&&e==Us(e)}function As(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function Ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ms(e){return null!=e&&"object"==typeof e}var ks=Ut?vn(Ut):function(e){return Ms(e)&&Ho(e)==K};function Os(e){return"number"==typeof e||Ms(e)&&Jr(e)==Z}function Ps(e){if(!Ms(e)||Jr(e)!=Q)return!1;var t=Pt(e);if(null===t)return!0;var n=ut.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==pt}var Rs=Ht?vn(Ht):function(e){return Ms(e)&&Jr(e)==te};var Fs=Vt?vn(Vt):function(e){return Ms(e)&&Ho(e)==ne};function Ls(e){return"string"==typeof e||!vs(e)&&Ms(e)&&Jr(e)==re}function Ds(e){return"symbol"==typeof e||Ms(e)&&Jr(e)==ie}var js=Wt?vn(Wt):function(e){return Ms(e)&&As(e.length)&&!!At[Jr(e)]};var Ns=wo(hi),Is=wo((function(e,t){return e<=t}));function Bs(e){if(!e)return[];if(bs(e))return Ls(e)?Rn(e):no(e);if(It&&e[It])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[It]());var t=Ho(e);return(t==K?An:t==ne?kn:fc)(e)}function zs(e){return e?(e=Vs(e))===F||e===-F?(e<0?-1:1)*D:e==e?e:0:0===e?e:0}function Us(e){var t=zs(e),n=t%1;return t==t?n?t-n:t:0}function Hs(e){return e?Lr(Us(e),0,N):0}function Vs(e){if("number"==typeof e)return e;if(Ds(e))return j;if(Ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Le,"");var n=$e.test(e);return n||qe.test(e)?Ot(e.slice(2),n?2:8):We.test(e)?j:+e}function Ws(e){return ro(e,oc(e))}function $s(e){return null==e?"":ji(e)}var Gs=oo((function(e,t){if(Zo(t)||bs(t))ro(t,ic(t),e);else for(var n in t)ut.call(t,n)&&Mr(e,n,t[n])})),qs=oo((function(e,t){ro(t,oc(t),e)})),Ys=oo((function(e,t,n,r){ro(t,oc(t),e,r)})),Xs=oo((function(e,t,n,r){ro(t,ic(t),e,r)})),Ks=Oo(Fr);var Zs=Ei((function(e,t){e=tt(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&qo(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=oc(a),c=-1,l=s.length;++c<l;){var u=s[c],h=e[u];(h===o||fs(h,st[u])&&!ut.call(e,u))&&(e[u]=a[u])}return e})),Js=Ei((function(e){return e.push(o,To),$t(sc,o,e)}));function Qs(e,t,n){var r=null==e?o:Kr(e,t);return r===o?n:r}function ec(e,t){return null!=e&&Vo(e,t,ti)}var tc=mo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n}),Tc(Oc)),nc=mo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ut.call(e,t)?e[t].push(n):e[t]=[n]}),jo),rc=Ei(ri);function ic(e){return bs(e)?Er(e):li(e)}function oc(e){return bs(e)?Er(e,!0):ui(e)}var ac=oo((function(e,t,n){mi(e,t,n)})),sc=oo((function(e,t,n,r){mi(e,t,n,r)})),cc=Oo((function(e,t){var n={};if(null==e)return n;var r=!1;t=Qt(t,(function(t){return t=Gi(t,e),r||(r=t.length>1),t})),ro(e,Ro(e),n),r&&(n=Dr(n,d|f|p,Mo));for(var i=t.length;i--;)Ii(n,t[i]);return n}));var lc=Oo((function(e,t){return null==e?{}:function(e,t){return yi(e,t,(function(t,n){return ec(e,n)}))}(e,t)}));function uc(e,t){if(null==e)return{};var n=Qt(Ro(e),(function(e){return[e]}));return t=jo(t),yi(e,n,(function(e,n){return t(e,n[0])}))}var hc=So(ic),dc=So(oc);function fc(e){return null==e?[]:yn(e,ic(e))}var pc=lo((function(e,t,n){return t=t.toLowerCase(),e+(n?mc(t):t)}));function mc(e){return Ec($s(e).toLowerCase())}function gc(e){return(e=$s(e))&&e.replace(Xe,_n).replace(bt,"")}var vc=lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),yc=lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),bc=co("toLowerCase");var wc=lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var xc=lo((function(e,t,n){return e+(n?" ":"")+Ec(t)}));var _c=lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ec=co("toUpperCase");function Sc(e,t,n){return e=$s(e),(t=n?o:t)===o?function(e){return Et.test(e)}(e)?function(e){return e.match(xt)||[]}(e):function(e){return e.match(ze)||[]}(e):e.match(t)||[]}var Cc=Ei((function(e,t){try{return $t(e,o,t)}catch(e){return Es(e)?e:new Je(e)}})),Ac=Oo((function(e,t){return qt(t,(function(t){t=ua(t),Rr(e,t,ns(e[t],e))})),e}));function Tc(e){return function(){return e}}var Mc=fo(),kc=fo(!0);function Oc(e){return e}function Pc(e){return ci("function"==typeof e?e:Dr(e,d))}var Rc=Ei((function(e,t){return function(n){return ri(n,e,t)}})),Fc=Ei((function(e,t){return function(n){return ri(e,n,t)}}));function Lc(e,t,n){var r=ic(t),i=Xr(t,r);null!=n||Ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Xr(t,ic(t)));var o=!(Ts(n)&&"chain"in n&&!n.chain),a=Ss(e);return qt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=no(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})})),e}function Dc(){}var jc=vo(Qt),Nc=vo(Xt),Ic=vo(rn);function Bc(e){return Yo(e)?dn(ua(e)):function(e){return function(t){return Kr(t,e)}}(e)}var zc=bo(),Uc=bo(!0);function Hc(){return[]}function Vc(){return!1}var Wc=go((function(e,t){return e+t}),0),$c=_o("ceil"),Gc=go((function(e,t){return e/t}),1),qc=_o("floor");var Yc,Xc=go((function(e,t){return e*t}),1),Kc=_o("round"),Zc=go((function(e,t){return e-t}),0);return fr.after=function(e,t){if("function"!=typeof t)throw new it(c);return e=Us(e),function(){if(--e<1)return t.apply(this,arguments)}},fr.ary=es,fr.assign=Gs,fr.assignIn=qs,fr.assignInWith=Ys,fr.assignWith=Xs,fr.at=Ks,fr.before=ts,fr.bind=ns,fr.bindAll=Ac,fr.bindKey=rs,fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return vs(e)?e:[e]},fr.chain=Ba,fr.chunk=function(e,t,n){t=(n?qo(e,t,n):t===o)?1:$n(Us(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,c=r(In(i/t));a<i;)c[s++]=Oi(e,a,a+=t);return c},fr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return en(vs(n)?no(n):[n],Wr(t,1))},fr.cond=function(e){var t=null==e?0:e.length,n=jo();return e=t?Qt(e,(function(e){if("function"!=typeof e[1])throw new it(c);return[n(e[0]),e[1]]})):[],Ei((function(n){for(var r=-1;++r<t;){var i=e[r];if($t(i[0],this,n))return $t(i[1],this,n)}}))},fr.conforms=function(e){return function(e){var t=ic(e);return function(n){return jr(n,e,t)}}(Dr(e,d))},fr.constant=Tc,fr.countBy=Ha,fr.create=function(e,t){var n=pr(e);return null==t?n:Pr(n,t)},fr.curry=function e(t,n,r){var i=Co(t,w,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},fr.curryRight=function e(t,n,r){var i=Co(t,x,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},fr.debounce=is,fr.defaults=Zs,fr.defaultsDeep=Js,fr.defer=os,fr.delay=as,fr.difference=fa,fr.differenceBy=pa,fr.differenceWith=ma,fr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,(t=n||t===o?1:Us(t))<0?0:t,r):[]},fr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,0,(t=r-(t=n||t===o?1:Us(t)))<0?0:t):[]},fr.dropRightWhile=function(e,t){return e&&e.length?zi(e,jo(t,3),!0,!0):[]},fr.dropWhile=function(e,t){return e&&e.length?zi(e,jo(t,3),!0):[]},fr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&qo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=Us(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:Us(r))<0&&(r+=i),r=n>r?0:Hs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},fr.filter=function(e,t){return(vs(e)?Kt:Vr)(e,jo(t,3))},fr.flatMap=function(e,t){return Wr(Ka(e,t),1)},fr.flatMapDeep=function(e,t){return Wr(Ka(e,t),F)},fr.flatMapDepth=function(e,t,n){return n=n===o?1:Us(n),Wr(Ka(e,t),n)},fr.flatten=ya,fr.flattenDeep=function(e){return(null==e?0:e.length)?Wr(e,F):[]},fr.flattenDepth=function(e,t){return(null==e?0:e.length)?Wr(e,t=t===o?1:Us(t)):[]},fr.flip=function(e){return Co(e,A)},fr.flow=Mc,fr.flowRight=kc,fr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},fr.functions=function(e){return null==e?[]:Xr(e,ic(e))},fr.functionsIn=function(e){return null==e?[]:Xr(e,oc(e))},fr.groupBy=qa,fr.initial=function(e){return(null==e?0:e.length)?Oi(e,0,-1):[]},fr.intersection=wa,fr.intersectionBy=xa,fr.intersectionWith=_a,fr.invert=tc,fr.invertBy=nc,fr.invokeMap=Ya,fr.iteratee=Pc,fr.keyBy=Xa,fr.keys=ic,fr.keysIn=oc,fr.map=Ka,fr.mapKeys=function(e,t){var n={};return t=jo(t,3),qr(e,(function(e,r,i){Rr(n,t(e,r,i),e)})),n},fr.mapValues=function(e,t){var n={};return t=jo(t,3),qr(e,(function(e,r,i){Rr(n,r,t(e,r,i))})),n},fr.matches=function(e){return fi(Dr(e,d))},fr.matchesProperty=function(e,t){return pi(e,Dr(t,d))},fr.memoize=ss,fr.merge=ac,fr.mergeWith=sc,fr.method=Rc,fr.methodOf=Fc,fr.mixin=Lc,fr.negate=cs,fr.nthArg=function(e){return e=Us(e),Ei((function(t){return gi(t,e)}))},fr.omit=cc,fr.omitBy=function(e,t){return uc(e,cs(jo(t)))},fr.once=function(e){return ts(2,e)},fr.orderBy=function(e,t,n,r){return null==e?[]:(vs(t)||(t=null==t?[]:[t]),vs(n=r?o:n)||(n=null==n?[]:[n]),vi(e,t,n))},fr.over=jc,fr.overArgs=ls,fr.overEvery=Nc,fr.overSome=Ic,fr.partial=us,fr.partialRight=hs,fr.partition=Za,fr.pick=lc,fr.pickBy=uc,fr.property=Bc,fr.propertyOf=function(e){return function(t){return null==e?o:Kr(e,t)}},fr.pull=Sa,fr.pullAll=Ca,fr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?bi(e,t,jo(n,2)):e},fr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?bi(e,t,o,n):e},fr.pullAt=Aa,fr.range=zc,fr.rangeRight=Uc,fr.rearg=ds,fr.reject=function(e,t){return(vs(e)?Kt:Vr)(e,cs(jo(t,3)))},fr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=jo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return wi(e,i),n},fr.rest=function(e,t){if("function"!=typeof e)throw new it(c);return Ei(e,t=t===o?t:Us(t))},fr.reverse=Ta,fr.sampleSize=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Us(t),(vs(e)?Cr:Ci)(e,t)},fr.set=function(e,t,n){return null==e?e:Ai(e,t,n)},fr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Ai(e,t,n,r)},fr.shuffle=function(e){return(vs(e)?Ar:ki)(e)},fr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&qo(e,t,n)?(t=0,n=r):(t=null==t?0:Us(t),n=n===o?r:Us(n)),Oi(e,t,n)):[]},fr.sortBy=Ja,fr.sortedUniq=function(e){return e&&e.length?Li(e):[]},fr.sortedUniqBy=function(e,t){return e&&e.length?Li(e,jo(t,2)):[]},fr.split=function(e,t,n){return n&&"number"!=typeof n&&qo(e,t,n)&&(t=n=o),(n=n===o?N:n>>>0)?(e=$s(e))&&("string"==typeof t||null!=t&&!Rs(t))&&!(t=ji(t))&&Cn(e)?Yi(Rn(e),0,n):e.split(t,n):[]},fr.spread=function(e,t){if("function"!=typeof e)throw new it(c);return t=null==t?0:$n(Us(t),0),Ei((function(n){var r=n[t],i=Yi(n,0,t);return r&&en(i,r),$t(e,this,i)}))},fr.tail=function(e){var t=null==e?0:e.length;return t?Oi(e,1,t):[]},fr.take=function(e,t,n){return e&&e.length?Oi(e,0,(t=n||t===o?1:Us(t))<0?0:t):[]},fr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Oi(e,(t=r-(t=n||t===o?1:Us(t)))<0?0:t,r):[]},fr.takeRightWhile=function(e,t){return e&&e.length?zi(e,jo(t,3),!1,!0):[]},fr.takeWhile=function(e,t){return e&&e.length?zi(e,jo(t,3)):[]},fr.tap=function(e,t){return t(e),e},fr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new it(c);return Ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(e,t,{leading:r,maxWait:t,trailing:i})},fr.thru=za,fr.toArray=Bs,fr.toPairs=hc,fr.toPairsIn=dc,fr.toPath=function(e){return vs(e)?Qt(e,ua):Ds(e)?[e]:no(la($s(e)))},fr.toPlainObject=Ws,fr.transform=function(e,t,n){var r=vs(e),i=r||xs(e)||js(e);if(t=jo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Ts(e)&&Ss(o)?pr(Pt(e)):{}}return(i?qt:qr)(e,(function(e,r,i){return t(n,e,r,i)})),n},fr.unary=function(e){return es(e,1)},fr.union=Ma,fr.unionBy=ka,fr.unionWith=Oa,fr.uniq=function(e){return e&&e.length?Ni(e):[]},fr.uniqBy=function(e,t){return e&&e.length?Ni(e,jo(t,2)):[]},fr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Ni(e,o,t):[]},fr.unset=function(e,t){return null==e||Ii(e,t)},fr.unzip=Pa,fr.unzipWith=Ra,fr.update=function(e,t,n){return null==e?e:Bi(e,t,$i(n))},fr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Bi(e,t,$i(n),r)},fr.values=fc,fr.valuesIn=function(e){return null==e?[]:yn(e,oc(e))},fr.without=Fa,fr.words=Sc,fr.wrap=function(e,t){return us($i(t),e)},fr.xor=La,fr.xorBy=Da,fr.xorWith=ja,fr.zip=Na,fr.zipObject=function(e,t){return Vi(e||[],t||[],Mr)},fr.zipObjectDeep=function(e,t){return Vi(e||[],t||[],Ai)},fr.zipWith=Ia,fr.entries=hc,fr.entriesIn=dc,fr.extend=qs,fr.extendWith=Ys,Lc(fr,fr),fr.add=Wc,fr.attempt=Cc,fr.camelCase=pc,fr.capitalize=mc,fr.ceil=$c,fr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Vs(n))==n?n:0),t!==o&&(t=(t=Vs(t))==t?t:0),Lr(Vs(e),t,n)},fr.clone=function(e){return Dr(e,p)},fr.cloneDeep=function(e){return Dr(e,d|p)},fr.cloneDeepWith=function(e,t){return Dr(e,d|p,t="function"==typeof t?t:o)},fr.cloneWith=function(e,t){return Dr(e,p,t="function"==typeof t?t:o)},fr.conformsTo=function(e,t){return null==t||jr(e,t,ic(t))},fr.deburr=gc,fr.defaultTo=function(e,t){return null==e||e!=e?t:e},fr.divide=Gc,fr.endsWith=function(e,t,n){e=$s(e),t=ji(t);var r=e.length,i=n=n===o?r:Lr(Us(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},fr.eq=fs,fr.escape=function(e){return(e=$s(e))&&Ce.test(e)?e.replace(Ee,En):e},fr.escapeRegExp=function(e){return(e=$s(e))&&Fe.test(e)?e.replace(Re,"\\$&"):e},fr.every=function(e,t,n){var r=vs(e)?Xt:Ur;return n&&qo(e,t,n)&&(t=o),r(e,jo(t,3))},fr.find=Va,fr.findIndex=ga,fr.findKey=function(e,t){return an(e,jo(t,3),qr)},fr.findLast=Wa,fr.findLastIndex=va,fr.findLastKey=function(e,t){return an(e,jo(t,3),Yr)},fr.floor=qc,fr.forEach=$a,fr.forEachRight=Ga,fr.forIn=function(e,t){return null==e?e:$r(e,jo(t,3),oc)},fr.forInRight=function(e,t){return null==e?e:Gr(e,jo(t,3),oc)},fr.forOwn=function(e,t){return e&&qr(e,jo(t,3))},fr.forOwnRight=function(e,t){return e&&Yr(e,jo(t,3))},fr.get=Qs,fr.gt=ps,fr.gte=ms,fr.has=function(e,t){return null!=e&&Vo(e,t,ei)},fr.hasIn=ec,fr.head=ba,fr.identity=Oc,fr.includes=function(e,t,n,r){e=bs(e)?e:fc(e),n=n&&!r?Us(n):0;var i=e.length;return n<0&&(n=$n(i+n,0)),Ls(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&cn(e,t,n)>-1},fr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=$n(r+i,0)),cn(e,t,i)},fr.inRange=function(e,t,n){return t=zs(t),n===o?(n=t,t=0):n=zs(n),function(e,t,n){return e>=Gn(t,n)&&e<$n(t,n)}(e=Vs(e),t,n)},fr.invoke=rc,fr.isArguments=gs,fr.isArray=vs,fr.isArrayBuffer=ys,fr.isArrayLike=bs,fr.isArrayLikeObject=ws,fr.isBoolean=function(e){return!0===e||!1===e||Ms(e)&&Jr(e)==W},fr.isBuffer=xs,fr.isDate=_s,fr.isElement=function(e){return Ms(e)&&1===e.nodeType&&!Ps(e)},fr.isEmpty=function(e){if(null==e)return!0;if(bs(e)&&(vs(e)||"string"==typeof e||"function"==typeof e.splice||xs(e)||js(e)||gs(e)))return!e.length;var t=Ho(e);if(t==K||t==ne)return!e.size;if(Zo(e))return!li(e).length;for(var n in e)if(ut.call(e,n))return!1;return!0},fr.isEqual=function(e,t){return oi(e,t)},fr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?oi(e,t,o,n):!!r},fr.isError=Es,fr.isFinite=function(e){return"number"==typeof e&&Hn(e)},fr.isFunction=Ss,fr.isInteger=Cs,fr.isLength=As,fr.isMap=ks,fr.isMatch=function(e,t){return e===t||ai(e,t,Io(t))},fr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,ai(e,t,Io(t),n)},fr.isNaN=function(e){return Os(e)&&e!=+e},fr.isNative=function(e){if(Ko(e))throw new Je(s);return si(e)},fr.isNil=function(e){return null==e},fr.isNull=function(e){return null===e},fr.isNumber=Os,fr.isObject=Ts,fr.isObjectLike=Ms,fr.isPlainObject=Ps,fr.isRegExp=Rs,fr.isSafeInteger=function(e){return Cs(e)&&e>=-L&&e<=L},fr.isSet=Fs,fr.isString=Ls,fr.isSymbol=Ds,fr.isTypedArray=js,fr.isUndefined=function(e){return e===o},fr.isWeakMap=function(e){return Ms(e)&&Ho(e)==ae},fr.isWeakSet=function(e){return Ms(e)&&Jr(e)==se},fr.join=function(e,t){return null==e?"":Vn.call(e,t)},fr.kebabCase=vc,fr.last=Ea,fr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=Us(n))<0?$n(r+i,0):Gn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):sn(e,un,i,!0)},fr.lowerCase=yc,fr.lowerFirst=bc,fr.lt=Ns,fr.lte=Is,fr.max=function(e){return e&&e.length?Hr(e,Oc,Qr):o},fr.maxBy=function(e,t){return e&&e.length?Hr(e,jo(t,2),Qr):o},fr.mean=function(e){return hn(e,Oc)},fr.meanBy=function(e,t){return hn(e,jo(t,2))},fr.min=function(e){return e&&e.length?Hr(e,Oc,hi):o},fr.minBy=function(e,t){return e&&e.length?Hr(e,jo(t,2),hi):o},fr.stubArray=Hc,fr.stubFalse=Vc,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Xc,fr.nth=function(e,t){return e&&e.length?gi(e,Us(t)):o},fr.noConflict=function(){return Ft._===this&&(Ft._=mt),this},fr.noop=Dc,fr.now=Qa,fr.pad=function(e,t,n){e=$s(e);var r=(t=Us(t))?Pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return yo(Bn(i),n)+e+yo(In(i),n)},fr.padEnd=function(e,t,n){e=$s(e);var r=(t=Us(t))?Pn(e):0;return t&&r<t?e+yo(t-r,n):e},fr.padStart=function(e,t,n){e=$s(e);var r=(t=Us(t))?Pn(e):0;return t&&r<t?yo(t-r,n)+e:e},fr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Yn($s(e).replace(De,""),t||0)},fr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&qo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=zs(e),t===o?(t=e,e=0):t=zs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Xn();return Gn(e+i*(t-e+kt("1e-"+((i+"").length-1))),t)}return xi(e,t)},fr.reduce=function(e,t,n){var r=vs(e)?tn:pn,i=arguments.length<3;return r(e,jo(t,4),n,i,Br)},fr.reduceRight=function(e,t,n){var r=vs(e)?nn:pn,i=arguments.length<3;return r(e,jo(t,4),n,i,zr)},fr.repeat=function(e,t,n){return t=(n?qo(e,t,n):t===o)?1:Us(t),_i($s(e),t)},fr.replace=function(){var e=arguments,t=$s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fr.result=function(e,t,n){var r=-1,i=(t=Gi(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[ua(t[r])];a===o&&(r=i,a=n),e=Ss(a)?a.call(e):a}return e},fr.round=Kc,fr.runInContext=e,fr.sample=function(e){return(vs(e)?Sr:Si)(e)},fr.size=function(e){if(null==e)return 0;if(bs(e))return Ls(e)?Pn(e):e.length;var t=Ho(e);return t==K||t==ne?e.size:li(e).length},fr.snakeCase=wc,fr.some=function(e,t,n){var r=vs(e)?rn:Pi;return n&&qo(e,t,n)&&(t=o),r(e,jo(t,3))},fr.sortedIndex=function(e,t){return Ri(e,t)},fr.sortedIndexBy=function(e,t,n){return Fi(e,t,jo(n,2))},fr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ri(e,t);if(r<n&&fs(e[r],t))return r}return-1},fr.sortedLastIndex=function(e,t){return Ri(e,t,!0)},fr.sortedLastIndexBy=function(e,t,n){return Fi(e,t,jo(n,2),!0)},fr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Ri(e,t,!0)-1;if(fs(e[n],t))return n}return-1},fr.startCase=xc,fr.startsWith=function(e,t,n){return e=$s(e),n=null==n?0:Lr(Us(n),0,e.length),t=ji(t),e.slice(n,n+t.length)==t},fr.subtract=Zc,fr.sum=function(e){return e&&e.length?mn(e,Oc):0},fr.sumBy=function(e,t){return e&&e.length?mn(e,jo(t,2)):0},fr.template=function(e,t,n){var r=fr.templateSettings;n&&qo(e,t,n)&&(t=o),e=$s(e),t=Ys({},t,r,Ao);var i,a,s=Ys({},t.imports,r.imports,Ao),c=ic(s),l=yn(s,c),u=0,h=t.interpolate||Ke,d="__p += '",f=nt((t.escape||Ke).source+"|"+h.source+"|"+(h===Me?He:Ke).source+"|"+(t.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+(ut.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(f,(function(t,n,r,o,s,c){return r||(r=o),d+=e.slice(u,c).replace(Ze,Sn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),d+="';\n";var m=ut.call(t,"variable")&&t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(be,""):d).replace(we,"$1").replace(xe,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Cc((function(){return Qe(c,p+"return "+d).apply(o,l)}));if(g.source=d,Es(g))throw g;return g},fr.times=function(e,t){if((e=Us(e))<1||e>L)return[];var n=N,r=Gn(e,N);t=jo(t),e-=N;for(var i=gn(r,t);++n<e;)t(n);return i},fr.toFinite=zs,fr.toInteger=Us,fr.toLength=Hs,fr.toLower=function(e){return $s(e).toLowerCase()},fr.toNumber=Vs,fr.toSafeInteger=function(e){return e?Lr(Us(e),-L,L):0===e?e:0},fr.toString=$s,fr.toUpper=function(e){return $s(e).toUpperCase()},fr.trim=function(e,t,n){if((e=$s(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=ji(t)))return e;var r=Rn(e),i=Rn(t);return Yi(r,wn(r,i),xn(r,i)+1).join("")},fr.trimEnd=function(e,t,n){if((e=$s(e))&&(n||t===o))return e.replace(je,"");if(!e||!(t=ji(t)))return e;var r=Rn(e);return Yi(r,0,xn(r,Rn(t))+1).join("")},fr.trimStart=function(e,t,n){if((e=$s(e))&&(n||t===o))return e.replace(De,"");if(!e||!(t=ji(t)))return e;var r=Rn(e);return Yi(r,wn(r,Rn(t))).join("")},fr.truncate=function(e,t){var n=T,r=M;if(Ts(t)){var i="separator"in t?t.separator:i;n="length"in t?Us(t.length):n,r="omission"in t?ji(t.omission):r}var a=(e=$s(e)).length;if(Cn(e)){var s=Rn(e);a=s.length}if(n>=a)return e;var c=n-Pn(r);if(c<1)return r;var l=s?Yi(s,0,c).join(""):e.slice(0,c);if(i===o)return l+r;if(s&&(c+=l.length-c),Rs(i)){if(e.slice(c).search(i)){var u,h=l;for(i.global||(i=nt(i.source,$s(Ve.exec(i))+"g")),i.lastIndex=0;u=i.exec(h);)var d=u.index;l=l.slice(0,d===o?c:d)}}else if(e.indexOf(ji(i),c)!=c){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r},fr.unescape=function(e){return(e=$s(e))&&Se.test(e)?e.replace(_e,Fn):e},fr.uniqueId=function(e){var t=++ht;return $s(e)+t},fr.upperCase=_c,fr.upperFirst=Ec,fr.each=$a,fr.eachRight=Ga,fr.first=ba,Lc(fr,(Yc={},qr(fr,(function(e,t){ut.call(fr.prototype,t)||(Yc[t]=e)})),Yc),{chain:!1}),fr.VERSION="4.17.15",qt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){fr[e].placeholder=fr})),qt(["drop","take"],(function(e,t){vr.prototype[e]=function(n){n=n===o?1:$n(Us(n),0);var r=this.__filtered__&&!t?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=Gn(n,r.__takeCount__):r.__views__.push({size:Gn(n,N),type:e+(r.__dir__<0?"Right":"")}),r},vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),qt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==P||3==n;vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:jo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),qt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");vr.prototype[e]=function(){return this[n](1).value()[0]}})),qt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");vr.prototype[e]=function(){return this.__filtered__?new vr(this):this[n](1)}})),vr.prototype.compact=function(){return this.filter(Oc)},vr.prototype.find=function(e){return this.filter(e).head()},vr.prototype.findLast=function(e){return this.reverse().find(e)},vr.prototype.invokeMap=Ei((function(e,t){return"function"==typeof e?new vr(this):this.map((function(n){return ri(n,e,t)}))})),vr.prototype.reject=function(e){return this.filter(cs(jo(e)))},vr.prototype.slice=function(e,t){e=Us(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=Us(t))<0?n.dropRight(-t):n.take(t-e)),n)},vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vr.prototype.toArray=function(){return this.take(N)},qr(vr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=fr[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(fr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof vr,l=s[0],u=c||vs(t),h=function(e){var t=i.apply(fr,en([e],s));return r&&d?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,m=c&&!f;if(!a&&u){t=m?t:new vr(this);var g=e.apply(t,s);return g.__actions__.push({func:za,args:[h],thisArg:o}),new gr(g,d)}return p&&m?e.apply(this,s):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),qt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);fr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(vs(i)?i:[],e)}return this[n]((function(n){return t.apply(vs(n)?n:[],e)}))}})),qr(vr.prototype,(function(e,t){var n=fr[t];if(n){var r=n.name+"";ut.call(ir,r)||(ir[r]=[]),ir[r].push({name:t,func:n})}})),ir[po(o,y).name]=[{name:"wrapper",func:o}],vr.prototype.clone=function(){var e=new vr(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e},vr.prototype.reverse=function(){if(this.__filtered__){var e=new vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=vs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Gn(t,e+a);break;case"takeRight":e=$n(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,l=r?s:a-1,u=this.__iteratees__,h=u.length,d=0,f=Gn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return Ui(e,this.__actions__);var p=[];e:for(;c--&&d<f;){for(var m=-1,g=e[l+=t];++m<h;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(b==R)g=w;else if(!w){if(b==P)continue e;break e}}p[d++]=g}return p},fr.prototype.at=Ua,fr.prototype.chain=function(){return Ba(this)},fr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===o&&(this.__values__=Bs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},fr.prototype.plant=function(e){for(var t,n=this;n instanceof mr;){var r=da(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vr){var t=e;return this.__actions__.length&&(t=new vr(this)),(t=t.reverse()).__actions__.push({func:za,args:[Ta],thisArg:o}),new gr(t,this.__chain__)}return this.thru(Ta)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return Ui(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,It&&(fr.prototype[It]=function(){return this}),fr}();Ft._=Ln,(i=function(){return Ln}.call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n("yLpj"),n("YuTi")(e))},M1xp:function(e,t,n){var r=n("a0xu");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},M96O:function(e,t,n){var r;try{r={clone:n("uM7l"),constant:n("cvCv"),each:n("xkGU"),filter:n("k4Da"),has:n("OFL0"),isArray:n("Z0cm"),isEmpty:n("E+oP"),isFunction:n("lSCD"),isUndefined:n("TP7S"),keys:n("7GkX"),map:n("3WF5"),reduce:n("xaJk"),size:n("1iNE"),transform:n("UMpK"),union:n("v8eK"),values:n("P/G1")}}catch(e){}r||(r=window._),e.exports=r},MCSJ:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},ME5O:function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},MFOe:function(e,t,n){(function(t){var n=Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)s(Object(arguments[i]),(function(t,n){e[n]=t}));return e},r=function(){if(Object.create)return function(e,t,r,i){var o=a(arguments,1);return n.apply(this,[Object.create(e)].concat(o))};{function e(){}return function(t,r,i,o){var s=a(arguments,1);return e.prototype=t,n.apply(this,[new e].concat(s))}}}(),i=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},o="undefined"!=typeof window?window:t;function a(e,t){return Array.prototype.slice.call(e,t||0)}function s(e,t){c(e,(function(e,n){return t(e,n),!1}))}function c(e,t){if(l(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function l(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:n,create:r,trim:i,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:a,each:s,map:function(e,t){var n=l(e)?[]:{};return c(e,(function(e,r){return n[r]=t(e,r),!1})),n},pluck:c,isList:l,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:o}}).call(this,n("yLpj"))},MHMH:function(e,t,n){"use strict";e.exports=function(e,t,n){var c,l,u,h=this.options,d=t.length+1,f=-1,p=e.now(),m="",g="";for(;++f<d;){if((c=t.charAt(f))!==o&&c!==i){f--;break}m+=c}u=0;for(;++f<=d;){if((c=t.charAt(f))!==a){f--;break}m+=c,u++}if(u>s)return;if(!u||!h.pedantic&&t.charAt(f+1)===a)return;d=t.length+1,l="";for(;++f<d;){if((c=t.charAt(f))!==o&&c!==i){f--;break}l+=c}if(!h.pedantic&&0===l.length&&c&&c!==r)return;if(n)return!0;m+=l,l="",g="";for(;++f<d&&(c=t.charAt(f))&&c!==r;)if(c===o||c===i||c===a){for(;c===o||c===i;)l+=c,c=t.charAt(++f);for(;c===a;)l+=c,c=t.charAt(++f);for(;c===o||c===i;)l+=c,c=t.charAt(++f);f--}else g+=l+c,l="";return p.column+=m.length,p.offset+=m.length,e(m+=g+l)({type:"heading",depth:u,children:this.tokenizeInline(g,p)})};var r="\n",i="\t",o=" ",a="#",s=6},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},MOh6:function(e,t){e.exports=function(e){var t=e.xml.getAttribute("rgba").split(" ");this.r=parseFloat(t[0]),this.g=parseFloat(t[1]),this.b=parseFloat(t[2]),this.a=parseFloat(t[3])}},MPFp:function(e,t,n){"use strict";var r=n("uOPS"),i=n("Y7ZC"),o=n("kTiW"),a=n("NegM"),s=n("SBuE"),c=n("j2DC"),l=n("RfKB"),u=n("U+KD"),h=n("UWiX")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,p,m,g,v){c(n,t,p);var y,b,w,x=function(e){if(!d&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",E="values"==m,S=!1,C=e.prototype,A=C[h]||C["@@iterator"]||m&&C[m],T=A||x(m),M=m?E?x("entries"):T:void 0,k="Array"==t&&C.entries||A;if(k&&(w=u(k.call(new e)))!==Object.prototype&&w.next&&(l(w,_,!0),r||"function"==typeof w[h]||a(w,h,f)),E&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),r&&!v||!d&&!S&&C[h]||a(C,h,T),s[t]=T,s[_]=f,m)if(y={values:E?T:x("values"),keys:g?T:x("keys"),entries:M},v)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(d||S),t,y);return y}},"MQ5/":function(e,t,n){"use strict";e.exports=a;var r=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],i=r.concat(["~","|"]),o=i.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function a(e){var t=e||{};return t.commonmark?o:t.gfm?i:r}a.default=r,a.gfm=i,a.commonmark=o},MaiH:function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("~~",t)}},MgzW:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},MliZ:function(e,t,n){(function(r){var i;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=10;function c(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==o?e.maxListeners:s,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=s}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function h(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}function d(e,t,n,r){if(!n)return[];var i,o,a,s,c,l,u,h=[],f=t.length,p=t[r],m=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(h=h.concat(d(e,t,n[a],r+1)));return h}if("**"===p){for(a in(u=r+1===f||r+2===f&&"*"===m)&&n._listeners&&(h=h.concat(d(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!u&&(h=h.concat(d(e,t,n[a],f))),h=h.concat(d(e,t,n[a],r))):h=a===m?h.concat(d(e,t,n[a],r+2)):h.concat(d(e,t,n[a],r)));return h}h=h.concat(d(e,t,n[p],r+1))}if((s=n["*"])&&d(e,t,s,r+1),c=n["**"])if(r<f)for(a in c._listeners&&d(e,t,c,f),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===m?d(e,t,c[a],r+2):a===p?d(e,t,c[a],r+1):((l={})[a]=c[a],d(e,t,{"**":l},r+1)));else c._listeners?d(e,t,c,f):c["*"]&&c["*"]._listeners&&d(e,t,c["*"],f);return h}function f(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a!==o;){if(i[a]||(i[a]={}),i=i[a],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,u.call(this,i._listeners.length,a))):i._listeners=t,!0;a=e.shift()}return!0}h.EventEmitter2=h,h.prototype.delimiter=".",h.prototype.setMaxListeners=function(e){e!==o&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},h.prototype.event="",h.prototype.once=function(e,t){return this._once(e,t,!1)},h.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},h.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},h.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},h.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},h.prototype._many=function(e,t,n,r){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&i.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r),i},h.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,s,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},h.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,o,a=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,s){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,s){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];a.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:a.push(o[r].call(this));break;case 2:a.push(o[r].call(this,arguments[1]));break;case 3:a.push(o[r].call(this,arguments[1],arguments[2]));break;default:a.push(o[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},h.prototype.on=function(e,t){return this._on(e,t,!1)},h.prototype.prependListener=function(e,t){return this._on(e,t,!0)},h.prototype.onAny=function(e){return this._onAny(e,!1)},h.prototype.prependAny=function(e){return this._onAny(e,!0)},h.prototype.addListener=h.prototype.on,h.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},h.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this.emit("newListener",e,t),this.wildcard?(f.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},h.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();r=d.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var c=r[s];if(n=c._listeners,a(n)){for(var l=-1,u=0,h=n.length;u<h;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){l=u;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==o){var n=Object.keys(t);for(var r in n){var i=n[r],a=t[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},h.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},h.prototype.removeListener=h.prototype.off,h.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||c.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},h.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||c.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},h.prototype.eventNames=function(){return Object.keys(this._events)},h.prototype.listenerCount=function(e){return this.listeners(e).length},h.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return h}.call(t,n,t,e))===o||(e.exports=i)}()}).call(this,n("8oxB"))},Mqbl:function(e,t,n){var r=n("JB68"),i=n("w6GO");n("zn7N")("keys",(function(){return function(e){return i(r(e))}}))},MrPd:function(e,t,n){var r=n("hypo"),i=n("ljhN"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},MvwC:function(e,t,n){var r=n("5T2Y").document;e.exports=r&&r.documentElement},"N6n/":function(e,t,n){var r=n("OEc2"),i=n("ACFR");function o(e){e=e||{},this.position=new r(e.position),this.orientation=new i(e.orientation)}o.prototype.applyTransform=function(e){this.position.multiplyQuaternion(e.rotation),this.position.add(e.translation);var t=e.rotation.clone();t.multiply(this.orientation),this.orientation=t},o.prototype.clone=function(){return new o(this)},o.prototype.multiply=function(e){var t=e.clone();return t.applyTransform({rotation:this.orientation,translation:this.position}),t},o.prototype.getInverse=function(){var e=this.clone();return e.orientation.invert(),e.position.multiplyQuaternion(e.orientation),e.position.x*=-1,e.position.y*=-1,e.position.z*=-1,e},e.exports=o},NFD0:function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("\\",t)}},NKxu:function(e,t,n){var r=n("lSCD"),i=n("E2jh"),o=n("GoyQ"),a=n("3Fdi"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,h=l.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},"NRL+":function(e,t,n){"use strict";var r={},i={},o=34,a=10,s=13;function c(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function l(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function u(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function h(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+u(-t,6):t>9999?"+"+u(t,6):u(t,4))+"-"+u(e.getUTCMonth()+1,2)+"-"+u(e.getUTCDate(),2)+(o?"T"+u(n,2)+":"+u(r,2)+":"+u(i,2)+"."+u(o,3)+"Z":i?"T"+u(n,2)+":"+u(r,2)+":"+u(i,2)+"Z":r||n?"T"+u(n,2)+":"+u(r,2)+"Z":"")}t.a=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function u(e,t){var c,l=[],u=e.length,h=0,d=0,f=u<=0,p=!1;function m(){if(f)return i;if(p)return p=!1,r;var t,c,l=h;if(e.charCodeAt(l)===o){for(;h++<u&&e.charCodeAt(h)!==o||e.charCodeAt(++h)===o;);return(t=h)>=u?f=!0:(c=e.charCodeAt(h++))===a?p=!0:c===s&&(p=!0,e.charCodeAt(h)===a&&++h),e.slice(l+1,t-1).replace(/""/g,'"')}for(;h<u;){if((c=e.charCodeAt(t=h++))===a)p=!0;else if(c===s)p=!0,e.charCodeAt(h)===a&&++h;else if(c!==n)continue;return e.slice(l,t)}return f=!0,e.slice(l,u)}for(e.charCodeAt(u-1)===a&&--u,e.charCodeAt(u-1)===s&&--u;(c=m())!==i;){for(var g=[];c!==r&&c!==i;)g.push(c),c=m();t&&null==(g=t(g,d++))||l.push(g)}return l}function d(t,n){return t.map((function(t){return n.map((function(e){return p(t[e])})).join(e)}))}function f(t){return t.map(p).join(e)}function p(e){return null==e?"":e instanceof Date?h(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=u(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=c(e);return function(r,i){return t(n(r),i,e)}}(e,t):c(e)}));return i.columns=r||[],i},parseRows:u,format:function(t,n){return null==n&&(n=l(t)),[n.map(p).join(e)].concat(d(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=l(e)),d(e,t).join("\n")},formatRows:function(e){return e.map(f).join("\n")},formatRow:f,formatValue:p}}},NS2H:function(e,t,n){"use strict";e.exports=function(e,t,n){var c,l,u,h,d,f=e.now(),p=t.length,m=-1,g="";for(;++m<p;){if((u=t.charAt(m))!==o||m>=a){m--;break}g+=u}c="",l="";for(;++m<p;){if((u=t.charAt(m))===r){m--;break}u===o||u===i?l+=u:(c+=l+u,l="")}if(f.column+=g.length,f.offset+=g.length,g+=c+l,u=t.charAt(++m),h=t.charAt(++m),u!==r||!s[h])return;g+=u,l=h,d=s[h];for(;++m<p;){if((u=t.charAt(m))!==h){if(u!==r)return;m--;break}l+=u}if(n)return!0;return e(g+l)({type:"heading",depth:d,children:this.tokenizeInline(c,f)})};var r="\n",i="\t",o=" ",a=3,s={};s["="]=1,s["-"]=2},NV0k:function(e,t){t.f={}.propertyIsEnumerable},NWaZ:function(e,t,n){var r=n("ZNcB"),i=n("E4pH");function o(e){e=e||{},this.ros=e.ros,this.name=e.name}o.prototype.get=function(e){var t=new r({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),n=new i({name:this.name});t.callService(n,(function(t){var n=JSON.parse(t.value);e(n)}))},o.prototype.set=function(e,t){var n=new r({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),o=new i({name:this.name,value:JSON.stringify(e)});n.callService(o,t)},o.prototype.delete=function(e){var t=new r({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),n=new i({name:this.name});t.callService(n,e)},e.exports=o},NegM:function(e,t,n){var r=n("2faE"),i=n("rr1i");e.exports=n("jmDH")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"NkL+":function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},NlNu:function(e,t){t.DOMImplementation=window.DOMImplementation,t.XMLSerializer=window.XMLSerializer,t.DOMParser=window.DOMParser},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},"NsO/":function(e,t,n){var r=n("M1xp"),i=n("Jes0");e.exports=function(e){return r(i(e))}},Nw8X:function(e,t,n){"use strict";var r=["http","https","mailto","tel"];e.exports=function(e){var t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;var i=t.indexOf(":");if(-1===i)return t;for(var o=r.length,a=-1;++a<o;){var s=r[a];if(i===s.length&&t.slice(0,s.length).toLowerCase()===s)return t}return-1!==(a=t.indexOf("?"))&&i>a?t:-1!==(a=t.indexOf("#"))&&i>a?t:"javascript:void(0)"}},NwJ3:function(e,t,n){var r=n("SBuE"),i=n("UWiX")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},Nxm2:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n("q1tI")),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return o.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},NykK:function(e,t,n){var r=n("nmnc"),i=n("AP2z"),o=n("KfNM"),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},Nznp:function(e,t,n){var r,i;window,e.exports=(r=n("q1tI"),i=n("i8i4"),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t,n){e.exports=n(11)()},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function i(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function s(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";var r=n(1),i=["Moz","Webkit","O","ms"];function o(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<i.length;n++)if(o(e,i[n])in t)return i[n];return""}();function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return A}));var l="";function u(e,t){return l||(l=Object(r.b)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return Object(r.d)(e[t])}))),!!Object(r.d)(e[l])&&e[l](t)}function h(e,t,n){var r=e;do{if(u(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function d(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function f(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function p(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderTopWidth))+Object(r.c)(n.borderBottomWidth)}function m(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=Object(r.c)(n.borderLeftWidth))+Object(r.c)(n.borderRightWidth)}function g(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingTop))-Object(r.c)(n.paddingBottom)}function v(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=Object(r.c)(n.paddingLeft))-Object(r.c)(n.paddingRight)}function y(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function b(e,t){var n=x(e,t,"px");return c({},o("transform",a),n)}function w(e,t){return x(e,t,"")}function x(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function _(e,t){return e.targetTouches&&Object(r.b)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&Object(r.b)(e.changedTouches,(function(e){return t===e.identifier}))}function E(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function S(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function C(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function A(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}},function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var r=n(1),i=n(6),o=n.n(i),a=n(2);function s(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var o=p(e);if("string"==typeof i){var s,c=o.ownerDocument,l=c.defaultView;if(!((s="parent"===i?o.parentNode:c.querySelector(i))instanceof l.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var u=l.getComputedStyle(o),h=l.getComputedStyle(s);i={left:-o.offsetLeft+Object(r.c)(h.paddingLeft)+Object(r.c)(u.marginLeft),top:-o.offsetTop+Object(r.c)(h.paddingTop)+Object(r.c)(u.marginTop),right:Object(a.h)(s)-Object(a.l)(o)-o.offsetLeft+Object(r.c)(h.paddingRight)-Object(r.c)(u.marginRight),bottom:Object(a.g)(s)-Object(a.k)(o)-o.offsetTop+Object(r.c)(h.paddingBottom)-Object(r.c)(u.marginBottom)}}return Object(r.e)(i.right)&&(t=Math.min(t,i.right)),Object(r.e)(i.bottom)&&(n=Math.min(n,i.bottom)),Object(r.e)(i.left)&&(t=Math.max(t,i.left)),Object(r.e)(i.top)&&(n=Math.max(n,i.top)),[t,n]}function c(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function l(e){return"both"===e.props.axis||"x"===e.props.axis}function u(e){return"both"===e.props.axis||"y"===e.props.axis}function h(e,t,n){var r="number"==typeof t?Object(a.e)(e,t):null;if("number"==typeof t&&!r)return null;var i=p(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return Object(a.j)(r||e,o)}function d(e,t,n){var i=e.state,o=!Object(r.e)(i.lastX),a=p(e);return o?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}}function f(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function p(e){var t=o.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=r},function(e,t){e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n(5),i=n.n(r),o=n(0),a=n.n(o),s=n(6),c=n.n(s),l=n(2),u=n(3),h=n(1),d=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},w=b.mouse,x=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=(e=m(t)).call.apply(e,[this].concat(o)),n=!r||"object"!==f(r)&&"function"!=typeof r?g(this):r,y(g(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),y(g(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.a.findDOMNode(g(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!Object(l.i)(e.target,n.props.handle,t)||n.props.cancel&&Object(l.i)(e.target,n.props.cancel,t))){var i=Object(l.f)(e);n.setState({touchIdentifier:i});var o=Object(u.f)(e,i,g(n));if(null!=o){var a=o.x,s=o.y,h=Object(u.c)(g(n),a,s);Object(d.a)("DraggableCore: handleDragStart: %j",h),Object(d.a)("calling",n.props.onStart),!1!==n.props.onStart(e,h)&&(n.props.enableUserSelectHack&&Object(l.b)(r),n.setState({dragging:!0,lastX:a,lastY:s}),Object(l.a)(r,w.move,n.handleDrag),Object(l.a)(r,w.stop,n.handleDragStop))}}})),y(g(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,i=t.y;if(Array.isArray(n.props.grid)){var o=r-n.state.lastX,a=i-n.state.lastY,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Object(u.g)(n.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=n.state.lastX+o,i=n.state.lastY+a}var c=Object(u.c)(g(n),r,i);if(Object(d.a)("DraggableCore: handleDrag: %j",c),!1!==n.props.onDrag(e,c))n.setState({lastX:r,lastY:i});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(l)}}})),y(g(n),"handleDragStop",(function(e){if(n.state.dragging){var t=Object(u.f)(e,n.state.touchIdentifier,g(n));if(null!=t){var r=t.x,i=t.y,o=Object(u.c)(g(n),r,i),a=c.a.findDOMNode(g(n));a&&n.props.enableUserSelectHack&&Object(l.n)(a.ownerDocument),Object(d.a)("DraggableCore: handleDragStop: %j",o),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,o),a&&(Object(d.a)("DraggableCore: Removing handlers"),Object(l.m)(a.ownerDocument,w.move,n.handleDrag),Object(l.m)(a.ownerDocument,w.stop,n.handleDragStop))}}})),y(g(n),"onMouseDown",(function(e){return w=b.mouse,n.handleDragStart(e)})),y(g(n),"onMouseUp",(function(e){return w=b.mouse,n.handleDragStop(e)})),y(g(n),"onTouchStart",(function(e){return w=b.touch,n.handleDragStart(e)})),y(g(n),"onTouchEnd",(function(e){return w=b.touch,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,i.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=c.a.findDOMNode(this);if(e){var t=e.ownerDocument;Object(l.m)(t,b.mouse.move,this.handleDrag),Object(l.m)(t,b.touch.move,this.handleDrag),Object(l.m)(t,b.mouse.stop,this.handleDragStop),Object(l.m)(t,b.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&Object(l.n)(t)}}},{key:"render",value:function(){return i.a.cloneElement(i.a.Children.only(this.props.children),{style:Object(l.o)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&p(n.prototype,r),t}();y(x,"displayName","DraggableCore"),y(x,"propTypes",{allowAnyClick:a.a.bool,disabled:a.a.bool,enableUserSelectHack:a.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.a.arrayOf(a.a.number),handle:a.a.string,cancel:a.a.string,onStart:a.a.func,onDrag:a.a.func,onStop:a.a.func,onMouseDown:a.a.func,className:h.a,style:h.a,transform:h.a}),y(x,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}})},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(10).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(7).default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n(5),i=n.n(r),o=n(0),a=n.n(o),s=n(6),c=n.n(s),l=n(8),u=n.n(l),h=n(2),d=n(3),f=n(1),p=n(7),m=n(4);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=w(t).call(this,e),n=!r||"object"!==g(r)&&"function"!=typeof r?x(this):r,C(x(n),"onDragStart",(function(e,t){if(Object(m.a)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,Object(d.d)(x(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),C(x(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;Object(m.a)("Draggable: onDrag: %j",t);var r=Object(d.d)(x(n),t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Object(d.e)(x(n),i.x,i.y),2),c=s[0],l=s[1];i.x=c,i.y=l,i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)})),C(x(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,Object(d.d)(x(n),t)))return!1;Object(m.a)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,i.a.Component),E(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:(Object(m.a)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}]),E(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&c.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,o=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,c=t.position,l=t.positionOffset,f=(t.scale,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),m={},g=null,y=!Boolean(c)||this.state.dragging,w=c||r,x={x:Object(d.a)(this)&&y?this.state.x:w.x,y:Object(d.b)(this)&&y?this.state.y:w.y};this.state.isElementSVG?g=Object(h.d)(x,l):m=Object(h.c)(x,l);var _=u()(n.props.className||"",o,(C(e={},a,this.state.dragging),C(e,s,this.state.dragged),e));return i.a.createElement(p.default,v({},f,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.a.cloneElement(i.a.Children.only(n),{className:_,style:b({},n.props.style,{},m),transform:g}))}}]),t}();C(A,"displayName","Draggable"),C(A,"propTypes",b({},p.default.propTypes,{axis:a.a.oneOf(["both","x","y","none"]),bounds:a.a.oneOfType([a.a.shape({left:a.a.number,right:a.a.number,top:a.a.number,bottom:a.a.number}),a.a.string,a.a.oneOf([!1])]),defaultClassName:a.a.string,defaultClassNameDragging:a.a.string,defaultClassNameDragged:a.a.string,defaultPosition:a.a.shape({x:a.a.number,y:a.a.number}),positionOffset:a.a.shape({x:a.a.oneOfType([a.a.number,a.a.string]),y:a.a.oneOfType([a.a.number,a.a.string])}),position:a.a.shape({x:a.a.number,y:a.a.number}),className:f.a,style:f.a,transform:f.a})),C(A,"defaultProps",b({},p.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(12);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]))},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},O7RO:function(e,t,n){var r=n("CMye"),i=n("7GkX");e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},OBhP:function(e,t,n){var r=n("fmRc"),i=n("gFfm"),o=n("MrPd"),a=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),u=n("VOtZ"),h=n("EEGq"),d=n("qZTm"),f=n("G6z8"),p=n("QqLw"),m=n("yHx3"),g=n("wrZu"),v=n("+iFO"),y=n("Z0cm"),b=n("DSRE"),w=n("zEVN"),x=n("GoyQ"),_=n("1+5i"),E=n("7GkX"),S=1,C=2,A=4,T="[object Arguments]",M="[object Function]",k="[object GeneratorFunction]",O="[object Object]",P={};P[T]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[O]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[M]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,R,F,L,D){var j,N=n&S,I=n&C,B=n&A;if(R&&(j=L?R(t,F,L,D):R(t)),void 0!==j)return j;if(!x(t))return t;var z=y(t);if(z){if(j=m(t),!N)return l(t,j)}else{var U=p(t),H=U==M||U==k;if(b(t))return c(t,N);if(U==O||U==T||H&&!L){if(j=I||H?{}:v(t),!N)return I?h(t,s(j,t)):u(t,a(j,t))}else{if(!P[U])return L?t:{};j=g(t,U,N)}}D||(D=new r);var V=D.get(t);if(V)return V;D.set(t,j),_(t)?t.forEach((function(r){j.add(e(r,n,R,r,t,D))})):w(t)&&t.forEach((function(r,i){j.set(i,e(r,n,R,i,t,D))}));var W=B?I?f:d:I?keysIn:E,$=z?void 0:W(t);return i($||t,(function(r,i){$&&(r=t[i=r]),o(j,i,e(r,n,R,i,t,D))})),j}},OEc2:function(e,t){function n(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0}n.prototype.add=function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},n.prototype.subtract=function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},n.prototype.multiplyQuaternion=function(e){var t=e.w*this.x+e.y*this.z-e.z*this.y,n=e.w*this.y+e.z*this.x-e.x*this.z,r=e.w*this.z+e.x*this.y-e.y*this.x,i=-e.x*this.x-e.y*this.y-e.z*this.z;this.x=t*e.w+i*-e.x+n*-e.z-r*-e.y,this.y=n*e.w+i*-e.y+r*-e.x-t*-e.z,this.z=r*e.w+i*-e.z+t*-e.y-n*-e.x},n.prototype.clone=function(){return new n(this)},e.exports=n},OFL0:function(e,t,n){var r=n("lvO4"),i=n("4sDh");e.exports=function(e,t){return null!=e&&i(e,t,r)}},OHWT:function(e,t,n){e.exports=n("MgzW")({UrdfBox:n("Oj8Q"),UrdfColor:n("BHpa"),UrdfCylinder:n("G+a2"),UrdfLink:n("ChrQ"),UrdfMaterial:n("tfBy"),UrdfMesh:n("XqU8"),UrdfModel:n("um8h"),UrdfSphere:n("55cE"),UrdfVisual:n("y7/N")},n("E9ZH"))},"OOL/":function(e,t,n){var r=n("b5wT"),i=n("HzoJ"),o=n("2fNS"),a=n("81LO");e.exports=function e(t,n,s,c){var l=t.children(n);var u=t.node(n);var h=u?u.borderLeft:void 0;var d=u?u.borderRight:void 0;var f={};h&&(l=r.filter(l,(function(e){return e!==h&&e!==d})));var p=i(t,l);r.forEach(p,(function(n){if(t.children(n.v).length){var i=e(t,n.v,s,c);f[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var m=o(p,s);!function(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(m,f);var g=a(m,c);if(h&&(g.vs=r.flatten([h,g.vs,d],!0),t.predecessors(h).length)){var v=t.node(t.predecessors(h)[0]),y=t.node(t.predecessors(d)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+v.order+y.order)/(g.weight+2),g.weight+=2}return g}},"Of+w":function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=r},Oj8Q:function(e,t,n){var r=n("OEc2"),i=n("E9ZH");e.exports=function(e){this.dimension=null,this.type=i.URDF_BOX;var t=e.xml.getAttribute("size").split(" ");this.dimension=new r({x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])})}},Ojgd:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},Olrm:function(e,t,n){"use strict";var r=n("U6jy"),i=n("ZWk2");e.exports=function(e){return o.raw=function(e,o,a){return i(e,r(a,{position:t(o),warning:n}))},o;function t(t){for(var n=e.offset,r=t.line,i=[];++r&&r in n;)i.push((n[r]||0)+1);return{start:t,indent:i}}function n(t,n,r){3!==r&&e.file.message(t,n)}function o(r,o,a){i(r,{position:t(o),warning:n,text:a,reference:a,textContext:e,referenceContext:e})}}},OqVj:function(e,t){e.exports=function(e,t,n){t.forEach((function(t){var r=n[t];e.prototype[t]=function(e){return e.ros=this,new r(e)}}))}},"P/G1":function(e,t,n){var r=n("JmpY"),i=n("7GkX");e.exports=function(e){return null==e?[]:r(e,i(e))}},P2sY:function(e,t,n){e.exports={default:n("UbbE"),__esModule:!0}},P7XM:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},PBE1:function(e,t,n){"use strict";var r=n("Y7ZC"),i=n("WEpk"),o=n("5T2Y"),a=n("8gHz"),s=n("zXhZ");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},PD8m:function(e,t){e.exports={name:"memoryStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:function(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},remove:function(e){delete n[e]},clearAll:function(e){n={}}};var n={}},PEyx:function(e,t,n){var r=n("lU+G");e.exports={isSubgraph:function(e,t){return!!e.children(t).length},edgeToId:function(e){return o(e.v)+":"+o(e.w)+":"+o(e.name)},applyStyle:function(e,t){t&&e.attr("style",t)},applyClass:function(e,t,n){t&&e.attr("class",t).attr("class",n+" "+e.attr("class"))},applyTransition:function(e,t){var n=t.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(e)}return e}};var i=/:/g;function o(e){return e?String(e).replace(i,"\\:"):""}},PIlL:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("KJAg");e.exports=function(e,t,n){var l,u,h,d,f,p,m,g,v,y=this.offset,b=this.blockTokenizers,w=this.interruptBlockquote,x=e.now(),_=x.line,E=t.length,S=[],C=[],A=[],T=0;for(;T<E&&((u=t.charAt(T))===s||u===a);)T++;if(t.charAt(T)!==c)return;if(n)return!0;T=0;for(;T<E;){for(d=t.indexOf(o,T),m=T,g=!1,-1===d&&(d=E);T<E&&((u=t.charAt(T))===s||u===a);)T++;if(t.charAt(T)===c?(T++,g=!0,t.charAt(T)===s&&T++):T=m,f=t.slice(T,d),!g&&!r(f)){T=m;break}if(!g&&(h=t.slice(T),i(w,b,this,[e,h,!0])))break;p=m===T?f:t.slice(m,d),A.push(T-m),S.push(p),C.push(f),T=d+1}T=-1,E=A.length,l=e(S.join(o));for(;++T<E;)y[_]=(y[_]||0)+A[T],_++;return v=this.enterBlock(),C=this.tokenizeBlock(C.join(o),x),v(),l({type:"blockquote",children:C})};var o="\n",a="\t",s=" ",c=">"},Pfkr:function(e,t,n){"use strict";var r,i,o=n("vZIR"),a=(n("Qfp6"),1567752802062),s=7;e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-a));return n===i?r++:(r=0,i=n),t+=o(s),t+=o(e),r>0&&(t+=o(r)),t+=o(n)}},PjQo:function(e,t,n){var r=n("MgzW");e.exports=function(e){r(this,e)}},"Q+g8":function(e,t,n){var r=n("gYXE");e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},"Q/yX":function(e,t,n){"use strict";var r=n("Y7ZC"),i=n("ZW5q"),o=n("RDmV");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},Q1Og:function(e,t,n){t=e.exports=n("JPst")(!1);var r=n("HeW1")(n("eeiS"));t.push([e.i,'.ace_editor{min-height:150px}.jsoneditor .search input{height:auto;border:inherit;border:0;box-shadow:none}.jsoneditor table{border-collapse:collapse;width:auto}.jsoneditor td,.jsoneditor th{padding:0;display:table-cell;text-align:left;vertical-align:inherit;border-radius:inherit}.jsoneditor{color:#1a1a1a;border:thin solid #3883fa;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:100%;position:relative;padding:0;line-height:100%}div.jsoneditor-field,div.jsoneditor-value,div.jsoneditor-readonly,div.jsoneditor-default{border:1px solid transparent;min-height:16px;min-width:32px;padding:2px;margin:1px;word-wrap:break-word;float:left}div.jsoneditor-field p,div.jsoneditor-value p{margin:0}div.jsoneditor-value{word-break:break-word}div.jsoneditor-value.jsoneditor-empty::after{content:"value"}div.jsoneditor-value.jsoneditor-string{color:#006000}div.jsoneditor-value.jsoneditor-number{color:#ee422e}div.jsoneditor-value.jsoneditor-boolean{color:#ff8c00}div.jsoneditor-value.jsoneditor-null{color:#004ed0}div.jsoneditor-value.jsoneditor-invalid{color:#000}div.jsoneditor-readonly{min-width:16px;color:gray}div.jsoneditor-empty{border-color:#d3d3d3;border-style:dashed;border-radius:2px}div.jsoneditor-field.jsoneditor-empty::after{content:"field"}div.jsoneditor td{vertical-align:top}div.jsoneditor td.jsoneditor-separator{padding:3px 0;vertical-align:top;color:gray}div.jsoneditor td.jsoneditor-tree{vertical-align:top}div.jsoneditor div.jsoneditor-anchor{cursor:pointer}div.jsoneditor div.jsoneditor-anchor .picker_wrapper.popup.popup_bottom{top:28px;left:-10px}div.jsoneditor.busy pre.jsoneditor-preview{background:#f5f5f5;color:gray}div.jsoneditor.busy div.jsoneditor-busy{display:inherit}div.jsoneditor code.jsoneditor-preview{background:0}div.jsoneditor.jsoneditor-mode-preview pre.jsoneditor-preview{width:100%;height:100%;box-sizing:border-box;overflow:auto;padding:2px;margin:0;white-space:pre-wrap;word-break:break-all}div.jsoneditor-default{color:gray;padding-left:10px}div.jsoneditor-tree{width:100%;height:100%;position:relative;overflow:auto}div.jsoneditor-tree button.jsoneditor-button{width:24px;height:24px;padding:0;margin:0;border:0;cursor:pointer;background:transparent url('+r+")}div.jsoneditor-tree button.jsoneditor-button:focus{background-color:#f5f5f5;outline:#e5e5e5 solid 1px}div.jsoneditor-tree button.jsoneditor-collapsed{background-position:0 -48px}div.jsoneditor-tree button.jsoneditor-expanded{background-position:0 -72px}div.jsoneditor-tree button.jsoneditor-contextmenu{background-position:-48px -72px}div.jsoneditor-tree button.jsoneditor-invisible{visibility:hidden;background:0}div.jsoneditor-tree button.jsoneditor-dragarea{background:url("+r+") -72px -72px;cursor:move}div.jsoneditor-tree *:focus{outline:0}div.jsoneditor-tree div.jsoneditor-show-more{display:inline-block;padding:3px 4px;margin:2px 0;background-color:#e5e5e5;border-radius:3px;color:gray;font-family:arial,sans-serif;font-size:10pt}div.jsoneditor-tree div.jsoneditor-show-more a{display:inline-block;color:gray}div.jsoneditor-tree div.jsoneditor-color{display:inline-block;width:12px;height:12px;margin:4px;border:1px solid gray;cursor:pointer}div.jsoneditor-tree div.jsoneditor-date{background:#a1a1a1;color:#fff;font-family:arial,sans-serif;border-radius:3px;display:inline-block;padding:3px;margin:0 3px}div.jsoneditor-tree table.jsoneditor-tree{border-collapse:collapse;border-spacing:0;width:100%}div.jsoneditor-tree .jsoneditor-button.jsoneditor-schema-error{width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+r+') -168px -48px}div.jsoneditor-outer{position:static;width:100%;height:100%;margin:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}div.jsoneditor-outer.has-nav-bar{margin-top:-26px;padding-top:26px}div.jsoneditor-outer.has-nav-bar.has-main-menu-bar{margin-top:-61px;padding-top:61px}div.jsoneditor-outer.has-status-bar{margin-bottom:-26px;padding-bottom:26px}div.jsoneditor-outer.has-main-menu-bar{margin-top:-35px;padding-top:35px}div.jsoneditor-busy{position:absolute;top:15%;left:0;box-sizing:border-box;width:100%;text-align:center;display:none}div.jsoneditor-busy span{background-color:#ffffab;border:1px solid #fe0;border-radius:3px;padding:5px 15px;box-shadow:0 0 5px rgba(0,0,0,0.4)}div.jsoneditor-field.jsoneditor-empty::after,div.jsoneditor-value.jsoneditor-empty::after{pointer-events:none;color:#d3d3d3;font-size:8pt}div.jsoneditor-value.jsoneditor-url,a.jsoneditor-value.jsoneditor-url{color:#006000;text-decoration:underline}a.jsoneditor-value.jsoneditor-url{display:inline-block;padding:2px;margin:2px}a.jsoneditor-value.jsoneditor-url:hover,a.jsoneditor-value.jsoneditor-url:focus{color:#ee422e}div.jsoneditor-field[contenteditable="true"]:focus,div.jsoneditor-field[contenteditable="true"]:hover,div.jsoneditor-value[contenteditable="true"]:focus,div.jsoneditor-value[contenteditable="true"]:hover,div.jsoneditor-field.jsoneditor-highlight,div.jsoneditor-value.jsoneditor-highlight{background-color:#ffffab;border:1px solid #fe0;border-radius:2px}div.jsoneditor-field.jsoneditor-highlight-active,div.jsoneditor-field.jsoneditor-highlight-active:focus,div.jsoneditor-field.jsoneditor-highlight-active:hover,div.jsoneditor-value.jsoneditor-highlight-active,div.jsoneditor-value.jsoneditor-highlight-active:focus,div.jsoneditor-value.jsoneditor-highlight-active:hover{background-color:#fe0;border:1px solid #ffc700;border-radius:2px}div.jsoneditor-value.jsoneditor-object,div.jsoneditor-value.jsoneditor-array{min-width:16px}div.jsoneditor-mode-view tr.jsoneditor-expandable td.jsoneditor-tree,div.jsoneditor-mode-form tr.jsoneditor-expandable td.jsoneditor-tree{cursor:pointer}div.jsoneditor-tree button.jsoneditor-contextmenu:hover,div.jsoneditor-tree button.jsoneditor-contextmenu:focus,div.jsoneditor-tree button.jsoneditor-contextmenu.jsoneditor-selected,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu{background-position:-48px -48px}div.jsoneditor-tree div.jsoneditor-show-more a:hover,div.jsoneditor-tree div.jsoneditor-show-more a:focus{color:#ee422e}textarea.jsoneditor-text,.ace-jsoneditor{min-height:150px}textarea.jsoneditor-text{width:100%;height:100%;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;outline-width:0;border:0;background-color:#fff;resize:none}tr.jsoneditor-highlight,tr.jsoneditor-selected{background-color:#d3d3d3}tr.jsoneditor-selected button.jsoneditor-dragarea,tr.jsoneditor-selected button.jsoneditor-contextmenu{visibility:hidden}tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-contextmenu{visibility:visible}div.jsoneditor-tree button.jsoneditor-dragarea:hover,div.jsoneditor-tree button.jsoneditor-dragarea:focus,tr.jsoneditor-selected.jsoneditor-first button.jsoneditor-dragarea{background-position:-72px -48px}div.jsoneditor tr,div.jsoneditor th,div.jsoneditor td{padding:0;margin:0}div.jsoneditor-field,div.jsoneditor-value,div.jsoneditor td,div.jsoneditor th,div.jsoneditor textarea,pre.jsoneditor-preview,.jsoneditor-schema-error,.jsoneditor-popover{font-family:"dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;font-size:10pt;color:#1a1a1a}.jsoneditor-schema-error{cursor:default;display:inline-block;height:24px;line-height:24px;position:relative;text-align:center;width:24px}.jsoneditor-popover{background-color:#4c4c4c;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,0.4);color:#fff;padding:7px 10px;position:absolute;cursor:auto;width:200px;z-index:999}.jsoneditor-popover.jsoneditor-above{bottom:32px;left:-98px}.jsoneditor-popover.jsoneditor-above:before{border-top:7px solid #4c4c4c;bottom:-7px}.jsoneditor-popover.jsoneditor-below{top:32px;left:-98px}.jsoneditor-popover.jsoneditor-below:before{border-bottom:7px solid #4c4c4c;top:-7px}.jsoneditor-popover.jsoneditor-left{top:-7px;right:32px}.jsoneditor-popover.jsoneditor-left:before{border-left:7px solid #4c4c4c;border-top:7px solid transparent;border-bottom:7px solid transparent;content:"";top:19px;right:-14px;left:inherit;margin-left:inherit;margin-top:-7px;position:absolute}.jsoneditor-popover.jsoneditor-right{top:-7px;left:32px}.jsoneditor-popover.jsoneditor-right:before{border-right:7px solid #4c4c4c;border-top:7px solid transparent;border-bottom:7px solid transparent;content:"";top:19px;left:-14px;margin-left:inherit;margin-top:-7px;position:absolute}.jsoneditor-popover:before{border-right:7px solid transparent;border-left:7px solid transparent;content:"";display:block;left:50%;margin-left:-7px;position:absolute}.jsoneditor-text-errors tr.jump-to-line:hover{text-decoration:underline;cursor:pointer}.jsoneditor-schema-error:hover .jsoneditor-popover,.jsoneditor-schema-error:focus .jsoneditor-popover{display:block;animation:fade-in .3s linear 1,move-up .3s linear 1}@keyframes fade-in{from{opacity:0}to{opacity:1}}.jsoneditor .jsoneditor-validation-errors-container{max-height:130px;overflow-y:auto}.jsoneditor .jsoneditor-validation-errors{width:100%;overflow:hidden}.jsoneditor .jsoneditor-additional-errors{position:absolute;margin:auto;bottom:31px;left:calc(50% - 92px);color:gray;background-color:#ebebeb;padding:7px 15px;border-radius:8px}.jsoneditor .jsoneditor-additional-errors.visible{visibility:visible;opacity:1;transition:opacity 2s linear}.jsoneditor .jsoneditor-additional-errors.hidden{visibility:hidden;opacity:0;transition:visibility 0s 2s,opacity 2s linear}.jsoneditor .jsoneditor-text-errors{width:100%;border-collapse:collapse;border-top:1px solid #ffc700}.jsoneditor .jsoneditor-text-errors td{padding:3px 6px;vertical-align:middle}.jsoneditor .jsoneditor-text-errors td pre{margin:0;white-space:normal}.jsoneditor .jsoneditor-text-errors tr{background-color:#ffffab}.jsoneditor .jsoneditor-text-errors tr.parse-error{background-color:#ee2e2e70}.jsoneditor-text-errors .jsoneditor-schema-error{border:0;width:24px;height:24px;padding:0;margin:0 4px 0 0;cursor:pointer}.jsoneditor-text-errors tr .jsoneditor-schema-error{background:url('+r+") -168px -48px}.jsoneditor-text-errors tr.parse-error .jsoneditor-schema-error{background:url("+r+") -25px 0}.fadein{-webkit-animation:fadein .3s;animation:fadein .3s;-moz-animation:fadein .3s;-o-animation:fadein .3s}@keyframes fadein{0%{opacity:0}100%{opacity:1}}.jsoneditor-contextmenu-root{position:relative;width:0;height:0}.jsoneditor-contextmenu{position:absolute;box-sizing:content-box;z-index:99}.jsoneditor-contextmenu .jsoneditor-menu{position:relative;left:0;top:0;width:128px;height:auto;background:#fff;border:1px solid #d3d3d3;box-shadow:2px 2px 12px rgba(128,128,128,0.3);list-style:none;margin:0;padding:0}.jsoneditor-contextmenu .jsoneditor-menu button{position:relative;padding:0 4px 0 0;margin:0;width:128px;height:auto;border:0;cursor:pointer;color:#4d4d4d;background:transparent;font-size:10pt;font-family:arial,sans-serif;box-sizing:border-box;text-align:left}.jsoneditor-contextmenu .jsoneditor-menu button::-moz-focus-inner{padding:0;border:0}.jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-default{width:96px}.jsoneditor-contextmenu .jsoneditor-menu button.jsoneditor-expand{float:right;width:32px;height:24px;border-left:1px solid #e5e5e5}.jsoneditor-contextmenu .jsoneditor-menu li{overflow:hidden}.jsoneditor-contextmenu .jsoneditor-menu li ul{display:none;position:relative;left:-10px;top:0;border:0;box-shadow:inset 0 0 10px rgba(128,128,128,0.5);padding:0 10px;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out}.jsoneditor-contextmenu .jsoneditor-menu li ul .jsoneditor-icon{margin-left:24px}.jsoneditor-contextmenu .jsoneditor-menu li ul li button{padding-left:24px;animation:all ease-in-out 1s}.jsoneditor-contextmenu .jsoneditor-menu li button .jsoneditor-expand{position:absolute;top:0;right:0;width:24px;height:24px;padding:0;margin:0 4px 0 0;background:url("+r+") 0 -72px}.jsoneditor-contextmenu .jsoneditor-icon{position:absolute;top:0;left:0;width:24px;height:24px;border:0;padding:0;margin:0;background-image:url("+r+')}.jsoneditor-contextmenu .jsoneditor-text{padding:4px 0 4px 24px;word-wrap:break-word}.jsoneditor-contextmenu .jsoneditor-text.jsoneditor-right-margin{padding-right:24px}.jsoneditor-contextmenu .jsoneditor-separator{height:0;border-top:1px solid #e5e5e5;padding-top:5px;margin-top:5px}.jsoneditor-contextmenu button.jsoneditor-remove .jsoneditor-icon{background-position:-24px 0}.jsoneditor-contextmenu button.jsoneditor-append .jsoneditor-icon{background-position:0 0}.jsoneditor-contextmenu button.jsoneditor-insert .jsoneditor-icon{background-position:0 0}.jsoneditor-contextmenu button.jsoneditor-duplicate .jsoneditor-icon{background-position:-48px 0}.jsoneditor-contextmenu button.jsoneditor-sort-asc .jsoneditor-icon{background-position:-168px 0}.jsoneditor-contextmenu button.jsoneditor-sort-desc .jsoneditor-icon{background-position:-192px 0}.jsoneditor-contextmenu button.jsoneditor-transform .jsoneditor-icon{background-position:-216px 0}.jsoneditor-contextmenu button.jsoneditor-extract .jsoneditor-icon{background-position:0 -24px}.jsoneditor-contextmenu button.jsoneditor-type-string .jsoneditor-icon{background-position:-144px 0}.jsoneditor-contextmenu button.jsoneditor-type-auto .jsoneditor-icon{background-position:-120px 0}.jsoneditor-contextmenu button.jsoneditor-type-object .jsoneditor-icon{background-position:-72px 0}.jsoneditor-contextmenu button.jsoneditor-type-array .jsoneditor-icon{background-position:-96px 0}.jsoneditor-contextmenu button.jsoneditor-type-modes .jsoneditor-icon{background-image:none;width:6px}.jsoneditor-contextmenu ul,.jsoneditor-contextmenu li{box-sizing:content-box;position:relative}.jsoneditor-contextmenu .jsoneditor-menu button:hover,.jsoneditor-contextmenu .jsoneditor-menu button:focus{color:#1a1a1a;background-color:#f5f5f5;outline:0}.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected,.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:hover,.jsoneditor-contextmenu .jsoneditor-menu li button.jsoneditor-selected:focus{color:#fff;background-color:#ee422e}.jsoneditor-contextmenu .jsoneditor-menu li ul li button:hover,.jsoneditor-contextmenu .jsoneditor-menu li ul li button:focus{background-color:#f5f5f5}.jsoneditor-modal{max-width:95%;border-radius:2px !important;padding:45px 15px 15px 15px !important;box-shadow:2px 2px 12px rgba(128,128,128,0.3);color:#4d4d4d;line-height:1.3em}.jsoneditor-modal.jsoneditor-modal-transform{width:600px !important}.jsoneditor-modal .pico-modal-header{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;padding:0 10px;height:30px;line-height:30px;font-family:arial,sans-serif;font-size:11pt;background:#3883fa;color:#fff}.jsoneditor-modal table{width:100%}.jsoneditor-modal table td{padding:3px 0}.jsoneditor-modal table td.jsoneditor-modal-input{text-align:right;padding-right:0;white-space:nowrap}.jsoneditor-modal table td.jsoneditor-modal-actions{padding-top:15px}.jsoneditor-modal table th{vertical-align:middle}.jsoneditor-modal p:first-child{margin-top:0}.jsoneditor-modal a{color:#3883fa}.jsoneditor-modal .jsoneditor-jmespath-block{margin-bottom:10px}.jsoneditor-modal .pico-close{background:none !important;font-size:24px !important;top:7px !important;right:7px !important;color:#fff}.jsoneditor-modal input{padding:4px}.jsoneditor-modal input[type="text"]{cursor:inherit}.jsoneditor-modal input[disabled]{background:#d3d3d3;color:gray}.jsoneditor-modal .jsoneditor-select-wrapper{position:relative;display:inline-block}.jsoneditor-modal .jsoneditor-select-wrapper:after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #666;position:absolute;right:8px;top:14px;pointer-events:none}.jsoneditor-modal select{padding:3px 24px 3px 10px;min-width:180px;max-width:350px;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:0;text-overflow:"";font-size:10pt;line-height:1.5em}.jsoneditor-modal select::-ms-expand{display:none}.jsoneditor-modal .jsoneditor-button-group input{padding:4px 10px;margin:0;border-radius:0;border-left-style:none}.jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-first{border-top-left-radius:3px;border-bottom-left-radius:3px;border-left-style:solid}.jsoneditor-modal .jsoneditor-button-group input.jsoneditor-button-last{border-top-right-radius:3px;border-bottom-right-radius:3px}.jsoneditor-modal .jsoneditor-transform-preview{background:#f5f5f5;height:200px}.jsoneditor-modal .jsoneditor-transform-preview.jsoneditor-error{color:#ee422e}.jsoneditor-modal .jsoneditor-jmespath-wizard{line-height:1.2em;width:100%;padding:0;border-radius:3px}.jsoneditor-modal .jsoneditor-jmespath-label{font-weight:bold;color:dodgerblue;margin-top:20px;margin-bottom:5px}.jsoneditor-modal .jsoneditor-jmespath-wizard-table{width:100%;border-collapse:collapse}.jsoneditor-modal .jsoneditor-jmespath-wizard-label{font-style:italic;margin:4px 0 2px 0}.jsoneditor-modal .jsoneditor-inline{position:relative;display:inline-block;width:100%;padding-top:2px;padding-bottom:2px}.jsoneditor-modal .jsoneditor-inline:not(:last-child){padding-right:2px}.jsoneditor-modal .jsoneditor-jmespath-filter{display:flex;flex-wrap:wrap}.jsoneditor-modal .jsoneditor-jmespath-filter-field{width:180px}.jsoneditor-modal .jsoneditor-jmespath-filter-relation{width:100px}.jsoneditor-modal .jsoneditor-jmespath-filter-value{min-width:180px;flex:1}.jsoneditor-modal .jsoneditor-jmespath-sort-field{width:170px}.jsoneditor-modal .jsoneditor-jmespath-sort-order{width:150px}.jsoneditor-modal .jsoneditor-jmespath-select-fields{width:100%}.jsoneditor-modal .selectr-selected{border-color:#d3d3d3;padding:4px 28px 4px 8px}.jsoneditor-modal .selectr-selected .selectr-tag{background-color:#3883fa;border-radius:5px}.jsoneditor-modal table th,.jsoneditor-modal table td{text-align:left;vertical-align:middle;font-weight:normal;color:#4d4d4d;border-spacing:0;border-collapse:collapse}.jsoneditor-modal select,.jsoneditor-modal textarea,.jsoneditor-modal input,.jsoneditor-modal #query{background:#fff;border:1px solid #d3d3d3;color:#4d4d4d;border-radius:3px;padding:4px}.jsoneditor-modal,.jsoneditor-modal table td,.jsoneditor-modal table th,.jsoneditor-modal select,.jsoneditor-modal option,.jsoneditor-modal textarea,.jsoneditor-modal input,.jsoneditor-modal #query{font-size:10.5pt;font-family:arial,sans-serif}.jsoneditor-modal #query,.jsoneditor-modal .jsoneditor-transform-preview{font-family:"dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;font-size:10pt;width:100%;box-sizing:border-box}.jsoneditor-modal input[type="button"],.jsoneditor-modal input[type="submit"]{background:#f5f5f5;padding:4px 20px}.jsoneditor-modal select,.jsoneditor-modal input{cursor:pointer}.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-asc input.jsoneditor-button-asc,.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-desc input.jsoneditor-button-desc{background:#3883fa;border-color:#3883fa;color:#fff}.jsoneditor-menu{width:100%;height:35px;padding:2px;margin:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;background-color:#3883fa;border-bottom:1px solid #3883fa}.jsoneditor-menu>button,.jsoneditor-menu>.jsoneditor-modes>button{width:26px;height:26px;margin:2px;padding:0;border-radius:2px;border:1px solid transparent;background:transparent url('+r+");color:#fff;opacity:.8;font-family:arial,sans-serif;font-size:10pt;float:left}.jsoneditor-menu>button:hover,.jsoneditor-menu>.jsoneditor-modes>button:hover{background-color:rgba(255,255,255,0.2);border:1px solid rgba(255,255,255,0.4)}.jsoneditor-menu>button:focus,.jsoneditor-menu>button:active,.jsoneditor-menu>.jsoneditor-modes>button:focus,.jsoneditor-menu>.jsoneditor-modes>button:active{background-color:rgba(255,255,255,0.3)}.jsoneditor-menu>button:disabled,.jsoneditor-menu>.jsoneditor-modes>button:disabled{opacity:.5;background-color:transparent;border:0}.jsoneditor-menu>button.jsoneditor-collapse-all{background-position:0 -96px}.jsoneditor-menu>button.jsoneditor-expand-all{background-position:0 -120px}.jsoneditor-menu>button.jsoneditor-sort{background-position:-120px -96px}.jsoneditor-menu>button.jsoneditor-transform{background-position:-144px -96px}.jsoneditor.jsoneditor-mode-view>.jsoneditor-menu>button.jsoneditor-sort,.jsoneditor.jsoneditor-mode-form>.jsoneditor-menu>button.jsoneditor-sort,.jsoneditor.jsoneditor-mode-view>.jsoneditor-menu>button.jsoneditor-transform,.jsoneditor.jsoneditor-mode-form>.jsoneditor-menu>button.jsoneditor-transform{display:none}.jsoneditor-menu>button.jsoneditor-undo{background-position:-24px -96px}.jsoneditor-menu>button.jsoneditor-undo:disabled{background-position:-24px -120px}.jsoneditor-menu>button.jsoneditor-redo{background-position:-48px -96px}.jsoneditor-menu>button.jsoneditor-redo:disabled{background-position:-48px -120px}.jsoneditor-menu>button.jsoneditor-compact{background-position:-72px -96px}.jsoneditor-menu>button.jsoneditor-format{background-position:-72px -120px}.jsoneditor-menu>button.jsoneditor-repair{background-position:-96px -96px}.jsoneditor-menu>.jsoneditor-modes{display:inline-block;float:left}.jsoneditor-menu>.jsoneditor-modes>button{background-image:none;width:auto;padding-left:6px;padding-right:6px}.jsoneditor-menu>button.jsoneditor-separator,.jsoneditor-menu>.jsoneditor-modes>button.jsoneditor-separator{margin-left:10px}.jsoneditor-menu a{font-family:arial,sans-serif;font-size:10pt;color:#fff;opacity:.8;vertical-align:middle}.jsoneditor-menu a:hover{opacity:1}.jsoneditor-menu a.jsoneditor-poweredBy{font-size:8pt;position:absolute;right:0;top:0;padding:10px}.jsoneditor-search{font-family:arial,sans-serif;position:absolute;right:4px;top:4px;border-collapse:collapse;border-spacing:0;display:flex}.jsoneditor-search input{color:#1a1a1a;width:120px;border:0;outline:0;margin:1px;line-height:20px}.jsoneditor-search button{width:16px;height:24px;padding:0;margin:0;border:0;background:url("+r+');vertical-align:top}.jsoneditor-search button:hover{background-color:transparent}.jsoneditor-search button.jsoneditor-refresh{width:18px;background-position:-99px -73px}.jsoneditor-search button.jsoneditor-next{cursor:pointer;background-position:-124px -73px}.jsoneditor-search button.jsoneditor-next:hover{background-position:-124px -49px}.jsoneditor-search button.jsoneditor-previous{cursor:pointer;background-position:-148px -73px;margin-right:2px}.jsoneditor-search button.jsoneditor-previous:hover{background-position:-148px -49px}.jsoneditor-results{font-family:arial,sans-serif;color:#fff;padding-right:5px;line-height:26px}.jsoneditor-frame{border:1px solid transparent;background-color:#fff;padding:0 2px;margin:0}.jsoneditor .autocomplete.dropdown{position:absolute;background:#fff;box-shadow:2px 2px 12px rgba(128,128,128,0.3);border:1px solid #d3d3d3;z-index:100;overflow-x:hidden;overflow-y:auto;cursor:default;margin:0;padding:5px;text-align:left;outline:0;font-family:"dejavu sans mono","droid sans mono",consolas,monaco,"lucida console","courier new",courier,monospace,sans-serif;font-size:10pt}.jsoneditor .autocomplete.dropdown .item{color:#333}.jsoneditor .autocomplete.dropdown .item.hover{background-color:#ddd}.jsoneditor .autocomplete.hint{color:#aaa;top:4px;left:4px}.jsoneditor-treepath{padding:0 5px;overflow:hidden;white-space:nowrap;outline:0}.jsoneditor-treepath.show-all{word-wrap:break-word;white-space:normal;position:absolute;background-color:#ebebeb;z-index:999;box-shadow:2px 2px 12px rgba(128,128,128,0.3)}.jsoneditor-treepath.show-all span.jsoneditor-treepath-show-all-btn{display:none}.jsoneditor-treepath div.jsoneditor-contextmenu-root{position:absolute;left:0}.jsoneditor-treepath .jsoneditor-treepath-show-all-btn{position:absolute;background-color:#ebebeb;left:0;height:20px;padding:0 3px;cursor:pointer}.jsoneditor-treepath .jsoneditor-treepath-element{margin:1px;font-family:arial,sans-serif;font-size:10pt}.jsoneditor-treepath .jsoneditor-treepath-seperator{margin:2px;font-size:9pt;font-family:arial,sans-serif}.jsoneditor-treepath span.jsoneditor-treepath-element:hover,.jsoneditor-treepath span.jsoneditor-treepath-seperator:hover{cursor:pointer;text-decoration:underline}.jsoneditor-statusbar{line-height:26px;height:26px;color:gray;background-color:#ebebeb;border-top:1px solid #d3d3d3;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:10pt}.jsoneditor-statusbar>.jsoneditor-curserinfo-val{margin-right:12px}.jsoneditor-statusbar>.jsoneditor-curserinfo-count{margin-left:4px}.jsoneditor-statusbar>.jsoneditor-validation-error-icon{float:right;width:24px;height:24px;padding:0;margin-top:1px;background:url('+r+") -168px -48px;cursor:pointer}.jsoneditor-statusbar>.jsoneditor-validation-error-count{float:right;margin:0 4px 0 0;cursor:pointer}.jsoneditor-statusbar>.jsoneditor-parse-error-icon{float:right;width:24px;height:24px;padding:0;margin:1px;background:url("+r+") -25px 0}.jsoneditor-statusbar .jsoneditor-array-info a{color:inherit}div.jsoneditor-statusbar>.jsoneditor-curserinfo-label,div.jsoneditor-statusbar>.jsoneditor-size-info{margin:0 4px}.jsoneditor-navigation-bar{width:100%;height:26px;line-height:26px;padding:0;margin:0;border-bottom:1px solid #d3d3d3;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;color:gray;background-color:#ebebeb;overflow:hidden;font-family:arial,sans-serif;font-size:10pt}/*!\n * Selectr 2.4.0\n * https://github.com/Mobius1/Selectr\n *\n * Released under the MIT license\n */.selectr-container{position:relative}.selectr-container li{list-style:none}.selectr-hidden{position:absolute;overflow:hidden;clip:rect(0,0,0,0);width:1px;height:1px;margin:-1px;padding:0;border:0 none}.selectr-visible{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;z-index:11}.selectr-desktop.multiple .selectr-visible{display:none}.selectr-desktop.multiple.native-open .selectr-visible{top:100%;min-height:200px !important;height:auto;opacity:1;display:block}.selectr-container.multiple.selectr-mobile .selectr-selected{z-index:0}.selectr-selected{position:relative;z-index:1;box-sizing:border-box;width:100%;padding:7px 28px 7px 14px;cursor:pointer;border:1px solid #999;border-radius:3px;background-color:#fff}.selectr-selected::before{position:absolute;top:50%;right:10px;width:0;height:0;content:'';-o-transform:rotate(0) translate3d(0,-50%,0);-ms-transform:rotate(0) translate3d(0,-50%,0);-moz-transform:rotate(0) translate3d(0,-50%,0);-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0);border-width:4px 4px 0 4px;border-style:solid;border-color:#6c7a86 transparent transparent}.selectr-container.open .selectr-selected::before,.selectr-container.native-open .selectr-selected::before{border-width:0 4px 4px 4px;border-style:solid;border-color:transparent transparent #6c7a86}.selectr-label{display:none;overflow:hidden;width:100%;white-space:nowrap;text-overflow:ellipsis}.selectr-placeholder{color:#6c7a86}.selectr-tags{margin:0;padding:0;white-space:normal}.has-selected .selectr-tags{margin:0 0 -2px}.selectr-tag{list-style:none;position:relative;float:left;padding:2px 25px 2px 8px;margin:0 2px 2px 0;cursor:default;color:#fff;border:medium none;border-radius:10px;background:#acb7bf none repeat scroll 0 0}.selectr-container.multiple.has-selected .selectr-selected{padding:5px 28px 5px 5px}.selectr-options-container{position:absolute;z-index:10000;top:calc(100% - 1px);left:0;display:none;box-sizing:border-box;width:100%;border-width:0 1px 1px;border-style:solid;border-color:transparent #999 #999;border-radius:0 0 3px 3px;background-color:#fff}.selectr-container.open .selectr-options-container{display:block}.selectr-input-container{position:relative;display:none}.selectr-clear,.selectr-input-clear,.selectr-tag-remove{position:absolute;top:50%;right:22px;width:20px;height:20px;padding:0;cursor:pointer;-o-transform:translate3d(0,-50%,0);-ms-transform:translate3d(0,-50%,0);-moz-transform:translate3d(0,-50%,0);-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);border:medium none;background-color:transparent;z-index:11}.selectr-clear,.selectr-input-clear{display:none}.selectr-container.has-selected .selectr-clear,.selectr-input-container.active .selectr-input-clear{display:block}.selectr-selected .selectr-tag-remove{right:2px}.selectr-clear::before,.selectr-clear::after,.selectr-input-clear::before,.selectr-input-clear::after,.selectr-tag-remove::before,.selectr-tag-remove::after{position:absolute;top:5px;left:9px;width:2px;height:10px;content:' ';background-color:#6c7a86}.selectr-tag-remove::before,.selectr-tag-remove::after{top:4px;width:3px;height:12px;background-color:#fff}.selectr-clear:before,.selectr-input-clear::before,.selectr-tag-remove::before{-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.selectr-clear:after,.selectr-input-clear::after,.selectr-tag-remove::after{-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.selectr-input-container.active,.selectr-input-container.active .selectr-clear{display:block}.selectr-input{top:5px;left:5px;box-sizing:border-box;width:calc(100% - 30px);margin:10px 15px;padding:7px 30px 7px 9px;border:1px solid #999;border-radius:3px}.selectr-notice{display:none;box-sizing:border-box;width:100%;padding:8px 16px;border-top:1px solid #999;border-radius:0 0 3px 3px;background-color:#fff}.selectr-container.notice .selectr-notice{display:block}.selectr-container.notice .selectr-selected{border-radius:3px 3px 0 0}.selectr-options{position:relative;top:calc(100% + 2px);display:none;overflow-x:auto;overflow-y:scroll;max-height:200px;margin:0;padding:0}.selectr-container.open .selectr-options,.selectr-container.open .selectr-input-container,.selectr-container.notice .selectr-options-container{display:block}.selectr-option{position:relative;display:block;padding:5px 20px;list-style:outside none none;cursor:pointer;font-weight:normal}.selectr-options.optgroups>.selectr-option{padding-left:25px}.selectr-optgroup{font-weight:bold;padding:0}.selectr-optgroup--label{font-weight:bold;margin-top:10px;padding:5px 15px}.selectr-match{text-decoration:underline}.selectr-option.selected{background-color:#ddd}.selectr-option.active{color:#fff;background-color:#5897fb}.selectr-option.disabled{opacity:.4}.selectr-option.excluded{display:none}.selectr-container.open .selectr-selected{border-color:#999 #999 transparent #999;border-radius:3px 3px 0 0}.selectr-container.open .selectr-selected::after{-o-transform:rotate(180deg) translate3d(0,50%,0);-ms-transform:rotate(180deg) translate3d(0,50%,0);-moz-transform:rotate(180deg) translate3d(0,50%,0);-webkit-transform:rotate(180deg) translate3d(0,50%,0);transform:rotate(180deg) translate3d(0,50%,0)}.selectr-disabled{opacity:.6}.selectr-empty,.has-selected .selectr-placeholder{display:none}.has-selected .selectr-label{display:block}.taggable .selectr-selected{padding:4px 28px 4px 4px}.taggable .selectr-selected::after{display:table;content:\" \";clear:both}.taggable .selectr-label{width:auto}.taggable .selectr-tags{float:left;display:block}.taggable .selectr-placeholder{display:none}.input-tag{float:left;min-width:90px;width:auto}.selectr-tag-input{border:medium none;padding:3px 10px;width:100%;font-family:inherit;font-weight:inherit;font-size:inherit}.selectr-input-container.loading::after{position:absolute;top:50%;right:20px;width:20px;height:20px;content:'';-o-transform:translate3d(0,-50%,0);-ms-transform:translate3d(0,-50%,0);-moz-transform:translate3d(0,-50%,0);-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);-o-transform-origin:50% 0 0;-ms-transform-origin:50% 0 0;-moz-transform-origin:50% 0 0;-webkit-transform-origin:50% 0 0;transform-origin:50% 0 0;-moz-animation:500ms linear 0s normal forwards infinite running spin;-webkit-animation:500ms linear 0s normal forwards infinite running spin;animation:500ms linear 0s normal forwards infinite running spin;border-width:3px;border-style:solid;border-color:#aaa #ddd #ddd;border-radius:50%}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0)}100%{-webkit-transform:rotate(360deg) translate3d(0,-50%,0);transform:rotate(360deg) translate3d(0,-50%,0)}}@keyframes spin{0%{-webkit-transform:rotate(0) translate3d(0,-50%,0);transform:rotate(0) translate3d(0,-50%,0)}100%{-webkit-transform:rotate(360deg) translate3d(0,-50%,0);transform:rotate(360deg) translate3d(0,-50%,0)}}.selectr-container.open.inverted .selectr-selected{border-color:transparent #999 #999;border-radius:0 0 3px 3px}.selectr-container.inverted .selectr-options-container{border-width:1px 1px 0;border-color:#999 #999 transparent;border-radius:3px 3px 0 0;background-color:#fff}.selectr-container.inverted .selectr-options-container{top:auto;bottom:calc(100% - 1px)}.selectr-container ::-webkit-input-placeholder{color:#6c7a86;opacity:1}.selectr-container ::-moz-placeholder{color:#6c7a86;opacity:1}.selectr-container :-ms-input-placeholder{color:#6c7a86;opacity:1}.selectr-container ::placeholder{color:#6c7a86;opacity:1}\n",""])},Q1l4:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},QMMT:function(e,t,n){var r=n("a0xu"),i=n("UWiX")("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},QRi6:function(e,t){e.exports=function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,c=e.width/2,l=e.height/2;Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=0===s?0:l*a/s,r=l):(a<0&&(c=-c),n=c,r=0===a?0:c*s/a);return{x:i+n,y:o+r}}},QXhf:function(e,t,n){var r,i,o,a=n("2GTP"),s=n("MCSJ"),c=n("MvwC"),l=n("Hsns"),u=n("5T2Y"),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};d&&f||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete v[e]},"process"==n("a0xu")(h)?r=function(e){h.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:f}},QbLZ:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("P2sY"),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},QcOe:function(e,t,n){var r=n("GoyQ"),i=n("6sVZ"),o=n("7Ix3"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},Qfp6:function(e,t,n){"use strict";var r,i,o,a=n("fqyn"),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){o=!1}function l(e){if(e){if(e!==r){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));r=e,c()}}else r!==s&&(r=s,c())}function u(){return o||(o=function(){r||l(s);for(var e,t=r.split(""),n=[],i=a.nextValue();t.length>0;)i=a.nextValue(),e=Math.floor(i*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return r||s},characters:function(e){return l(e),r},seed:function(e){a.seed(e),i!==e&&(c(),i=e)},lookup:function(e){return u()[e]},shuffled:u}},QkVE:function(e,t,n){var r=n("EpBk");e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ")((function(e,t,n){r(e,t,n)}));e.exports=i},QoRX:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),c=n("NykK"),l=n("3Fdi"),u=l(r),h=l(i),d=l(o),f=l(a),p=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case h:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},Qs34:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ANCHOR_MODE",(function(){return ke})),n.d(t,"ControlsManager",(function(){return Ie})),n.d(t,"DEFAULT_HANDLE_GROUP_NAME",(function(){return Me})),n.d(t,"Pick",(function(){return R})),n.d(t,"PickPlane",(function(){return L})),n.d(t,"PickPlaneGroup",(function(){return M})),n.d(t,"RAYCASTER_EVENTS",(function(){return Fe})),n.d(t,"Rotation",(function(){return P})),n.d(t,"RotationGroup",(function(){return A})),n.d(t,"Translation",(function(){return k})),n.d(t,"TranslationGroup",(function(){return C}));var r=n("Womt"),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a,s=1,c=32,l=.75,u=.3,h=.1,d=.75,f=.75,p=32,m=64,g=1;!function(e){e[e.ACTIVE=.75]="ACTIVE",e[e.INACTIVE=.3]="INACTIVE"}(a||(a={}));var v=.5,y="#f0ff00",b="#f0ff00",w="#f0ff00",x=1,_=function(e){function t(t){var n=e.call(this)||this;return n.geometry=new r.ConeGeometry(u,l,c),n.material=new r.MeshBasicMaterial({color:t,depthTest:!1}),n.material.transparent=!0,n.material.opacity=x,n}return o(t,e),t}(r.Mesh),E=function(e){function t(t,n){var i=e.call(this)||this;return i.geometry=n,i.material=new r.MeshBasicMaterial({color:t,depthTest:!0}),i.material.transparent=!0,i.material.opacity=x,i}return o(t,e),t}(r.LineLoop),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r.Group),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(S),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(S),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(S),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(S),k=function(e){function t(t){void 0===t&&(t=y);var n=e.call(this)||this;n.parallel=new r.Vector3(0,1,0),n.getInteractiveObjects=function(){return[n.cone]},n.setColor=function(e){var t=n.cone.material,r=n.line.material;t.color.set(e),r.color.set(e)},n.cone=new _(t);var i=new r.Geometry;return i.vertices.push(new r.Vector3(0,0,0)),i.vertices.push(new r.Vector3(0,s,0)),n.line=new E(t,i),n.cone.geometry.scale(u,l,u),n.cone.translateY(s),n.add(n.cone),n.add(n.line),n}return o(t,e),t}(C),O=function(e){function t(t){var n=e.call(this)||this;return n.geometry=new r.OctahedronBufferGeometry(h,0),n.material=new r.MeshBasicMaterial({color:t,depthTest:!1,transparent:!0,side:r.DoubleSide}),n}return o(t,e),t}(r.Mesh),P=function(e){function t(t,n){void 0===t&&(t=b),void 0===n&&(n=g);var i=e.call(this)||this;i.getInteractiveObjects=function(){return[i.handlebar]},i.setColor=function(e){var t=i.ring.material,n=i.handlebar.material;t.color.set(e),n.color.set(e)};for(var o=m,a=new r.Geometry,s=2*Math.PI/o,c=1;c<o+1;c++)a.vertices.push(new r.Vector3(n*Math.cos(c*s),n*Math.sin(c*s),0));return i.ring=new E(t,a),i.handlebar=new O(t),i.handlebar.position.y=n,i.add(i.ring),i.add(i.handlebar),i}return o(t,e),t}(A),R=function(e){function t(){var t=e.call(this)||this;return t.getInteractiveObjects=function(){return[t.octahedron]},t.setColor=function(e){t.octahedron.material.color.set(e)},t.octahedron=new O("white"),t.add(t.octahedron),t}return o(t,e),t}(T),F=function(e){function t(t){void 0===t&&(t=b);var n=e.call(this)||this;return n.geometry=new r.PlaneGeometry(d,f,p),n.material=new r.MeshBasicMaterial({color:t,depthTest:!1,side:r.DoubleSide,transparent:!0}),n.material.opacity=a.INACTIVE,n}return o(t,e),t}(r.Mesh),L=function(e){function t(t){void 0===t&&(t=w);var n=e.call(this)||this;n.getInteractiveObjects=function(){return[n.plane]},n.setColor=function(e){var t=n.plane.material,r=n.boundary.material;t.color.set(e),r.color.set(e)};var i=new r.Geometry,o=new r.Geometry,a=new r.Geometry,s=d/2,c=f/2;return i.vertices.push(new r.Vector3(s,c,0)),i.vertices.push(new r.Vector3(s,-c,0)),i.vertices.push(new r.Vector3(-s,-c,0)),i.vertices.push(new r.Vector3(-s,c,0)),o.vertices.push(new r.Vector3(0,c,0)),o.vertices.push(new r.Vector3(0,-c,0)),a.vertices.push(new r.Vector3(-s,0,0)),a.vertices.push(new r.Vector3(s,0,0)),n.boundary=new E(t,i),n.crossX=new E("black",o),n.crossY=new E("black",a),n.plane=new F(t),n.add(n.plane),n.add(n.boundary),n.add(n.crossX),n.add(n.crossY),n}return o(t,e),t}(M),D=function(e){function t(t){void 0===t&&(t=b);var n=e.call(this,t,1.25)||this;return n.camera=null,n.controlsWorldOrientation=new r.Quaternion,n._temp1=new r.Vector3,n._temp2=new r.Vector3,n._temp3=new r.Quaternion,n.worldPosition=new r.Vector3,n}return o(t,e),t.prototype.updateMatrixWorld=function(t){null!==this.camera&&null!==this.parent&&(this.parent.matrixWorld.decompose(this._temp1,this.controlsWorldOrientation,this._temp2),this.matrixWorld.decompose(this.worldPosition,this._temp3,this._temp2),this.camera.getWorldQuaternion(this.quaternion).premultiply(this.controlsWorldOrientation.inverse()),this.camera.getWorldPosition(this.up).sub(this.worldPosition)),e.prototype.updateMatrixWorld.call(this,t)},t}(P),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var N="Expected a function",I="__lodash_hash_undefined__",B=1/0,z="[object Function]",U="[object GeneratorFunction]",H="[object Symbol]",V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,$=/^\./,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/\\(\\)?/g,Y=/^\[object .+?Constructor\]$/,X="object"==typeof j&&j&&j.Object===Object&&j,K="object"==typeof self&&self&&self.Object===Object&&self,Z=X||K||Function("return this")();var J,Q=Array.prototype,ee=Function.prototype,te=Object.prototype,ne=Z["__core-js_shared__"],re=(J=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",ie=ee.toString,oe=te.hasOwnProperty,ae=te.toString,se=RegExp("^"+ie.call(oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=Z.Symbol,le=Q.splice,ue=xe(Z,"Map"),he=xe(Object,"create"),de=ce?ce.prototype:void 0,fe=de?de.toString:void 0;function pe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function ye(e,t){for(var n,r=0,i=(t=function(e,t){if(Ce(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||Te(e))return!0;return W.test(e)||!V.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:Ce(n=t)?n:_e(n)).length;null!=e&&r<i;)e=e[Ee(t[r++])];return r&&r==i?e:void 0}function be(e){return!(!Ae(e)||(t=e,re&&re in t))&&(function(e){var t=Ae(e)?ae.call(e):"";return t==z||t==U}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?se:Y).test(function(e){if(null!=e){try{return ie.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function we(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return be(n)?n:void 0}pe.prototype.clear=function(){this.__data__=he?he(null):{}},pe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},pe.prototype.get=function(e){var t=this.__data__;if(he){var n=t[e];return n===I?void 0:n}return oe.call(t,e)?t[e]:void 0},pe.prototype.has=function(e){var t=this.__data__;return he?void 0!==t[e]:oe.call(t,e)},pe.prototype.set=function(e,t){return this.__data__[e]=he&&void 0===t?I:t,this},me.prototype.clear=function(){this.__data__=[]},me.prototype.delete=function(e){var t=this.__data__,n=ve(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},me.prototype.get=function(e){var t=this.__data__,n=ve(t,e);return n<0?void 0:t[n][1]},me.prototype.has=function(e){return ve(this.__data__,e)>-1},me.prototype.set=function(e,t){var n=this.__data__,r=ve(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},ge.prototype.clear=function(){this.__data__={hash:new pe,map:new(ue||me),string:new pe}},ge.prototype.delete=function(e){return we(this,e).delete(e)},ge.prototype.get=function(e){return we(this,e).get(e)},ge.prototype.has=function(e){return we(this,e).has(e)},ge.prototype.set=function(e,t){return we(this,e).set(e,t),this};var _e=Se((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Te(e))return fe?fe.call(e):"";var t=e+"";return"0"==t&&1/e==-B?"-0":t}(t);var n=[];return $.test(e)&&n.push(""),e.replace(G,(function(e,t,r,i){n.push(r?i.replace(q,"$1"):t||e)})),n}));function Ee(e){if("string"==typeof e||Te(e))return e;var t=e+"";return"0"==t&&1/e==-B?"-0":t}function Se(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(N);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Se.Cache||ge),n}Se.Cache=ge;var Ce=Array.isArray;function Ae(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&ae.call(e)==H}var Me,ke,Oe=function(e,t,n){var r=null==e?void 0:ye(e,t);return void 0===r?n:r};!function(e){e.XPT="xpt_handle",e.YPT="ypt_handle",e.ZPT="zpt_handle",e.XNT="xnt_handle",e.YNT="ynt_handle",e.ZNT="znt_handle",e.XR="xr_handle",e.YR="yr_handle",e.ZR="zr_handle",e.ER="er_handle",e.PICK="pick_handle",e.PICK_PLANE_XY="pick_plane_xy_handle",e.PICK_PLANE_YZ="pick_plane_yz_handle",e.PICK_PLANE_ZX="pick_plane_zx_handle"}(Me||(Me={})),function(e){e.FIXED="fixed",e.INHERIT="inherit"}(ke||(ke={}));var Pe=function(e){function t(t,n,i){var o=e.call(this)||this;if(o.object=t,o.camera=n,o.handleTargetQuaternion=new r.Quaternion,o.objectWorldPosition=new r.Vector3,o.objectTargetPosition=new r.Vector3,o.objectTargetQuaternion=new r.Quaternion,o.objectParentWorldPosition=new r.Vector3,o.objectParentWorldQuaternion=new r.Quaternion,o.objectParentWorldScale=new r.Vector3,o.deltaPosition=new r.Vector3,o.normalizedHandleParallelVectorCache=new r.Vector3,o.touch1=new r.Vector3,o.touch2=new r.Vector3,o.minBox=new r.Vector3,o.maxBox=new r.Vector3,o.dragStartPoint=new r.Vector3,o.dragIncrementalStartPoint=new r.Vector3,o.handleNamesMap={},o.isBeingDraggedTranslation=!1,o.isBeingDraggedRotation=!1,o.isDampingEnabled=!0,o.dampingFactor=.8,o.initialSelfQuaternion=new r.Quaternion,o.setupDefaultPickPlane=function(){o.pickPlaneXY.name=Me.PICK_PLANE_XY,o.pickPlaneYZ.name=Me.PICK_PLANE_YZ,o.pickPlaneZX.name=Me.PICK_PLANE_ZX,o.pickPlaneYZ.up=new r.Vector3(1,0,0),o.pickPlaneZX.up=new r.Vector3(0,1,0),o.pickPlaneXY.up=new r.Vector3(0,0,1),o.pickPlaneYZ.rotateY(Math.PI/2),o.pickPlaneZX.rotateX(Math.PI/2),o.handleNamesMap[o.pickPlaneXY.name]=o.pickPlaneXY,o.handleNamesMap[o.pickPlaneYZ.name]=o.pickPlaneYZ,o.handleNamesMap[o.pickPlaneZX.name]=o.pickPlaneZX,o.add(o.pickPlaneXY),o.add(o.pickPlaneYZ),o.add(o.pickPlaneZX)},o.setupHandle=function(e){if(void 0!==o.handleNamesMap[e.name])throw new Error("handle with this name already exists!");o.handleNamesMap[e.name]=e,o.add(e)},o.setupDefaultPick=function(){o.pick.name=Me.PICK,o.handleNamesMap[o.pick.name]=o.pick,o.add(o.pick)},o.setupDefaultEyeRotation=function(){o.rotationEye.name=Me.ER,o.handleNamesMap[o.rotationEye.name]=o.rotationEye,o.rotationEye.camera=o.camera,o.add(o.rotationEye)},o.setupDefaultTranslation=function(){o.translationXP.name=Me.XPT,o.translationYP.name=Me.YPT,o.translationZP.name=Me.ZPT,o.translationXN.name=Me.XNT,o.translationYN.name=Me.YNT,o.translationZN.name=Me.ZNT,o.translationXP.translateX(o.maxBox.x),o.translationYP.translateY(o.maxBox.y),o.translationZP.translateZ(o.maxBox.z),o.translationXN.translateX(o.minBox.x),o.translationYN.translateY(o.minBox.y),o.translationZN.translateZ(o.minBox.z),o.translationXP.rotateZ(-Math.PI/2),o.translationZP.rotateX(Math.PI/2),o.translationXN.rotateZ(Math.PI/2),o.translationYN.rotateX(Math.PI),o.translationZN.rotateX(-Math.PI/2),o.translationXP.up=new r.Vector3(0,1,0),o.translationYP.up=new r.Vector3(0,0,1),o.translationZP.up=new r.Vector3(0,1,0),o.translationXN.up=new r.Vector3(0,-1,0),o.translationYN.up=new r.Vector3(0,0,-1),o.translationZN.up=new r.Vector3(0,-1,0),o.translationXP.parallel=new r.Vector3(1,0,0),o.translationYP.parallel=new r.Vector3(0,1,0),o.translationZP.parallel=new r.Vector3(0,0,1),o.translationXN.parallel=new r.Vector3(-1,0,0),o.translationYN.parallel=new r.Vector3(0,-1,0),o.translationZN.parallel=new r.Vector3(0,0,-1),o.handleNamesMap[o.translationXP.name]=o.translationXP,o.handleNamesMap[o.translationYP.name]=o.translationYP,o.handleNamesMap[o.translationZP.name]=o.translationZP,o.handleNamesMap[o.translationXN.name]=o.translationXN,o.handleNamesMap[o.translationYN.name]=o.translationYN,o.handleNamesMap[o.translationZN.name]=o.translationZN,o.add(o.translationXP),o.add(o.translationYP),o.add(o.translationZP),o.add(o.translationXN),o.add(o.translationYN),o.add(o.translationZN)},o.setupDefaultRotation=function(){o.rotationX.name=Me.XR,o.rotationY.name=Me.YR,o.rotationZ.name=Me.ZR,o.rotationX.up=new r.Vector3(1,0,0),o.rotationY.up=new r.Vector3(0,1,0),o.rotationZ.up=new r.Vector3(0,0,1),o.rotationX.rotateY(Math.PI/2),o.rotationX.rotateZ(Math.PI),o.rotationY.rotateX(Math.PI/2),o.handleNamesMap[o.rotationX.name]=o.rotationX,o.handleNamesMap[o.rotationY.name]=o.rotationY,o.handleNamesMap[o.rotationZ.name]=o.rotationZ,o.add(o.rotationX),o.add(o.rotationY),o.add(o.rotationZ)},o.computeObjectBounds=function(){if(void 0!==o.options.separationT){var e=o.options.separationT,t=e.x,n=e.y,i=e.z;o.minBox.copy(new r.Vector3(-t,-n,-i)),o.maxBox.copy(new r.Vector3(t,n,i))}else if("Mesh"===o.object.type){var a=o.object.geometry;a.computeBoundingBox();var s=a.boundingBox,c=s.min,l=s.max;o.minBox.copy(c),o.maxBox.copy(l),o.minBox.addScalar(-v),o.maxBox.addScalar(v)}else o.minBox.copy(new r.Vector3(-1,-1,-1)),o.maxBox.copy(new r.Vector3(1,1,1))},o.processDragStart=function(e){var t=e.point,n=e.handle;o.dragStartPoint.copy(t),o.dragIncrementalStartPoint.copy(t),o.isBeingDraggedTranslation=n instanceof C||n instanceof T||n instanceof M,o.isBeingDraggedRotation=n instanceof A},o.setDampingFactor=function(e){return void 0===e&&(e=0),o.dampingFactor=r.Math.clamp(e,0,1)},o.processHandle=function(e){var t=e.point,n=e.handle,r=e.dragRatio,i=void 0===r?1:r,a=Math.exp(-o.dampingFactor*Math.abs(Math.pow(i,3)));if(n instanceof C){o.deltaPosition.copy(t).sub(o.dragIncrementalStartPoint),o.normalizedHandleParallelVectorCache.copy(n.parallel.normalize()).applyQuaternion(o.quaternion);var s=o.deltaPosition.dot(o.normalizedHandleParallelVectorCache);o.deltaPosition.copy(o.normalizedHandleParallelVectorCache).multiplyScalar(o.isDampingEnabled?a*s:s),o.position.add(o.deltaPosition)}else n instanceof T||n instanceof M?(o.deltaPosition.copy(t).sub(o.dragIncrementalStartPoint).multiplyScalar(o.isDampingEnabled?a:1),o.position.add(o.deltaPosition)):(o.touch1.copy(o.dragIncrementalStartPoint).sub(o.objectWorldPosition).normalize(),o.touch2.copy(t).sub(o.objectWorldPosition).normalize(),o.handleTargetQuaternion.setFromUnitVectors(o.touch1,o.touch2),o.attachMode===ke.FIXED&&o.detachHandleUpdateQuaternionAttach(n,o.handleTargetQuaternion));o.objectTargetQuaternion.premultiply(o.handleTargetQuaternion),o.dragIncrementalStartPoint.copy(t)},o.detachObjectUpdatePositionAttach=function(e,t){if(null!==e&&null!==o.parent&&null!==o.parent.parent){var n=o.parent.parent;if("Scene"!==n.type)throw new Error("freeform controls must be attached to the scene");n.attach(t),t.position.copy(o.objectTargetPosition),e.attach(t)}},o.detachHandleUpdateQuaternionAttach=function(e,t){if(null!==o.parent&&o.parent.parent){var n=o.parent.parent;if("Scene"!==n.type)throw new Error("freeform controls must be attached to the scene");n.attach(e),e.applyQuaternion(t),o.attach(e)}},o.showByNames=function(e,t){void 0===t&&(t=!0),e.map((function(e){var n=o.handleNamesMap[e];if(void 0===n)throw new Error("handle: "+e+" not found");n.visible=t}))},o.showAll=function(e){void 0===e&&(e=!0),Object.values(o.handleNamesMap).map((function(t){t.visible=e}))},o.updateMatrixWorld=function(t){o.object.updateMatrixWorld(t),o.object.getWorldPosition(o.objectWorldPosition);var n=o.object.parent;null!==n&&n.matrixWorld.decompose(o.objectParentWorldPosition,o.objectParentWorldQuaternion,o.objectParentWorldScale),o.objectParentWorldQuaternion.inverse(),o.objectTargetPosition.copy(o.position),o.objectTargetQuaternion.premultiply(o.objectParentWorldQuaternion),o.isBeingDraggedTranslation?o.detachObjectUpdatePositionAttach(n,o.object):o.isBeingDraggedRotation?(o.object.quaternion.copy(o.objectTargetQuaternion),o.detachObjectUpdatePositionAttach(n,o.object)):o.position.copy(o.objectWorldPosition),o.object.getWorldQuaternion(o.objectTargetQuaternion),o.attachMode!==ke.INHERIT||o.isBeingDraggedTranslation||o.quaternion.copy(o.initialSelfQuaternion).premultiply(o.objectTargetQuaternion),e.prototype.updateMatrixWorld.call(o,t)},o.options=i||{},o.attachMode=Oe(o.options,"mode",ke.FIXED),o.hideOtherHandlesOnSelect=Oe(o.options,"hideOtherHandlesOnSelect",!0),o.hideOtherControlsInstancesOnSelect=Oe(o.options,"hideOtherControlsInstancesOnSelect",!0),o.showHelperPlane=Oe(o.options,"showHelperPlane",!1),void 0!==o.options.orientation){var a=o.options.orientation,s=a.x,c=a.y,l=a.z,u=a.w;o.initialSelfQuaternion.set(s,c,l,u).normalize(),o.quaternion.copy(o.initialSelfQuaternion)}return o.computeObjectBounds(),o.pick=new R,o.pickPlaneXY=new L("yellow"),o.pickPlaneYZ=new L("cyan"),o.pickPlaneZX=new L("pink"),o.translationXP=new k("red"),o.translationYP=new k("green"),o.translationZP=new k("blue"),o.translationXN=new k("red"),o.translationYN=new k("green"),o.translationZN=new k("blue"),o.rotationX=new P("red"),o.rotationY=new P("green"),o.rotationZ=new P("blue"),o.rotationEye=new D("yellow"),o.setupDefaultTranslation(),o.setupDefaultRotation(),o.setupDefaultEyeRotation(),o.setupDefaultPickPlane(),o.setupDefaultPick(),o}return o(t,e),t.prototype.getInteractiveObjects=function(){var e=Object.values(this.handleNamesMap),t=[];return e.map((function(e){e.visible&&t.push.apply(t,e.getInteractiveObjects())})),t},t}(r.Group),Re=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){(e.exports=function(){this.events={}}).prototype={emit:function(e){var t=[].slice.call(arguments,1);[].slice.call(this.events[e]||[]).filter((function(e){e.apply(null,t)}))},on:function(e,t){return(this.events[e]=this.events[e]||[]).push(t),function(){this.events[e]=this.events[e].filter((function(e){return e!==t}))}.bind(this)}}}));var Fe,Le=function(e){e.events={}},De=new Re,je=function(){return Le(De)};!function(e){e.DRAG_START="DRAG_START",e.DRAG="DRAG",e.DRAG_STOP="DRAG_STOP"}(Fe||(Fe={}));var Ne=function(e){function t(t,n,i){var o=e.call(this)||this;return o.camera=t,o.domElement=n,o.controls=i,o.mouse=new r.Vector2,o.cameraPosition=new r.Vector3,o.activeHandle=null,o.activePlane=null,o.point=new r.Vector3,o.normal=new r.Vector3,o.visibleHandles=[],o.visibleControls=[],o.helperPlane=new F("yellow"),o.controlsWorldQuaternion=new r.Quaternion,o.activeHandleWorldQuaternion=new r.Quaternion,o.clientDiagonalLength=1,o.previousScreenPoint=new r.Vector2,o.currentScreenPoint=new r.Vector2,o.mouseDownListener=function(e){o.setRayDirection(e),o.clientDiagonalLength=Math.sqrt(Math.pow(e.target.clientWidth,2)+Math.pow(e.target.clientHeight,2)),o.previousScreenPoint.set(e.clientX,e.clientY);var t=[];if(Object.values(o.controls).map((function(e){t.push.apply(t,e.getInteractiveObjects())})),o.activeHandle=o.resolveHandleGroup(o.intersectObjects(t,!0)[0]),null!==o.activeHandle&&null!==o.activeHandle.parent){o.activePlane=new r.Plane;var n=o.activeHandle.parent;if(n.getWorldQuaternion(o.controlsWorldQuaternion),o.normal.copy(o.activeHandle instanceof T?o.getEyePlaneNormal(o.activeHandle):o.activeHandle.up),o.activeHandle instanceof D||o.activeHandle instanceof T||o.normal.applyQuaternion(o.controlsWorldQuaternion),n.hideOtherControlsInstancesOnSelect&&(Object.values(o.controls).forEach((function(e){e.visible&&o.visibleControls.push(e),e.visible=!1})),n.visible=!0),n.hideOtherHandlesOnSelect&&(n.children.map((function(e){e.visible&&o.visibleHandles.push(e),e.visible=!1})),o.activeHandle.visible=!0),n.showHelperPlane&&!(o.activeHandle instanceof R||o.activeHandle instanceof L)){var i=n.parent;o.helperPlane.position.copy(n.position),o.activeHandle.getWorldQuaternion(o.helperPlane.quaternion),i.add(o.helperPlane)}o.activeHandle instanceof L&&o.setPickPlaneOpacity(a.ACTIVE),o.activePlane.setFromNormalAndCoplanarPoint(o.normal,n.position);var s=new r.Vector3;o.activeHandle instanceof T?o.activeHandle.getWorldPosition(s):o.ray.intersectPlane(o.activePlane,s),o.domElement.removeEventListener("mousedown",o.mouseDownListener),De.emit(Fe.DRAG_START,{point:s,handle:o.activeHandle}),o.domElement.addEventListener("mousemove",o.mouseMoveListener,!1)}else o.activePlane=null},o.getEyePlaneNormal=function(e){return o.cameraPosition.copy(o.camera.position),o.cameraPosition.sub(e.position)},o.setRayDirection=function(e){var t=o.domElement.getBoundingClientRect(),n=o.domElement,r=n.clientHeight,i=n.clientWidth;o.mouse.x=(e.clientX-t.left)/i*2-1,o.mouse.y=-(e.clientY-t.top)/r*2+1,o.setFromCamera(o.mouse,o.camera)},o.mouseMoveListener=function(e){if(null!==o.activeHandle&&null!==o.activePlane){o.activeHandle.getWorldQuaternion(o.activeHandleWorldQuaternion),o.helperPlane.quaternion.copy(o.activeHandleWorldQuaternion),o.setRayDirection(e),o.ray.intersectPlane(o.activePlane,o.point),o.currentScreenPoint.set(e.clientX,e.clientY);var t=o.currentScreenPoint.distanceTo(o.previousScreenPoint)/(o.clientDiagonalLength||1);De.emit(Fe.DRAG,{point:o.point,handle:o.activeHandle,dragRatio:t}),o.previousScreenPoint.set(e.clientX,e.clientY)}},o.mouseUpListener=function(){(o.domElement.removeEventListener("mousemove",o.mouseMoveListener),o.domElement.addEventListener("mousedown",o.mouseDownListener,!1),De.emit(Fe.DRAG_STOP,{point:o.point,handle:o.activeHandle}),null!==o.activeHandle&&null!==o.activeHandle.parent&&o.activeHandle.parent.hideOtherControlsInstancesOnSelect&&(o.visibleControls.forEach((function(e){e.visible=!0})),o.visibleControls=[]),null!==o.activeHandle&&null!==o.activeHandle.parent&&o.activeHandle.parent.hideOtherHandlesOnSelect&&(o.visibleHandles.forEach((function(e){e.visible=!0})),o.visibleHandles=[]),o.activeHandle instanceof L&&o.setPickPlaneOpacity(a.INACTIVE),null!==o.activeHandle&&null!==o.activeHandle.parent&&o.activeHandle.parent.showHelperPlane)&&o.activeHandle.parent.parent.remove(o.helperPlane);o.activeHandle=null,o.activePlane=null},o.resolveHandleGroup=function(e){return void 0===e?null:e.object.parent},o.destroy=function(){o.activePlane=null,o.activeHandle=null,o.domElement.removeEventListener("mousedown",o.mouseDownListener),o.domElement.removeEventListener("mousemove",o.mouseMoveListener),o.domElement.removeEventListener("mouseup",o.mouseUpListener)},o.domElement.addEventListener("mousedown",o.mouseDownListener,!1),o.domElement.addEventListener("mouseup",o.mouseUpListener,!1),o}return o(t,e),t.prototype.setPickPlaneOpacity=function(e){if(this.activeHandle instanceof L){var t=this.activeHandle.plane.material;Array.isArray(t)?t.map((function(t){t.opacity=e,t.needsUpdate=!0})):(t.opacity=e,t.needsUpdate=!0)}},t}(r.Raycaster),Ie=function(e){function t(t,n){var i,o=e.call(this)||this;return o.camera=t,o.domElement=n,o.objects={},o.controls={},o.eventListeners=((i={})[Fe.DRAG_START]=[],i[Fe.DRAG]=[],i[Fe.DRAG_STOP]=[],i),o.listenToEvents=function(){De.on(Fe.DRAG_START,(function(e){var t=e.point,n=e.handle;if(null!==n){var r=n.parent;null!==r&&(r.processDragStart({point:t,handle:n}),o.eventListeners[Fe.DRAG_START].map((function(e){e(r.object,n.name)})))}})),De.on(Fe.DRAG,(function(e){var t=e.point,n=e.handle,r=e.dragRatio;if(null!==n){var i=n.parent;null!==i&&(i.processHandle({point:t,handle:n,dragRatio:r}),o.eventListeners[Fe.DRAG].map((function(e){e(i.object,n.name)})))}})),De.on(Fe.DRAG_STOP,(function(e){var t=e.handle;if(null!==t){var n=t.parent;null!==n&&(n.isBeingDraggedTranslation=!1,n.isBeingDraggedRotation=!1,o.eventListeners[Fe.DRAG_STOP].map((function(e){e(n.object,t.name)})))}}))},o.anchor=function(e,t){var n=o.addControls(e,t);return o.objects[e.id]=e,n},o.detach=function(e,t){if(!o.objects.hasOwnProperty(e.id))throw new Error("object should be attached first");o.remove(t),o.eventListeners[Fe.DRAG_STOP].map((function(e){e(t.object,null)})),o.dispose(t),delete o.objects[e.id],delete o.controls[t.id]},o.addControls=function(e,t){var n=new Pe(e,o.camera,t);return o.controls[n.id]=n,o.add(n),n},o.listen=function(e,t){o.eventListeners[e].push(t)},o.removeListen=function(e,t){var n=o.eventListeners[e].findIndex(t);-1!==n&&o.eventListeners[e].splice(n,1)},o.dispose=function(e){for(e instanceof r.Mesh&&(e.geometry.dispose(),Array.isArray(e.material)?e.material.map((function(e){return e.dispose()})):e.material.dispose());e.children.length>0;)e.children.map((function(t){o.dispose(t),e.remove(t)}))},o.destroy=function(){var e;je();var t=o.parent;null!==t&&t.remove(o),o.dispose(o),Object.values(o.controls).map((function(e){o.dispose(e)})),o.eventListeners[Fe.DRAG_STOP].map((function(e){e(null,null)})),o.rayCaster.destroy(),o.objects={},o.controls={},o.eventListeners=((e={})[Fe.DRAG_START]=[],e[Fe.DRAG]=[],e[Fe.DRAG_STOP]=[],e)},o.rayCaster=new Ne(o.camera,o.domElement,o.controls),o.listenToEvents(),o}return o(t,e),t}(r.Object3D)}.call(this,n("yLpj"))},"R+7+":function(e,t,n){var r=n("w6GO"),i=n("mqlF"),o=n("NV0k");e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),o=n("CZoQ");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},R5Y4:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=r(n((t-e)/(i||1)),0),c=Array(s);s--;)c[o?s:++a]=e,e+=i;return c}},RBan:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},RDmV:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},RELg:function(e,t,n){var r=n("MFOe").Global;e.exports={name:"oldIE-userDataStorage",write:function(e,t){if(s)return;var n=l(e);a((function(e){e.setAttribute(n,t),e.save(i)}))},read:function(e){if(s)return;var t=l(e),n=null;return a((function(e){n=e.getAttribute(t)})),n},each:function(e){a((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}}))},remove:function(e){var t=l(e);a((function(e){e.removeAttribute(t),e.save(i)}))},clearAll:function(){a((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)}))}};var i="storejs",o=r.document,a=function(){if(!o||!o.documentElement||!o.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(t){n=o.createElement("div"),e=o.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(i),t.apply(this,r),e.removeChild(n)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function l(e){return e.replace(/^\d/,"___$&").replace(c,"___")}},"RF+X":function(e,t){function n(e,t){return e*t>0}e.exports=function(e,t,r,i){var o,a,s,c,l,u,h,d,f,p,m,g,v;if(o=t.y-e.y,s=e.x-t.x,l=t.x*e.y-e.x*t.y,f=o*r.x+s*r.y+l,p=o*i.x+s*i.y+l,0!==f&&0!==p&&n(f,p))return;if(a=i.y-r.y,c=r.x-i.x,u=i.x*r.y-r.x*i.y,h=a*e.x+c*e.y+u,d=a*t.x+c*t.y+u,0!==h&&0!==d&&n(h,d))return;if(0===(m=o*c-a*s))return;return g=Math.abs(m/2),{x:(v=s*u-c*l)<0?(v-g)/m:(v+g)/m,y:(v=a*l-o*u)<0?(v-g)/m:(v+g)/m}}},RSXs:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("ZONP"),o=n("3GlI"),a=n("KJAg");e.exports=function(e,t,n){var h,d,f,p,m,g=this.options,v=g.commonmark,y=g.gfm,b=this.blockTokenizers,w=this.interruptParagraph,x=t.indexOf(s),_=t.length;for(;x<_;){if(-1===x){x=_;break}if(t.charAt(x+1)===s)break;if(v){for(p=0,h=x+1;h<_;){if((f=t.charAt(h))===c){p=u;break}if(f!==l)break;p++,h++}if(p>=u){x=t.indexOf(s,x+1);continue}}if(d=t.slice(x+1),a(w,b,this,[e,d,!0]))break;if(b.list.call(this,e,d,!0)&&(this.inList||v||y&&!i(r.left(d).charAt(0))))break;if(h=x,-1!==(x=t.indexOf(s,x+1))&&""===r(t.slice(h,x))){x=h;break}}if(d=t.slice(0,x),""===r(d))return e(d),null;if(n)return!0;return m=e.now(),d=o(d),e(d)({type:"paragraph",children:this.tokenizeInline(d,m)})};var s="\n",c="\t",l=" ",u=4},RT9k:function(e,t){function n(e){e=e||{},this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.w="number"==typeof e.w?e.w:1}n.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},n.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},n.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e)},n.prototype.invert=function(){this.conjugate(),this.normalize()},n.prototype.multiply=function(e){var t=this.x*e.w+this.y*e.z-this.z*e.y+this.w*e.x,n=-this.x*e.z+this.y*e.w+this.z*e.x+this.w*e.y,r=this.x*e.y-this.y*e.x+this.z*e.w+this.w*e.z,i=-this.x*e.x-this.y*e.y-this.z*e.z+this.w*e.w;this.x=t,this.y=n,this.z=r,this.w=i},n.prototype.clone=function(){return new n(this)},e.exports=n},"RU/L":function(e,t,n){n("Rqdy");var r=n("WEpk").Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},RYnF:function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},Re5C:function(e,t,n){"use strict";var r=n("b5wT"),i=n("tQ6r");e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){!function(e,t){var n,r,o,a=t.v,s=e.node(a).rank,c=t.w,l=e.node(c).rank,u=t.name,h=e.edge(t),d=h.labelRank;if(l===s+1)return;for(e.removeEdge(t),o=0,++s;s<l;++o,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:t,rank:s},n=i.addDummyNode(e,"edge",r,"_d"),s===d&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),e.setEdge(a,n,{weight:h.weight},u),0===o&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,c,{weight:h.weight},u)}(e,t)}))},undo:function(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),i=r.edgeLabel;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)}))}}},RfKB:function(e,t,n){var r=n("2faE").f,i=n("B+OT"),o=n("UWiX")("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},Rh56:function(e,t,n){"use strict";var r=n("ABHV"),i=n("ztPK"),o=n("aTrP"),a=(n("830h"),null);"undefined"!=typeof bson&&(a=bson().BSON),e.exports=function(e){function t(t){"publish"===t.op?e.emit(t.topic,t.msg):"service_response"===t.op?e.emit(t.id,t):"call_service"===t.op?e.emit(t.service,t):"status"===t.op&&(t.id?e.emit("status:"+t.id,t):e.emit("status",t))}function n(e,t){"png"===e.op?r(e.data,t):t(e)}return{onopen:function(t){e.isConnected=!0,e.emit("connection",t)},onclose:function(t){e.isConnected=!1,e.emit("close",t)},onerror:function(t){e.emit("error",t)},onmessage:function(e){if("undefined"!=typeof Blob&&e.data instanceof Blob)!function(e,t){if(!a)throw"Cannot process BSON encoded message without BSON header.";var n=new FileReader;n.onload=function(){var e=new Uint8Array(this.result),n=a.deserialize(e);t(n)},n.readAsArrayBuffer(e)}(e.data,(function(e){n(e,t)}));else if(e.data instanceof ArrayBuffer){t(i.decode(e.data,o))}else{n(JSON.parse("string"==typeof e?e:e.data),t)}}}}},RjOF:function(e,t,n){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,i="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}},Rp86:function(e,t,n){n("bBy9"),n("FlQf"),e.exports=n("fXsU")},Rqdy:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F*!n("jmDH"),"Object",{defineProperty:n("2faE").f})},RsFJ:function(e,t){(t=e.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},SBuE:function(e,t){e.exports={}},SEkw:function(e,t,n){e.exports={default:n("RU/L"),__esModule:!0}},SKAX:function(e,t,n){var r=n("JC6p"),i=n("lQqw")(r);e.exports=i},SbiQ:function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,a,s,c,l,u,h,d;if(n)return!0;r=this.inlineMethods,a=r.length,i=this.inlineTokenizers,o=-1,h=t.length;for(;++o<a;)"text"!==(u=r[o])&&i[u]&&((l=i[u].locator)||e.file.fail("Missing locator: `"+u+"`"),-1!==(c=l.call(this,t,1))&&c<h&&(h=c));s=t.slice(0,h),d=e.now(),this.decode(s,d,(function(t,n,r){e(r||t)({type:"text",value:t})}))}},Sdz8:function(e,t){e.exports=function(e,t,n,r){var i=e.x,o=e.y,a=i-r.x,s=o-r.y,c=Math.sqrt(t*t*s*s+n*n*a*a),l=Math.abs(t*n*a/c);r.x<i&&(l=-l);var u=Math.abs(t*n*s/c);r.y<o&&(u=-u);return{x:i+l,y:o+u}}},SfRM:function(e,t,n){var r=n("YESw");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},Sxd8:function(e,t,n){var r=n("ZCgT");e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),o=n("yP5f"),a=n("Q1l4"),s=n("+iFO"),c=n("03A+"),l=n("Z0cm"),u=n("3L66"),h=n("DSRE"),d=n("lSCD"),f=n("GoyQ"),p=n("YO3V"),m=n("c6wG"),g=n("itsj"),v=n("jeLo");e.exports=function(e,t,n,y,b,w,x){var _=g(e,n),E=g(t,n),S=x.get(E);if(S)r(e,n,S);else{var C=w?w(_,E,n+"",e,t,x):void 0,A=void 0===C;if(A){var T=l(E),M=!T&&h(E),k=!T&&!M&&m(E);C=E,T||M||k?l(_)?C=_:u(_)?C=a(_):M?(A=!1,C=i(E,!0)):k?(A=!1,C=o(E,!0)):C=[]:p(E)||c(E)?(C=_,c(_)?C=v(_):f(_)&&!d(_)||(C=s(E))):A=!1}A&&(x.set(E,C),b(C,E,y,w,x),x.delete(E)),r(e,n,C)}}},TAZq:function(e,t,n){e.exports=function(){"use strict";return function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,c,l,u,h){switch(n){case 1:if(0===u&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}}()},TJWN:function(e,t,n){"use strict";var r=n("5T2Y"),i=n("WEpk"),o=n("2faE"),a=n("jmDH"),s=n("UWiX")("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},TOwV:function(e,t,n){"use strict";e.exports=n("qT12")},TP7S:function(e,t){e.exports=function(e){return void 0===e}},TYy9:function(e,t,n){var r=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},TjP8:function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";t.openCloseTag=new RegExp("^(?:"+r+"|"+i+")"),t.tag=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},TuGD:function(e,t,n){var r=n("UWiX")("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},Txda:function(e,t,n){var r=n("3y7U");e.exports=function(e,t){return r(e,t,"post")}},"U+KD":function(e,t,n){var r=n("B+OT"),i=n("JB68"),o=n("VVlx")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},U1bi:function(e,t,n){var r=n("830h"),i=n("Rh56"),o=n("US93"),a=n("kAvd"),s=n("MgzW"),c=n("cjKa").EventEmitter2;function l(e){e=e||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=e.transportLibrary||"websocket",this.transportOptions=e.transportOptions||{},void 0===e.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=e.groovyCompatibility,this.setMaxListeners(0),e.url&&this.connect(e.url)}l.prototype.__proto__=c.prototype,l.prototype.connect=function(e){if("socket.io"===this.transportLibrary)this.socket=s(io(e,{"force new connection":!0}),i(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=s(this.transportLibrary.createDataChannel(e,this.transportOptions),i(this));else if(!this.socket||this.socket.readyState===r.CLOSED){var t=new r(e);t.binaryType="arraybuffer",this.socket=s(t,i(this))}},l.prototype.close=function(){this.socket&&this.socket.close()},l.prototype.authenticate=function(e,t,n,r,i,o,a){var s={op:"auth",mac:e,client:t,dest:n,rand:r,t:i,level:o,end:a};this.callOnConnection(s)},l.prototype.callOnConnection=function(e){var t=this,n=JSON.stringify(e),r=null;r="socket.io"===this.transportLibrary?function(e){t.socket.emit("operation",e)}:function(e){t.socket.send(e)},this.isConnected?r(n):t.once("connection",(function(){r(n)}))},l.prototype.setStatusLevel=function(e,t){var n={op:"set_level",level:e,id:t};this.callOnConnection(n)},l.prototype.getActionServers=function(e,t){var n=new o({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),r=new a({});"function"==typeof t?n.callService(r,(function(t){e(t.action_servers)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.action_servers)}))},l.prototype.getTopics=function(e,t){var n=new o({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t)}),(function(e){t(e)})):n.callService(r,(function(t){e(t)}))},l.prototype.getTopicsForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.topics)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.topics)}))},l.prototype.getServices=function(e,t){var n=new o({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.services)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.services)}))},l.prototype.getServicesForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.services)}))},l.prototype.getServiceRequestDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getServiceResponseDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getNodes=function(e,t){var n=new o({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.nodes)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.nodes)}))},l.prototype.getNodeDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),i=new a({node:e});"function"==typeof n?r.callService(i,(function(e){t(e.subscribing,e.publishing,e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getParams=function(e,t){var n=new o({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.names)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.names)}))},l.prototype.getTopicType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),i=new a({topic:e});"function"==typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},l.prototype.getServiceType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),i=new a({service:e});"function"==typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},l.prototype.getMessageDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.typedefs)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.typedefs)}))},l.prototype.decodeTypeDefs=function(e){var t=this,n=function(e,r){for(var i={},o=0;o<e.fieldnames.length;o++){var a=e.fieldarraylen[o],s=e.fieldnames[o],c=e.fieldtypes[o];if(-1===c.indexOf("/"))i[s]=-1===a?c:[c];else{for(var l=!1,u=0;u<r.length;u++)if(r[u].type.toString()===c.toString()){l=r[u];break}if(l){var h=n(l,r);-1===a||(i[s]=[h])}else t.emit("error","Cannot find "+c+" in decodeTypeDefs")}}return i};return n(e[0],e)},e.exports=l},U4bP:function(e,t,n){e.exports={node:n("YLuR"),circle:n("3th9"),ellipse:n("Sdz8"),polygon:n("Kq0i"),rect:n("QRi6")}},U6jy:function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},UBI6:function(e,t,n){"use strict";var r=n("ZWk2"),i=n("IPAr"),o=n("VSQ+");e.exports=m,m.locator=o,m.notInLink=!0;var a="[",s="]",c="(",l=")",u="<",h="@",d="mailto:",f=["http://","https://",d],p=f.length;function m(e,t,n){var o,m,g,v,y,b,w,x,_,E,S,C;if(this.options.gfm){for(o="",v=-1,x=p;++v<x;)if(b=f[v],(w=t.slice(0,b.length)).toLowerCase()===b){o=w;break}if(o){for(v=o.length,x=t.length,_="",E=0;v<x&&(g=t.charAt(v),!i(g)&&g!==u)&&("."!==g&&","!==g&&":"!==g&&";"!==g&&'"'!==g&&"'"!==g&&")"!==g&&"]"!==g||(S=t.charAt(v+1))&&!i(S))&&(g!==c&&g!==a||E++,g!==l&&g!==s||!(--E<0));)_+=g,v++;if(_){if(m=o+=_,b===d){if(-1===(y=_.indexOf(h))||y===x-1)return;m=m.substr(d.length)}return!!n||(C=this.enterLink(),m=this.tokenizeInline(m,e.now()),C(),e(o)({type:"link",title:null,url:r(o,{nonTerminated:!1}),children:m}))}}}}},UCHQ:function(e,t,n){var r=n("5HGo"),i=n("HcVr"),o=n("ZNcB"),a=n("E4pH"),s=n("e1dK"),c=n("MliZ").EventEmitter2;function l(e){e=e||{},this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=e.transportLibrary||"websocket",this.transportOptions=e.transportOptions||{},void 0===e.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=e.groovyCompatibility,this.setMaxListeners(0),e.url&&this.connect(e.url)}l.prototype.__proto__=c.prototype,l.prototype.connect=function(e){if("socket.io"===this.transportLibrary)this.socket=s(io(e,{"force new connection":!0}),i(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=s(this.transportLibrary.createDataChannel(e,this.transportOptions),i(this));else if(!this.socket||this.socket.readyState===r.CLOSED){var t=new r(e);t.binaryType="arraybuffer",this.socket=s(t,i(this))}},l.prototype.close=function(){this.socket&&this.socket.close()},l.prototype.authenticate=function(e,t,n,r,i,o,a){var s={op:"auth",mac:e,client:t,dest:n,rand:r,t:i,level:o,end:a};this.callOnConnection(s)},l.prototype.callOnConnection=function(e){var t=this,n=JSON.stringify(e),r=null;r="socket.io"===this.transportLibrary?function(e){t.socket.emit("operation",e)}:function(e){t.socket.send(e)},this.isConnected?r(n):t.once("connection",(function(){r(n)}))},l.prototype.setStatusLevel=function(e,t){var n={op:"set_level",level:e,id:t};this.callOnConnection(n)},l.prototype.getActionServers=function(e,t){var n=new o({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),r=new a({});"function"==typeof t?n.callService(r,(function(t){e(t.action_servers)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.action_servers)}))},l.prototype.getTopics=function(e,t){var n=new o({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t)}),(function(e){t(e)})):n.callService(r,(function(t){e(t)}))},l.prototype.getTopicsForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.topics)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.topics)}))},l.prototype.getServices=function(e,t){var n=new o({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.services)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.services)}))},l.prototype.getServicesForType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.services)}))},l.prototype.getServiceRequestDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getServiceResponseDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getNodes=function(e,t){var n=new o({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.nodes)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.nodes)}))},l.prototype.getNodeDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),i=new a({node:e});"function"==typeof n?r.callService(i,(function(e){t(e.subscribing,e.publishing,e.services)}),(function(e){n(e)})):r.callService(i,(function(e){t(e)}))},l.prototype.getParams=function(e,t){var n=new o({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),r=new a;"function"==typeof t?n.callService(r,(function(t){e(t.names)}),(function(e){t(e)})):n.callService(r,(function(t){e(t.names)}))},l.prototype.getTopicType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),i=new a({topic:e});"function"==typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},l.prototype.getServiceType=function(e,t,n){var r=new o({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),i=new a({service:e});"function"==typeof n?r.callService(i,(function(e){t(e.type)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.type)}))},l.prototype.getMessageDetails=function(e,t,n){var r=new o({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),i=new a({type:e});"function"==typeof n?r.callService(i,(function(e){t(e.typedefs)}),(function(e){n(e)})):r.callService(i,(function(e){t(e.typedefs)}))},l.prototype.decodeTypeDefs=function(e){var t=this,n=function(e,r){for(var i={},o=0;o<e.fieldnames.length;o++){var a=e.fieldarraylen[o],s=e.fieldnames[o],c=e.fieldtypes[o];if(-1===c.indexOf("/"))i[s]=-1===a?c:[c];else{for(var l=!1,u=0;u<r.length;u++)if(r[u].type.toString()===c.toString()){l=r[u];break}if(l){var h=n(l,r);-1===a||(i[s]=[h])}else t.emit("error","Cannot find "+c+" in decodeTypeDefs")}}return i};return n(e[0],e)},e.exports=l},UIh7:function(e,t,n){"use strict";var r=n("IPAr"),i=n("MaiH");e.exports=s,s.locator=i;var o="~",a="~~";function s(e,t,n){var i,s,c,l="",u="",h="",d="";if(this.options.gfm&&t.charAt(0)===o&&t.charAt(1)===o&&!r(t.charAt(2)))for(i=1,s=t.length,(c=e.now()).column+=2,c.offset+=2;++i<s;){if(!((l=t.charAt(i))!==o||u!==o||h&&r(h)))return!!n||e(a+d+a)({type:"delete",children:this.tokenizeInline(d,c)});d+=u,h=u,u=l}}},UMpK:function(e,t,n){var r=n("gFfm"),i=n("dTAl"),o=n("JC6p"),a=n("ut/Y"),s=n("LcsW"),c=n("Z0cm"),l=n("DSRE"),u=n("lSCD"),h=n("GoyQ"),d=n("c6wG");e.exports=function(e,t,n){var f=c(e),p=f||l(e)||d(e);if(t=a(t,4),null==n){var m=e&&e.constructor;n=p?f?new m:[]:h(e)&&u(m)?i(s(e)):{}}return(p?r:o)(e,(function(e,r,i){return t(n,e,r,i)})),n}},UNQo:function(e,t,n){var r=n("GU3B"),i=n("e3BR");e.exports=function(e){this.dimension=null,this.type=i.URDF_BOX;var t=e.xml.getAttribute("size").split(" ");this.dimension=new r({x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])})}},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},UO39:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},US93:function(e,t,n){var r=n("b3Az"),i=(n("kAvd"),n("cjKa").EventEmitter2);function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.serviceType=e.serviceType,this.isAdvertised=!1,this._serviceCallback=null}o.prototype.__proto__=i.prototype,o.prototype.callService=function(e,t,n){if(!this.isAdvertised){var i="call_service:"+this.name+":"+ ++this.ros.idCounter;(t||n)&&this.ros.once(i,(function(e){void 0!==e.result&&!1===e.result?"function"==typeof n&&n(e.values):"function"==typeof t&&t(new r(e.values))}));var o={op:"call_service",id:i,service:this.name,type:this.serviceType,args:e};this.ros.callOnConnection(o)}},o.prototype.advertise=function(e){this.isAdvertised||"function"!=typeof e||(this._serviceCallback=e,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},o.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},o.prototype._serviceResponse=function(e){var t={},n=this._serviceCallback(e.args,t),i={op:"service_response",service:this.name,values:new r(t),result:n};e.id&&(i.id=e.id),this.ros.callOnConnection(i)},e.exports=o},"UV+P":function(e,t,n){"use strict";var r=n("q1tI"),i=n("U6jy"),o=n("TOwV"),a={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=t.renderers[e.type];void 0===e.position&&(e.position=n.node&&n.node.position||a);var h=e.position.start,d=[e.type,h.line,h.column,l].join("-");if(!o.isValidElementType(u))throw new Error("Renderer for type `".concat(e.type,"` not defined or is not renderable"));var f=function(e,t,n,o,a,l){var u={key:t},h="string"==typeof o;n.sourcePos&&e.position&&(u["data-sourcepos"]=[(d=e.position).start.line,":",d.start.column,"-",d.end.line,":",d.end.column].map(String).join(""));var d;n.rawSourcePos&&!h&&(u.sourcePosition=e.position);n.includeNodeIndex&&a.node&&a.node.children&&!h&&(u.index=a.node.children.indexOf(e),u.parentChildCount=a.node.children.length);var f=null!==e.identifier&&void 0!==e.identifier?n.definitions[e.identifier]||{}:null;switch(e.type){case"root":c(u,{className:n.className});break;case"text":u.nodeKey=t,u.children=e.value;break;case"heading":u.level=e.depth;break;case"list":u.start=e.start,u.ordered=e.ordered,u.tight=!e.loose,u.depth=e.depth;break;case"listItem":u.checked=e.checked,u.tight=!e.loose,u.ordered=e.ordered,u.index=e.index,u.children=function(e,t){if(e.loose)return e.children;if(t.node&&e.index>0&&t.node.children[e.index-1].loose)return e.children;return function(e){return e.children.reduce((function(e,t){return e.concat("paragraph"===t.type?t.children||[]:[t])}),[])}(e)}(e,a).map((function(t,r){return s(t,n,{node:e,props:u},r)}));break;case"definition":c(u,{identifier:e.identifier,title:e.title,url:e.url});break;case"code":c(u,{language:e.lang&&e.lang.split(/\s/,1)[0]});break;case"inlineCode":u.children=e.value,u.inline=!0;break;case"link":c(u,{title:e.title||void 0,target:"function"==typeof n.linkTarget?n.linkTarget(e.url,e.children,e.title):n.linkTarget,href:n.transformLinkUri?n.transformLinkUri(e.url,e.children,e.title):e.url});break;case"image":c(u,{alt:e.alt||void 0,title:e.title||void 0,src:n.transformImageUri?n.transformImageUri(e.url,e.children,e.title,e.alt):e.url});break;case"linkReference":c(u,i(f,{href:n.transformLinkUri?n.transformLinkUri(f.href):f.href}));break;case"imageReference":c(u,{src:n.transformImageUri&&f.href?n.transformImageUri(f.href,e.children,f.title,e.alt):f.href,title:f.title||void 0,alt:e.alt||void 0});break;case"table":case"tableHead":case"tableBody":u.columnAlignment=e.align;break;case"tableRow":u.isHeader="tableHead"===a.node.type,u.columnAlignment=a.props.columnAlignment;break;case"tableCell":c(u,{isHeader:a.props.isHeader,align:a.props.columnAlignment[l]});break;case"virtualHtml":u.tag=e.tag;break;case"html":u.isBlock=e.position.start.line!==e.position.end.line,u.escapeHtml=n.escapeHtml,u.skipHtml=n.skipHtml;break;case"parsedHtml":var p;e.children&&(p=e.children.map((function(t,r){return s(t,n,{node:e,props:u},r)}))),u.escapeHtml=n.escapeHtml,u.skipHtml=n.skipHtml,u.element=function(e,t){var n=e.element;if(Array.isArray(n)){var i=r.Fragment||"div";return r.createElement(i,null,n)}if(n.props.children||t){var o=r.Children.toArray(n.props.children).concat(t);return r.cloneElement(n,null,o)}return r.cloneElement(n,null)}(e,p);break;default:c(u,i(e,{type:void 0,position:void 0,children:void 0}))}!h&&e.value&&(u.value=e.value);return u}(e,d,t,u,n,l);return r.createElement(u,f,f.children||e.children&&e.children.map((function(n,r){return s(n,t,{node:e,props:f},r)}))||void 0)}function c(e,t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}e.exports=s},UWiX:function(e,t,n){var r=n("29s/")("wks"),i=n("YqAc"),o=n("5T2Y").Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},UY5k:function(e,t,n){"use strict";n.r(t),n.d(t,"STLLoader",(function(){return i}));var r=n("Womt"),i=function(e){r.Loader.call(this,e)};i.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:i,load:function(e,t,n,i){var o=this,a=new r.FileLoader(o.manager);a.setPath(o.path),a.setResponseType("arraybuffer"),a.load(e,(function(e){try{t(o.parse(e))}catch(e){i&&i(e)}}),n,i)},parse:function(e){function t(e,t,n){for(var r=0,i=e.length;r<i;r++)if(e[r]!==t.getUint8(n+r,!1))return!1;return!0}var n,i=function(e){if("string"==typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}(e);return function(e){var n;if(50,84+50*(n=new DataView(e)).getUint32(80,!0)===n.byteLength)return!0;for(var r=[115,111,108,105,100],i=0;i<5;i++)if(t(r,n,i))return!1;return!0}(i)?function(e){for(var t,n,i,o,a,s,c,l,u=new DataView(e),h=u.getUint32(80,!0),d=!1,f=0;f<70;f++)1129270351==u.getUint32(f,!1)&&82==u.getUint8(f+4)&&61==u.getUint8(f+5)&&(d=!0,o=new Float32Array(3*h*3),a=u.getUint8(f+6)/255,s=u.getUint8(f+7)/255,c=u.getUint8(f+8)/255,l=u.getUint8(f+9)/255);for(var p=new r.BufferGeometry,m=new Float32Array(3*h*3),g=new Float32Array(3*h*3),v=0;v<h;v++){var y=84+50*v,b=u.getFloat32(y,!0),w=u.getFloat32(y+4,!0),x=u.getFloat32(y+8,!0);if(d){var _=u.getUint16(y+48,!0);0==(32768&_)?(t=(31&_)/31,n=(_>>5&31)/31,i=(_>>10&31)/31):(t=a,n=s,i=c)}for(var E=1;E<=3;E++){var S=y+12*E,C=3*v*3+3*(E-1);m[C]=u.getFloat32(S,!0),m[C+1]=u.getFloat32(S+4,!0),m[C+2]=u.getFloat32(S+8,!0),g[C]=b,g[C+1]=w,g[C+2]=x,d&&(o[C]=t,o[C+1]=n,o[C+2]=i)}}return p.addAttribute("position",new r.BufferAttribute(m,3)),p.addAttribute("normal",new r.BufferAttribute(g,3)),d&&(p.addAttribute("color",new r.BufferAttribute(o,3)),p.hasColors=!0,p.alpha=l),p}(i):function(e){for(var t,n=new r.BufferGeometry,i=/solid([\s\S]*?)endsolid/g,o=/facet([\s\S]*?)endfacet/g,a=0,s=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,c=new RegExp("vertex"+s+s+s,"g"),l=new RegExp("normal"+s+s+s,"g"),u=[],h=[],d=new r.Vector3,f=[],p=0,m=0,g=0;null!==(t=i.exec(e));){m=g;for(var v=t[0];null!==(t=o.exec(v));){for(var y=0,b=0,w=t[0];null!==(t=l.exec(w));)d.x=parseFloat(t[1]),d.y=parseFloat(t[2]),d.z=parseFloat(t[3]),b++;for(;null!==(t=c.exec(w));)u.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),h.push(d.x,d.y,d.z),y++,g++;1!==b&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+a),3!==y&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+a),a++}f.push({startVertex:m,endVertex:g}),p++}if(n.addAttribute("position",new r.Float32BufferAttribute(u,3)),n.addAttribute("normal",new r.Float32BufferAttribute(h,3)),p>0)for(var x=0;x<f.length;x++)n.addGroup(f[x].startVertex,f[x].endVertex,x);return n}("string"!=typeof(n=e)?r.LoaderUtils.decodeText(new Uint8Array(n)):n)}})},UbbE:function(e,t,n){n("o8NH"),e.exports=n("WEpk").Object.assign},UfWW:function(e,t,n){var r=n("KwMD"),i=n("ut/Y"),o=n("Sxd8"),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}},UjdW:function(e,t,n){(function(e){var n;n=function(){var e=null,t={};a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=[],r=function(a){if(void 0!==(a=a||{}).seed&&null!==a.seed&&a.seed===parseInt(a.seed,10))e=a.seed;else if("string"==typeof a.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");e=null}var u,h;if(null!==a.count&&void 0!==a.count){for(var d=a.count,f=[],p=0;p<a.count;p++)n.push(!1);for(a.count=null;d>f.length;)e&&a.seed&&(a.seed+=1),f.push(r(a));return a.count=d,f}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return l(e);case"hsl":var n=l(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var r=l(e),i=t.alpha||Math.random();return"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+i+")";case"rgbArray":return s(e);case"rgb":return"rgb("+s(e).join(", ")+")";case"rgba":var o=s(e);return i=t.alpha||Math.random(),"rgba("+o.join(", ")+", "+i+")";default:return function(e){var t=s(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([u=function(e){if(n.length>0){var r=o(h=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return i(c(e)[0]).hueRange}else{var r=parseInt(e);if(r<360&&r>0)return i(e).hueRange}return[0,360]}(e.hue)),a=(h[1]-h[0])/n.length,s=parseInt((r-h[0])/a);!0===n[s]?s=(s+2)%n.length:n[s]=!0;var l=(h[0]+s*a)%359,u=(h[0]+(s+1)*a)%359;return(r=o(h=[l,u]))<0&&(r=360+r),r}var h=function(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e)if(t[e]){var r=t[e];if(r.hueRange)return r.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var i=c(e)[0];return[i,i]}return[0,360]}(e.hue);return(r=o(h))<0&&(r=360+r),r}(a),h=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return o([0,100]);var n=function(e){return i(e).saturationRange}(e),r=n[0],a=n[1];switch(t.luminosity){case"bright":r=55;break;case"dark":r=a-10;break;case"light":a=55}return o([r,a])}(u,a),function(e,t,n){var r=function(e,t){for(var n=i(e).lowerBounds,r=0;r<n.length-1;r++){var o=n[r][0],a=n[r][1],s=n[r+1][0],c=n[r+1][1];if(t>=o&&t<=s){var l=(c-a)/(s-o);return l*t+(a-l*o)}}return 0}(e,t),a=100;switch(n.luminosity){case"dark":a=r+20;break;case"light":r=(a+r)/2;break;case"random":r=0,a=100}return o([r,a])}(u,h,a)],a)};function i(e){for(var n in e>=334&&e<=360&&(e-=360),t){var r=t[n];if(r.hueRange&&e>=r.hueRange[0]&&e<=r.hueRange[1])return t[n]}return"Color not found"}function o(t){if(null===e){var n=Math.random();return n+=.618033988749895,n%=1,Math.floor(t[0]+n*(t[1]+1-t[0]))}var r=t[1]||1,i=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(i+o*(r-i))}function a(e,n,r){var i=r[0][0],o=r[r.length-1][0],a=r[r.length-1][1],s=r[0][1];t[e]={hueRange:n,lowerBounds:r,saturationRange:[i,o],brightnessRange:[a,s]}}function s(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,r=e[2]/100,i=Math.floor(6*t),o=6*t-i,a=r*(1-n),s=r*(1-o*n),c=r*(1-(1-o)*n),l=256,u=256,h=256;switch(i){case 0:l=r,u=c,h=a;break;case 1:l=s,u=r,h=a;break;case 2:l=a,u=r,h=c;break;case 3:l=a,u=s,h=r;break;case 4:l=c,u=a,h=r;break;case 5:l=r,u=a,h=s}return[Math.floor(255*l),Math.floor(255*u),Math.floor(255*h)]}function c(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,r=parseInt(e.substr(4,2),16)/255,i=Math.max(t,n,r),o=i-Math.min(t,n,r),a=i?o/i:0;switch(i){case t:return[(n-r)/o%6*60||0,a,i];case n:return[60*((r-t)/o+2)||0,a,i];case r:return[60*((t-n)/o+4)||0,a,i]}}function l(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=(2-n)*r;return[t,Math.round(n*r/(i<1?i:2-i)*1e4)/100,i/2*100]}return r}(),e&&e.exports&&(t=e.exports=n),t.randomColor=n}).call(this,n("YuTi")(e))},UrYC:function(e,t,n){"use strict";var r=Math.pow(2,32),i=!1;function o(){i||(i=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var a={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},s={71:function(e){o();for(var t=e.byteLength,n=e.byteOffset,i=t/8,a=e.buffer.slice(n,n+t),s=new Uint32Array(a),c=new Array(i),l=0;l<i;l++){var u=2*l,h=s[u],d=s[u+1];c[l]=h+r*d}return c},79:function(e){o();for(var t=e.byteLength,n=e.byteOffset,i=t/8,a=e.buffer.slice(n,n+t),s=new Uint32Array(a),c=new Int32Array(a),l=new Array(i),u=0;u<i;u++){var h=2*u,d=s[h],f=c[h+1];l[u]=d+r*f}return l}};e.exports&&(e.exports=function(e,t){if(t in a){var n=a[t];return i=n,o=(r=e).byteLength,c=r.byteOffset,new i(r.buffer.slice(c,c+o))}var r,i,o,c;return t in s?s[t](e):e})},V5Ta:function(e,t,n){"use strict";var r=n("lU+G"),i=n("YLuR"),o=n("PEyx"),a=n("Ve/E");function s(e,t){var n=(a.line||a.svg.line)().x((function(e){return e.x})).y((function(e){return e.y}));return(n.curve||n.interpolate)(e.curve),n(t)}e.exports=function(e,t,n){var c=e.selectAll("g.edgePath").data(t.edges(),(function(e){return o.edgeToId(e)})).classed("update",!0),l=function(e,t){var n=e.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(e){var n=t.edge(e),i=t.node(e.v).elem;return s(n,r.range(n.points.length).map((function(){return t=(e=i).getBBox(),{x:(n=e.ownerSVGElement.getScreenCTM().inverse().multiply(e.getScreenCTM()).translate(t.width/2,t.height/2)).e,y:n.f};var e,t,n})))})),n.append("defs"),n}(c,t);!function(e,t){var n=e.exit();o.applyTransition(n,t).style("opacity",0).remove()}(c,t);var u=c.merge(l);return o.applyTransition(u,t).style("opacity",1),u.each((function(e){var n=a.select(this),r=t.edge(e);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")})),u.selectAll("path.path").each((function(e){var n=t.edge(e);n.arrowheadId=r.uniqueId("arrowhead");var c=a.select(this).attr("marker-end",(function(){return"url("+(e=location.href,t=n.arrowheadId,e.split("#")[0]+"#"+t)+")";var e,t})).style("fill","none");o.applyTransition(c,t).attr("d",(function(e){return function(e,t){var n=e.edge(t),r=e.node(t.v),o=e.node(t.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(t,e)})),o.applyStyle(c,n.style)})),u.selectAll("defs *").remove(),u.selectAll("defs").each((function(e){var r=t.edge(e);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")})),u}},V6Ve:function(e,t,n){var r=n("kekF")(Object.keys,Object);e.exports=r},V7oC:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("SEkw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},V9xz:function(e,t){e.exports=function(e,t){return e>t}},VJLA:function(e,t,n){var r=n("MrPd"),i=n("1w02");e.exports=function(e,t){return i(e||[],t||[],r)}},VJsP:function(e,t,n){"use strict";var r=n("2GTP"),i=n("Y7ZC"),o=n("JB68"),a=n("sNwI"),s=n("NwJ3"),c=n("tEej"),l=n("IP1Z"),u=n("fNZA");i(i.S+i.F*!n("TuGD")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,d=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=r(m,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(t=c(d.length));t>v;v++)l(n,v,g?m(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(i=h.next()).done;v++)l(n,v,g?a(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},VKFn:function(e,t,n){n("bBy9"),n("FlQf"),e.exports=n("ldVq")},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");e.exports=function(e,t){return r(e,i(e),t)}},VPo4:function(e,t,n){(function(t){var n="Expected a function",r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),f=Object.prototype.toString,p=Math.max,m=Math.min,g=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return r;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?r:+e}e.exports=function(e,t,r){var i,o,a,s,c,l,u=0,h=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function w(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=a}function x(){var e=g();if(w(e))return _(e);c=setTimeout(x,function(e){var n=t-(e-l);return d?m(n,a-(e-u)):n}(e))}function _(e){return c=void 0,f&&i?b(e):(i=o=void 0,s)}function E(){var e=g(),n=w(e);if(i=arguments,o=this,l=e,n){if(void 0===c)return function(e){return u=e,c=setTimeout(x,t),h?b(e):s}(l);if(d)return c=setTimeout(x,t),b(l)}return void 0===c&&(c=setTimeout(x,t)),s}return t=y(t)||0,v(r)&&(h=!!r.leading,a=(d="maxWait"in r)?p(y(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),E.cancel=function(){void 0!==c&&clearTimeout(c),u=0,i=l=o=c=void 0},E.flush=function(){return void 0===c?s:_(g())},E}}).call(this,n("yLpj"))},VRSw:function(e,t,n){"use strict";var r=n("1iAE"),i=n("afWh"),o=n("TjP8").tag;e.exports=c,c.locator=i;var a=/^<a /i,s=/^<\/a>/i;function c(e,t,n){var i,c,l=t.length;if(!("<"!==t.charAt(0)||l<3)&&(i=t.charAt(1),(r(i)||"?"===i||"!"===i||"/"===i)&&(c=t.match(o))))return!!n||(c=c[0],!this.inLink&&a.test(c)?this.inLink=!0:this.inLink&&s.test(c)&&(this.inLink=!1),e(c)({type:"html",value:c}))}},"VSQ+":function(e,t,n){"use strict";e.exports=function(e,t){var n,i=r.length,o=-1,a=-1;if(!this.options.gfm)return-1;for(;++o<i;)-1!==(n=e.indexOf(r[o],t))&&(n<a||-1===a)&&(a=n);return a};var r=["https://","http://","mailto:"]},VVlx:function(e,t,n){var r=n("29s/")("keys"),i=n("YqAc");e.exports=function(e){return r[e]||(r[e]=i(e))}},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},"Ve/E":function(e,t,n){var r;if(!r)try{r=n("+hVR")}catch(e){}r||(r=window.d3),e.exports=r},Vibt:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("NRL+"),i=Object(r.a)(","),o=i.parse;i.parseRows,i.format,i.formatBody,i.formatRows,i.formatRow,i.formatValue},Vu6g:function(e,t,n){"use strict";var r=n("a9sG"),i=r.Image||window.Image;e.exports=function(e,t){var n=new i;n.onload=function(){var e=new r,i=e.getContext("2d");e.width=n.width,e.height=n.height,i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.drawImage(n,0,0);for(var o=i.getImageData(0,0,n.width,n.height).data,a="",s=0;s<o.length;s+=4)a+=String.fromCharCode(o[s],o[s+1],o[s+2]);t(JSON.parse(a))},n.src="data:image/png;base64,"+e}},W070:function(e,t,n){var r=n("NsO/"),i=n("tEej"),o=n("D8kY");e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},W3FB:function(e,t,n){var r=n("MOh6");function i(e){this.textureFilename=null,this.color=null,this.name=e.xml.getAttribute("name");var t=e.xml.getElementsByTagName("texture");t.length>0&&(this.textureFilename=t[0].getAttribute("filename"));var n=e.xml.getElementsByTagName("color");n.length>0&&(this.color=new r({xml:n[0]}))}i.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var o=n("e1dK");i.prototype.assign=function(e){return o(this,e)},e.exports=i},WEpk:function(e,t){var n=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},WFqU:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("yLpj"))},WGjm:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n("q1tI")),l=n("Nxm2"),u=s(n("75pU")),h={width:"auto",height:"auto"},d=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),f=u.default((function(e,t){return Math.round(e/t)*t})),p=u.default((function(e,t){return new RegExp(e,"i").test(t)})),m=u.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,i){return Math.abs(r-e)<Math.abs(t[n]-e)?i:n}),0),i=Math.abs(t[r]-e);return 0===n||i<n?t[r]:e})),g=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),v=u.default((function(e){return"auto"===(e=e.toString())?e:g(e,"px")?e:g(e,"%")?e:g(e,"vh")?e:g(e,"vw")?e:g(e,"vmax")?e:g(e,"vmin")?e:e+"px"})),y=function(e,t){if(e&&"string"==typeof e){if(g(e,"%"))return t*(n=Number(e.replace("%",""))/100);if(g(e,"vw")){var n=Number(e.replace("vw",""))/100;return window.innerWidth*n}if(g(e,"vh")){n=Number(e.replace("vh",""))/100;return window.innerHeight*n}}return e},b=u.default((function(e,t,n,r,i){return t=y(t,e.width),n=y(n,e.height),r=y(r,e.width),i=y(i,e.height),{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===i?void 0:Number(i)}})),w=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],x=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return i(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||h},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,i=this.resizable.style.position;"relative"!==i&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=i}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&g(e.propsSize[t].toString(),"%")){if(g(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return v(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?v(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?v(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.bindEvents=function(){"undefined"!=typeof window&&(window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseleave",this.onMouseUp),window.addEventListener("touchmove",this.onMouseMove),window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){"undefined"!=typeof window&&(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){this.unbindEvents();var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),i=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<i?t:i}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<i?t:i}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,i=this.state,o=i.direction,a=i.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,h=a.width,d=a.height,f=l||0,m=u||0;return p("right",o)&&(h=a.width+(e-a.x)*r/n,c&&(d=(h-m)/this.ratio+f)),p("left",o)&&(h=a.width-(e-a.x)*r/n,c&&(d=(h-m)/this.ratio+f)),p("bottom",o)&&(d=a.height+(t-a.y)*r/n,c&&(h=(d-f)*this.ratio+m)),p("top",o)&&(d=a.height-(t-a.y)*r/n,c&&(h=(d-f)*this.ratio+m)),{newWidth:h,newHeight:d}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var i=this.props,o=i.lockAspectRatio,a=i.lockAspectRatioExtraHeight,s=i.lockAspectRatioExtraWidth,c=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,h=void 0===n.height||n.height<0?t:n.height,f=a||0,p=s||0;if(o){var m=(u-f)*this.ratio+p,g=(h-f)*this.ratio+p,v=(c-p)/this.ratio+f,y=(l-p)/this.ratio+f,b=Math.max(c,m),w=Math.min(l,g),x=Math.max(u,v),_=Math.min(h,y);e=d(e,b,w),t=d(t,x,_)}else e=d(e,c,l),t=d(t,u,h);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),i=r.left,o=r.top;this.resizableLeft=i,this.resizableTop=o}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.bindEvents(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,c=this.state,l=c.direction,u=c.original,h=c.width,d=c.height,p=this.getParentSize(),v=b(p,n,r,i,o);n=v.maxWidth,r=v.maxHeight,i=v.minWidth,o=v.minHeight;var y=this.calculateNewSizeFromDirection(a,s),w=y.newHeight,x=y.newWidth,_=this.calculateNewMaxFromBoundary(n,r),E=this.calculateNewSizeFromAspectRatio(x,w,{width:_.maxWidth,height:_.maxHeight},{width:i,height:o});if(x=E.newWidth,w=E.newHeight,this.props.grid){var S=f(x,this.props.grid[0]),C=f(w,this.props.grid[1]),A=this.props.snapGap||0;x=0===A||Math.abs(S-x)<=A?S:x,w=0===A||Math.abs(C-w)<=A?C:w}this.props.snap&&this.props.snap.x&&(x=m(x,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=m(w,this.props.snap.y,this.props.snapGap));var T={width:x-u.width,height:w-u.height};if(h&&"string"==typeof h)if(g(h,"%"))x=x/p.width*100+"%";else if(g(h,"vw")){x=x/window.innerWidth*100+"vw"}else if(g(h,"vh")){x=x/window.innerHeight*100+"vh"}if(d&&"string"==typeof d)if(g(d,"%"))w=w/p.height*100+"%";else if(g(d,"vw")){w=w/window.innerWidth*100+"vw"}else if(g(d,"vh")){w=w/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(x,"width"),height:this.createSizeForCssProperty(w,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,T)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,i=t.original;if(n&&this.resizable){var o={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,o),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,i=t.handleClasses,o=t.handleWrapperStyle,a=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?c.createElement(l.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:i&&i[t]},s&&s[t]?s[t]:null):null}));return c.createElement("span",{className:a,style:o},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==w.indexOf(n)?t:(t[n]=e.props[n],t)}),{});return c.createElement("div",o({ref:function(t){t&&(e.resizable=t)},style:o({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&c.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(c.PureComponent);t.Resizable=x},WPeF:function(e,t){e.exports=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}},WQ2p:function(e,t,n){var r=n("US93"),i=n("kAvd");function o(e){e=e||{},this.ros=e.ros,this.name=e.name}o.prototype.get=function(e){var t=new r({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),n=new i({name:this.name});t.callService(n,(function(t){var n=JSON.parse(t.value);e(n)}))},o.prototype.set=function(e,t){var n=new r({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),o=new i({name:this.name,value:JSON.stringify(e)});n.callService(o,t)},o.prototype.delete=function(e){var t=new r({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),n=new i({name:this.name});t.callService(n,e)},e.exports=o},WbBG:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},WjpJ:function(e,t,n){var r=n("HLqC")();e.exports=r},Womt:function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return ce})),n.d(t,"AddEquation",(function(){return O})),n.d(t,"AddOperation",(function(){return ne})),n.d(t,"AdditiveBlending",(function(){return A})),n.d(t,"AlphaFormat",(function(){return He})),n.d(t,"AlwaysDepth",(function(){return q})),n.d(t,"AlwaysStencilFunc",(function(){return an})),n.d(t,"AmbientLight",(function(){return Bu})),n.d(t,"AmbientLightProbe",(function(){return ch})),n.d(t,"AnimationClip",(function(){return Gl})),n.d(t,"AnimationLoader",(function(){return eu})),n.d(t,"AnimationMixer",(function(){return Ih})),n.d(t,"AnimationObjectGroup",(function(){return jh})),n.d(t,"AnimationUtils",(function(){return Fl})),n.d(t,"ArcCurve",(function(){return cu})),n.d(t,"ArrayCamera",(function(){return os})),n.d(t,"ArrowHelper",(function(){return Id})),n.d(t,"Audio",(function(){return yh})),n.d(t,"AudioAnalyser",(function(){return Sh})),n.d(t,"AudioContext",(function(){return rh})),n.d(t,"AudioListener",(function(){return vh})),n.d(t,"AudioLoader",(function(){return ih})),n.d(t,"AxesHelper",(function(){return Bd})),n.d(t,"AxisHelper",(function(){return df})),n.d(t,"BackSide",(function(){return v})),n.d(t,"BasicDepthPacking",(function(){return zt})),n.d(t,"BasicShadowMap",(function(){return d})),n.d(t,"BinaryTextureLoader",(function(){return vf})),n.d(t,"Bone",(function(){return Bs})),n.d(t,"BooleanKeyframeTrack",(function(){return Bl})),n.d(t,"BoundingBoxHelper",(function(){return ff})),n.d(t,"Box2",(function(){return qh})),n.d(t,"Box3",(function(){return ur})),n.d(t,"Box3Helper",(function(){return Fd})),n.d(t,"BoxBufferGeometry",(function(){return ji})),n.d(t,"BoxGeometry",(function(){return Di})),n.d(t,"BoxHelper",(function(){return Rd})),n.d(t,"BufferAttribute",(function(){return Wr})),n.d(t,"BufferGeometry",(function(){return li})),n.d(t,"BufferGeometryLoader",(function(){return $u})),n.d(t,"ByteType",(function(){return Pe})),n.d(t,"Cache",(function(){return Yl})),n.d(t,"Camera",(function(){return Vi})),n.d(t,"CameraHelper",(function(){return kd})),n.d(t,"CanvasRenderer",(function(){return bf})),n.d(t,"CanvasTexture",(function(){return sc})),n.d(t,"CatmullRomCurve3",(function(){return pu})),n.d(t,"CineonToneMapping",(function(){return se})),n.d(t,"CircleBufferGeometry",(function(){return wl})),n.d(t,"CircleGeometry",(function(){return bl})),n.d(t,"ClampToEdgeWrapping",(function(){return ye})),n.d(t,"Clock",(function(){return dh})),n.d(t,"ClosedSplineCurve3",(function(){return lf})),n.d(t,"Color",(function(){return jr})),n.d(t,"ColorKeyframeTrack",(function(){return zl})),n.d(t,"CompressedTexture",(function(){return ac})),n.d(t,"CompressedTextureLoader",(function(){return tu})),n.d(t,"ConeBufferGeometry",(function(){return yl})),n.d(t,"ConeGeometry",(function(){return vl})),n.d(t,"CubeCamera",(function(){return qi})),n.d(t,"CubeGeometry",(function(){return Di})),n.d(t,"CubeReflectionMapping",(function(){return ue})),n.d(t,"CubeRefractionMapping",(function(){return he})),n.d(t,"CubeTexture",(function(){return _o})),n.d(t,"CubeTextureLoader",(function(){return iu})),n.d(t,"CubeUVReflectionMapping",(function(){return me})),n.d(t,"CubeUVRefractionMapping",(function(){return ge})),n.d(t,"CubicBezierCurve",(function(){return yu})),n.d(t,"CubicBezierCurve3",(function(){return bu})),n.d(t,"CubicInterpolant",(function(){return Dl})),n.d(t,"CullFaceBack",(function(){return s})),n.d(t,"CullFaceFront",(function(){return c})),n.d(t,"CullFaceFrontBack",(function(){return l})),n.d(t,"CullFaceNone",(function(){return a})),n.d(t,"Curve",(function(){return au})),n.d(t,"CurvePath",(function(){return Au})),n.d(t,"CustomBlending",(function(){return k})),n.d(t,"CylinderBufferGeometry",(function(){return gl})),n.d(t,"CylinderGeometry",(function(){return ml})),n.d(t,"Cylindrical",(function(){return $h})),n.d(t,"DataTexture",(function(){return Xi})),n.d(t,"DataTexture2DArray",(function(){return Eo})),n.d(t,"DataTexture3D",(function(){return So})),n.d(t,"DataTextureLoader",(function(){return nu})),n.d(t,"DecrementStencilOp",(function(){return Yt})),n.d(t,"DecrementWrapStencilOp",(function(){return Kt})),n.d(t,"DefaultLoadingManager",(function(){return Kl})),n.d(t,"DepthFormat",(function(){return Ye})),n.d(t,"DepthStencilFormat",(function(){return Xe})),n.d(t,"DepthTexture",(function(){return cc})),n.d(t,"DirectionalLight",(function(){return Iu})),n.d(t,"DirectionalLightHelper",(function(){return Ad})),n.d(t,"DirectionalLightShadow",(function(){return Nu})),n.d(t,"DiscreteInterpolant",(function(){return Nl})),n.d(t,"DodecahedronBufferGeometry",(function(){return xc})),n.d(t,"DodecahedronGeometry",(function(){return wc})),n.d(t,"DoubleSide",(function(){return y})),n.d(t,"DstAlphaFactor",(function(){return U})),n.d(t,"DstColorFactor",(function(){return V})),n.d(t,"DynamicBufferAttribute",(function(){return Jd})),n.d(t,"EdgesGeometry",(function(){return pl})),n.d(t,"EdgesHelper",(function(){return pf})),n.d(t,"EllipseCurve",(function(){return su})),n.d(t,"EqualDepth",(function(){return K})),n.d(t,"EqualStencilFunc",(function(){return en})),n.d(t,"EquirectangularReflectionMapping",(function(){return de})),n.d(t,"EquirectangularRefractionMapping",(function(){return fe})),n.d(t,"Euler",(function(){return Dn})),n.d(t,"EventDispatcher",(function(){return sn})),n.d(t,"ExtrudeBufferGeometry",(function(){return el})),n.d(t,"ExtrudeGeometry",(function(){return Qc})),n.d(t,"Face3",(function(){return zr})),n.d(t,"Face4",(function(){return zd})),n.d(t,"FaceColors",(function(){return _})),n.d(t,"FaceNormalsHelper",(function(){return _d})),n.d(t,"FileLoader",(function(){return Ql})),n.d(t,"FlatShading",(function(){return b})),n.d(t,"Float32Attribute",(function(){return sf})),n.d(t,"Float32BufferAttribute",(function(){return Jr})),n.d(t,"Float64Attribute",(function(){return cf})),n.d(t,"Float64BufferAttribute",(function(){return Qr})),n.d(t,"FloatType",(function(){return je})),n.d(t,"Fog",(function(){return ps})),n.d(t,"FogExp2",(function(){return fs})),n.d(t,"Font",(function(){return eh})),n.d(t,"FontLoader",(function(){return nh})),n.d(t,"FrontFaceDirectionCCW",(function(){return h})),n.d(t,"FrontFaceDirectionCW",(function(){return u})),n.d(t,"FrontSide",(function(){return g})),n.d(t,"Frustum",(function(){return no})),n.d(t,"GammaEncoding",(function(){return Lt})),n.d(t,"Geometry",(function(){return Li})),n.d(t,"GeometryUtils",(function(){return yf})),n.d(t,"GreaterDepth",(function(){return J})),n.d(t,"GreaterEqualDepth",(function(){return Z})),n.d(t,"GreaterEqualStencilFunc",(function(){return on})),n.d(t,"GreaterStencilFunc",(function(){return nn})),n.d(t,"GridHelper",(function(){return gd})),n.d(t,"Group",(function(){return is})),n.d(t,"HalfFloatType",(function(){return Ne})),n.d(t,"HemisphereLight",(function(){return Ou})),n.d(t,"HemisphereLightHelper",(function(){return pd})),n.d(t,"HemisphereLightProbe",(function(){return sh})),n.d(t,"IcosahedronBufferGeometry",(function(){return bc})),n.d(t,"IcosahedronGeometry",(function(){return yc})),n.d(t,"ImageBitmapLoader",(function(){return Ju})),n.d(t,"ImageLoader",(function(){return ru})),n.d(t,"ImageUtils",(function(){return bn})),n.d(t,"ImmediateRenderObject",(function(){return Zh})),n.d(t,"IncrementStencilOp",(function(){return qt})),n.d(t,"IncrementWrapStencilOp",(function(){return Xt})),n.d(t,"InstancedBufferAttribute",(function(){return Wu})),n.d(t,"InstancedBufferGeometry",(function(){return Vu})),n.d(t,"InstancedInterleavedBuffer",(function(){return zh})),n.d(t,"InstancedMesh",(function(){return zs})),n.d(t,"Int16Attribute",(function(){return nf})),n.d(t,"Int16BufferAttribute",(function(){return Yr})),n.d(t,"Int32Attribute",(function(){return of})),n.d(t,"Int32BufferAttribute",(function(){return Kr})),n.d(t,"Int8Attribute",(function(){return Qd})),n.d(t,"Int8BufferAttribute",(function(){return $r})),n.d(t,"IntType",(function(){return Le})),n.d(t,"InterleavedBuffer",(function(){return ms})),n.d(t,"InterleavedBufferAttribute",(function(){return gs})),n.d(t,"Interpolant",(function(){return Ll})),n.d(t,"InterpolateDiscrete",(function(){return Et})),n.d(t,"InterpolateLinear",(function(){return St})),n.d(t,"InterpolateSmooth",(function(){return Ct})),n.d(t,"InvertStencilOp",(function(){return Zt})),n.d(t,"JSONLoader",(function(){return wf})),n.d(t,"KeepStencilOp",(function(){return $t})),n.d(t,"KeyframeTrack",(function(){return Il})),n.d(t,"LOD",(function(){return Ls})),n.d(t,"LatheBufferGeometry",(function(){return ul})),n.d(t,"LatheGeometry",(function(){return ll})),n.d(t,"Layers",(function(){return jn})),n.d(t,"LensFlare",(function(){return _f})),n.d(t,"LessDepth",(function(){return Y})),n.d(t,"LessEqualDepth",(function(){return X})),n.d(t,"LessEqualStencilFunc",(function(){return tn})),n.d(t,"LessStencilFunc",(function(){return Qt})),n.d(t,"Light",(function(){return ku})),n.d(t,"LightProbe",(function(){return ah})),n.d(t,"LightProbeHelper",(function(){return md})),n.d(t,"LightShadow",(function(){return Pu})),n.d(t,"Line",(function(){return qs})),n.d(t,"Line3",(function(){return Kh})),n.d(t,"LineBasicMaterial",(function(){return Us})),n.d(t,"LineCurve",(function(){return wu})),n.d(t,"LineCurve3",(function(){return xu})),n.d(t,"LineDashedMaterial",(function(){return Pl})),n.d(t,"LineLoop",(function(){return Zs})),n.d(t,"LinePieces",(function(){return Hd})),n.d(t,"LineSegments",(function(){return Ks})),n.d(t,"LineStrip",(function(){return Ud})),n.d(t,"LinearEncoding",(function(){return Rt})),n.d(t,"LinearFilter",(function(){return Ce})),n.d(t,"LinearInterpolant",(function(){return jl})),n.d(t,"LinearMipMapLinearFilter",(function(){return ke})),n.d(t,"LinearMipMapNearestFilter",(function(){return Te})),n.d(t,"LinearMipmapLinearFilter",(function(){return Me})),n.d(t,"LinearMipmapNearestFilter",(function(){return Ae})),n.d(t,"LinearToneMapping",(function(){return ie})),n.d(t,"Loader",(function(){return Zl})),n.d(t,"LoaderUtils",(function(){return Hu})),n.d(t,"LoadingManager",(function(){return Xl})),n.d(t,"LogLuvEncoding",(function(){return jt})),n.d(t,"LoopOnce",(function(){return wt})),n.d(t,"LoopPingPong",(function(){return _t})),n.d(t,"LoopRepeat",(function(){return xt})),n.d(t,"LuminanceAlphaFormat",(function(){return Ge})),n.d(t,"LuminanceFormat",(function(){return $e})),n.d(t,"MOUSE",(function(){return i})),n.d(t,"Material",(function(){return Hr})),n.d(t,"MaterialLoader",(function(){return Uu})),n.d(t,"Math",(function(){return un})),n.d(t,"Matrix3",(function(){return yn})),n.d(t,"Matrix4",(function(){return Rn})),n.d(t,"MaxEquation",(function(){return L})),n.d(t,"Mesh",(function(){return Ti})),n.d(t,"MeshBasicMaterial",(function(){return Vr})),n.d(t,"MeshDepthMaterial",(function(){return Ya})),n.d(t,"MeshDistanceMaterial",(function(){return Xa})),n.d(t,"MeshFaceMaterial",(function(){return Vd})),n.d(t,"MeshLambertMaterial",(function(){return kl})),n.d(t,"MeshMatcapMaterial",(function(){return Ol})),n.d(t,"MeshNormalMaterial",(function(){return Ml})),n.d(t,"MeshPhongMaterial",(function(){return Al})),n.d(t,"MeshPhysicalMaterial",(function(){return Cl})),n.d(t,"MeshStandardMaterial",(function(){return Sl})),n.d(t,"MeshToonMaterial",(function(){return Tl})),n.d(t,"MinEquation",(function(){return F})),n.d(t,"MirroredRepeatWrapping",(function(){return be})),n.d(t,"MixOperation",(function(){return te})),n.d(t,"MultiMaterial",(function(){return Wd})),n.d(t,"MultiplyBlending",(function(){return M})),n.d(t,"MultiplyOperation",(function(){return ee})),n.d(t,"NearestFilter",(function(){return we})),n.d(t,"NearestMipMapLinearFilter",(function(){return Se})),n.d(t,"NearestMipMapNearestFilter",(function(){return _e})),n.d(t,"NearestMipmapLinearFilter",(function(){return Ee})),n.d(t,"NearestMipmapNearestFilter",(function(){return xe})),n.d(t,"NeverDepth",(function(){return G})),n.d(t,"NeverStencilFunc",(function(){return Jt})),n.d(t,"NoBlending",(function(){return S})),n.d(t,"NoColors",(function(){return x})),n.d(t,"NoToneMapping",(function(){return re})),n.d(t,"NormalBlending",(function(){return C})),n.d(t,"NotEqualDepth",(function(){return Q})),n.d(t,"NotEqualStencilFunc",(function(){return rn})),n.d(t,"NumberKeyframeTrack",(function(){return Ul})),n.d(t,"Object3D",(function(){return Kn})),n.d(t,"ObjectLoader",(function(){return qu})),n.d(t,"ObjectSpaceNormalMap",(function(){return Vt})),n.d(t,"OctahedronBufferGeometry",(function(){return vc})),n.d(t,"OctahedronGeometry",(function(){return gc})),n.d(t,"OneFactor",(function(){return j})),n.d(t,"OneMinusDstAlphaFactor",(function(){return H})),n.d(t,"OneMinusDstColorFactor",(function(){return W})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return z})),n.d(t,"OneMinusSrcColorFactor",(function(){return I})),n.d(t,"OrthographicCamera",(function(){return ju})),n.d(t,"PCFShadowMap",(function(){return f})),n.d(t,"PCFSoftShadowMap",(function(){return p})),n.d(t,"ParametricBufferGeometry",(function(){return hc})),n.d(t,"ParametricGeometry",(function(){return uc})),n.d(t,"Particle",(function(){return Gd})),n.d(t,"ParticleBasicMaterial",(function(){return Xd})),n.d(t,"ParticleSystem",(function(){return qd})),n.d(t,"ParticleSystemMaterial",(function(){return Kd})),n.d(t,"Path",(function(){return Tu})),n.d(t,"PerspectiveCamera",(function(){return Wi})),n.d(t,"Plane",(function(){return Qi})),n.d(t,"PlaneBufferGeometry",(function(){return lo})),n.d(t,"PlaneGeometry",(function(){return co})),n.d(t,"PlaneHelper",(function(){return Ld})),n.d(t,"PointCloud",(function(){return $d})),n.d(t,"PointCloudMaterial",(function(){return Yd})),n.d(t,"PointLight",(function(){return Du})),n.d(t,"PointLightHelper",(function(){return ld})),n.d(t,"Points",(function(){return rc})),n.d(t,"PointsMaterial",(function(){return Js})),n.d(t,"PolarGridHelper",(function(){return vd})),n.d(t,"PolyhedronBufferGeometry",(function(){return fc})),n.d(t,"PolyhedronGeometry",(function(){return dc})),n.d(t,"PositionalAudio",(function(){return Eh})),n.d(t,"PositionalAudioHelper",(function(){return yd})),n.d(t,"PropertyBinding",(function(){return Dh})),n.d(t,"PropertyMixer",(function(){return Ch})),n.d(t,"QuadraticBezierCurve",(function(){return _u})),n.d(t,"QuadraticBezierCurve3",(function(){return Eu})),n.d(t,"Quaternion",(function(){return dn})),n.d(t,"QuaternionKeyframeTrack",(function(){return Vl})),n.d(t,"QuaternionLinearInterpolant",(function(){return Hl})),n.d(t,"REVISION",(function(){return r})),n.d(t,"RGBADepthPacking",(function(){return Ut})),n.d(t,"RGBAFormat",(function(){return We})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return vt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return pt})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return mt})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return bt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return at})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return st})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return ct})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return lt})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return ut})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return ht})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return dt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return ft})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return it})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return rt})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return Je})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return Qe})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return et})),n.d(t,"RGBDEncoding",(function(){return Bt})),n.d(t,"RGBEEncoding",(function(){return Dt})),n.d(t,"RGBEFormat",(function(){return qe})),n.d(t,"RGBFormat",(function(){return Ve})),n.d(t,"RGBM16Encoding",(function(){return It})),n.d(t,"RGBM7Encoding",(function(){return Nt})),n.d(t,"RGB_ETC1_Format",(function(){return ot})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return nt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return tt})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return Ze})),n.d(t,"RawShaderMaterial",(function(){return El})),n.d(t,"Ray",(function(){return xr})),n.d(t,"Raycaster",(function(){return Uh})),n.d(t,"RectAreaLight",(function(){return zu})),n.d(t,"RectAreaLightHelper",(function(){return ud})),n.d(t,"RedFormat",(function(){return Ke})),n.d(t,"ReinhardToneMapping",(function(){return oe})),n.d(t,"RepeatWrapping",(function(){return ve})),n.d(t,"ReplaceStencilOp",(function(){return Gt})),n.d(t,"ReverseSubtractEquation",(function(){return R})),n.d(t,"RingBufferGeometry",(function(){return cl})),n.d(t,"RingGeometry",(function(){return sl})),n.d(t,"Scene",(function(){return Zn})),n.d(t,"SceneUtils",(function(){return xf})),n.d(t,"ShaderChunk",(function(){return ro})),n.d(t,"ShaderLib",(function(){return oo})),n.d(t,"ShaderMaterial",(function(){return Hi})),n.d(t,"ShadowMaterial",(function(){return _l})),n.d(t,"Shape",(function(){return Mu})),n.d(t,"ShapeBufferGeometry",(function(){return dl})),n.d(t,"ShapeGeometry",(function(){return hl})),n.d(t,"ShapePath",(function(){return Qu})),n.d(t,"ShapeUtils",(function(){return Kc})),n.d(t,"ShortType",(function(){return Re})),n.d(t,"Skeleton",(function(){return Is})),n.d(t,"SkeletonHelper",(function(){return cd})),n.d(t,"SkinnedMesh",(function(){return Ds})),n.d(t,"SmoothShading",(function(){return w})),n.d(t,"Sphere",(function(){return fr})),n.d(t,"SphereBufferGeometry",(function(){return al})),n.d(t,"SphereGeometry",(function(){return ol})),n.d(t,"Spherical",(function(){return Wh})),n.d(t,"SphericalHarmonics3",(function(){return oh})),n.d(t,"SphericalReflectionMapping",(function(){return pe})),n.d(t,"Spline",(function(){return hf})),n.d(t,"SplineCurve",(function(){return Su})),n.d(t,"SplineCurve3",(function(){return uf})),n.d(t,"SpotLight",(function(){return Fu})),n.d(t,"SpotLightHelper",(function(){return id})),n.d(t,"SpotLightShadow",(function(){return Ru})),n.d(t,"Sprite",(function(){return Os})),n.d(t,"SpriteMaterial",(function(){return vs})),n.d(t,"SrcAlphaFactor",(function(){return B})),n.d(t,"SrcAlphaSaturateFactor",(function(){return $})),n.d(t,"SrcColorFactor",(function(){return N})),n.d(t,"StereoCamera",(function(){return hh})),n.d(t,"StringKeyframeTrack",(function(){return Wl})),n.d(t,"SubtractEquation",(function(){return P})),n.d(t,"SubtractiveBlending",(function(){return T})),n.d(t,"TOUCH",(function(){return o})),n.d(t,"TangentSpaceNormalMap",(function(){return Ht})),n.d(t,"TetrahedronBufferGeometry",(function(){return mc})),n.d(t,"TetrahedronGeometry",(function(){return pc})),n.d(t,"TextBufferGeometry",(function(){return il})),n.d(t,"TextGeometry",(function(){return rl})),n.d(t,"Texture",(function(){return xn})),n.d(t,"TextureLoader",(function(){return ou})),n.d(t,"TorusBufferGeometry",(function(){return Tc})),n.d(t,"TorusGeometry",(function(){return Ac})),n.d(t,"TorusKnotBufferGeometry",(function(){return Cc})),n.d(t,"TorusKnotGeometry",(function(){return Sc})),n.d(t,"Triangle",(function(){return Rr})),n.d(t,"TriangleFanDrawMode",(function(){return Pt})),n.d(t,"TriangleStripDrawMode",(function(){return Ot})),n.d(t,"TrianglesDrawMode",(function(){return kt})),n.d(t,"TubeBufferGeometry",(function(){return Ec})),n.d(t,"TubeGeometry",(function(){return _c})),n.d(t,"UVMapping",(function(){return le})),n.d(t,"Uint16Attribute",(function(){return rf})),n.d(t,"Uint16BufferAttribute",(function(){return Xr})),n.d(t,"Uint32Attribute",(function(){return af})),n.d(t,"Uint32BufferAttribute",(function(){return Zr})),n.d(t,"Uint8Attribute",(function(){return ef})),n.d(t,"Uint8BufferAttribute",(function(){return Gr})),n.d(t,"Uint8ClampedAttribute",(function(){return tf})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return qr})),n.d(t,"Uncharted2ToneMapping",(function(){return ae})),n.d(t,"Uniform",(function(){return Bh})),n.d(t,"UniformsLib",(function(){return io})),n.d(t,"UniformsUtils",(function(){return Bi})),n.d(t,"UnsignedByteType",(function(){return Oe})),n.d(t,"UnsignedInt248Type",(function(){return Ue})),n.d(t,"UnsignedIntType",(function(){return De})),n.d(t,"UnsignedShort4444Type",(function(){return Ie})),n.d(t,"UnsignedShort5551Type",(function(){return Be})),n.d(t,"UnsignedShort565Type",(function(){return ze})),n.d(t,"UnsignedShortType",(function(){return Fe})),n.d(t,"VSMShadowMap",(function(){return m})),n.d(t,"Vector2",(function(){return hn})),n.d(t,"Vector3",(function(){return mn})),n.d(t,"Vector4",(function(){return _n})),n.d(t,"VectorKeyframeTrack",(function(){return $l})),n.d(t,"Vertex",(function(){return Zd})),n.d(t,"VertexColors",(function(){return E})),n.d(t,"VertexNormalsHelper",(function(){return nd})),n.d(t,"VideoTexture",(function(){return oc})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return Sn})),n.d(t,"WebGLRenderTarget",(function(){return En})),n.d(t,"WebGLRenderTargetCube",(function(){return Yi})),n.d(t,"WebGLRenderer",(function(){return ds})),n.d(t,"WebGLUtils",(function(){return ts})),n.d(t,"WireframeGeometry",(function(){return lc})),n.d(t,"WireframeHelper",(function(){return mf})),n.d(t,"WrapAroundEnding",(function(){return Mt})),n.d(t,"XHRLoader",(function(){return gf})),n.d(t,"ZeroCurvatureEnding",(function(){return At})),n.d(t,"ZeroFactor",(function(){return D})),n.d(t,"ZeroSlopeEnding",(function(){return Tt})),n.d(t,"ZeroStencilOp",(function(){return Wt})),n.d(t,"sRGBEncoding",(function(){return Ft})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var r="109",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,c=2,l=3,u=0,h=1,d=0,f=1,p=2,m=3,g=0,v=1,y=2,b=1,w=2,x=0,_=1,E=2,S=0,C=1,A=2,T=3,M=4,k=5,O=100,P=101,R=102,F=103,L=104,D=200,j=201,N=202,I=203,B=204,z=205,U=206,H=207,V=208,W=209,$=210,G=0,q=1,Y=2,X=3,K=4,Z=5,J=6,Q=7,ee=0,te=1,ne=2,re=0,ie=1,oe=2,ae=3,se=4,ce=5,le=300,ue=301,he=302,de=303,fe=304,pe=305,me=306,ge=307,ve=1e3,ye=1001,be=1002,we=1003,xe=1004,_e=1004,Ee=1005,Se=1005,Ce=1006,Ae=1007,Te=1007,Me=1008,ke=1008,Oe=1009,Pe=1010,Re=1011,Fe=1012,Le=1013,De=1014,je=1015,Ne=1016,Ie=1017,Be=1018,ze=1019,Ue=1020,He=1021,Ve=1022,We=1023,$e=1024,Ge=1025,qe=We,Ye=1026,Xe=1027,Ke=1028,Ze=33776,Je=33777,Qe=33778,et=33779,tt=35840,nt=35841,rt=35842,it=35843,ot=36196,at=37808,st=37809,ct=37810,lt=37811,ut=37812,ht=37813,dt=37814,ft=37815,pt=37816,mt=37817,gt=37818,vt=37819,yt=37820,bt=37821,wt=2200,xt=2201,_t=2202,Et=2300,St=2301,Ct=2302,At=2400,Tt=2401,Mt=2402,kt=0,Ot=1,Pt=2,Rt=3e3,Ft=3001,Lt=3007,Dt=3002,jt=3003,Nt=3004,It=3005,Bt=3006,zt=3200,Ut=3201,Ht=0,Vt=1,Wt=0,$t=7680,Gt=7681,qt=7682,Yt=7683,Xt=34055,Kt=34056,Zt=5386,Jt=512,Qt=513,en=514,tn=515,nn=516,rn=517,on=518,an=519;function sn(){}Object.assign(sn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var cn=[],ln=0;ln<256;ln++)cn[ln]=(ln<16?"0":"")+ln.toString(16);var un={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(cn[255&e]+cn[e>>8&255]+cn[e>>16&255]+cn[e>>24&255]+"-"+cn[255&t]+cn[t>>8&255]+"-"+cn[t>>16&15|64]+cn[t>>24&255]+"-"+cn[63&n|128]+cn[n>>8&255]+"-"+cn[n>>16&255]+cn[n>>24&255]+cn[255&r]+cn[r>>8&255]+cn[r>>16&255]+cn[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*un.DEG2RAD},radToDeg:function(e){return e*un.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function hn(e,t){this.x=e||0,this.y=t||0}function dn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}Object.defineProperties(hn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(hn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}}),Object.assign(dn,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(u!==p||s!==h||c!==d||l!==f){var m=1-a,g=s*h+c*d+l*f+u*p,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),w=Math.atan2(b,g*v);m=Math.sin(m*w)/b,a=Math.sin(a*w)/b}var x=a*v;if(s=s*m+h*x,c=c*m+d*x,l=l*m+f*x,u=u*m+p*x,m===1-a){var _=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=_,c*=_,l*=_,u*=_}}e[t]=s,e[t+1]=c,e[t+2]=l,e[t+3]=u}}),Object.defineProperties(dn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(dn.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,c=a(n/2),l=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);return"XYZ"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u-h*d*f):"YXZ"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u+h*d*f):"ZXY"===o?(this._x=h*l*u-c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u-h*d*f):"ZYX"===o?(this._x=h*l*u-c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u+h*d*f):"YZX"===o?(this._x=h*l*u+c*d*f,this._y=c*d*u+h*l*f,this._z=c*l*f-h*d*u,this._w=c*l*u-h*d*f):"XZY"===o&&(this._x=h*l*u-c*d*f,this._y=c*d*u-h*l*f,this._z=c*l*f+h*d*u,this._w=c*l*u+h*d*f),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],l=n[2],u=n[6],h=n[10],d=r+s+h;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(u-c)*t,this._y=(o-l)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(u-c)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+l)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-l)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(c+u)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+l)/t,this._y=(c+u)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(un.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,c=t._z,l=t._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*n+t*this._x,this._y=c*r+t*this._y,this._z=c*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,a),h=Math.sin((1-t)*u)/l,d=Math.sin(t*u)/l;return this._w=o*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var fn=new mn,pn=new dn;function mn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(mn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(pn.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(pn.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,c=s*t+o*r-a*n,l=s*n+a*t-i*r,u=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return fn.copy(this).projectOnVector(e),this.sub(fn)},reflect:function(e){return this.sub(fn.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());0===t&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(e)/t;return Math.acos(un.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var gn,vn=new mn;function yn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(yn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,c){var l=this.elements;return l[0]=e,l[1]=r,l[2]=a,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)vn.x=e.getX(t),vn.y=e.getY(t),vn.z=e.getZ(t),vn.applyMatrix3(this),e.setXYZ(t,vn.x,vn.y,vn.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],c=n[1],l=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],w=r[2],x=r[5],_=r[8];return i[0]=o*p+a*v+s*w,i[3]=o*m+a*y+s*x,i[6]=o*g+a*b+s*_,i[1]=c*p+l*v+u*w,i[4]=c*m+l*y+u*x,i[7]=c*g+l*b+u*_,i[2]=h*p+d*v+f*w,i[5]=h*m+d*y+f*x,i[8]=h*g+d*b+f*_,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],c=e[7],l=e[8];return t*o*l-t*a*c-n*i*l+n*a*s+r*i*c-r*o*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=n[8],f=d*c-l*h,p=l*u-d*s,m=h*s-c*u,g=i*f+o*p+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=f*y,r[1]=(a*h-d*o)*y,r[2]=(l*o-a*c)*y,r[3]=p*y,r[4]=(d*i-a*u)*y,r[5]=(a*s-l*i)*y,r[6]=m*y,r[7]=(o*u-h*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*o+c*a)+o+e,-r*c,r*s,-r*(-c*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],c=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*c,r[6]=t*a+n*l,r[1]=-n*i+t*s,r[4]=-n*o+t*c,r[7]=-n*a+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var bn={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===gn&&(gn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),gn.width=e.width,gn.height=e.height;var n=gn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=gn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},wn=0;function xn(e,t,n,r,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:wn++}),this.uuid=un.generateUUID(),this.name="",this.image=void 0!==e?e:xn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:xn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ye,this.wrapT=void 0!==r?r:ye,this.magFilter=void 0!==i?i:Ce,this.minFilter=void 0!==o?o:Me,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:We,this.type=void 0!==s?s:Oe,this.offset=new hn(0,0),this.repeat=new hn(1,1),this.center=new hn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Rt,this.version=0,this.onUpdate=null}function _n(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function En(e,t,n){this.width=e,this.height=t,this.scissor=new _n(0,0,e,t),this.scissorTest=!1,this.viewport=new _n(0,0,e,t),n=n||{},this.texture=new xn(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ce,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Sn(e,t,n){En.call(this,e,t,n),this.samples=4}xn.DEFAULT_IMAGE=void 0,xn.DEFAULT_MAPPING=le,xn.prototype=Object.assign(Object.create(sn.prototype),{constructor:xn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=un.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(bn.getDataURL(r[o]))}else i=bn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==le)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ve:e.x=e.x-Math.floor(e.x);break;case ye:e.x=e.x<0?0:1;break;case be:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ve:e.y=e.y-Math.floor(e.y);break;case ye:e.y=e.y<0?0:1;break;case be:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(xn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(_n.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(_n.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],d=o[2],f=o[6],p=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-d)<.01&&Math.abs(h-f)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+d)<.1&&Math.abs(h+f)<.1&&Math.abs(a+u+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,g=(u+1)/2,v=(p+1)/2,y=(s+l)/4,b=(c+d)/4,w=(h+f)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(g)),i=w/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(v)),r=w/i),this.set(n,r,i,t),this}var x=Math.sqrt((f-h)*(f-h)+(c-d)*(c-d)+(l-s)*(l-s));return Math.abs(x)<.001&&(x=1),this.x=(f-h)/x,this.y=(c-d)/x,this.z=(l-s)/x,this.w=Math.acos((a+u+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),En.prototype=Object.assign(Object.create(sn.prototype),{constructor:En,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Sn.prototype=Object.assign(Object.create(En.prototype),{constructor:Sn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return En.prototype.copy.call(this,e),this.samples=e.samples,this}});var Cn=new mn,An=new Rn,Tn=new mn(0,0,0),Mn=new mn(1,1,1),kn=new mn,On=new mn,Pn=new mn;function Rn(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Rn.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,c,l,u,h,d,f,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=c,g[6]=l,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Rn).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/Cn.setFromMatrixColumn(e,0).length(),i=1/Cn.setFromMatrixColumn(e,1).length(),o=1/Cn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){var h=o*l,d=o*u,f=a*l,p=a*u;t[0]=s*l,t[4]=-s*u,t[8]=c,t[1]=d+f*c,t[5]=h-p*c,t[9]=-a*s,t[2]=p-h*c,t[6]=f+d*c,t[10]=o*s}else if("YXZ"===e.order){var m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m+y*a,t[4]=v*a-g,t[8]=o*c,t[1]=o*u,t[5]=o*l,t[9]=-a,t[2]=g*a-v,t[6]=y+m*a,t[10]=o*s}else if("ZXY"===e.order){m=s*l,g=s*u,v=c*l,y=c*u;t[0]=m-y*a,t[4]=-o*u,t[8]=v+g*a,t[1]=g+v*a,t[5]=o*l,t[9]=y-m*a,t[2]=-o*c,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){h=o*l,d=o*u,f=a*l,p=a*u;t[0]=s*l,t[4]=f*c-d,t[8]=h*c+p,t[1]=s*u,t[5]=p*c+h,t[9]=d*c-f,t[2]=-c,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,w=o*c,x=a*s,_=a*c;t[0]=s*l,t[4]=_-b*u,t[8]=x*u+w,t[1]=u,t[5]=o*l,t[9]=-a*l,t[2]=-c*l,t[6]=w*u+x,t[10]=b-_*u}else if("XZY"===e.order){b=o*s,w=o*c,x=a*s,_=a*c;t[0]=s*l,t[4]=-u,t[8]=c*l,t[1]=b*u+_,t[5]=o*l,t[9]=w*u-x,t[2]=x*u-w,t[6]=a*l,t[10]=_*u+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Tn,e,Mn)},lookAt:function(e,t,n){var r=this.elements;return Pn.subVectors(e,t),0===Pn.lengthSq()&&(Pn.z=1),Pn.normalize(),kn.crossVectors(n,Pn),0===kn.lengthSq()&&(1===Math.abs(n.z)?Pn.x+=1e-4:Pn.z+=1e-4,Pn.normalize(),kn.crossVectors(n,Pn)),kn.normalize(),On.crossVectors(Pn,kn),r[0]=kn.x,r[4]=On.x,r[8]=Pn.x,r[1]=kn.y,r[5]=On.y,r[9]=Pn.y,r[2]=kn.z,r[6]=On.z,r[10]=Pn.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],E=r[8],S=r[12],C=r[1],A=r[5],T=r[9],M=r[13],k=r[2],O=r[6],P=r[10],R=r[14],F=r[3],L=r[7],D=r[11],j=r[15];return i[0]=o*x+a*C+s*k+c*F,i[4]=o*_+a*A+s*O+c*L,i[8]=o*E+a*T+s*P+c*D,i[12]=o*S+a*M+s*R+c*j,i[1]=l*x+u*C+h*k+d*F,i[5]=l*_+u*A+h*O+d*L,i[9]=l*E+u*T+h*P+d*D,i[13]=l*S+u*M+h*R+d*j,i[2]=f*x+p*C+m*k+g*F,i[6]=f*_+p*A+m*O+g*L,i[10]=f*E+p*T+m*P+g*D,i[14]=f*S+p*M+m*R+g*j,i[3]=v*x+y*C+b*k+w*F,i[7]=v*_+y*A+b*O+w*L,i[11]=v*E+y*T+b*P+w*D,i[15]=v*S+y*M+b*R+w*j,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)Cn.x=e.getX(t),Cn.y=e.getY(t),Cn.z=e.getZ(t),Cn.applyMatrix4(this),e.setXYZ(t,Cn.x,Cn.y,Cn.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],c=e[13],l=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*c*u-i*a*h+n*c*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*c*h+i*o*h-r*o*d+r*c*l-i*s*l)+e[11]*(+t*c*u-t*a*d-i*o*u+n*o*d+i*a*l-n*c*l)+e[15]*(-r*a*l-t*s*u+t*a*h+r*o*u-n*o*h+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],w=f*y*h-v*p*h+v*u*m-l*y*m-f*u*b+l*p*b,x=g*p*h-d*y*h-g*u*m+c*y*m+d*u*b-c*p*b,_=d*v*h-g*f*h+g*l*m-c*v*m-d*l*b+c*f*b,E=g*f*u-d*v*u-g*l*p+c*v*p+d*l*y-c*f*y,S=i*w+o*x+a*_+s*E;if(0===S){var C="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===t)throw new Error(C);return console.warn(C),this.identity()}var A=1/S;return n[0]=w*A,n[1]=(v*p*s-f*y*s-v*a*m+o*y*m+f*a*b-o*p*b)*A,n[2]=(l*y*s-v*u*s+v*a*h-o*y*h-l*a*b+o*u*b)*A,n[3]=(f*u*s-l*p*s-f*a*h+o*p*h+l*a*m-o*u*m)*A,n[4]=x*A,n[5]=(d*y*s-g*p*s+g*a*m-i*y*m-d*a*b+i*p*b)*A,n[6]=(g*u*s-c*y*s-g*a*h+i*y*h+c*a*b-i*u*b)*A,n[7]=(c*p*s-d*u*s+d*a*h-i*p*h-c*a*m+i*u*m)*A,n[8]=_*A,n[9]=(g*f*s-d*v*s-g*o*m+i*v*m+d*o*b-i*f*b)*A,n[10]=(c*v*s-g*l*s+g*o*h-i*v*h-c*o*b+i*l*b)*A,n[11]=(d*l*s-c*f*s-d*o*h+i*f*h+c*o*m-i*l*m)*A,n[12]=E*A,n[13]=(d*v*a-g*f*a+g*o*p-i*v*p-d*o*y+i*f*y)*A,n[14]=(g*l*a-c*v*a-g*o*u+i*v*u+c*o*y-i*l*y)*A,n[15]=(c*f*a-d*l*a+d*o*u-i*f*u-c*o*p+i*l*p)*A,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,c=i+i,l=o+o,u=a+a,h=i*c,d=i*l,f=i*u,p=o*l,m=o*u,g=a*u,v=s*c,y=s*l,b=s*u,w=n.x,x=n.y,_=n.z;return r[0]=(1-(p+g))*w,r[1]=(d+b)*w,r[2]=(f-y)*w,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(f+y)*_,r[9]=(m-v)*_,r[10]=(1-(h+p))*_,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=Cn.set(r[0],r[1],r[2]).length(),o=Cn.set(r[4],r[5],r[6]).length(),a=Cn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],An.copy(this);var s=1/i,c=1/o,l=1/a;return An.elements[0]*=s,An.elements[1]*=s,An.elements[2]*=s,An.elements[4]*=c,An.elements[5]*=c,An.elements[6]*=c,An.elements[8]*=l,An.elements[9]*=l,An.elements[10]*=l,t.setFromRotationMatrix(An),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),c=2*i/(n-r),l=(t+e)/(t-e),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),c=1/(n-r),l=1/(o-i),u=(t+e)*s,h=(n+r)*c,d=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var Fn=new Rn,Ln=new dn;function Dn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||Dn.DefaultOrder}function jn(){this.mask=1}Dn.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Dn.DefaultOrder="XYZ",Object.defineProperties(Dn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Dn.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=un.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],h=i[2],d=i[6],f=i[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,f))):"XZY"===t?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,f),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Fn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Fn,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Ln.setFromEuler(this),this.setFromQuaternion(Ln,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new mn(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(jn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var Nn=0,In=new mn,Bn=new dn,zn=new Rn,Un=new mn,Hn=new mn,Vn=new mn,Wn=new dn,$n=new mn(1,0,0),Gn=new mn(0,1,0),qn=new mn(0,0,1),Yn={type:"added"},Xn={type:"removed"};function Kn(){Object.defineProperty(this,"id",{value:Nn++}),this.uuid=un.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kn.DefaultUp.clone();var e=new mn,t=new Dn,n=new dn,r=new mn(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Rn},normalMatrix:{value:new yn}}),this.matrix=new Rn,this.matrixWorld=new Rn,this.matrixAutoUpdate=Kn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new jn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Zn(){Kn.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Kn.DefaultUp=new mn(0,1,0),Kn.DefaultMatrixAutoUpdate=!0,Kn.prototype=Object.assign(Object.create(sn.prototype),{constructor:Kn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.multiply(Bn),this},rotateOnWorldAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.premultiply(Bn),this},rotateX:function(e){return this.rotateOnAxis($n,e)},rotateY:function(e){return this.rotateOnAxis(Gn,e)},rotateZ:function(e){return this.rotateOnAxis(qn,e)},translateOnAxis:function(e,t){return In.copy(e).applyQuaternion(this.quaternion),this.position.add(In.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis($n,e)},translateY:function(e){return this.translateOnAxis(Gn,e)},translateZ:function(e){return this.translateOnAxis(qn,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(zn.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Un.copy(e):Un.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Hn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zn.lookAt(Hn,Un,this.up):zn.lookAt(Un,Hn,this.up),this.quaternion.setFromRotationMatrix(zn),r&&(zn.extractRotation(r.matrixWorld),Bn.setFromRotationMatrix(zn),this.quaternion.premultiply(Bn.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Yn)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Xn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),zn.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),zn.multiply(e.parent.matrixWorld)),e.applyMatrix(zn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new mn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new dn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Hn,e,Vn),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new mn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Hn,Wn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new mn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==kt&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,c=a.length;s<c;s++){var l=a[s];i(e.shapes,l)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,c=this.material.length;s<c;s++)u.push(i(e.materials,this.material[s]));r.material=u}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var h=m(e.geometries),d=m(e.materials),f=m(e.textures),p=m(e.images);a=m(e.shapes);h.length>0&&(n.geometries=h),d.length>0&&(n.materials=d),f.length>0&&(n.textures=f),p.length>0&&(n.images=p),a.length>0&&(n.shapes=a)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),Zn.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Zn,isScene:!0,copy:function(e,t){return Kn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Kn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Jn=[new mn,new mn,new mn,new mn,new mn,new mn,new mn,new mn],Qn=new mn,er=new mn,tr=new mn,nr=new mn,rr=new mn,ir=new mn,or=new mn,ar=new mn,sr=new mn,cr=new mn,lr=new mn;function ur(e,t){this.min=void 0!==e?e:new mn(1/0,1/0,1/0),this.max=void 0!==t?t:new mn(-1/0,-1/0,-1/0)}function hr(e,t,n,r,i){var o,a;for(o=0,a=e.length-3;o<=a;o+=3){lr.fromArray(e,o);var s=i.x*Math.abs(lr.x)+i.y*Math.abs(lr.y)+i.z*Math.abs(lr.z),c=t.dot(lr),l=n.dot(lr),u=r.dot(lr);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(ur.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.length;s<c;s+=3){var l=e[s],u=e[s+1],h=e[s+2];l<t&&(t=l),u<n&&(n=u),h<r&&(r=h),l>i&&(i=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=e.count;s<c;s++){var l=e.getX(s),u=e.getY(s),h=e.getZ(s);l<t&&(t=l),u<n&&(n=u),h<r&&(r=h),l>i&&(i=l),u>o&&(o=u),h>a&&(a=h)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Qn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new mn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new mn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){var t,n;e.updateWorldMatrix(!1,!1);var r=e.geometry;if(void 0!==r)if(r.isGeometry){var i=r.vertices;for(t=0,n=i.length;t<n;t++)Qn.copy(i[t]),Qn.applyMatrix4(e.matrixWorld),this.expandByPoint(Qn)}else if(r.isBufferGeometry){var o=r.attributes.position;if(void 0!==o)for(t=0,n=o.count;t<n;t++)Qn.fromBufferAttribute(o,t).applyMatrix4(e.matrixWorld),this.expandByPoint(Qn)}var a=e.children;for(t=0,n=a.length;t<n;t++)this.expandByObject(a[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new mn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Qn),Qn.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(ar),sr.subVectors(this.max,ar),er.subVectors(e.a,ar),tr.subVectors(e.b,ar),nr.subVectors(e.c,ar),rr.subVectors(tr,er),ir.subVectors(nr,tr),or.subVectors(er,nr);var t=[0,-rr.z,rr.y,0,-ir.z,ir.y,0,-or.z,or.y,rr.z,0,-rr.x,ir.z,0,-ir.x,or.z,0,-or.x,-rr.y,rr.x,0,-ir.y,ir.x,0,-or.y,or.x,0];return!!hr(t,er,tr,nr,sr)&&(!!hr(t=[1,0,0,0,1,0,0,0,1],er,tr,nr,sr)&&(cr.crossVectors(rr,ir),hr(t=[cr.x,cr.y,cr.z],er,tr,nr,sr)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new mn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Qn.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Qn).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Jn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jn),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var dr=new ur;function fr(e,t){this.center=void 0!==e?e:new mn,this.radius=void 0!==t?t:0}Object.assign(fr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):dr.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new mn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new ur),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var pr=new mn,mr=new mn,gr=new mn,vr=new mn,yr=new mn,br=new mn,wr=new mn;function xr(e,t){this.origin=void 0!==e?e:new mn,this.direction=void 0!==t?t:new mn}Object.assign(xr.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new mn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,pr)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new mn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=pr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(pr.copy(this.direction).multiplyScalar(t).add(this.origin),pr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){mr.copy(e).add(t).multiplyScalar(.5),gr.copy(t).sub(e).normalize(),vr.copy(this.origin).sub(mr);var i,o,a,s,c=.5*e.distanceTo(t),l=-this.direction.dot(gr),u=vr.dot(this.direction),h=-vr.dot(gr),d=vr.lengthSq(),f=Math.abs(1-l*l);if(f>0)if(o=l*u-h,s=c*f,(i=l*h-u)>=0)if(o>=-s)if(o<=s){var p=1/f;a=(i*=p)*(i+l*(o*=p)+2*u)+o*(l*i+o+2*h)+d}else o=c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;else o=-c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;else o<=-s?a=-(i=Math.max(0,-(-l*c+u)))*i+(o=i>0?-c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-h),c))*(o+2*h)+d):a=-(i=Math.max(0,-(l*c+u)))*i+(o=i>0?c:Math.min(Math.max(-c,-h),c))*(o+2*h)+d;else o=l>0?-c:c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(gr).multiplyScalar(o).add(mr),a},intersectSphere:function(e,t){pr.subVectors(e.center,this.origin);var n=pr.dot(this.direction),r=pr.dot(pr)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(n=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),l>=0?(i=(e.min.y-h.y)*l,o=(e.max.y-h.y)*l):(i=(e.max.y-h.y)*l,o=(e.min.y-h.y)*l),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,pr)},intersectTriangle:function(e,t,n,r,i){yr.subVectors(t,e),br.subVectors(n,e),wr.crossVectors(yr,br);var o,a=this.direction.dot(wr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}vr.subVectors(this.origin,e);var s=o*this.direction.dot(br.crossVectors(vr,br));if(s<0)return null;var c=o*this.direction.dot(yr.cross(vr));if(c<0)return null;if(s+c>a)return null;var l=-o*vr.dot(wr);return l<0?null:this.at(l/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var _r=new mn,Er=new mn,Sr=new mn,Cr=new mn,Ar=new mn,Tr=new mn,Mr=new mn,kr=new mn,Or=new mn,Pr=new mn;function Rr(e,t,n){this.a=void 0!==e?e:new mn,this.b=void 0!==t?t:new mn,this.c=void 0!==n?n:new mn}Object.assign(Rr,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new mn),r.subVectors(n,t),_r.subVectors(e,t),r.cross(_r);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){_r.subVectors(r,t),Er.subVectors(n,t),Sr.subVectors(e,t);var o=_r.dot(_r),a=_r.dot(Er),s=_r.dot(Sr),c=Er.dot(Er),l=Er.dot(Sr),u=o*c-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new mn),0===u)return i.set(-2,-1,-1);var h=1/u,d=(c*s-a*l)*h,f=(o*l-a*s)*h;return i.set(1-d-f,f,d)},containsPoint:function(e,t,n,r){return Rr.getBarycoord(e,t,n,r,Cr),Cr.x>=0&&Cr.y>=0&&Cr.x+Cr.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,Cr),s.set(0,0),s.addScaledVector(i,Cr.x),s.addScaledVector(o,Cr.y),s.addScaledVector(a,Cr.z),s},isFrontFacing:function(e,t,n,r){return _r.subVectors(n,t),Er.subVectors(e,t),_r.cross(Er).dot(r)<0}}),Object.assign(Rr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return _r.subVectors(this.c,this.b),Er.subVectors(this.a,this.b),.5*_r.cross(Er).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new mn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Rr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new mn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Rr.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Rr.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Rr.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Rr.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new mn);var n,r,i=this.a,o=this.b,a=this.c;Ar.subVectors(o,i),Tr.subVectors(a,i),kr.subVectors(e,i);var s=Ar.dot(kr),c=Tr.dot(kr);if(s<=0&&c<=0)return t.copy(i);Or.subVectors(e,o);var l=Ar.dot(Or),u=Tr.dot(Or);if(l>=0&&u<=l)return t.copy(o);var h=s*u-l*c;if(h<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Ar,n);Pr.subVectors(e,a);var d=Ar.dot(Pr),f=Tr.dot(Pr);if(f>=0&&d<=f)return t.copy(a);var p=d*c-s*f;if(p<=0&&c>=0&&f<=0)return r=c/(c-f),t.copy(i).addScaledVector(Tr,r);var m=l*f-d*u;if(m<=0&&u-l>=0&&d-f>=0)return Mr.subVectors(a,o),r=(u-l)/(u-l+(d-f)),t.copy(o).addScaledVector(Mr,r);var g=1/(m+p+h);return n=p*g,r=h*g,t.copy(i).addScaledVector(Ar,n).addScaledVector(Tr,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Fr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lr={h:0,s:0,l:0},Dr={h:0,s:0,l:0};function jr(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function Nr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Ir(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Br(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function zr(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new mn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new jr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(jr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=un.euclideanModulo(e,1),t=un.clamp(t,0,1),n=un.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Nr(i,r,e+1/3),this.g=Nr(i,r,e),this.b=Nr(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(l=Fr[e])?this.setHex(l):console.warn("THREE.Color: Unknown color "+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Ir(e.r),this.g=Ir(e.g),this.b=Ir(e.b),this},copyLinearToSRGB:function(e){return this.r=Br(e.r),this.g=Br(e.g),this.b=Br(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),c=(s+a)/2;if(s===a)t=0,n=0;else{var l=a-s;switch(n=c<=.5?l/(a+s):l/(2-a-s),a){case r:t=(i-o)/l+(i<o?6:0);break;case i:t=(o-r)/l+2;break;case o:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(Lr),Lr.h+=e,Lr.s+=t,Lr.l+=n,this.setHSL(Lr.h,Lr.s,Lr.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Lr),e.getHSL(Dr);var n=un.lerp(Lr.h,Dr.h,t),r=un.lerp(Lr.s,Dr.s,t),i=un.lerp(Lr.l,Dr.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Object.assign(zr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Ur=0;function Hr(){Object.defineProperty(this,"id",{value:Ur++}),this.uuid=un.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=C,this.side=g,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=x,this.opacity=1,this.transparent=!1,this.blendSrc=B,this.blendDst=z,this.blendEquation=O,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=X,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=an,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$t,this.stencilZFail=$t,this.stencilZPass=$t,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.needsUpdate=!0}function Vr(e){Hr.call(this),this.type="MeshBasicMaterial",this.color=new jr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}function Wr(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function $r(e,t,n){Wr.call(this,new Int8Array(e),t,n)}function Gr(e,t,n){Wr.call(this,new Uint8Array(e),t,n)}function qr(e,t,n){Wr.call(this,new Uint8ClampedArray(e),t,n)}function Yr(e,t,n){Wr.call(this,new Int16Array(e),t,n)}function Xr(e,t,n){Wr.call(this,new Uint16Array(e),t,n)}function Kr(e,t,n){Wr.call(this,new Int32Array(e),t,n)}function Zr(e,t,n){Wr.call(this,new Uint32Array(e),t,n)}function Jr(e,t,n){Wr.call(this,new Float32Array(e),t,n)}function Qr(e,t,n){Wr.call(this,new Float64Array(e),t,n)}function ei(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ti(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Hr.prototype=Object.assign(Object.create(sn.prototype),{constructor:Hr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===b;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==C&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==g&&(n.side=this.side),this.vertexColors!==x&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWrite=e.stencilWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Vr.prototype=Object.create(Hr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isMeshBasicMaterial=!0,Vr.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(Wr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Wr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new jr),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new hn),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new mn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new _n),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),$r.prototype=Object.create(Wr.prototype),$r.prototype.constructor=$r,Gr.prototype=Object.create(Wr.prototype),Gr.prototype.constructor=Gr,qr.prototype=Object.create(Wr.prototype),qr.prototype.constructor=qr,Yr.prototype=Object.create(Wr.prototype),Yr.prototype.constructor=Yr,Xr.prototype=Object.create(Wr.prototype),Xr.prototype.constructor=Xr,Kr.prototype=Object.create(Wr.prototype),Kr.prototype.constructor=Kr,Zr.prototype=Object.create(Wr.prototype),Zr.prototype.constructor=Zr,Jr.prototype=Object.create(Wr.prototype),Jr.prototype.constructor=Jr,Qr.prototype=Object.create(Wr.prototype),Qr.prototype.constructor=Qr,Object.assign(ei.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,n.push(t)),t={start:3*o,materialIndex:r})}void 0!==t&&(t.count=3*o-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,c=s.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var u,h=e.morphNormals,d=h.length;if(d>0){u=[];for(l=0;l<d;l++)u[l]={name:h[l].name,data:[]};this.morphTargets.normal=u}var f=e.skinIndices,p=e.skinWeights,m=f.length===r.length,g=p.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var w,x=v.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var _=v.color;this.colors.push(_,_,_)}if(!0===o)void 0!==(w=i[0][l])?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new hn,new hn,new hn));if(!0===a)void 0!==(w=i[1][l])?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new hn,new hn,new hn));for(var E=0;E<c;E++){var S=s[E].vertices;t[E].data.push(S[v.a],S[v.b],S[v.c])}for(E=0;E<d;E++){var C=h[E].vertexNormals[l];u[E].data.push(C.a,C.b,C.c)}m&&this.skinIndices.push(f[v.a],f[v.b],f[v.c]),g&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var ni=1,ri=new Rn,ii=new Kn,oi=new mn,ai=new ur,si=new ur,ci=new mn;function li(){Object.defineProperty(this,"id",{value:ni+=2}),this.uuid=un.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}li.prototype=Object.assign(Object.create(sn.prototype),{constructor:li,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(ti(e)>65535?Zr:Xr)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new Wr(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new yn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new yn).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return ri.makeRotationX(e),this.applyMatrix(ri),this},rotateY:function(e){return ri.makeRotationY(e),this.applyMatrix(ri),this},rotateZ:function(e){return ri.makeRotationZ(e),this.applyMatrix(ri),this},translate:function(e,t,n){return ri.makeTranslation(e,t,n),this.applyMatrix(ri),this},scale:function(e,t,n){return ri.makeScale(e,t,n),this.applyMatrix(ri),this},lookAt:function(e){return ii.lookAt(e),ii.updateMatrix(),this.applyMatrix(ii.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(oi).negate(),this.translate(oi.x,oi.y,oi.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Jr(3*t.vertices.length,3),r=new Jr(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Jr(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new Jr(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ei).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Wr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Wr(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new Wr(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Wr(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Wr(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],c=e.morphTargets[a],l=0,u=c.length;l<u;l++){var h=c[l],d=new Jr(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var f=new Jr(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Jr(4*e.skinWeights.length,4);this.addAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ur);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];ai.setFromBufferAttribute(i),this.boundingBox.expandByPoint(ai.min),this.boundingBox.expandByPoint(ai.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new fr);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(ai.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];si.setFromBufferAttribute(o),ai.expandByPoint(si.min),ai.expandByPoint(si.max)}ai.getCenter(n);var a=0;for(r=0,i=e.count;r<i;r++)ci.fromBufferAttribute(e,r),a=Math.max(a,n.distanceToSquared(ci));if(t)for(r=0,i=t.length;r<i;r++)for(var s=0,c=(o=t[r]).count;s<c;s++)ci.fromBufferAttribute(o,s),a=Math.max(a,n.distanceToSquared(ci));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Wr(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,o=r.length;i<o;i++)r[i]=0;var a,s,c,l=t.normal.array,u=new mn,h=new mn,d=new mn,f=new mn,p=new mn;if(e){var m=e.array;for(i=0,o=e.count;i<o;i+=3)a=3*m[i+0],s=3*m[i+1],c=3*m[i+2],u.fromArray(n,a),h.fromArray(n,s),d.fromArray(n,c),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),l[a]+=f.x,l[a+1]+=f.y,l[a+2]+=f.z,l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z}else for(i=0,o=n.length;i<o;i+=9)u.fromArray(n,i),h.fromArray(n,i+3),d.fromArray(n,i+6),f.subVectors(d,h),p.subVectors(u,h),f.cross(p),l[i]=f.x,l[i+1]=f.y,l[i+2]=f.z,l[i+3]=f.x,l[i+4]=f.y,l[i+5]=f.z,l[i+6]=f.x,l[i+7]=f.y,l[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,c=Math.min(a.length,i.length-s),l=0,u=s;l<c;l++,u++)i[u]=a[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ci.x=e.getX(t),ci.y=e.getY(t),ci.z=e.getZ(t),ci.normalize(),e.setXYZ(t,ci.x,ci.y,ci.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),o=0,a=0,s=0,c=t.length;s<c;s++){o=t[s]*r;for(var l=0;l<r;l++)i[a++]=n[o++]}return new Wr(i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new li,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.addAttribute(i,o)}var a=this.morphAttributes;for(i in a){for(var s=[],c=a[i],l=0,u=c.length;l<u;l++){o=e(c[l],n);s.push(o)}t.morphAttributes[i]=s}for(var h=this.groups,d=(l=0,h.length);l<d;l++){var f=h[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var o=(d=i[n]).toJSON();""!==d.name&&(o.name=d.name),e.data.attributes[n]=o}var a={},s=!1;for(var n in this.morphAttributes){for(var c=this.morphAttributes[n],l=[],u=0,h=c.length;u<h;u++){var d;o=(d=c[u]).toJSON();""!==d.name&&(o.name=d.name),l.push(o)}l.length>0&&(a[n]=l,s=!0)}s&&(e.data.morphAttributes=a);var f=this.groups;f.length>0&&(e.data.groups=JSON.parse(JSON.stringify(f)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new li).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var o=e.attributes;for(t in o){var a=o[t];this.addAttribute(t,a.clone())}var s=e.morphAttributes;for(t in s){var c=[],l=s[t];for(n=0,r=l.length;n<r;n++)c.push(l[n].clone());this.morphAttributes[t]=c}var u=e.groups;for(n=0,r=u.length;n<r;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var f=e.boundingSphere;return null!==f&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ui=new Rn,hi=new xr,di=new fr,fi=new mn,pi=new mn,mi=new mn,gi=new mn,vi=new mn,yi=new mn,bi=new mn,wi=new mn,xi=new mn,_i=new hn,Ei=new hn,Si=new hn,Ci=new mn,Ai=new mn;function Ti(e,t){Kn.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Vr({color:16777215*Math.random()}),this.drawMode=kt,this.updateMorphTargets()}function Mi(e,t,n,r,i,o,a,s){if(null===(t.side===v?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==y,s)))return null;Ai.copy(s),Ai.applyMatrix4(e.matrixWorld);var c=n.ray.origin.distanceTo(Ai);return c<n.near||c>n.far?null:{distance:c,point:Ai.clone(),object:e}}function ki(e,t,n,r,i,o,a,s,c,l,u){fi.fromBufferAttribute(i,c),pi.fromBufferAttribute(i,l),mi.fromBufferAttribute(i,u);var h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){bi.set(0,0,0),wi.set(0,0,0),xi.set(0,0,0);for(var d=0,f=o.length;d<f;d++){var p=h[d],m=o[d];0!==p&&(gi.fromBufferAttribute(m,c),vi.fromBufferAttribute(m,l),yi.fromBufferAttribute(m,u),bi.addScaledVector(gi.sub(fi),p),wi.addScaledVector(vi.sub(pi),p),xi.addScaledVector(yi.sub(mi),p))}fi.add(bi),pi.add(wi),mi.add(xi)}var g=Mi(e,t,n,r,fi,pi,mi,Ci);if(g){a&&(_i.fromBufferAttribute(a,c),Ei.fromBufferAttribute(a,l),Si.fromBufferAttribute(a,u),g.uv=Rr.getUV(Ci,fi,pi,mi,_i,Ei,Si,new hn)),s&&(_i.fromBufferAttribute(s,c),Ei.fromBufferAttribute(s,l),Si.fromBufferAttribute(s,u),g.uv2=Rr.getUV(Ci,fi,pi,mi,_i,Ei,Si,new hn));var v=new zr(c,l,u);Rr.getNormal(fi,pi,mi,v.normal),g.face=v}return g}Ti.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Ti,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Kn.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),di.copy(r.boundingSphere),di.applyMatrix4(o),!1!==e.ray.intersectsSphere(di)&&(ui.getInverse(o),hi.copy(e.ray).applyMatrix4(ui),null===r.boundingBox||!1!==hi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a,s,c,l,u,h,d,f,p,m=r.index,g=r.attributes.position,v=r.morphAttributes.position,y=r.attributes.uv,b=r.attributes.uv2,w=r.groups,x=r.drawRange;if(null!==m)if(Array.isArray(i))for(l=0,h=w.length;l<h;l++)for(p=i[(f=w[l]).materialIndex],u=Math.max(f.start,x.start),d=Math.min(f.start+f.count,x.start+x.count);u<d;u+=3)a=m.getX(u),s=m.getX(u+1),c=m.getX(u+2),(n=ki(this,p,e,hi,g,v,y,b,a,s,c))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,t.push(n));else for(l=Math.max(0,x.start),h=Math.min(m.count,x.start+x.count);l<h;l+=3)a=m.getX(l),s=m.getX(l+1),c=m.getX(l+2),(n=ki(this,i,e,hi,g,v,y,b,a,s,c))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==g)if(Array.isArray(i))for(l=0,h=w.length;l<h;l++)for(p=i[(f=w[l]).materialIndex],u=Math.max(f.start,x.start),d=Math.min(f.start+f.count,x.start+x.count);u<d;u+=3)(n=ki(this,p,e,hi,g,v,y,b,a=u,s=u+1,c=u+2))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=f.materialIndex,t.push(n));else for(l=Math.max(0,x.start),h=Math.min(g.count,x.start+x.count);l<h;l+=3)(n=ki(this,i,e,hi,g,v,y,b,a=l,s=l+1,c=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n))}else if(r.isGeometry){var _,E,S,C,A=Array.isArray(i),T=r.vertices,M=r.faces,k=r.faceVertexUvs[0];k.length>0&&(C=k);for(var O=0,P=M.length;O<P;O++){var R=M[O],F=A?i[R.materialIndex]:i;if(void 0!==F&&(_=T[R.a],E=T[R.b],S=T[R.c],n=Mi(this,F,e,hi,_,E,S,Ci))){if(C&&C[O]){var L=C[O];_i.copy(L[0]),Ei.copy(L[1]),Si.copy(L[2]),n.uv=Rr.getUV(Ci,_,E,S,_i,Ei,Si,new hn)}n.face=R,n.faceIndex=O,t.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Oi=0,Pi=new Rn,Ri=new Kn,Fi=new mn;function Li(){Object.defineProperty(this,"id",{value:Oi+=2}),this.uuid=un.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Li.prototype=Object.assign(Object.create(sn.prototype),{constructor:Li,isGeometry:!0,applyMatrix:function(e){for(var t=(new yn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Pi.makeRotationX(e),this.applyMatrix(Pi),this},rotateY:function(e){return Pi.makeRotationY(e),this.applyMatrix(Pi),this},rotateZ:function(e){return Pi.makeRotationZ(e),this.applyMatrix(Pi),this},translate:function(e,t,n){return Pi.makeTranslation(e,t,n),this.applyMatrix(Pi),this},scale:function(e,t,n){return Pi.makeScale(e,t,n),this.applyMatrix(Pi),this},lookAt:function(e){return Ri.lookAt(e),Ri.updateMatrix(),this.applyMatrix(Ri.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new mn).fromArray(i,l)),void 0!==a&&t.colors.push((new jr).fromArray(a,l));function u(e,n,r,i){var l=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=new zr(e,n,r,void 0===o?[]:[(new mn).fromArray(o,3*e),(new mn).fromArray(o,3*n),(new mn).fromArray(o,3*r)],l,i);t.faces.push(u),void 0!==s&&t.faceVertexUvs[0].push([(new hn).fromArray(s,2*e),(new hn).fromArray(s,2*n),(new hn).fromArray(s,2*r)]),void 0!==c&&t.faceVertexUvs[1].push([(new hn).fromArray(c,2*e),(new hn).fromArray(c,2*n),(new hn).fromArray(c,2*r)])}var h=e.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var d=h[l],f=d.start,p=f,m=f+d.count;p<m;p+=3)void 0!==n?u(n[p],n[p+1],n[p+2],d.materialIndex):u(p,p+1,p+2,d.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)u(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)u(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fi).negate(),this.translate(Fi.x,Fi.y,Fi.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Rn;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new mn,t=new mn,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,a;for(void 0===e&&(e=!0),a=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)a[t]=new mn;if(e){var s,c,l,u=new mn,h=new mn;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],u.subVectors(l,c),h.subVectors(s,c),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,n=this.vertices.length;t<n;t++)a[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var d=(o=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new Li;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new mn,l={a:new mn,b:new mn,c:new mn},a.push(c),s.push(l)}var c,l,u=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=u.faceNormals[n],l=u.vertexNormals[n],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ur),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new fr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,c=e.faces,l=this.colors,u=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new yn).getNormalMatrix(t));for(var h=0,d=a.length;h<d;h++){var f=a[h].clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(h=0,d=u.length;h<d;h++)l.push(u[h].clone());for(h=0,d=c.length;h<d;h++){var p,m,g,v=c[h],y=v.vertexNormals,b=v.vertexColors;(p=new zr(v.a+i,v.b+i,v.c+i)).normal.copy(v.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var w=0,x=y.length;w<x;w++)m=y[w].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),p.vertexNormals.push(m);p.color.copy(v.color);for(w=0,x=b.length;w<x;w++)g=b[w],p.vertexColors.push(g.clone());p.materialIndex=v.materialIndex+n,s.push(p)}for(h=0,d=e.faceVertexUvs.length;h<d;h++){var _=e.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(w=0,x=_.length;w<x;w++){for(var E=_[w],S=[],C=0,A=E.length;C<A;C++)S.push(E[C].clone());this.faceVertexUvs[h].push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,n,r,i,o,a,s,c={},l=[],u=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===c[t=Math.round(e.x*h)+"_"+Math.round(e.y*h)+"_"+Math.round(e.z*h)]?(c[t]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[t]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){d.push(n);break}}for(n=d.length-1;n>=0;n--){var p=d[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new mn(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],c={},l=[],u={},h=[],d={};for(i=0;i<this.faces.length;i++){var f=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=f.normal.length()>0,g=f.vertexNormals.length>0,v=1!==f.color.r||1!==f.color.g||1!==f.color.b,y=f.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,p),b=E(b,4,m),b=E(b,5,g),b=E(b,6,v),b=E(b,7,y),a.push(b),a.push(f.a,f.b,f.c),a.push(f.materialIndex),p){var w=this.faceVertexUvs[0][i];a.push(A(w[0]),A(w[1]),A(w[2]))}if(m&&a.push(S(f.normal)),g){var x=f.vertexNormals;a.push(S(x[0]),S(x[1]),S(x[2]))}if(v&&a.push(C(f.color)),y){var _=f.vertexColors;a.push(C(_[0]),C(_[1]),C(_[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function S(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]?c[t]:(c[t]=s.length/3,s.push(e.x,e.y,e.z),c[t])}function C(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==u[t]?u[t]:(u[t]=l.length,l.push(e.getHex()),u[t])}function A(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]?d[t]:(d[t]=h.length/2,h.push(e.x,e.y),d[t])}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),h.length>0&&(e.data.uvs=[h]),e.data.faces=a,e},clone:function(){return(new Li).copy(this)},copy:function(e){var t,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var c=e.colors;for(t=0,n=c.length;t<n;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var u=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=u.length;r<i;r++){var h=u[r],d=[];for(o=0,a=h.length;o<a;o++){var f=h[o];d.push(f.clone())}this.faceVertexUvs[t].push(d)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var g=e.morphNormals;for(t=0,n=g.length;t<n;t++){var v={};if(void 0!==g[t].vertexNormals)for(v.vertexNormals=[],r=0,i=g[t].vertexNormals.length;r<i;r++){var y=g[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),v.vertexNormals.push(b)}if(void 0!==g[t].faceNormals)for(v.faceNormals=[],r=0,i=g[t].faceNormals.length;r<i;r++)v.faceNormals.push(g[t].faceNormals[r].clone());this.morphNormals.push(v)}var w=e.skinWeights;for(t=0,n=w.length;t<n;t++)this.skinWeights.push(w[t].clone());var x=e.skinIndices;for(t=0,n=x.length;t<n;t++)this.skinIndices.push(x[t].clone());var _=e.lineDistances;for(t=0,n=_.length;t<n;t++)this.lineDistances.push(_[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=e.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Di extends Li{constructor(e,t,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new ji(e,t,n,r,i,o)),this.mergeVertices()}}class ji extends li{constructor(e,t,n,r,i,o){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var s=[],c=[],l=[],u=[],h=0,d=0;function f(e,t,n,r,i,o,f,p,m,g,v){var y,b,w=o/m,x=f/g,_=o/2,E=f/2,S=p/2,C=m+1,A=g+1,T=0,M=0,k=new mn;for(b=0;b<A;b++){var O=b*x-E;for(y=0;y<C;y++){var P=y*w-_;k[e]=P*r,k[t]=O*i,k[n]=S,c.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=p>0?1:-1,l.push(k.x,k.y,k.z),u.push(y/m),u.push(1-b/g),T+=1}}for(b=0;b<g;b++)for(y=0;y<m;y++){var R=h+y+C*b,F=h+y+C*(b+1),L=h+(y+1)+C*(b+1),D=h+(y+1)+C*b;s.push(R,F,D),s.push(F,L,D),M+=6}a.addGroup(d,M,v),d+=M,h+=T}f("z","y","x",-1,-1,n,t,e,o,i,0),f("z","y","x",1,-1,n,t,-e,o,i,1),f("x","z","y",1,1,e,n,t,r,o,2),f("x","z","y",1,-1,e,n,-t,r,o,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute("position",new Jr(c,3)),this.addAttribute("normal",new Jr(l,3)),this.addAttribute("uv",new Jr(u,2))}}function Ni(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ii(e){for(var t={},n=0;n<e.length;n++){var r=Ni(e[n]);for(var i in r)t[i]=r[i]}return t}var Bi={clone:Ni,merge:Ii},zi="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Ui="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Hi(e){Hr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=zi,this.fragmentShader=Ui,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Vi(){Kn.call(this),this.type="Camera",this.matrixWorldInverse=new Rn,this.projectionMatrix=new Rn,this.projectionMatrixInverse=new Rn}function Wi(e,t,n,r){Vi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Hi.prototype=Object.create(Hr.prototype),Hi.prototype.constructor=Hi,Hi.prototype.isShaderMaterial=!0,Hi.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ni(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Hi.prototype.toJSON=function(e){var t=Hr.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Vi.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Vi,isCamera:!0,copy:function(e,t){return Kn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new mn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Kn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Wi.prototype=Object.assign(Object.create(Vi.prototype),{constructor:Wi,isPerspectiveCamera:!0,copy:function(e,t){return Vi.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*un.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*un.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*un.RAD2DEG*Math.atan(Math.tan(.5*un.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*un.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Kn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var $i=90,Gi=1;function qi(e,t,n,r){Kn.call(this),this.type="CubeCamera";var i=new Wi($i,Gi,e,t);i.up.set(0,-1,0),i.lookAt(new mn(1,0,0)),this.add(i);var o=new Wi($i,Gi,e,t);o.up.set(0,-1,0),o.lookAt(new mn(-1,0,0)),this.add(o);var a=new Wi($i,Gi,e,t);a.up.set(0,0,1),a.lookAt(new mn(0,1,0)),this.add(a);var s=new Wi($i,Gi,e,t);s.up.set(0,0,-1),s.lookAt(new mn(0,-1,0)),this.add(s);var c=new Wi($i,Gi,e,t);c.up.set(0,-1,0),c.lookAt(new mn(0,0,1)),this.add(c);var l=new Wi($i,Gi,e,t);l.up.set(0,-1,0),l.lookAt(new mn(0,0,-1)),this.add(l),r=r||{format:Ve,magFilter:Ce,minFilter:Ce},this.renderTarget=new Yi(n,n,r),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,u=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)e.setRenderTarget(o,a),e.clear(t,n,r);e.setRenderTarget(i)}}function Yi(e,t,n){En.call(this,e,t,n)}function Xi(e,t,n,r,i,o,a,s,c,l,u,h){xn.call(this,null,o,a,s,c,l,r,i,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==c?c:we,this.minFilter=void 0!==l?l:we,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}qi.prototype=Object.create(Kn.prototype),qi.prototype.constructor=qi,Yi.prototype=Object.create(En.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isWebGLRenderTargetCube=!0,Yi.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new Zn,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new Hi({type:"CubemapFromEquirect",uniforms:Ni(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:v,blending:S});i.uniforms.tEquirect.value=t;var o=new Ti(new ji(5,5,5),i);n.add(o);var a=new qi(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(e,n),o.geometry.dispose(),o.material.dispose(),this},Xi.prototype=Object.create(xn.prototype),Xi.prototype.constructor=Xi,Xi.prototype.isDataTexture=!0;var Ki=new mn,Zi=new mn,Ji=new yn;function Qi(e,t){this.normal=void 0!==e?e:new mn(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Qi.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=Ki.subVectors(n,t).cross(Zi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new mn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new mn);var n=e.delta(Ki),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new mn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||Ji.getNormalMatrix(e),r=this.coplanarPoint(Ki).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var eo=new fr,to=new mn;function no(e,t,n,r,i,o){this.planes=[void 0!==e?e:new Qi,void 0!==t?t:new Qi,void 0!==n?n:new Qi,void 0!==r?r:new Qi,void 0!==i?i:new Qi,void 0!==o?o:new Qi]}Object.assign(no.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,u-s,p-h,y-m).normalize(),t[1].setComponents(a+r,u+s,p+h,y+m).normalize(),t[2].setComponents(a+i,u+c,p+d,y+g).normalize(),t[3].setComponents(a-i,u-c,p-d,y-g).normalize(),t[4].setComponents(a-o,u-l,p-f,y-v).normalize(),t[5].setComponents(a+o,u+l,p+f,y+v).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),eo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(eo)},intersectsSprite:function(e){return eo.center.set(0,0,0),eo.radius=.7071067811865476,eo.applyMatrix4(e.matrixWorld),this.intersectsSphere(eo)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(to.x=r.normal.x>0?e.max.x:e.min.x,to.y=r.normal.y>0?e.max.y:e.min.y,to.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(to)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var ro={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 1.0 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy *= normalScale;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tbool frontFacing = dot( cross( S, T ), N ) > 0.0;\n\t\t\tmapN.xy *= ( float( frontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = clearcoatNormalScale * mapN.xy;\n\t\tclearcoatNormal = normalize( vTBN * mapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 encodeHalfRGBA ( vec2 v ) {\n\tvec4 encoded = vec4( 0.0 );\n\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\n\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\n\tencoded.xy = encoded.xy - ( encoded.yy * offset );\n\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\n\tencoded.zw = encoded.zw - ( encoded.ww * offset );\n\treturn encoded;\n}\nvec2 decodeHalfRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},io={common:{diffuse:{value:new jr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new yn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new jr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new yn}},sprite:{diffuse:{value:new jr(15658734)},opacity:{value:1},center:{value:new hn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new yn}}},oo={basic:{uniforms:Ii([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.fog]),vertexShader:ro.meshbasic_vert,fragmentShader:ro.meshbasic_frag},lambert:{uniforms:Ii([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.fog,io.lights,{emissive:{value:new jr(0)}}]),vertexShader:ro.meshlambert_vert,fragmentShader:ro.meshlambert_frag},phong:{uniforms:Ii([io.common,io.specularmap,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.gradientmap,io.fog,io.lights,{emissive:{value:new jr(0)},specular:{value:new jr(1118481)},shininess:{value:30}}]),vertexShader:ro.meshphong_vert,fragmentShader:ro.meshphong_frag},standard:{uniforms:Ii([io.common,io.envmap,io.aomap,io.lightmap,io.emissivemap,io.bumpmap,io.normalmap,io.displacementmap,io.roughnessmap,io.metalnessmap,io.fog,io.lights,{emissive:{value:new jr(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ro.meshphysical_vert,fragmentShader:ro.meshphysical_frag},matcap:{uniforms:Ii([io.common,io.bumpmap,io.normalmap,io.displacementmap,io.fog,{matcap:{value:null}}]),vertexShader:ro.meshmatcap_vert,fragmentShader:ro.meshmatcap_frag},points:{uniforms:Ii([io.points,io.fog]),vertexShader:ro.points_vert,fragmentShader:ro.points_frag},dashed:{uniforms:Ii([io.common,io.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ro.linedashed_vert,fragmentShader:ro.linedashed_frag},depth:{uniforms:Ii([io.common,io.displacementmap]),vertexShader:ro.depth_vert,fragmentShader:ro.depth_frag},normal:{uniforms:Ii([io.common,io.bumpmap,io.normalmap,io.displacementmap,{opacity:{value:1}}]),vertexShader:ro.normal_vert,fragmentShader:ro.normal_frag},sprite:{uniforms:Ii([io.sprite,io.fog]),vertexShader:ro.sprite_vert,fragmentShader:ro.sprite_frag},background:{uniforms:{uvTransform:{value:new yn},t2D:{value:null}},vertexShader:ro.background_vert,fragmentShader:ro.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ro.cube_vert,fragmentShader:ro.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ro.equirect_vert,fragmentShader:ro.equirect_frag},distanceRGBA:{uniforms:Ii([io.common,io.displacementmap,{referencePosition:{value:new mn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ro.distanceRGBA_vert,fragmentShader:ro.distanceRGBA_frag},shadow:{uniforms:Ii([io.lights,io.fog,{color:{value:new jr(0)},opacity:{value:1}}]),vertexShader:ro.shadow_vert,fragmentShader:ro.shadow_frag}};function ao(){var e=null,t=!1,n=null;function r(i,o){!1!==t&&(n(i,o),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function so(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,o=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===o.count?e.bufferSubData(r,0,i):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i.subarray(o.offset,o.offset+o.count)),o.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function co(e,t,n,r){Li.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new lo(e,t,n,r)),this.mergeVertices()}function lo(e,t,n,r){li.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,o,a=(e=e||1)/2,s=(t=t||1)/2,c=Math.floor(n)||1,l=Math.floor(r)||1,u=c+1,h=l+1,d=e/c,f=t/l,p=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*f-s;for(i=0;i<u;i++){var b=i*d-a;m.push(b,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<c;i++){var w=i+u*o,x=i+u*(o+1),_=i+1+u*(o+1),E=i+1+u*o;p.push(w,x,E),p.push(x,_,E)}this.setIndex(p),this.addAttribute("position",new Jr(m,3)),this.addAttribute("normal",new Jr(g,3)),this.addAttribute("uv",new Jr(v,2))}function uo(e,t,n,r){var i,o,a=new jr(0),s=0,c=null,l=0;function u(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),u(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){u(a,s=e)},render:function(t,r,h,d){var f=r.background,p=e.vr,m=p.getSession&&p.getSession();if(m&&"additive"===m.environmentBlendMode&&(f=null),null===f?(u(a,s),c=null,l=0):f&&f.isColor&&(u(f,1),d=!0,c=null,l=0),(e.autoClear||d)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLRenderTargetCube)){void 0===o&&((o=new Ti(new ji(1,1,1),new Hi({type:"BackgroundCubeMaterial",uniforms:Ni(oo.cube.uniforms),vertexShader:oo.cube.vertexShader,fragmentShader:oo.cube.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),o.geometry.removeAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(o));var y=f.isWebGLRenderTargetCube?f.texture:f;o.material.uniforms.tCube.value=y,o.material.uniforms.tFlip.value=f.isWebGLRenderTargetCube?1:-1,c===f&&l===y.version||(o.material.needsUpdate=!0,c=f,l=y.version),t.unshift(o,o.geometry,o.material,0,0,null)}else f&&f.isTexture&&(void 0===i&&((i=new Ti(new lo(2,2),new Hi({type:"BackgroundMaterial",uniforms:Ni(oo.background.uniforms),vertexShader:oo.background.vertexShader,fragmentShader:oo.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),i.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&l===f.version||(i.material.needsUpdate=!0,c=f,l=f.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function ho(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(o,a,s,c){if(0!==c){var l,u;if(r.isWebGL2)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,a,s,c),n.update(s,i,c)}}}function fo(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var c=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function po(){var e=this,t=null,n=0,r=!1,i=!1,o=new Qi,a=new yn,s={value:null,needsUpdate:!1};function c(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=r+4*c,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var d=0,f=r;d!==c;++d,f+=4)o.copy(t[d]).applyMatrix4(h,a),o.normal.toArray(l,f),l[f+3]=o.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=l(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(e,o,a,u,h,d){if(!r||null===e||0===e.length||i&&!a)i?l(null):c();else{var f=i?0:n,p=4*f,m=h.clippingState||null;s.value=m,m=l(e,u,p,d);for(var g=0;g!==p;++g)m[g]=t[g];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=f}}}function mo(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function go(e,t,n){var r=new WeakMap,i=new WeakMap;function o(e){var a=e.target,s=r.get(a);for(var c in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[c]);a.removeEventListener("dispose",o),r.delete(a);var l=i.get(s);l&&(t.remove(l),i.delete(s)),n.memory.geometries--}function a(e){var n=[],r=e.index,o=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],h=s[c+1],d=s[c+2];n.push(u,h,h,d,d,u)}}else{s=o.array;a=o.version;for(c=0,l=s.length/3-1;c<l;c+=3){u=c+0,h=c+1,d=c+2;n.push(u,h,h,d,d,u)}}var f=new(ti(n)>65535?Zr:Xr)(n,1);f.version=a,t.update(f,34963);var p=i.get(e);p&&t.remove(p),i.set(e,f)}return{get:function(e,t){var i=r.get(t);return i||(t.addEventListener("dispose",o),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new li).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var o=e.morphAttributes;for(var i in o)for(var a=o[i],s=0,c=a.length;s<c;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return i.get(e)}}}function vo(e,t,n,r){var i,o,a;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(s,c,l,u){if(0!==u){var h,d;if(r.isWebGL2)h=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(h=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](i,l,o,c*a,u),n.update(l,i,u)}}}function yo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function bo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function wo(e){var t={},n=new Float32Array(8);return{update:function(r,i,o,a){var s=r.morphTargetInfluences,c=s.length,l=t[i.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];t[i.id]=l}var h=o.morphTargets&&i.morphAttributes.position,d=o.morphNormals&&i.morphAttributes.normal;for(u=0;u<c;u++){0!==(f=l[u])[1]&&(h&&i.removeAttribute("morphTarget"+u),d&&i.removeAttribute("morphNormal"+u))}for(u=0;u<c;u++){(f=l[u])[0]=u,f[1]=s[u]}for(l.sort(bo),u=0;u<8;u++){var f;if(f=l[u]){var p=f[0],m=f[1];if(m){h&&i.addAttribute("morphTarget"+u,h[p]),d&&i.addAttribute("morphNormal"+u,d[p]),n[u]=m;continue}}n[u]=0}a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function xo(e,t,n,r){var i={};return{update:function(e){var o=r.render.frame,a=e.geometry,s=t.get(e,a);return i[s.id]!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i[s.id]=o),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){i={}}}}function _o(e,t,n,r,i,o,a,s,c,l){e=void 0!==e?e:[],t=void 0!==t?t:ue,a=void 0!==a?a:Ve,xn.call(this,e,t,n,r,i,o,a,s,c,l),this.flipY=!1}function Eo(e,t,n,r){xn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=we,this.minFilter=we,this.wrapR=ye,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function So(e,t,n,r){xn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=we,this.minFilter=we,this.wrapR=ye,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}oo.physical={uniforms:Ii([oo.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new jr(0)},clearcoatNormalScale:{value:new hn(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:ro.meshphysical_vert,fragmentShader:ro.meshphysical_frag},co.prototype=Object.create(Li.prototype),co.prototype.constructor=co,lo.prototype=Object.create(li.prototype),lo.prototype.constructor=lo,_o.prototype=Object.create(xn.prototype),_o.prototype.constructor=_o,_o.prototype.isCubeTexture=!0,Object.defineProperty(_o.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Eo.prototype=Object.create(xn.prototype),Eo.prototype.constructor=Eo,Eo.prototype.isDataTexture2DArray=!0,So.prototype=Object.create(xn.prototype),So.prototype.constructor=So,So.prototype.isDataTexture3D=!0;var Co=new xn,Ao=new Eo,To=new So,Mo=new _o,ko=[],Oo=[],Po=new Float32Array(16),Ro=new Float32Array(9),Fo=new Float32Array(4);function Lo(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=ko[i];if(void 0===o&&(o=new Float32Array(i),ko[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Do(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function jo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function No(e,t){var n=Oo[t];void 0===n&&(n=new Int32Array(t),Oo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Io(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Bo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Do(n,t))return;e.uniform2fv(this.addr,t),jo(n,t)}}function zo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Do(n,t))return;e.uniform3fv(this.addr,t),jo(n,t)}}function Uo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Do(n,t))return;e.uniform4fv(this.addr,t),jo(n,t)}}function Ho(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;Fo.set(r),e.uniformMatrix2fv(this.addr,!1,Fo),jo(n,r)}}function Vo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;Ro.set(r),e.uniformMatrix3fv(this.addr,!1,Ro),jo(n,r)}}function Wo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Do(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),jo(n,t)}else{if(Do(n,r))return;Po.set(r),e.uniformMatrix4fv(this.addr,!1,Po),jo(n,r)}}function $o(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Co,i)}function Go(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Ao,i)}function qo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||To,i)}function Yo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||Mo,i)}function Xo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ko(e,t){var n=this.cache;Do(n,t)||(e.uniform2iv(this.addr,t),jo(n,t))}function Zo(e,t){var n=this.cache;Do(n,t)||(e.uniform3iv(this.addr,t),jo(n,t))}function Jo(e,t){var n=this.cache;Do(n,t)||(e.uniform4iv(this.addr,t),jo(n,t))}function Qo(e,t){e.uniform1fv(this.addr,t)}function ea(e,t){e.uniform1iv(this.addr,t)}function ta(e,t){e.uniform2iv(this.addr,t)}function na(e,t){e.uniform3iv(this.addr,t)}function ra(e,t){e.uniform4iv(this.addr,t)}function ia(e,t){var n=Lo(t,this.size,2);e.uniform2fv(this.addr,n)}function oa(e,t){var n=Lo(t,this.size,3);e.uniform3fv(this.addr,n)}function aa(e,t){var n=Lo(t,this.size,4);e.uniform4fv(this.addr,n)}function sa(e,t){var n=Lo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function ca(e,t){var n=Lo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function la(e,t){var n=Lo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ua(e,t,n){var r=t.length,i=No(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||Co,i[o])}function ha(e,t,n){var r=t.length,i=No(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||Mo,i[o])}function da(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Io;case 35664:return Bo;case 35665:return zo;case 35666:return Uo;case 35674:return Ho;case 35675:return Vo;case 35676:return Wo;case 35678:case 36198:return $o;case 35679:return qo;case 35680:return Yo;case 36289:return Go;case 5124:case 35670:return Xo;case 35667:case 35671:return Ko;case 35668:case 35672:return Zo;case 35669:case 35673:return Jo}}(t.type)}function fa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Qo;case 35664:return ia;case 35665:return oa;case 35666:return aa;case 35674:return sa;case 35675:return ca;case 35676:return la;case 35678:return ua;case 35680:return ha;case 5124:case 35670:return ea;case 35667:case 35671:return ta;case 35668:case 35672:return na;case 35669:case 35673:return ra}}(t.type)}function pa(e){this.id=e,this.seq=[],this.map={}}fa.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),jo(t,e)},pa.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var ma=/([\w\d_]+)(\])?(\[|\.)?/g;function ga(e,t){e.seq.push(t),e.map[t.id]=t}function va(e,t,n){var r=e.name,i=r.length;for(ma.lastIndex=0;;){var o=ma.exec(r),a=ma.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){ga(n,void 0===l?new da(s,e,t):new fa(s,e,t));break}var u=n.map[s];void 0===u&&ga(n,u=new pa(s)),n=u}}function ya(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);va(i,e.getUniformLocation(t,i.name),this)}}function ba(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}ya.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},ya.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},ya.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},ya.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var wa=0;function xa(e){switch(e){case Rt:return["Linear","( value )"];case Ft:return["sRGB","( value )"];case Dt:return["RGBE","( value )"];case Nt:return["RGBM","( value, 7.0 )"];case It:return["RGBM","( value, 16.0 )"];case Bt:return["RGBD","( value, 256.0 )"];case Lt:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case jt:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function _a(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Ea(e,t){var n=xa(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Sa(e,t){var n;switch(t){case ie:n="Linear";break;case oe:n="Reinhard";break;case ae:n="Uncharted2";break;case se:n="OptimizedCineon";break;case ce:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ca(e){return""!==e}function Aa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Ta(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Ma=/^[ \t]*#include +<([\w\d./]+)>/gm;function ka(e){return e.replace(Ma,Oa)}function Oa(e,t){var n=ro[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ka(n)}var Pa=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function Ra(e){return e.replace(Pa,Fa)}function Fa(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function La(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Da(e,t,n,r,i,o){var a,s,c,l,u,h=e.getContext(),d=r.defines,g=i.vertexShader,v=i.fragmentShader,y=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===f?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===p?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===m&&(t="SHADOWMAP_TYPE_VSM"),t}(o),b=function(e,t){var n="ENVMAP_TYPE_CUBE";if(e.envMap)switch(t.envMap.mapping){case ue:case he:n="ENVMAP_TYPE_CUBE";break;case me:case ge:n="ENVMAP_TYPE_CUBE_UV";break;case de:case fe:n="ENVMAP_TYPE_EQUIREC";break;case pe:n="ENVMAP_TYPE_SPHERE"}return n}(o,r),w=function(e,t){var n="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(t.envMap.mapping){case he:case fe:n="ENVMAP_MODE_REFRACTION"}return n}(o,r),x=function(e,t){var n="ENVMAP_BLENDING_MULTIPLY";if(e.envMap)switch(t.combine){case ee:n="ENVMAP_BLENDING_MULTIPLY";break;case te:n="ENVMAP_BLENDING_MIX";break;case ne:n="ENVMAP_BLENDING_ADD"}return n}(o,r),_=e.gammaFactor>0?e.gammaFactor:1,E=o.isWebGL2?"":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ca).join("\n")}(r.extensions,o,t),S=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(d),C=h.createProgram(),A=e.getRenderTarget(),T=A&&A.isWebGLMultiviewRenderTarget?A.numViews:0;if(r.isRawShaderMaterial?((a=[S].filter(Ca).join("\n")).length>0&&(a+="\n"),(s=[E,S].filter(Ca).join("\n")).length>0&&(s+="\n")):(a=[La(o),"#define SHADER_NAME "+i.name,S,o.instancing?"#define USE_INSTANCING":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+_,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+w:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+y:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ca).join("\n"),s=[E,La(o),"#define SHADER_NAME "+i.name,S,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+_,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+b:"",o.envMap?"#define "+w:"",o.envMap?"#define "+x:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.sheen?"#define USE_SHEEN":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+y:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||t.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensions&&r.extensions.shaderTextureLOD||o.envMap)&&(o.isWebGL2||t.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==re?"#define TONE_MAPPING":"",o.toneMapping!==re?ro.tonemapping_pars_fragment:"",o.toneMapping!==re?Sa("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?ro.encodings_pars_fragment:"",o.mapEncoding?Ea("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Ea("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Ea("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ea("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?(c="linearToOutputTexel",l=o.outputEncoding,u=xa(l),"vec4 "+c+"( vec4 value ) { return LinearTo"+u[0]+u[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Ca).join("\n")),g=Ta(g=Aa(g=ka(g),o),o),v=Ta(v=Aa(v=ka(v),o),o),g=Ra(g),v=Ra(v),o.isWebGL2&&!r.isRawShaderMaterial){var M=!1,k=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==g.match(k)&&null!==v.match(k)&&(M=!0,g=g.replace(k,""),v=v.replace(k,"")),a=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,s=["#version 300 es\n","#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s,T>0&&(a=(a=a.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+T+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+T+"];","uniform mat4 projectionMatrices["+T+"];","uniform mat4 viewMatrices["+T+"];","uniform mat3 normalMatrices["+T+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),s=(s=s.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+T+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var O,P,R=s+v,F=ba(h,35633,a+g),L=ba(h,35632,R);if(h.attachShader(C,F),h.attachShader(C,L),void 0!==r.index0AttributeName?h.bindAttribLocation(C,0,r.index0AttributeName):!0===o.morphTargets&&h.bindAttribLocation(C,0,"position"),h.linkProgram(C),e.debug.checkShaderErrors){var D=h.getProgramInfoLog(C).trim(),j=h.getShaderInfoLog(F).trim(),N=h.getShaderInfoLog(L).trim(),I=!0,B=!0;if(!1===h.getProgramParameter(C,35714)){I=!1;var z=_a(h,F,"vertex"),U=_a(h,L,"fragment");console.error("THREE.WebGLProgram: shader error: ",h.getError(),"35715",h.getProgramParameter(C,35715),"gl.getProgramInfoLog",D,z,U)}else""!==D?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):""!==j&&""!==N||(B=!1);B&&(this.diagnostics={runnable:I,material:r,programLog:D,vertexShader:{log:j,prefix:a},fragmentShader:{log:N,prefix:s}})}return h.deleteShader(F),h.deleteShader(L),this.getUniforms=function(){return void 0===O&&(O=new ya(h,C)),O},this.getAttributes=function(){return void 0===P&&(P=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(h,C)),P},this.destroy=function(){h.deleteProgram(C),this.program=void 0},this.name=i.name,this.id=wa++,this.code=n,this.usedTimes=1,this.program=C,this.vertexShader=F,this.fragmentShader=L,this.numMultiviewViews=T,this}function ja(e,t,n){var r=[],i={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function a(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=Rt,n===Rt&&t&&(n=Lt),n}this.getParameters=function(t,r,o,s,c,l,u){var h=i[t.type],d=u.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),o=Math.min(i,t.length);return o<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+o+"."),0):o}(u):0,f=n.precision;null!==t.precision&&(f=n.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",f,"instead.");var p=e.getRenderTarget();return{isWebGL2:n.isWebGL2,shaderID:h,precision:f,instancing:!0===u.isInstancedMesh,supportsVertexTextures:n.vertexTextures,outputEncoding:a(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:a(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:a(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:a(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===me||t.envMap.mapping===ge),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:a(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Vt,tangentSpaceNormalMap:t.normalMapType===Ht,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap),fog:!!s,useFog:t.fog,fogExp2:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numDirLightShadows:r.directionalShadowMap.length,numPointLightShadows:r.pointShadowMap.length,numSpotLightShadows:r.spotShadowMap.length,numClippingPlanes:c,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&o.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:re,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===y,flipSided:t.side===v,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var a=0;a<o.length;a++)r.push(n[o[a]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(n,i,o,a){for(var s,c=0,l=r.length;c<l;c++){var u=r[c];if(u.code===a){++(s=u).usedTimes;break}}return void 0===s&&(s=new Da(e,t,a,n,i,o),r.push(s)),s},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Na(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ia(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ba(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function za(){var e=[],t=0,n=[],r=[],i={id:-1};function o(n,r,o,a,s,c){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:c},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=o,l.program=o.program||i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=s,l.group=c),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?r:n).push(l)},unshift:function(e,t,i,a,s,c){var l=o(e,t,i,a,s,c);(!0===i.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(Ia),r.length>1&&r.sort(Ba)}}}function Ua(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i,o=e.get(n);return void 0===o?(i=new za,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):void 0===(i=o.get(r))&&(i=new za,o.set(r,i)),i},dispose:function(){e=new WeakMap}}}function Ha(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new mn,color:new jr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"SpotLight":n={position:new mn,direction:new mn,color:new jr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn};break;case"PointLight":n={position:new mn,color:new jr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new hn,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new mn,skyColor:new jr,groundColor:new jr};break;case"RectAreaLight":n={color:new jr,position:new mn,halfWidth:new mn,halfHeight:new mn}}return e[t.id]=n,n}}}var Va=0;function Wa(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function $a(){for(var e=new Ha,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new mn);var r=new mn,i=new Rn,o=new Rn;return{setup:function(n,a,s){for(var c=0,l=0,u=0,h=0;h<9;h++)t.probe[h].set(0,0,0);var d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0,w=s.matrixWorldInverse;n.sort(Wa),h=0;for(var x=n.length;h<x;h++){var _=n[h],E=_.color,S=_.intensity,C=_.distance,A=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)c+=E.r*S,l+=E.g*S,u+=E.b*S;else if(_.isLightProbe)for(var T=0;T<9;T++)t.probe[T].addScaledVector(_.sh.coefficients[T],S);else if(_.isDirectionalLight){if((k=e.get(_)).color.copy(_.color).multiplyScalar(_.intensity),k.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),k.direction.sub(r),k.direction.transformDirection(w),k.shadow=_.castShadow,_.castShadow){var M=_.shadow;k.shadowBias=M.bias,k.shadowRadius=M.radius,k.shadowMapSize=M.mapSize,t.directionalShadowMap[d]=A,t.directionalShadowMatrix[d]=_.shadow.matrix,v++}t.directional[d]=k,d++}else if(_.isSpotLight){if((k=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),k.position.applyMatrix4(w),k.color.copy(E).multiplyScalar(S),k.distance=C,k.direction.setFromMatrixPosition(_.matrixWorld),r.setFromMatrixPosition(_.target.matrixWorld),k.direction.sub(r),k.direction.transformDirection(w),k.coneCos=Math.cos(_.angle),k.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),k.decay=_.decay,k.shadow=_.castShadow,_.castShadow){M=_.shadow;k.shadowBias=M.bias,k.shadowRadius=M.radius,k.shadowMapSize=M.mapSize,t.spotShadowMap[p]=A,t.spotShadowMatrix[p]=_.shadow.matrix,b++}t.spot[p]=k,p++}else if(_.isRectAreaLight){(k=e.get(_)).color.copy(E).multiplyScalar(S),k.position.setFromMatrixPosition(_.matrixWorld),k.position.applyMatrix4(w),o.identity(),i.copy(_.matrixWorld),i.premultiply(w),o.extractRotation(i),k.halfWidth.set(.5*_.width,0,0),k.halfHeight.set(0,.5*_.height,0),k.halfWidth.applyMatrix4(o),k.halfHeight.applyMatrix4(o),t.rectArea[m]=k,m++}else if(_.isPointLight){if((k=e.get(_)).position.setFromMatrixPosition(_.matrixWorld),k.position.applyMatrix4(w),k.color.copy(_.color).multiplyScalar(_.intensity),k.distance=_.distance,k.decay=_.decay,k.shadow=_.castShadow,_.castShadow){M=_.shadow;k.shadowBias=M.bias,k.shadowRadius=M.radius,k.shadowMapSize=M.mapSize,k.shadowCameraNear=M.camera.near,k.shadowCameraFar=M.camera.far,t.pointShadowMap[f]=A,t.pointShadowMatrix[f]=_.shadow.matrix,y++}t.point[f]=k,f++}else if(_.isHemisphereLight){var k;(k=e.get(_)).direction.setFromMatrixPosition(_.matrixWorld),k.direction.transformDirection(w),k.direction.normalize(),k.skyColor.copy(_.color).multiplyScalar(S),k.groundColor.copy(_.groundColor).multiplyScalar(S),t.hemi[g]=k,g++}}t.ambient[0]=c,t.ambient[1]=l,t.ambient[2]=u;var O=t.hash;O.directionalLength===d&&O.pointLength===f&&O.spotLength===p&&O.rectAreaLength===m&&O.hemiLength===g&&O.numDirectionalShadows===v&&O.numPointShadows===y&&O.numSpotShadows===b||(t.directional.length=d,t.spot.length=p,t.rectArea.length=m,t.point.length=f,t.hemi.length=g,t.directionalShadowMap.length=v,t.pointShadowMap.length=y,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=v,t.pointShadowMatrix.length=y,t.spotShadowMatrix.length=b,O.directionalLength=d,O.pointLength=f,O.spotLength=p,O.rectAreaLength=m,O.hemiLength=g,O.numDirectionalShadows=v,O.numPointShadows=y,O.numSpotShadows=b,t.version=Va++)},state:t}}function Ga(){var e=new $a,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function qa(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new Ga,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new Ga,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function Ya(e){Hr.call(this),this.type="MeshDepthMaterial",this.depthPacking=zt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Xa(e){Hr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new mn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ya.prototype=Object.create(Hr.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isMeshDepthMaterial=!0,Ya.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Xa.prototype=Object.create(Hr.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isMeshDistanceMaterial=!0,Xa.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Ka="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n  \n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\n}",Za="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Ja(e,t,n){var r=new no,i=new hn,o=new hn,a=new _n,s=1,c=2,l=1+(s|c),u=new Array(l),h=new Array(l),d={},p={0:v,1:g,2:y},b=new Hi({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new hn},radius:{value:4}},vertexShader:Za,fragmentShader:Ka}),w=b.clone();w.defines.HORIZONAL_PASS=1;var x=new li;x.addAttribute("position",new Wr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));for(var _=new Ti(x,b),E=0;E!==l;++E){var C=0!=(E&s),A=0!=(E&c),T=new Ya({depthPacking:Ut,morphTargets:C,skinning:A});u[E]=T;var M=new Xa({morphTargets:C,skinning:A});h[E]=M}var k=this;function O(n,r){var i=t.update(_);b.uniforms.shadow_pass.value=n.map.texture,b.uniforms.resolution.value=n.mapSize,b.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,b,_,null),w.uniforms.shadow_pass.value=n.mapPass.texture,w.uniforms.resolution.value=n.mapSize,w.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,w,_,null)}function P(t,n,r,i,o,a){var l=t.geometry,f=null,g=u,v=t.customDepthMaterial;if(r.isPointLight&&(g=h,v=t.customDistanceMaterial),v)f=v;else{var y=!1;n.morphTargets&&(l&&l.isBufferGeometry?y=l.morphAttributes&&l.morphAttributes.position&&l.morphAttributes.position.length>0:l&&l.isGeometry&&(y=l.morphTargets&&l.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t);var b=t.isSkinnedMesh&&n.skinning,w=0;y&&(w|=s),b&&(w|=c),f=g[w]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var x=f.uuid,_=n.uuid,E=d[x];void 0===E&&(E={},d[x]=E);var S=E[_];void 0===S&&(S=f.clone(),E[_]=S),f=S}return f.visible=n.visible,f.wireframe=n.wireframe,f.side=a===m?null!=n.shadowSide?n.shadowSide:n.side:null!=n.shadowSide?n.shadowSide:p[n.side],f.clipShadows=n.clipShadows,f.clippingPlanes=n.clippingPlanes,f.clipIntersection=n.clipIntersection,f.wireframeLinewidth=n.wireframeLinewidth,f.linewidth=n.linewidth,r.isPointLight&&f.isMeshDistanceMaterial&&(f.referencePosition.setFromMatrixPosition(r.matrixWorld),f.nearDistance=i,f.farDistance=o),f}function R(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===m)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var c=t.update(n),l=n.material;if(Array.isArray(l))for(var u=c.groups,h=0,d=u.length;h<d;h++){var f=u[h],p=l[f.materialIndex];if(p&&p.visible){var g=P(n,p,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,g,n,f)}}else if(l.visible){g=P(n,l,a,o.near,o.far,s);e.renderBufferDirect(o,null,c,g,n,null)}}for(var v=n.children,y=0,b=v.length;y<b;y++)R(v[y],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f,this.render=function(t,s,c){if(!1!==k.enabled&&(!1!==k.autoUpdate||!1!==k.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(S),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var g=t[f],v=g.shadow;if(void 0!==v){i.copy(v.mapSize);var y=v.getFrameExtents();if(i.multiply(y),o.copy(v.mapSize),(i.x>n||i.y>n)&&(console.warn("THREE.WebGLShadowMap:",g,"has shadow exceeding max texture size, reducing"),i.x>n&&(o.x=Math.floor(n/y.x),i.x=o.x*y.x,v.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/y.y),i.y=o.y*y.y,v.mapSize.y=o.y)),null===v.map&&!v.isPointLightShadow&&this.type===m){var b={minFilter:Ce,magFilter:Ce,format:We};v.map=new En(i.x,i.y,b),v.map.texture.name=g.name+".shadowMap",v.mapPass=new En(i.x,i.y,b),v.camera.updateProjectionMatrix()}if(null===v.map){b={minFilter:we,magFilter:we,format:We};v.map=new En(i.x,i.y,b),v.map.texture.name=g.name+".shadowMap",v.camera.updateProjectionMatrix()}e.setRenderTarget(v.map),e.clear();for(var w=v.getViewportCount(),x=0;x<w;x++){var _=v.getViewport(x);a.set(o.x*_.x,o.y*_.y,o.x*_.z,o.y*_.w),d.viewport(a),v.updateMatrices(g,c,x),r=v.getFrustum(),R(s,c,v.camera,g,this.type)}v.isPointLightShadow||this.type!==m||O(v,c)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}k.needsUpdate=!1,e.setRenderTarget(l,u,h)}}}function Qa(e,t,n,r){var i=new function(){var t=!1,n=new _n,r=null,i=new _n(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?oe(2929):ae(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case G:e.depthFunc(512);break;case q:e.depthFunc(519);break;case Y:e.depthFunc(513);break;case X:e.depthFunc(515);break;case K:e.depthFunc(514);break;case Z:e.depthFunc(518);break;case J:e.depthFunc(516);break;case Q:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null;return{setTest:function(e){t||(e?oe(2960):ae(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&c===r||(e.stencilOp(t,n,r),a=t,s=n,c=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,c=null,l=null}}},u=e.getParameter(34921),h=new Uint8Array(u),d=new Uint8Array(u),f=new Uint8Array(u),p={},m=null,g=null,b=null,w=null,x=null,_=null,E=null,P=null,R=null,F=null,L=!1,D=null,j=null,N=null,I=null,B=null,z=e.getParameter(35661),U=!1,H=0,V=e.getParameter(7938);-1!==V.indexOf("WebGL")?(H=parseFloat(/^WebGL\ ([0-9])/.exec(V)[1]),U=H>=1):-1!==V.indexOf("OpenGL ES")&&(H=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(V)[1]),U=H>=2);var W=null,$={},ee=new _n,te=new _n;function ne(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var re={};function ie(n,i){(h[n]=1,0===d[n]&&(e.enableVertexAttribArray(n),d[n]=1),f[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),f[n]=i)}function oe(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function ae(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}function se(t,r,i,o,a,s,c,l){if(t!==S){if(b||(oe(3042),b=!0),t===k)a=a||r,s=s||i,c=c||o,r===x&&a===P||(e.blendEquationSeparate(n.convert(r),n.convert(a)),x=r,P=a),i===_&&o===E&&s===R&&c===F||(e.blendFuncSeparate(n.convert(i),n.convert(o),n.convert(s),n.convert(c)),_=i,E=o,R=s,F=c),w=t,L=null;else if(t!==w||l!==L){if(x===O&&P===O||(e.blendEquation(32774),x=O,P=O),l)switch(t){case C:e.blendFuncSeparate(1,771,1,771);break;case A:e.blendFunc(1,1);break;case T:e.blendFuncSeparate(0,0,769,771);break;case M:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case C:e.blendFuncSeparate(770,771,1,771);break;case A:e.blendFunc(770,1);break;case T:e.blendFunc(0,769);break;case M:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}_=null,E=null,R=null,F=null,w=t,L=l}}else b&&(ae(3042),b=!1)}function ce(t){D!==t&&(t?e.frontFace(2304):e.frontFace(2305),D=t)}function le(t){t!==a?(oe(2884),t!==j&&(t===s?e.cullFace(1029):t===c?e.cullFace(1028):e.cullFace(1032))):ae(2884),j=t}function ue(t,n,r){t?(oe(32823),I===n&&B===r||(e.polygonOffset(n,r),I=n,B=r)):ae(32823)}function he(t){void 0===t&&(t=33984+z-1),W!==t&&(e.activeTexture(t),W=t)}return re[3553]=ne(3553,3553,1),re[34067]=ne(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),l.setClear(0),oe(2929),o.setFunc(X),ce(!1),le(s),oe(2884),se(S),{buffers:{color:i,depth:o,stencil:l},initAttributes:function(){for(var e=0,t=h.length;e<t;e++)h[e]=0},enableAttribute:function(e){ie(e,0)},enableAttributeAndDivisor:ie,disableUnusedAttributes:function(){for(var t=0,n=d.length;t!==n;++t)d[t]!==h[t]&&(e.disableVertexAttribArray(t),d[t]=0)},enable:oe,disable:ae,getCompressedTextureFormats:function(){if(null===m&&(m=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")||t.get("WEBGL_compressed_texture_astc")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)m.push(n[r]);return m},useProgram:function(t){return g!==t&&(e.useProgram(t),g=t,!0)},setBlending:se,setMaterial:function(e,t){e.side===y?ae(2884):oe(2884);var n=e.side===v;t&&(n=!n),ce(n),e.blending===C&&!1===e.transparent?se(S):se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),ue(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ce,setCullFace:le,setLineWidth:function(t){t!==N&&(U&&e.lineWidth(t),N=t)},setPolygonOffset:ue,setScissorTest:function(e){e?oe(3089):ae(3089)},activeTexture:he,bindTexture:function(t,n){null===W&&he();var r=$[W];void 0===r&&(r={type:void 0,texture:void 0},$[W]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||re[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===ee.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ee.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){for(var t=0;t<d.length;t++)1===d[t]&&(e.disableVertexAttribArray(t),d[t]=0);p={},m=null,W=null,$={},g=null,w=null,D=null,j=null,i.reset(),o.reset(),l.reset()}}}function es(e,t,n,r,i,o,a){var s,c=new WeakMap,l="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function u(e,t){return l?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function h(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?un.floorPowerOfTwo:Math.floor,a=o(i*e.width),c=o(i*e.height);void 0===s&&(s=u(a,c));var l=n?u(a,c):s;return l.width=a,l.height=c,l.getContext("2d").drawImage(e,0,0,a,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function d(e){return un.isPowerOfTwo(e.width)&&un.isPowerOfTwo(e.height)}function f(e,t){return e.generateMipmaps&&t&&e.minFilter!==we&&e.minFilter!==Ce}function p(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function m(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get("EXT_color_buffer_float"):34843!==r&&34837!==r||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),r}function g(e){return e===we||e===xe||e===Ee?9728:9729}function v(t){var n=t.target;n.removeEventListener("dispose",v),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&c.delete(n),a.memory.textures--}function y(t){var n=t.target;n.removeEventListener("dispose",y),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);if(t.isWebGLMultiviewRenderTarget){e.deleteTexture(n.__webglColorTexture),e.deleteTexture(n.__webglDepthStencilTexture),a.memory.textures-=2;o=0;for(var s=n.__webglViewFramebuffers.length;o<s;o++)e.deleteFramebuffer(n.__webglViewFramebuffers[o])}r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}var b=0;function w(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=a.render.frame;c.get(e)!==t&&(c.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void C(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function x(t,a){if(6===t.image.length){var s=r.get(t);if(t.version>0&&s.__version!==t.version){S(s,t),n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var c=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,u=[],g=0;g<6;g++)u[g]=c||l?l?t.image[g].image:t.image[g]:h(t.image[g],!1,!0,i.maxCubemapSize);var v,y=u[0],b=d(y)||i.isWebGL2,w=o.convert(t.format),x=o.convert(t.type),_=m(w,x);if(E(34067,t,b),c){for(g=0;g<6;g++){v=u[g].mipmaps;for(var C=0;C<v.length;C++){var A=v[C];t.format!==We&&t.format!==Ve?n.getCompressedTextureFormats().indexOf(w)>-1?n.compressedTexImage2D(34069+g,C,_,A.width,A.height,0,A.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+g,C,_,A.width,A.height,0,w,x,A.data)}}s.__maxMipLevel=v.length-1}else{v=t.mipmaps;for(g=0;g<6;g++)if(l){n.texImage2D(34069+g,0,_,u[g].width,u[g].height,0,w,x,u[g].data);for(C=0;C<v.length;C++){var T=(A=v[C]).image[g].image;n.texImage2D(34069+g,C+1,_,T.width,T.height,0,w,x,T.data)}}else{n.texImage2D(34069+g,0,_,w,x,u[g]);for(C=0;C<v.length;C++){A=v[C];n.texImage2D(34069+g,C+1,_,w,x,A.image[g])}}s.__maxMipLevel=v.length}f(t,b)&&p(34067,t,y.width,y.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture)}}function _(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}function E(n,a,s){var c;if(s?(e.texParameteri(n,10242,o.convert(a.wrapS)),e.texParameteri(n,10243,o.convert(a.wrapT)),32879!==n&&35866!==n||e.texParameteri(n,32882,o.convert(a.wrapR)),e.texParameteri(n,10240,o.convert(a.magFilter)),e.texParameteri(n,10241,o.convert(a.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===ye&&a.wrapT===ye||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,g(a.magFilter)),e.texParameteri(n,10241,g(a.minFilter)),a.minFilter!==we&&a.minFilter!==Ce&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),c=t.get("EXT_texture_filter_anisotropic")){if(a.type===je&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ne&&null===(i.isWebGL2||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function S(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",v),t.__webglTexture=e.createTexture(),a.memory.textures++)}function C(t,r,a){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(t,r),n.activeTexture(33984+a),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var c=function(e){return!i.isWebGL2&&(e.wrapS!==ye||e.wrapT!==ye||e.minFilter!==we&&e.minFilter!==Ce)}(r)&&!1===d(r.image),l=h(r.image,c,!1,i.maxTextureSize),u=d(l)||i.isWebGL2,g=o.convert(r.format),v=o.convert(r.type),y=m(g,v);E(s,r,u);var b,w=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===je){if(!i.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else i.isWebGL2&&(y=33189);r.format===Ye&&6402===y&&r.type!==Fe&&r.type!==De&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Fe,v=o.convert(r.type)),r.format===Xe&&(y=34041,r.type!==Ue&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ue,v=o.convert(r.type))),n.texImage2D(3553,0,y,l.width,l.height,0,g,v,null)}else if(r.isDataTexture)if(w.length>0&&u){for(var x=0,_=w.length;x<_;x++)b=w[x],n.texImage2D(3553,x,y,b.width,b.height,0,g,v,b.data);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,l.width,l.height,0,g,v,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(x=0,_=w.length;x<_;x++)b=w[x],r.format!==We&&r.format!==Ve?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(3553,x,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,x,y,b.width,b.height,0,g,v,b.data);t.__maxMipLevel=w.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,l.width,l.height,l.depth,0,g,v,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,l.width,l.height,l.depth,0,g,v,l.data),t.__maxMipLevel=0;else if(w.length>0&&u){for(x=0,_=w.length;x<_;x++)b=w[x],n.texImage2D(3553,x,y,g,v,b);r.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else n.texImage2D(3553,0,y,g,v,l),t.__maxMipLevel=0;f(r,u)&&p(3553,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function A(t,i,a,s){var c=o.convert(i.texture.format),l=o.convert(i.texture.type),u=m(c,l);n.texImage2D(s,0,u,i.width,i.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function T(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=k(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=k(n);e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var a=m(o.convert(n.texture.format),o.convert(n.texture.type));if(r){i=k(n);e.renderbufferStorageMultisample(36161,i,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function M(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),w(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ye)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Xe)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),T(n.__webglDepthbuffer[o],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),T(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function k(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}var O=!1,P=!1;this.allocateTextureUnit=function(){var e=b;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=w,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?C(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?C(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=x,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(s){var c=r.get(s),l=r.get(s.texture);s.addEventListener("dispose",y),l.__webglTexture=e.createTexture(),a.memory.textures++;var u=!0===s.isWebGLRenderTargetCube,h=!0===s.isWebGLMultisampleRenderTarget,g=!0===s.isWebGLMultiviewRenderTarget,v=d(s)||i.isWebGL2;if(u){c.__webglFramebuffer=[];for(var b=0;b<6;b++)c.__webglFramebuffer[b]=e.createFramebuffer()}else if(c.__webglFramebuffer=e.createFramebuffer(),h)if(i.isWebGL2){c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer);var w=m(o.convert(s.texture.format),o.convert(s.texture.type)),x=k(s);e.renderbufferStorageMultisample(36161,x,w,s.width,s.height),e.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),s.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),T(c.__webglDepthRenderbuffer,s,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(g){var _=s.width,S=s.height,C=s.numViews;e.bindFramebuffer(36160,c.__webglFramebuffer);var O=t.get("OVR_multiview2");a.memory.textures+=2;var P=e.createTexture();e.bindTexture(35866,P),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,32856,_,S,C,0,6408,5121,null),O.framebufferTextureMultiviewOVR(36160,36064,P,0,0,C);var R=e.createTexture();e.bindTexture(35866,R),e.texParameteri(35866,10240,9728),e.texParameteri(35866,10241,9728),e.texImage3D(35866,0,35056,_,S,C,0,34041,34042,null),O.framebufferTextureMultiviewOVR(36160,33306,R,0,0,C);var F=new Array(C);for(b=0;b<C;++b)F[b]=e.createFramebuffer(),e.bindFramebuffer(36160,F[b]),e.framebufferTextureLayer(36160,36064,P,0,b);c.__webglColorTexture=P,c.__webglDepthStencilTexture=R,c.__webglViewFramebuffers=F,e.bindFramebuffer(36160,null),e.bindTexture(35866,null)}if(u){n.bindTexture(34067,l.__webglTexture),E(34067,s.texture,v);for(b=0;b<6;b++)A(c.__webglFramebuffer[b],s,36064,34069+b);f(s.texture,v)&&p(34067,s.texture,s.width,s.height),n.bindTexture(34067,null)}else g||(n.bindTexture(3553,l.__webglTexture),E(3553,s.texture,v),A(c.__webglFramebuffer,s,36064,3553),f(s.texture,v)&&p(3553,s.texture,s.width,s.height),n.bindTexture(3553,null));s.depthBuffer&&M(s)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(f(t,d(e)||i.isWebGL2)){var o=e.isWebGLRenderTargetCube?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(o,a),p(o,t,e.width,e.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var o=t.width,a=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===O&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),O=!0),e=e.texture),w(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===P&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),P=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?x(e,t):_(e,t)}}function ts(e,t,n){return{convert:function(e){var r;if(e===ve)return 10497;if(e===ye)return 33071;if(e===be)return 33648;if(e===we)return 9728;if(e===xe)return 9984;if(e===Ee)return 9986;if(e===Ce)return 9729;if(e===Ae)return 9985;if(e===Me)return 9987;if(e===Oe)return 5121;if(e===Ie)return 32819;if(e===Be)return 32820;if(e===ze)return 33635;if(e===Pe)return 5120;if(e===Re)return 5122;if(e===Fe)return 5123;if(e===Le)return 5124;if(e===De)return 5125;if(e===je)return 5126;if(e===Ne){if(n.isWebGL2)return 5131;if(null!==(r=t.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(e===He)return 6406;if(e===Ve)return 6407;if(e===We)return 6408;if(e===$e)return 6409;if(e===Ge)return 6410;if(e===Ye)return 6402;if(e===Xe)return 34041;if(e===Ke)return 6403;if(e===O)return 32774;if(e===P)return 32778;if(e===R)return 32779;if(e===D)return 0;if(e===j)return 1;if(e===N)return 768;if(e===I)return 769;if(e===B)return 770;if(e===z)return 771;if(e===U)return 772;if(e===H)return 773;if(e===V)return 774;if(e===W)return 775;if(e===$)return 776;if((e===Ze||e===Je||e===Qe||e===et)&&null!==(r=t.get("WEBGL_compressed_texture_s3tc"))){if(e===Ze)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Je)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Qe)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===et)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===tt||e===nt||e===rt||e===it)&&null!==(r=t.get("WEBGL_compressed_texture_pvrtc"))){if(e===tt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===nt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===rt)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===it)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ot&&null!==(r=t.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===at||e===st||e===ct||e===lt||e===ut||e===ht||e===dt||e===ft||e===pt||e===mt||e===gt||e===vt||e===yt||e===bt)&&null!==(r=t.get("WEBGL_compressed_texture_astc")))return e;if(e===F||e===L){if(n.isWebGL2){if(e===F)return 32775;if(e===L)return 32776}if(null!==(r=t.get("EXT_blend_minmax"))){if(e===F)return r.MIN_EXT;if(e===L)return r.MAX_EXT}}if(e===Ue){if(n.isWebGL2)return 34042;if(null!==(r=t.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ns(e,t,n,r){En.call(this,e,t,r),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function rs(e,t){var n,r,i,o,a,s,c,l=2,u=e.extensions,h=e.properties,d=0;function f(e){return e.isArrayCamera?e.cameras:(a[0]=e,a)}this.isAvailable=function(){if(void 0===c){var e=u.get("OVR_multiview2");if(c=null!==e&&!1===t.getContextAttributes().antialias){d=t.getParameter(e.MAX_VIEWS_OVR),n=new ns(0,0,l),s=new hn,o=[],i=[],a=[];for(var r=0;r<d;r++)o[r]=new Rn,i[r]=new yn}}return c},this.attachCamera=function(t){!1!==function(e){if(void 0===e.isArrayCamera)return!0;var t=e.cameras;if(t.length>d)return!1;for(var n=1,r=t.length;n<r;n++)if(t[0].viewport.z!==t[n].viewport.z||t[0].viewport.w!==t[n].viewport.w)return!1;return!0}(t)&&(r=e.getRenderTarget(),function(t){if(r?s.set(r.width,r.height):e.getDrawingBufferSize(s),t.isArrayCamera){var i=t.cameras[0].viewport;n.setSize(i.z,i.w),n.setNumViews(t.cameras.length)}else n.setSize(s.x,s.y),n.setNumViews(l)}(t),e.setRenderTarget(n))},this.detachCamera=function(i){n===e.getRenderTarget()&&(e.setRenderTarget(r),function(e){var r=n,i=r.numViews,o=h.get(r).__webglViewFramebuffers,a=r.width,c=r.height;if(e.isArrayCamera)for(var l=0;l<i;l++){var u=e.cameras[l].viewport,d=u.x,f=u.y,p=d+u.z,m=f+u.w;t.bindFramebuffer(36008,o[l]),t.blitFramebuffer(0,0,a,c,d,f,p,m,16384,9728)}else t.bindFramebuffer(36008,o[0]),t.blitFramebuffer(0,0,a,c,0,0,s.x,s.y,16384,9728)}(i))},this.updateCameraProjectionMatricesUniform=function(e,n){for(var r=f(e),i=0;i<r.length;i++)o[i].copy(r[i].projectionMatrix);n.setValue(t,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(e,n){for(var r=f(e),i=0;i<r.length;i++)o[i].copy(r[i].matrixWorldInverse);n.setValue(t,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(e,n,r){for(var a=f(n),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,e.matrixWorld),i[s].getNormalMatrix(o[s]);r.setValue(t,"modelViewMatrices",o),r.setValue(t,"normalMatrices",i)}}function is(){Kn.call(this),this.type="Group"}function os(e){Wi.call(this),this.cameras=e||[]}ns.prototype=Object.assign(Object.create(En.prototype),{constructor:ns,isWebGLMultiviewRenderTarget:!0,copy:function(e){return En.prototype.copy.call(this,e),this.numViews=e.numViews,this},setNumViews:function(e){return this.numViews!==e&&(this.numViews=e,this.dispose()),this}}),is.prototype=Object.assign(Object.create(Kn.prototype),{constructor:is,isGroup:!0}),os.prototype=Object.assign(Object.create(Wi.prototype),{constructor:os,isArrayCamera:!0});var as,ss=new mn,cs=new mn;function ls(e,t,n){ss.setFromMatrixPosition(t.matrixWorld),cs.setFromMatrixPosition(n.matrixWorld);var r=ss.distanceTo(cs),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),c=(i[9]+1)/i[5],l=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,f=a*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var g=a+p,v=s+p,y=d-m,b=f+(r-m),w=c*s/v*g,x=l*s/v*g;e.projectionMatrix.makePerspective(y,b,w,x,g,v)}function us(e){var t,n,r=this,i=null,o=null,a=null,s=[],c=new Rn,l=new Rn,u=1,h="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",x,!1));var d=new Rn,f=new dn,p=new mn,m=new Wi;m.viewport=new _n,m.layers.enable(1);var g=new Wi;g.viewport=new _n,g.layers.enable(2);var v=new os([m,g]);function y(){return null!==i&&!0===i.isPresenting}v.layers.enable(1),v.layers.enable(2);var b,w=new hn;function x(){if(y()){var o=i.getEyeParameters("left");t=2*o.renderWidth*u,n=o.renderHeight*u,b=e.getPixelRatio(),e.getSize(w),e.setDrawingBufferSize(t,n,1),m.viewport.set(0,0,t/2,n),g.viewport.set(t/2,0,t/2,n),C.start(),r.dispatchEvent({type:"sessionstart"})}else r.enabled&&e.setDrawingBufferSize(w.width,w.height,b),C.stop(),r.dispatchEvent({type:"sessionend"})}var _=[];function E(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var o=t[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("HTC Vive Focus")||o.id.startsWith("Spatial Controller"))){if(r===e)return o;r++}}}function S(e,r){null!==r&&4===r.length&&e.set(r[0]*t,r[1]*n,r[2]*t,r[3]*n)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new is).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),C.setContext(e)},this.setFramebufferScaleFactor=function(e){u=e},this.setReferenceSpaceType=function(e){h=e},this.setPoseTarget=function(e){void 0!==e&&(a=e)},this.getCamera=function(e){var t="local-floor"===h?1.6:0;if(!1===y())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(o),"local-floor"===h){var n=i.stageParameters;n?c.fromArray(n.sittingToStandingTransform):c.makeTranslation(0,t,0)}var r=o.pose,u=null!==a?a:e;u.matrix.copy(c),u.matrix.decompose(u.position,u.quaternion,u.scale),null!==r.orientation&&(f.fromArray(r.orientation),u.quaternion.multiply(f)),null!==r.position&&(f.setFromRotationMatrix(c),p.fromArray(r.position),p.applyQuaternion(f),u.position.add(p)),u.updateMatrixWorld(),m.near=e.near,g.near=e.near,m.far=e.far,g.far=e.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),g.matrixWorldInverse.fromArray(o.rightViewMatrix),l.getInverse(c),"local-floor"===h&&(m.matrixWorldInverse.multiply(l),g.matrixWorldInverse.multiply(l));var b=u.parent;null!==b&&(d.getInverse(b.matrixWorld),m.matrixWorldInverse.multiply(d),g.matrixWorldInverse.multiply(d)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),g.projectionMatrix.fromArray(o.rightProjectionMatrix),ls(v,m,g);var w=i.getLayers();if(w.length){var x=w[0];S(m.viewport,x.leftBounds),S(g.viewport,x.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],n=E(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(c),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i="Daydream Controller"===n.id?0:1;void 0===_[e]&&(_[e]=!1),_[e]!==n.buttons[i].pressed&&(_[e]=n.buttons[i].pressed,!0===_[e]?t.dispatchEvent({type:"selectstart"}):(t.dispatchEvent({type:"selectend"}),t.dispatchEvent({type:"select"})))}else t.visible=!1}}(),v},this.getStandingMatrix=function(){return c},this.isPresenting=y;var C=new ao;this.setAnimationLoop=function(e){C.setAnimationLoop(e),y()&&C.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",x)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function hs(e,t){var n=this,r=null,i=null,o="local-floor",a=null,s=[],c=[];function l(){return null!==r&&null!==i}var u=new Wi;u.layers.enable(1),u.viewport=new _n;var h=new Wi;h.layers.enable(2),h.viewport=new _n;var d=new os([u,h]);function f(e){for(var t=0;t<s.length;t++)c[t]===e.inputSource&&s[t].dispatchEvent({type:e.type})}function p(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop(),n.dispatchEvent({type:"sessionend"})}function m(e){i=e,y.setContext(r),y.start(),n.dispatchEvent({type:"sessionstart"})}function g(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}d.layers.enable(1),d.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new is).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(e){o=e},this.getSession=function(){return r},this.setSession=function(e){null!==(r=e)&&(r.addEventListener("select",f),r.addEventListener("selectstart",f),r.addEventListener("selectend",f),r.addEventListener("end",p),r.updateRenderState({baseLayer:new XRWebGLLayer(r,t)}),r.requestReferenceSpace(o).then(m),c=r.inputSources,r.addEventListener("inputsourceschange",(function(){c=r.inputSources,console.log(c);for(var e=0;e<s.length;e++){s[e].userData.inputSource=c[e]}})))},this.getCamera=function(e){if(l()){var t=e.parent,n=d.cameras;g(d,t);for(var r=0;r<n.length;r++)g(n[r],t);e.matrixWorld.copy(d.matrixWorld);for(var i=e.children,o=(r=0,i.length);r<o;r++)i[r].updateMatrixWorld(!0);return ls(d,u,h),d}return e},this.isPresenting=l;var v=null;var y=new ao;y.setAnimationLoop((function(t,n){if(null!==(a=n.getViewerPose(i))){var o=a.views,l=r.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var u=0;u<o.length;u++){var h=o[u],f=l.getViewport(h),p=h.transform.inverse.matrix,m=d.cameras[u];m.matrix.fromArray(p).getInverse(m.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),0===u&&d.matrix.copy(m.matrix)}}for(u=0;u<s.length;u++){var g=s[u],y=c[u];if(y){var b=n.getPose(y.targetRaySpace,i);if(null!==b){g.matrix.fromArray(b.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(t)})),this.setAnimationLoop=function(e){v=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new Rn},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function ds(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,h=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ie,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,p,m,g,y,b,w,x,_,E,S,C,A,T,M,k,O,P,R=this,F=!1,L=null,D=0,j=0,N=null,I=null,B=-1,z={geometry:null,program:null,wireframe:!1},U=null,H=null,V=new _n,W=new _n,$=null,G=t.width,q=t.height,Y=1,X=new _n(0,0,G,q),K=new _n(0,0,G,q),Z=!1,J=new no,Q=new po,ee=!1,te=!1,ne=new Rn,re=new mn;function oe(){return null===N?Y:1}try{var ae={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(t.addEventListener("webglcontextlost",he,!1),t.addEventListener("webglcontextrestored",de,!1),null===(f=n||t.getContext("webgl",ae)||t.getContext("experimental-webgl",ae)))throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function se(){p=new mo(f),!1===(m=new fo(f,p,e)).isWebGL2&&(p.get("WEBGL_depth_texture"),p.get("OES_texture_float"),p.get("OES_texture_half_float"),p.get("OES_texture_half_float_linear"),p.get("OES_standard_derivatives"),p.get("OES_element_index_uint"),p.get("ANGLE_instanced_arrays")),p.get("OES_texture_float_linear"),P=new ts(f,p,m),(g=new Qa(f,p,P,m)).scissor(W.copy(K).multiplyScalar(Y).floor()),g.viewport(V.copy(X).multiplyScalar(Y).floor()),y=new yo(f),b=new Na,w=new es(f,p,g,b,m,P,y),x=new so(f),_=new go(f,x,y),E=new xo(f,_,x,y),M=new wo(f),S=new ja(R,p,m),C=new Ua,A=new qa,T=new uo(R,g,E,s),k=new ho(f,p,y,m),O=new vo(f,p,y,m),y.programs=S.programs,R.capabilities=m,R.extensions=p,R.properties=b,R.renderLists=C,R.state=g,R.info=y}se();var ce="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new hs(R,f):new us(R);this.vr=ce;var le=new rs(R,f),ue=new Ja(R,E,m.maxTextureSize);function he(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),F=!0}function de(){console.log("THREE.WebGLRenderer: Context Restored."),F=!1,se()}function fe(e){var t=e.target;t.removeEventListener("dispose",fe),function(e){pe(e),b.remove(e)}(t)}function pe(e){var t=b.get(e).program;e.program=void 0,void 0!==t&&S.releaseProgram(t)}this.shadowMap=ue,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(G,q,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new hn),e.set(G,q)},this.setSize=function(e,n,r){ce.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,q=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new hn),e.set(G*Y,q*Y).floor()},this.setDrawingBufferSize=function(e,n,r){G=e,q=n,Y=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new _n),e.copy(V)},this.getViewport=function(e){return e.copy(X)},this.setViewport=function(e,t,n,r){e.isVector4?X.set(e.x,e.y,e.z,e.w):X.set(e,t,n,r),g.viewport(V.copy(X).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(K)},this.setScissor=function(e,t,n,r){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,n,r),g.scissor(W.copy(K).multiplyScalar(Y).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(e){g.setScissorTest(Z=e)},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),f.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",he,!1),t.removeEventListener("webglcontextrestored",de,!1),C.dispose(),A.dispose(),b.dispose(),E.dispose(),ce.dispose(),ge.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var n=b.get(e);e.hasPositions&&!n.position&&(n.position=f.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=f.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=f.createBuffer()),e.hasColors&&!n.color&&(n.color=f.createBuffer());var r=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,n.position),f.bufferData(34962,e.positionArray,35048),g.enableAttribute(r.position),f.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,n.normal),f.bufferData(34962,e.normalArray,35048),g.enableAttribute(r.normal),f.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,n.uv),f.bufferData(34962,e.uvArray,35048),g.enableAttribute(r.uv),f.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,n.color),f.bufferData(34962,e.colorArray,35048),g.enableAttribute(r.color),f.vertexAttribPointer(r.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){var a=i.isMesh&&i.matrixWorld.determinant()<0;g.setMaterial(r,a);var s=xe(e,t,r,i),c=!1;z.geometry===n.id&&z.program===s.id&&z.wireframe===(!0===r.wireframe)||(z.geometry=n.id,z.program=s.id,z.wireframe=!0===r.wireframe,c=!0),i.morphTargetInfluences&&(M.update(i,n,r,s),c=!0);var l,u=n.index,h=n.attributes.position,d=1;!0===r.wireframe&&(u=_.getWireframeAttribute(n),d=2);var v=k;null!==u&&(l=x.get(u),(v=O).setIndex(l)),c&&(!function(e,t,n,r){if(!1===m.isWebGL2&&(e.isInstancedMesh||t.isInstancedBufferGeometry)&&null===p.get("ANGLE_instanced_arrays"))return;g.initAttributes();var i=t.attributes,o=r.getAttributes(),a=n.defaultAttributeValues;for(var s in o){var c=o[s];if(c>=0){var l=i[s];if(void 0!==l){var u=l.normalized,h=l.itemSize;if(void 0===(E=x.get(l)))continue;var d=E.buffer,v=E.type,y=E.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,w=b.stride,_=l.offset;b&&b.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,b.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=b.meshPerAttribute*b.count)):g.enableAttribute(c),f.bindBuffer(34962,d),f.vertexAttribPointer(c,h,v,u,w*y,_*y)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(c),f.bindBuffer(34962,d),f.vertexAttribPointer(c,h,v,u,0,0)}else if("instanceMatrix"===s){var E;if(void 0===(E=x.get(e.instanceMatrix)))continue;d=E.buffer,v=E.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),f.bindBuffer(34962,d),f.vertexAttribPointer(c+0,4,v,!1,64,0),f.vertexAttribPointer(c+1,4,v,!1,64,16),f.vertexAttribPointer(c+2,4,v,!1,64,32),f.vertexAttribPointer(c+3,4,v,!1,64,48)}else if(void 0!==a){var S=a[s];if(void 0!==S)switch(S.length){case 2:f.vertexAttrib2fv(c,S);break;case 3:f.vertexAttrib3fv(c,S);break;case 4:f.vertexAttrib4fv(c,S);break;default:f.vertexAttrib1fv(c,S)}}}}g.disableUnusedAttributes()}(i,n,r,s),null!==u&&f.bindBuffer(34963,l.buffer));var y=1/0;null!==u?y=u.count:void 0!==h&&(y=h.count);var b=n.drawRange.start*d,w=n.drawRange.count*d,E=null!==o?o.start*d:0,S=null!==o?o.count*d:1/0,C=Math.max(b,E),A=Math.min(y,b+w,E+S)-1,T=Math.max(0,A-C+1);if(0!==T){if(i.isMesh)if(!0===r.wireframe)g.setLineWidth(r.wireframeLinewidth*oe()),v.setMode(1);else switch(i.drawMode){case kt:v.setMode(4);break;case Ot:v.setMode(5);break;case Pt:v.setMode(6)}else if(i.isLine){var P=r.linewidth;void 0===P&&(P=1),g.setLineWidth(P*oe()),i.isLineSegments?v.setMode(1):i.isLineLoop?v.setMode(2):v.setMode(3)}else i.isPoints?v.setMode(0):i.isSprite&&v.setMode(4);i.isInstancedMesh?v.renderInstances(n,C,T,i.count):n.isInstancedBufferGeometry?v.renderInstances(n,C,T,n.maxInstancedCount):v.render(C,T)}},this.compile=function(e,t){(d=A.get(e,t)).init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)we(t.material[n],e.fog,t);else we(t.material,e.fog,t)}))};var me=null;var ge=new ao;function ve(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);var i=E.update(e);(o=e.material).visible&&h.push(e,i,o,n,re.z,null)}}else if(e.isImmediateRenderObject)r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne),h.push(e,null,e.material,n,re.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==y.render.frame&&(e.skeleton.update(),e.skeleton.frame=y.render.frame),!e.frustumCulled||J.intersectsObject(e))){r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);i=E.update(e);var o=e.material;if(Array.isArray(o))for(var a=i.groups,s=0,c=a.length;s<c;s++){var l=a[s],u=o[l.materialIndex];u&&u.visible&&h.push(e,i,u,n,re.z,l)}else o.visible&&h.push(e,i,o,n,re.z,null)}var f=e.children;for(s=0,c=f.length;s<c;s++)ve(f[s],t,n,r)}}function ye(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,c=a.geometry,l=void 0===r?a.material:r,u=a.group;if(n.isArrayCamera)if(H=n,ce.enabled&&le.isAvailable())be(s,t,n,c,l,u);else for(var h=n.cameras,f=0,p=h.length;f<p;f++){var m=h[f];s.layers.test(m.layers)&&(g.viewport(V.copy(m.viewport)),d.setupLights(m),be(s,t,m,c,l,u))}else H=null,be(s,t,n,c,l,u)}}function be(e,t,n,r,i,o){if(e.onBeforeRender(R,t,n,r,i,o),d=A.get(t,H||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){g.setMaterial(i);var a=xe(n,t.fog,i,e);z.geometry=null,z.program=null,z.wireframe=!1,function(e,t){e.render((function(e){R.renderBufferImmediate(e,t)}))}(e,a)}else R.renderBufferDirect(n,t.fog,r,i,e,o);e.onAfterRender(R,t,n,r,i,o),d=A.get(t,H||n)}function we(e,t,n){var r=b.get(e),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=S.getParameters(e,i.state,o,t,Q.numPlanes,Q.numIntersection,n),c=S.getProgramCode(e,s),l=r.program,u=!0;if(void 0===l)e.addEventListener("dispose",fe);else if(l.code!==c)pe(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}if(u){if(s.shaderID){var h=oo[s.shaderID];r.shader={name:e.type,uniforms:Ni(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,R),c=S.getProgramCode(e,s),l=S.acquireProgram(e,r.shader,s,c),r.program=l,e.program=l}var f=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<R.maxMorphTargets;p++)f["morphTarget"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<R.maxMorphNormals;p++)f["morphNormal"+p]>=0&&e.numSupportedMorphNormals++}var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=Q.numPlanes,r.numIntersection=Q.numIntersection,m.clippingPlanes=Q.uniform),r.fog=t,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),v=ya.seqWithValue(g.seq,m);r.uniformsList=v}function xe(e,t,n,r){w.resetTextureUnits();var i=b.get(n),o=d.state.lights;if(ee&&(te||e!==U)){var a=e===U&&n.id===B;Q.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,a)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:i.needsLights&&i.lightsStateVersion!==o.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===Q.numPlanes&&i.numIntersection===Q.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(we(n,t,r),n.needsUpdate=!1);var s,c,l=!1,u=!1,h=!1,p=i.program,y=p.getUniforms(),x=i.shader.uniforms;if(g.useProgram(p.program)&&(l=!0,u=!0,h=!0),n.id!==B&&(B=n.id,u=!0),l||U!==e){if(p.numMultiviewViews>0?le.updateCameraProjectionMatricesUniform(e,y):y.setValue(f,"projectionMatrix",e.projectionMatrix),m.logarithmicDepthBuffer&&y.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,u=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var _=y.map.cameraPosition;void 0!==_&&_.setValue(f,re.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(p.numMultiviewViews>0?le.updateCameraViewMatricesUniform(e,y):y.setValue(f,"viewMatrix",e.matrixWorldInverse))}if(n.skinning){y.setOptional(f,r,"bindMatrix"),y.setOptional(f,r,"bindMatrixInverse");var E=r.skeleton;if(E){var S=E.bones;if(m.floatVertexTextures){if(void 0===E.boneTexture){var C=Math.sqrt(4*S.length);C=un.ceilPowerOfTwo(C),C=Math.max(C,4);var A=new Float32Array(C*C*4);A.set(E.boneMatrices);var T=new Xi(A,C,C,We,je);E.boneMatrices=A,E.boneTexture=T,E.boneTextureSize=C}y.setValue(f,"boneTexture",E.boneTexture,w),y.setValue(f,"boneTextureSize",E.boneTextureSize)}else y.setOptional(f,E,"boneMatrices")}}return(u||i.receiveShadow!==r.receiveShadow)&&(i.receiveShadow=r.receiveShadow,y.setValue(f,"receiveShadow",r.receiveShadow)),u&&(y.setValue(f,"toneMappingExposure",R.toneMappingExposure),y.setValue(f,"toneMappingWhitePoint",R.toneMappingWhitePoint),i.needsLights&&(c=h,(s=x).ambientLightColor.needsUpdate=c,s.lightProbe.needsUpdate=c,s.directionalLights.needsUpdate=c,s.pointLights.needsUpdate=c,s.spotLights.needsUpdate=c,s.rectAreaLights.needsUpdate=c,s.hemisphereLights.needsUpdate=c),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(x,t),n.isMeshBasicMaterial?_e(x,n):n.isMeshLambertMaterial?(_e(x,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(x,n)):n.isMeshPhongMaterial?(_e(x,n),n.isMeshToonMaterial?function(e,t){Ee(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(x,n):Ee(x,n)):n.isMeshStandardMaterial?(_e(x,n),n.isMeshPhysicalMaterial?function(e,t){Se(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===v&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(x,n):Se(x,n)):n.isMeshMatcapMaterial?(_e(x,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDepthMaterial?(_e(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isMeshDistanceMaterial?(_e(x,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(x,n)):n.isMeshNormalMaterial?(_e(x,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(x,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(x,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(x,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*q,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(x,n):n.isShadowMaterial&&(x.color.value.copy(n.color),x.opacity.value=n.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=io.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=io.LTC_2),ya.upload(f,i.uniformsList,x,w)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(ya.upload(f,i.uniformsList,x,w),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&y.setValue(f,"center",r.center),p.numMultiviewViews>0?le.updateObjectMatricesUniforms(r,e,y):(y.setValue(f,"modelViewMatrix",r.modelViewMatrix),y.setValue(f,"normalMatrix",r.normalMatrix)),y.setValue(f,"modelMatrix",r.matrixWorld),p}function _e(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=b.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function Ee(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Se(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===v&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===v&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}ge.setAnimationLoop((function(e){ce.isPresenting()||me&&me(e)})),"undefined"!=typeof window&&ge.setContext(window),this.setAnimationLoop=function(e){me=e,ce.setAnimationLoop(e),ge.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),t&&t.isCamera){if(!F){z.geometry=null,z.program=null,z.wireframe=!1,B=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ce.enabled&&(t=ce.getCamera(t)),(d=A.get(e,t)).init(),e.onBeforeRender(R,e,t,n||N),ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromMatrix(ne),te=this.localClippingEnabled,ee=Q.init(this.clippingPlanes,te,t),(h=C.get(e,t)).init(),ve(e,t,0,R.sortObjects),!0===R.sortObjects&&h.sort(),ee&&Q.beginShadows();var i=d.state.shadowsArray;ue.render(i,e,t),d.setupLights(t),ee&&Q.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ce.enabled&&le.isAvailable()&&le.attachCamera(t),T.render(h,e,t,r);var o=h.opaque,a=h.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;o.length&&ye(o,e,t,s),a.length&&ye(a,e,t,s)}else o.length&&ye(o,e,t),a.length&&ye(a,e,t);e.onAfterRender(R,e,t),null!==N&&(w.updateRenderTargetMipmap(N),w.updateMultisampleRenderTarget(N)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),ce.enabled&&(le.isAvailable()&&le.detachCamera(t),ce.submitFrame()),h=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){L!==e&&f.bindFramebuffer(36160,e),L=e},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return j},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,n){N=e,D=t,j=n,e&&void 0===b.get(e).__webglFramebuffer&&w.setupRenderTarget(e);var r=L,i=!1;if(e){var o=b.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=o[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?b.get(e).__webglMultisampledFramebuffer:o,V.copy(e.viewport),W.copy(e.scissor),$=e.scissorTest}else V.copy(X).multiplyScalar(Y).floor(),W.copy(K).multiplyScalar(Y).floor(),$=Z;if(I!==r&&(f.bindFramebuffer(36160,r),I=r),g.viewport(V),g.scissor(W),g.setScissorTest($),i){var a=b.get(e.texture);f.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=b.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==a&&(s=s[a]),s){var c=!1;s!==I&&(f.bindFramebuffer(36160,s),c=!0);try{var l=e.texture,u=l.format,h=l.type;if(u!==We&&P.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===Oe||P.convert(h)===f.getParameter(35738)||h===je&&(m.isWebGL2||p.get("OES_texture_float")||p.get("WEBGL_color_buffer_float"))||h===Ne&&(m.isWebGL2?p.get("EXT_color_buffer_float"):p.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&f.readPixels(t,n,r,i,P.convert(u),P.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&f.bindFramebuffer(36160,I)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,o=P.convert(t.format);w.setTexture2D(t,0),f.copyTexImage2D(3553,n||0,o,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,o=t.image.height,a=P.convert(n.format),s=P.convert(n.type);w.setTexture2D(n,0),t.isDataTexture?f.texSubImage2D(3553,r||0,e.x,e.y,i,o,a,s,t.image.data):f.texSubImage2D(3553,r||0,e.x,e.y,a,s,t.image)},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function fs(e,t){this.name="",this.color=new jr(e),this.density=void 0!==t?t:25e-5}function ps(e,t,n){this.name="",this.color=new jr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function ms(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function gs(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function vs(e){Hr.call(this),this.type="SpriteMaterial",this.color=new jr(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.assign(us.prototype,sn.prototype),Object.assign(hs.prototype,sn.prototype),Object.assign(fs.prototype,{isFogExp2:!0,clone:function(){return new fs(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(ps.prototype,{isFog:!0,clone:function(){return new ps(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(ms.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ms.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(gs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(gs.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),vs.prototype=Object.create(Hr.prototype),vs.prototype.constructor=vs,vs.prototype.isSpriteMaterial=!0,vs.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var ys=new mn,bs=new mn,ws=new mn,xs=new hn,_s=new hn,Es=new Rn,Ss=new mn,Cs=new mn,As=new mn,Ts=new hn,Ms=new hn,ks=new hn;function Os(e){if(Kn.call(this),this.type="Sprite",void 0===as){as=new li;var t=new ms(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);as.setIndex([0,1,2,0,2,3]),as.addAttribute("position",new gs(t,3,0,!1)),as.addAttribute("uv",new gs(t,2,3,!1))}this.geometry=as,this.material=void 0!==e?e:new vs,this.center=new hn(.5,.5)}function Ps(e,t,n,r,i,o){xs.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(_s.x=o*xs.x-i*xs.y,_s.y=i*xs.x+o*xs.y):_s.copy(xs),e.copy(t),e.x+=_s.x,e.y+=_s.y,e.applyMatrix4(Es)}Os.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Os,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bs.setFromMatrixScale(this.matrixWorld),Es.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ws.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&bs.multiplyScalar(-ws.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;Ps(Ss.set(-.5,-.5,0),ws,o,bs,n,r),Ps(Cs.set(.5,-.5,0),ws,o,bs,n,r),Ps(As.set(.5,.5,0),ws,o,bs,n,r),Ts.set(0,0),Ms.set(1,0),ks.set(1,1);var a=e.ray.intersectTriangle(Ss,Cs,As,!1,ys);if(null!==a||(Ps(Cs.set(-.5,.5,0),ws,o,bs,n,r),Ms.set(0,1),null!==(a=e.ray.intersectTriangle(Ss,As,Cs,!1,ys)))){var s=e.ray.origin.distanceTo(ys);s<e.near||s>e.far||t.push({distance:s,point:ys.clone(),uv:Rr.getUV(ys,Ss,Cs,As,Ts,Ms,ks,new hn),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Kn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Rs=new mn,Fs=new mn;function Ls(){Kn.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Ds(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ti.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Rn,this.bindMatrixInverse=new Rn}Ls.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Ls,isLOD:!0,copy:function(e){Kn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(e,t){Rs.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Rs);this.getObjectForDistance(n).raycast(e,t)},update:function(e){var t=this.levels;if(t.length>1){Rs.setFromMatrixPosition(e.matrixWorld),Fs.setFromMatrixPosition(this.matrixWorld);var n=Rs.distanceTo(Fs);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=Kn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),Ds.prototype=Object.assign(Object.create(Ti.prototype),{constructor:Ds,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new _n,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ti.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var js=new Rn,Ns=new Rn;function Is(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Rn)}}function Bs(){Kn.call(this),this.type="Bone"}function zs(e,t,n){Ti.call(this,e,t),this.instanceMatrix=new Wr(new Float32Array(16*n),16),this.count=n}function Us(e){Hr.call(this),this.type="LineBasicMaterial",this.color=new jr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}Object.assign(Is.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Rn;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:Ns;js.multiplyMatrices(a,t[i]),js.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Is(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Bs.prototype=Object.assign(Object.create(Kn.prototype),{constructor:Bs,isBone:!0}),zs.prototype=Object.assign(Object.create(Ti.prototype),{constructor:zs,isInstancedMesh:!0,raycast:function(){},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Us.prototype=Object.create(Hr.prototype),Us.prototype.constructor=Us,Us.prototype.isLineBasicMaterial=!0,Us.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var Hs=new mn,Vs=new mn,Ws=new Rn,$s=new xr,Gs=new fr;function qs(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Kn.call(this),this.type="Line",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Us({color:16777215*Math.random()})}qs.prototype=Object.assign(Object.create(Kn.prototype),{constructor:qs,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Hs.fromBufferAttribute(t,r-1),Vs.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Hs.distanceTo(Vs);e.addAttribute("lineDistance",new Jr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=o.length;r<i;r++)n[r]=n[r-1],n[r]+=o[r-1].distanceTo(o[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Gs.copy(r.boundingSphere),Gs.applyMatrix4(i),Gs.radius+=n,!1!==e.ray.intersectsSphere(Gs)){Ws.getInverse(i),$s.copy(e.ray).applyMatrix4(Ws);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new mn,c=new mn,l=new mn,u=new mn,h=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var d=r.index,f=r.attributes.position.array;if(null!==d)for(var p=d.array,m=0,g=p.length-1;m<g;m+=h){var v=p[m],y=p[m+1];if(s.fromArray(f,3*v),c.fromArray(f,3*y),!($s.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(x=e.ray.origin.distanceTo(u))<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}else for(m=0,g=f.length/3-1;m<g;m+=h){if(s.fromArray(f,3*m),c.fromArray(f,3*m+3),!($s.distanceSqToSegment(s,c,u,l)>a))u.applyMatrix4(this.matrixWorld),(x=e.ray.origin.distanceTo(u))<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){var b=r.vertices,w=b.length;for(m=0;m<w-1;m+=h){var x;if(!($s.distanceSqToSegment(b[m],b[m+1],u,l)>a))u.applyMatrix4(this.matrixWorld),(x=e.ray.origin.distanceTo(u))<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Ys=new mn,Xs=new mn;function Ks(e,t){qs.call(this,e,t),this.type="LineSegments"}function Zs(e,t){qs.call(this,e,t),this.type="LineLoop"}function Js(e){Hr.call(this),this.type="PointsMaterial",this.color=new jr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Ks.prototype=Object.assign(Object.create(qs.prototype),{constructor:Ks,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Ys.fromBufferAttribute(t,r),Xs.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Ys.distanceTo(Xs);e.addAttribute("lineDistance",new Jr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for(n=e.lineDistances,r=0,i=o.length;r<i;r+=2)Ys.copy(o[r]),Xs.copy(o[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Ys.distanceTo(Xs)}return this}}),Zs.prototype=Object.assign(Object.create(qs.prototype),{constructor:Zs,isLineLoop:!0}),Js.prototype=Object.create(Hr.prototype),Js.prototype.constructor=Js,Js.prototype.isPointsMaterial=!0,Js.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Qs=new Rn,ec=new xr,tc=new fr,nc=new mn;function rc(e,t){Kn.call(this),this.type="Points",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Js({color:16777215*Math.random()}),this.updateMorphTargets()}function ic(e,t,n,r,i,o,a){var s=ec.distanceSqToPoint(e);if(s<n){var c=new mn;ec.closestPointToPoint(e,c),c.applyMatrix4(r);var l=i.ray.origin.distanceTo(c);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:t,face:null,object:a})}}function oc(e,t,n,r,i,o,a,s,c){xn.call(this,e,t,n,r,i,o,a,s,c),this.format=void 0!==a?a:Ve,this.minFilter=void 0!==o?o:Ce,this.magFilter=void 0!==i?i:Ce,this.generateMipmaps=!1}function ac(e,t,n,r,i,o,a,s,c,l,u,h){xn.call(this,null,o,a,s,c,l,r,i,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function sc(e,t,n,r,i,o,a,s,c){xn.call(this,e,t,n,r,i,o,a,s,c),this.needsUpdate=!0}function cc(e,t,n,r,i,o,a,s,c,l){if((l=void 0!==l?l:Ye)!==Ye&&l!==Xe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Ye&&(n=Fe),void 0===n&&l===Xe&&(n=Ue),xn.call(this,null,r,i,o,a,s,l,n,c),this.image={width:e,height:t},this.magFilter=void 0!==a?a:we,this.minFilter=void 0!==s?s:we,this.flipY=!1,this.generateMipmaps=!1}function lc(e){li.call(this),this.type="WireframeGeometry";var t,n,r,i,o,a,s,c,l,u,h=[],d=[0,0],f={},p=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var g=m[t];for(n=0;n<3;n++)s=g[p[n]],c=g[p[(n+1)%3]],d[0]=Math.min(s,c),d[1]=Math.max(s,c),void 0===f[l=d[0]+","+d[1]]&&(f[l]={index1:d[0],index2:d[1]})}for(l in f)a=f[l],u=e.vertices[a.index1],h.push(u.x,u.y,u.z),u=e.vertices[a.index2],h.push(u.x,u.y,u.z)}else if(e&&e.isBufferGeometry){var v,y,b,w,x,_,E;if(u=new mn,null!==e.index){for(v=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,o=b.length;i<o;++i)for(t=x=(w=b[i]).start,r=x+w.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),c=y.getX(t+(n+1)%3),d[0]=Math.min(s,c),d[1]=Math.max(s,c),void 0===f[l=d[0]+","+d[1]]&&(f[l]={index1:d[0],index2:d[1]});for(l in f)a=f[l],u.fromBufferAttribute(v,a.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(v,a.index2),h.push(u.x,u.y,u.z)}else for(t=0,r=(v=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)_=3*t+n,u.fromBufferAttribute(v,_),h.push(u.x,u.y,u.z),E=3*t+(n+1)%3,u.fromBufferAttribute(v,E),h.push(u.x,u.y,u.z)}this.addAttribute("position",new Jr(h,3))}function uc(e,t,n){Li.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new hc(e,t,n)),this.mergeVertices()}function hc(e,t,n){li.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o=[],a=[],s=[],c=[],l=new mn,u=new mn,h=new mn,d=new mn,f=new mn;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var p=t+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=t;i++){var g=i/t;e(g,m,u),a.push(u.x,u.y,u.z),g-1e-5>=0?(e(g-1e-5,m,h),d.subVectors(u,h)):(e(g+1e-5,m,h),d.subVectors(h,u)),m-1e-5>=0?(e(g,m-1e-5,h),f.subVectors(u,h)):(e(g,m+1e-5,h),f.subVectors(h,u)),l.crossVectors(d,f).normalize(),s.push(l.x,l.y,l.z),c.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var v=r*p+i,y=r*p+i+1,b=(r+1)*p+i+1,w=(r+1)*p+i;o.push(v,y,w),o.push(y,b,w)}this.setIndex(o),this.addAttribute("position",new Jr(a,3)),this.addAttribute("normal",new Jr(s,3)),this.addAttribute("uv",new Jr(c,2))}function dc(e,t,n,r){Li.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new fc(e,t,n,r)),this.mergeVertices()}function fc(e,t,n,r){li.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){var i,o,a=Math.pow(2,r),c=[];for(i=0;i<=a;i++){c[i]=[];var l=e.clone().lerp(n,i/a),u=t.clone().lerp(n,i/a),h=a-i;for(o=0;o<=h;o++)c[i][o]=0===o&&i===a?l:l.clone().lerp(u,o/h)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var d=Math.floor(o/2);o%2==0?(s(c[i][d+1]),s(c[i+1][d]),s(c[i][d])):(s(c[i][d+1]),s(c[i+1][d+1]),s(c[i+1][d]))}}function s(e){i.push(e.x,e.y,e.z)}function c(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new mn,r=new mn,i=new mn,o=0;o<t.length;o+=3)c(t[o+0],n),c(t[o+1],r),c(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new mn,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new mn,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=u(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new mn,t=new mn,n=new mn,r=new mn,a=new hn,s=new hn,c=new hn,h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),c.set(o[d+4],o[d+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=u(r);l(a,d+0,e,f),l(s,d+2,t,f),l(c,d+4,n,f)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.addAttribute("position",new Jr(i,3)),this.addAttribute("normal",new Jr(i.slice(),3)),this.addAttribute("uv",new Jr(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function pc(e,t){Li.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new mc(e,t)),this.mergeVertices()}function mc(e,t){fc.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function gc(e,t){Li.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new vc(e,t)),this.mergeVertices()}function vc(e,t){fc.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function yc(e,t){Li.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new bc(e,t)),this.mergeVertices()}function bc(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];fc.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function wc(e,t){Li.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new xc(e,t)),this.mergeVertices()}function xc(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];fc.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function _c(e,t,n,r,i,o){Li.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Ec(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Ec(e,t,n,r,i){li.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,c=new mn,l=new mn,u=new hn,h=new mn,d=[],f=[],p=[],m=[];function g(i){h=e.getPointAt(i/t,h);var a=o.normals[i],u=o.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),g=-Math.cos(p);l.x=g*a.x+m*u.x,l.y=g*a.y+m*u.y,l.z=g*a.z+m*u.z,l.normalize(),f.push(l.x,l.y,l.z),c.x=h.x+n*l.x,c.y=h.y+n*l.y,c.z=h.z+n*l.z,d.push(c.x,c.y,c.z)}}!function(){for(a=0;a<t;a++)g(a);g(!1===i?t:0),function(){for(a=0;a<=t;a++)for(s=0;s<=r;s++)u.x=a/t,u.y=s/r,p.push(u.x,u.y)}(),function(){for(s=1;s<=t;s++)for(a=1;a<=r;a++){var e=(r+1)*(s-1)+(a-1),n=(r+1)*s+(a-1),i=(r+1)*s+a,o=(r+1)*(s-1)+a;m.push(e,n,o),m.push(n,i,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Jr(d,3)),this.addAttribute("normal",new Jr(f,3)),this.addAttribute("uv",new Jr(p,2))}function Sc(e,t,n,r,i,o,a){Li.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Cc(e,t,n,r,i,o)),this.mergeVertices()}function Cc(e,t,n,r,i,o){li.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;var a,s,c=[],l=[],u=[],h=[],d=new mn,f=new mn,p=new mn,m=new mn,g=new mn,v=new mn,y=new mn;for(a=0;a<=n;++a){var b=a/n*i*Math.PI*2;for(T(b,i,o,e,p),T(b+.01,i,o,e,m),v.subVectors(m,p),y.addVectors(m,p),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var w=s/r*Math.PI*2,x=-t*Math.cos(w),_=t*Math.sin(w);d.x=p.x+(x*y.x+_*g.x),d.y=p.y+(x*y.y+_*g.y),d.z=p.z+(x*y.z+_*g.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),u.push(f.x,f.y,f.z),h.push(a/n),h.push(s/r)}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var E=(r+1)*(s-1)+(a-1),S=(r+1)*s+(a-1),C=(r+1)*s+a,A=(r+1)*(s-1)+a;c.push(E,S,A),c.push(S,C,A)}function T(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute("position",new Jr(l,3)),this.addAttribute("normal",new Jr(u,3)),this.addAttribute("uv",new Jr(h,2))}function Ac(e,t,n,r,i){Li.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Tc(e,t,n,r,i)),this.mergeVertices()}function Tc(e,t,n,r,i){li.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],c=[],l=[],u=[],h=new mn,d=new mn,f=new mn;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var p=a/r*i,m=o/n*Math.PI*2;d.x=(e+t*Math.cos(m))*Math.cos(p),d.y=(e+t*Math.cos(m))*Math.sin(p),d.z=t*Math.sin(m),c.push(d.x,d.y,d.z),h.x=e*Math.cos(p),h.y=e*Math.sin(p),f.subVectors(d,h).normalize(),l.push(f.x,f.y,f.z),u.push(a/r),u.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,v=(r+1)*(o-1)+a-1,y=(r+1)*(o-1)+a,b=(r+1)*o+a;s.push(g,v,b),s.push(v,y,b)}this.setIndex(s),this.addAttribute("position",new Jr(c,3)),this.addAttribute("normal",new Jr(l,3)),this.addAttribute("uv",new Jr(u,2))}rc.prototype=Object.assign(Object.create(Kn.prototype),{constructor:rc,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),tc.copy(n.boundingSphere),tc.applyMatrix4(r),tc.radius+=i,!1!==e.ray.intersectsSphere(tc)){Qs.getInverse(r),ec.copy(e.ray).applyMatrix4(Qs);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,c=n.attributes.position.array;if(null!==s)for(var l=s.array,u=0,h=l.length;u<h;u++){var d=l[u];nc.fromArray(c,3*d),ic(nc,d,a,r,e,t,this)}else{u=0;for(var f=c.length/3;u<f;u++)nc.fromArray(c,3*u),ic(nc,u,a,r,e,t,this)}}else{var p=n.vertices;for(u=0,f=p.length;u<f;u++)ic(p[u],u,a,r,e,t,this)}}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,o=Object.keys(i);if(o.length>0){var a=i[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=a.length;e<t;e++)n=a[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),oc.prototype=Object.assign(Object.create(xn.prototype),{constructor:oc,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ac.prototype=Object.create(xn.prototype),ac.prototype.constructor=ac,ac.prototype.isCompressedTexture=!0,sc.prototype=Object.create(xn.prototype),sc.prototype.constructor=sc,sc.prototype.isCanvasTexture=!0,cc.prototype=Object.create(xn.prototype),cc.prototype.constructor=cc,cc.prototype.isDepthTexture=!0,lc.prototype=Object.create(li.prototype),lc.prototype.constructor=lc,uc.prototype=Object.create(Li.prototype),uc.prototype.constructor=uc,hc.prototype=Object.create(li.prototype),hc.prototype.constructor=hc,dc.prototype=Object.create(Li.prototype),dc.prototype.constructor=dc,fc.prototype=Object.create(li.prototype),fc.prototype.constructor=fc,pc.prototype=Object.create(Li.prototype),pc.prototype.constructor=pc,mc.prototype=Object.create(fc.prototype),mc.prototype.constructor=mc,gc.prototype=Object.create(Li.prototype),gc.prototype.constructor=gc,vc.prototype=Object.create(fc.prototype),vc.prototype.constructor=vc,yc.prototype=Object.create(Li.prototype),yc.prototype.constructor=yc,bc.prototype=Object.create(fc.prototype),bc.prototype.constructor=bc,wc.prototype=Object.create(Li.prototype),wc.prototype.constructor=wc,xc.prototype=Object.create(fc.prototype),xc.prototype.constructor=xc,_c.prototype=Object.create(Li.prototype),_c.prototype.constructor=_c,Ec.prototype=Object.create(li.prototype),Ec.prototype.constructor=Ec,Ec.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},Sc.prototype=Object.create(Li.prototype),Sc.prototype.constructor=Sc,Cc.prototype=Object.create(li.prototype),Cc.prototype.constructor=Cc,Ac.prototype=Object.create(Li.prototype),Ac.prototype.constructor=Ac,Tc.prototype=Object.create(li.prototype),Tc.prototype.constructor=Tc;var Mc=function(e,t,n){n=n||2;var r,i,o,a,s,c,l,u=t&&t.length,h=u?t[0]*n:e.length,d=kc(e,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(u&&(d=function(e,t,n,r){var i,o,a,s,c,l=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,(c=kc(e,a,s,r,!1))===c.next&&(c.steiner=!0),l.push(Bc(c));for(l.sort(jc),i=0;i<l.length;i++)Nc(l[i],n),n=Oc(n,n.next);return n}(e,t,d,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var p=n;p<h;p+=n)(s=e[p])<r&&(r=s),(c=e[p+1])<i&&(i=c),s>o&&(o=s),c>a&&(a=c);l=0!==(l=Math.max(o-r,a-i))?1/l:0}return Pc(d,f,n,r,i,l),f};function kc(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=qc(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=qc(o,e[o],e[o+1],a);return a&&Vc(a,a.next)&&(Yc(a),a=a.next),a}function Oc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Vc(r,r.next)&&0!==Hc(r.prev,r,r.next))r=r.next;else{if(Yc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Pc(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ic(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,c,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(c=l;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,o);for(var s,c,l=e;e.prev!==e.next;)if(s=e.prev,c=e.next,o?Fc(e,r,i,o):Rc(e))t.push(s.i/n),t.push(e.i/n),t.push(c.i/n),Yc(e),e=c.next,l=c.next;else if((e=c)===l){a?1===a?Pc(e=Lc(e,t,n),t,n,r,i,o,2):2===a&&Dc(e,t,n,r,i,o):Pc(Oc(e),t,n,r,i,o,1);break}}}function Rc(e){var t=e.prev,n=e,r=e.next;if(Hc(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(zc(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Hc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Fc(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Hc(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,c=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Ic(s,c,t,n,r),d=Ic(l,u,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&zc(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Hc(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&zc(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Hc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&zc(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Hc(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&zc(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Hc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Lc(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Vc(i,o)&&Wc(i,r,r.next,o)&&$c(i,o)&&$c(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Yc(r),Yc(r.next),r=e=o),r=r.next}while(r!==e);return r}function Dc(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Uc(a,s)){var c=Gc(a,s);return a=Oc(a,a.next),c=Oc(c,c.next),Pc(a,t,n,r,i,o),void Pc(c,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function jc(e,t){return e.x-t.x}function Nc(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var c,l=n,u=n.x,h=n.y,d=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=u&&i!==r.x&&zc(o<h?i:a,o,u,h,o<h?a:i,o,r.x,r.y)&&((c=Math.abs(o-r.y)/(i-r.x))<d||c===d&&r.x>n.x)&&$c(r,e)&&(n=r,d=c),r=r.next;return n}(e,t)){var n=Gc(t,e);Oc(n,n.next)}}function Ic(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Bc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function zc(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Uc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Wc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&$c(e,t)&&$c(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Hc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Vc(e,t){return e.x===t.x&&e.y===t.y}function Wc(e,t,n,r){return!!(Vc(e,n)&&Vc(t,r)||Vc(e,r)&&Vc(n,t))||Hc(e,t,n)>0!=Hc(e,t,r)>0&&Hc(n,r,e)>0!=Hc(n,r,t)>0}function $c(e,t){return Hc(e.prev,e,e.next)<0?Hc(e,t,e.next)>=0&&Hc(e,e.prev,t)>=0:Hc(e,t,e.prev)<0||Hc(e,e.next,t)<0}function Gc(e,t){var n=new Xc(e.i,e.x,e.y),r=new Xc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function qc(e,t,n,r){var i=new Xc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Yc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Kc={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Kc.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Zc(e),Jc(n,e);var o=e.length;t.forEach(Zc);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,Jc(n,t[a]);var s=Mc(n,r);for(a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}};function Zc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Jc(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Qc(e,t){Li.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new el(e,t)),this.mergeVertices()}function el(e,t){li.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:tl;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var g,v,y,b,w,x,_,E,S=!1;p&&(g=p.getSpacedPoints(s),S=!0,l=!1,v=p.computeFrenetFrames(s,!1),y=new mn,b=new mn,w=new mn),l||(f=0,u=0,h=0,d=0);var C=e.extractPoints(a),A=C.shape,T=C.holes;if(!Kc.isClockWise(A))for(A=A.reverse(),_=0,E=T.length;_<E;_++)x=T[_],Kc.isClockWise(x)&&(T[_]=x.reverse());var M=Kc.triangulateShape(A,T),k=A;for(_=0,E=T.length;_<E;_++)x=T[_],A=A.concat(x);function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var P,R,F,L,D,j,N=A.length,I=M.length;function B(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,c=n.x-e.x,l=n.y-e.y,u=a*a+s*s,h=a*l-s*c;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),f=Math.sqrt(c*c+l*l),p=t.x-s/d,m=t.y+a/d,g=((n.x-l/f-p)*l-(n.y+c/f-m)*c)/(a*l-s*c),v=(r=p+a*g-e.x)*r+(i=m+s*g-e.y)*i;if(v<=2)return new hn(r,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new hn(r/o,i/o)}for(var z=[],U=0,H=k.length,V=H-1,W=U+1;U<H;U++,V++,W++)V===H&&(V=0),W===H&&(W=0),z[U]=B(k[U],k[V],k[W]);var $,G,q=[],Y=z.concat();for(_=0,E=T.length;_<E;_++){for(x=T[_],$=[],U=0,V=(H=x.length)-1,W=U+1;U<H;U++,V++,W++)V===H&&(V=0),W===H&&(W=0),$[U]=B(x[U],x[V],x[W]);q.push($),Y=Y.concat($)}for(P=0;P<f;P++){for(F=P/f,L=u*Math.cos(F*Math.PI/2),R=h*Math.sin(F*Math.PI/2)+d,U=0,H=k.length;U<H;U++)K((D=O(k[U],z[U],R)).x,D.y,-L);for(_=0,E=T.length;_<E;_++)for(x=T[_],$=q[_],U=0,H=x.length;U<H;U++)K((D=O(x[U],$[U],R)).x,D.y,-L)}for(R=h+d,U=0;U<N;U++)D=l?O(A[U],Y[U],R):A[U],S?(b.copy(v.normals[0]).multiplyScalar(D.x),y.copy(v.binormals[0]).multiplyScalar(D.y),w.copy(g[0]).add(b).add(y),K(w.x,w.y,w.z)):K(D.x,D.y,0);for(G=1;G<=s;G++)for(U=0;U<N;U++)D=l?O(A[U],Y[U],R):A[U],S?(b.copy(v.normals[G]).multiplyScalar(D.x),y.copy(v.binormals[G]).multiplyScalar(D.y),w.copy(g[G]).add(b).add(y),K(w.x,w.y,w.z)):K(D.x,D.y,c/s*G);for(P=f-1;P>=0;P--){for(F=P/f,L=u*Math.cos(F*Math.PI/2),R=h*Math.sin(F*Math.PI/2)+d,U=0,H=k.length;U<H;U++)K((D=O(k[U],z[U],R)).x,D.y,c+L);for(_=0,E=T.length;_<E;_++)for(x=T[_],$=q[_],U=0,H=x.length;U<H;U++)D=O(x[U],$[U],R),S?K(D.x,D.y+g[s-1].y,g[s-1].x+L):K(D.x,D.y,c+L)}function X(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,o=s+2*f;for(i=0;i<o;i++){var a=N*i,c=N*(i+1);J(t+n+a,t+r+a,t+r+c,t+n+c)}}}function K(e,t,n){o.push(e),o.push(t),o.push(n)}function Z(e,t,i){Q(e),Q(t),Q(i);var o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);ee(a[0]),ee(a[1]),ee(a[2])}function J(e,t,i,o){Q(e),Q(t),Q(o),Q(t),Q(i),Q(o);var a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function Q(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=N*t;for(U=0;U<I;U++)Z((j=M[U])[2]+i,j[1]+i,j[0]+i);for(i=N*(t=s+2*f),U=0;U<I;U++)Z((j=M[U])[0]+i,j[1]+i,j[2]+i)}else{for(U=0;U<I;U++)Z((j=M[U])[2],j[1],j[0]);for(U=0;U<I;U++)Z((j=M[U])[0]+N*s,j[1]+N*s,j[2]+N*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(X(k,t),t+=k.length,_=0,E=T.length;_<E;_++)X(x=T[_],t),t+=x.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute("position",new Jr(r,3)),this.addAttribute("uv",new Jr(i,2)),this.computeVertexNormals()}Qc.prototype=Object.create(Li.prototype),Qc.prototype.constructor=Qc,Qc.prototype.toJSON=function(){var e=Li.prototype.toJSON.call(this);return nl(this.parameters.shapes,this.parameters.options,e)},el.prototype=Object.create(li.prototype),el.prototype.constructor=el,el.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return nl(this.parameters.shapes,this.parameters.options,e)};var tl={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],c=t[3*r+1],l=t[3*i],u=t[3*i+1];return[new hn(o,a),new hn(s,c),new hn(l,u)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],c=t[3*n+2],l=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<.01?[new hn(a,1-c),new hn(l,1-h),new hn(d,1-p),new hn(m,1-v)]:[new hn(s,1-c),new hn(u,1-h),new hn(f,1-p),new hn(g,1-v)]}};function nl(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function rl(e,t){Li.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new il(e,t)),this.mergeVertices()}function il(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Li;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),el.call(this,r,t),this.type="TextBufferGeometry"}function ol(e,t,n,r,i,o,a){Li.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new al(e,t,n,r,i,o,a)),this.mergeVertices()}function al(e,t,n,r,i,o,a){li.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,c,l=Math.min(o+a,Math.PI),u=0,h=[],d=new mn,f=new mn,p=[],m=[],g=[],v=[];for(c=0;c<=n;c++){var y=[],b=c/n,w=0;for(0==c&&0==o?w=.5/t:c==n&&l==Math.PI&&(w=-.5/t),s=0;s<=t;s++){var x=s/t;d.x=-e*Math.cos(r+x*i)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(r+x*i)*Math.sin(o+b*a),m.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),v.push(x+w,1-b),y.push(u++)}h.push(y)}for(c=0;c<n;c++)for(s=0;s<t;s++){var _=h[c][s+1],E=h[c][s],S=h[c+1][s],C=h[c+1][s+1];(0!==c||o>0)&&p.push(_,E,C),(c!==n-1||l<Math.PI)&&p.push(E,S,C)}this.setIndex(p),this.addAttribute("position",new Jr(m,3)),this.addAttribute("normal",new Jr(g,3)),this.addAttribute("uv",new Jr(v,2))}function sl(e,t,n,r,i,o){Li.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new cl(e,t,n,r,i,o)),this.mergeVertices()}function cl(e,t,n,r,i,o){li.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,c,l=[],u=[],h=[],d=[],f=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new mn,g=new hn;for(s=0;s<=r;s++){for(c=0;c<=n;c++)a=i+c/n*o,m.x=f*Math.cos(a),m.y=f*Math.sin(a),u.push(m.x,m.y,m.z),h.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,d.push(g.x,g.y);f+=p}for(s=0;s<r;s++){var v=s*(n+1);for(c=0;c<n;c++){var y=a=c+v,b=a+n+1,w=a+n+2,x=a+1;l.push(y,b,x),l.push(b,w,x)}}this.setIndex(l),this.addAttribute("position",new Jr(u,3)),this.addAttribute("normal",new Jr(h,3)),this.addAttribute("uv",new Jr(d,2))}function ll(e,t,n,r){Li.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new ul(e,t,n,r)),this.mergeVertices()}function ul(e,t,n,r){li.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=un.clamp(r,0,2*Math.PI);var i,o,a,s=[],c=[],l=[],u=1/t,h=new mn,d=new hn;for(o=0;o<=t;o++){var f=n+o*u*r,p=Math.sin(f),m=Math.cos(f);for(a=0;a<=e.length-1;a++)h.x=e[a].x*p,h.y=e[a].y,h.z=e[a].x*m,c.push(h.x,h.y,h.z),d.x=o/t,d.y=a/(e.length-1),l.push(d.x,d.y)}for(o=0;o<t;o++)for(a=0;a<e.length-1;a++){var g=i=a+o*e.length,v=i+e.length,y=i+e.length+1,b=i+1;s.push(g,v,b),s.push(v,y,b)}if(this.setIndex(s),this.addAttribute("position",new Jr(c,3)),this.addAttribute("uv",new Jr(l,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,x=new mn,_=new mn,E=new mn;for(i=t*e.length*3,o=0,a=0;o<e.length;o++,a+=3)x.x=w[a+0],x.y=w[a+1],x.z=w[a+2],_.x=w[i+a+0],_.y=w[i+a+1],_.z=w[i+a+2],E.addVectors(x,_).normalize(),w[a+0]=w[i+a+0]=E.x,w[a+1]=w[i+a+1]=E.y,w[a+2]=w[i+a+2]=E.z}}function hl(e,t){Li.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new dl(e,t)),this.mergeVertices()}function dl(e,t){li.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){var a,c,l,u=r.length/3,h=e.extractPoints(t),d=h.shape,f=h.holes;for(!1===Kc.isClockWise(d)&&(d=d.reverse()),a=0,c=f.length;a<c;a++)l=f[a],!0===Kc.isClockWise(l)&&(f[a]=l.reverse());var p=Kc.triangulateShape(d,f);for(a=0,c=f.length;a<c;a++)l=f[a],d=d.concat(l);for(a=0,c=d.length;a<c;a++){var m=d[a];r.push(m.x,m.y,0),i.push(0,0,1),o.push(m.x,m.y)}for(a=0,c=p.length;a<c;a++){var g=p[a],v=g[0]+u,y=g[1]+u,b=g[2]+u;n.push(v,y,b),s+=3}}this.setIndex(n),this.addAttribute("position",new Jr(r,3)),this.addAttribute("normal",new Jr(i,3)),this.addAttribute("uv",new Jr(o,2))}function fl(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function pl(e,t){li.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(un.DEG2RAD*t),c=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(o=new Li).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,d=o.faces,f=0,p=d.length;f<p;f++)for(var m=d[f],g=0;g<3;g++)n=m[u[g]],r=m[u[(g+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),void 0===l[i=c[0]+","+c[1]]?l[i]={index1:c[0],index2:c[1],face1:f,face2:void 0}:l[i].face2=f;for(i in l){var v=l[i];if(void 0===v.face2||d[v.face1].normal.dot(d[v.face2].normal)<=s){var y=h[v.index1];a.push(y.x,y.y,y.z),y=h[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Jr(a,3))}function ml(e,t,n,r,i,o,a,s){Li.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new gl(e,t,n,r,i,o,a,s)),this.mergeVertices()}function gl(e,t,n,r,i,o,a,s){li.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],h=[],d=[],f=0,p=[],m=n/2,g=0;function v(n){var i,o,p,v=new hn,y=new mn,b=0,w=!0===n?e:t,x=!0===n?1:-1;for(o=f,i=1;i<=r;i++)u.push(0,m*x,0),h.push(0,x,0),d.push(.5,.5),f++;for(p=f,i=0;i<=r;i++){var _=i/r*s+a,E=Math.cos(_),S=Math.sin(_);y.x=w*S,y.y=m*x,y.z=w*E,u.push(y.x,y.y,y.z),h.push(0,x,0),v.x=.5*E+.5,v.y=.5*S*x+.5,d.push(v.x,v.y),f++}for(i=0;i<r;i++){var C=o+i,A=p+i;!0===n?l.push(A,A+1,C):l.push(A+1,A,C),b+=3}c.addGroup(g,b,!0===n?1:2),g+=b}!function(){var o,v,y=new mn,b=new mn,w=0,x=(t-e)/n;for(v=0;v<=i;v++){var _=[],E=v/i,S=E*(t-e)+e;for(o=0;o<=r;o++){var C=o/r,A=C*s+a,T=Math.sin(A),M=Math.cos(A);b.x=S*T,b.y=-E*n+m,b.z=S*M,u.push(b.x,b.y,b.z),y.set(T,x,M).normalize(),h.push(y.x,y.y,y.z),d.push(C,1-E),_.push(f++)}p.push(_)}for(o=0;o<r;o++)for(v=0;v<i;v++){var k=p[v][o],O=p[v+1][o],P=p[v+1][o+1],R=p[v][o+1];l.push(k,O,R),l.push(O,P,R),w+=6}c.addGroup(g,w,0),g+=w}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(l),this.addAttribute("position",new Jr(u,3)),this.addAttribute("normal",new Jr(h,3)),this.addAttribute("uv",new Jr(d,2))}function vl(e,t,n,r,i,o,a){ml.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function yl(e,t,n,r,i,o,a){gl.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function bl(e,t,n,r){Li.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new wl(e,t,n,r)),this.mergeVertices()}function wl(e,t,n,r){li.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,o,a=[],s=[],c=[],l=[],u=new mn,h=new hn;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),o=0,i=3;o<=t;o++,i+=3){var d=n+o/t*r;u.x=e*Math.cos(d),u.y=e*Math.sin(d),s.push(u.x,u.y,u.z),c.push(0,0,1),h.x=(s[i]/e+1)/2,h.y=(s[i+1]/e+1)/2,l.push(h.x,h.y)}for(i=1;i<=t;i++)a.push(i,i+1,0);this.setIndex(a),this.addAttribute("position",new Jr(s,3)),this.addAttribute("normal",new Jr(c,3)),this.addAttribute("uv",new Jr(l,2))}rl.prototype=Object.create(Li.prototype),rl.prototype.constructor=rl,il.prototype=Object.create(el.prototype),il.prototype.constructor=il,ol.prototype=Object.create(Li.prototype),ol.prototype.constructor=ol,al.prototype=Object.create(li.prototype),al.prototype.constructor=al,sl.prototype=Object.create(Li.prototype),sl.prototype.constructor=sl,cl.prototype=Object.create(li.prototype),cl.prototype.constructor=cl,ll.prototype=Object.create(Li.prototype),ll.prototype.constructor=ll,ul.prototype=Object.create(li.prototype),ul.prototype.constructor=ul,hl.prototype=Object.create(Li.prototype),hl.prototype.constructor=hl,hl.prototype.toJSON=function(){var e=Li.prototype.toJSON.call(this);return fl(this.parameters.shapes,e)},dl.prototype=Object.create(li.prototype),dl.prototype.constructor=dl,dl.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return fl(this.parameters.shapes,e)},pl.prototype=Object.create(li.prototype),pl.prototype.constructor=pl,ml.prototype=Object.create(Li.prototype),ml.prototype.constructor=ml,gl.prototype=Object.create(li.prototype),gl.prototype.constructor=gl,vl.prototype=Object.create(ml.prototype),vl.prototype.constructor=vl,yl.prototype=Object.create(gl.prototype),yl.prototype.constructor=yl,bl.prototype=Object.create(Li.prototype),bl.prototype.constructor=bl,wl.prototype=Object.create(li.prototype),wl.prototype.constructor=wl;var xl=Object.freeze({WireframeGeometry:lc,ParametricGeometry:uc,ParametricBufferGeometry:hc,TetrahedronGeometry:pc,TetrahedronBufferGeometry:mc,OctahedronGeometry:gc,OctahedronBufferGeometry:vc,IcosahedronGeometry:yc,IcosahedronBufferGeometry:bc,DodecahedronGeometry:wc,DodecahedronBufferGeometry:xc,PolyhedronGeometry:dc,PolyhedronBufferGeometry:fc,TubeGeometry:_c,TubeBufferGeometry:Ec,TorusKnotGeometry:Sc,TorusKnotBufferGeometry:Cc,TorusGeometry:Ac,TorusBufferGeometry:Tc,TextGeometry:rl,TextBufferGeometry:il,SphereGeometry:ol,SphereBufferGeometry:al,RingGeometry:sl,RingBufferGeometry:cl,PlaneGeometry:co,PlaneBufferGeometry:lo,LatheGeometry:ll,LatheBufferGeometry:ul,ShapeGeometry:hl,ShapeBufferGeometry:dl,ExtrudeGeometry:Qc,ExtrudeBufferGeometry:el,EdgesGeometry:pl,ConeGeometry:vl,ConeBufferGeometry:yl,CylinderGeometry:ml,CylinderBufferGeometry:gl,CircleGeometry:bl,CircleBufferGeometry:wl,BoxGeometry:Di,BoxBufferGeometry:ji});function _l(e){Hr.call(this),this.type="ShadowMaterial",this.color=new jr(0),this.transparent=!0,this.setValues(e)}function El(e){Hi.call(this,e),this.type="RawShaderMaterial"}function Sl(e){Hr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new jr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cl(e){Sl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new hn(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function Al(e){Hr.call(this),this.type="MeshPhongMaterial",this.color=new jr(16777215),this.specular=new jr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Tl(e){Al.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function Ml(e){Hr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kl(e){Hr.call(this),this.type="MeshLambertMaterial",this.color=new jr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ee,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ol(e){Hr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new jr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Pl(e){Us.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}_l.prototype=Object.create(Hr.prototype),_l.prototype.constructor=_l,_l.prototype.isShadowMaterial=!0,_l.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this},El.prototype=Object.create(Hi.prototype),El.prototype.constructor=El,El.prototype.isRawShaderMaterial=!0,Sl.prototype=Object.create(Hr.prototype),Sl.prototype.constructor=Sl,Sl.prototype.isMeshStandardMaterial=!0,Sl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Cl.prototype=Object.create(Sl.prototype),Cl.prototype.constructor=Cl,Cl.prototype.isMeshPhysicalMaterial=!0,Cl.prototype.copy=function(e){return Sl.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new jr).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},Al.prototype=Object.create(Hr.prototype),Al.prototype.constructor=Al,Al.prototype.isMeshPhongMaterial=!0,Al.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Tl.prototype=Object.create(Al.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isMeshToonMaterial=!0,Tl.prototype.copy=function(e){return Al.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},Ml.prototype=Object.create(Hr.prototype),Ml.prototype.constructor=Ml,Ml.prototype.isMeshNormalMaterial=!0,Ml.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kl.prototype=Object.create(Hr.prototype),kl.prototype.constructor=kl,kl.prototype.isMeshLambertMaterial=!0,kl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ol.prototype=Object.create(Hr.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isMeshMatcapMaterial=!0,Ol.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Pl.prototype=Object.create(Us.prototype),Pl.prototype.constructor=Pl,Pl.prototype.isLineDashedMaterial=!0,Pl.prototype.copy=function(e){return Us.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Rl=Object.freeze({ShadowMaterial:_l,SpriteMaterial:vs,RawShaderMaterial:El,ShaderMaterial:Hi,PointsMaterial:Js,MeshPhysicalMaterial:Cl,MeshStandardMaterial:Sl,MeshPhongMaterial:Al,MeshToonMaterial:Tl,MeshNormalMaterial:Ml,MeshLambertMaterial:kl,MeshDepthMaterial:Ya,MeshDistanceMaterial:Xa,MeshBasicMaterial:Vr,MeshMatcapMaterial:Ol,LineDashedMaterial:Pl,LineBasicMaterial:Us,Material:Hr}),Fl={arraySlice:function(e,t,n){return Fl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,c=0;c!==t;++c)i[a++]=e[s+c];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}}};function Ll(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Dl(e,t,n,r){Ll.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function jl(e,t,n,r){Ll.call(this,e,t,n,r)}function Nl(e,t,n,r){Ll.call(this,e,t,n,r)}function Il(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Fl.convertArray(t,this.TimeBufferType),this.values=Fl.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Bl(e,t,n){Il.call(this,e,t,n)}function zl(e,t,n,r){Il.call(this,e,t,n,r)}function Ul(e,t,n,r){Il.call(this,e,t,n,r)}function Hl(e,t,n,r){Ll.call(this,e,t,n,r)}function Vl(e,t,n,r){Il.call(this,e,t,n,r)}function Wl(e,t,n,r){Il.call(this,e,t,n,r)}function $l(e,t,n,r){Il.call(this,e,t,n,r)}function Gl(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=un.generateUUID(),this.duration<0&&this.resetDuration()}function ql(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ul;case"vector":case"vector2":case"vector3":case"vector4":return $l;case"color":return zl;case"quaternion":return Vl;case"bool":case"boolean":return Bl;case"string":return Wl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Fl.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Ll.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Ll.prototype,{beforeStart_:Ll.prototype.copySampleValue_,afterEnd_:Ll.prototype.copySampleValue_}),Dl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Dl,DefaultSettings_:{endingStart:At,endingEnd:At},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Tt:i=e,a=2*t-n;break;case Mt:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Tt:o=e,s=2*n-t;break;case Mt:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var c=.5*(n-t),l=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p,w=0;w!==a;++w)i[w]=g*o[l+w]+v*o[c+w]+y*o[s+w]+b*o[u+w];return i}}),jl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:jl,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=s-a,l=(n-t)/(r-t),u=1-l,h=0;h!==a;++h)i[h]=o[c+h]*u+o[s+h]*l;return i}}),Nl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Nl,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Il,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Fl.convertArray(e.times,Array),values:Fl.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Il.prototype,{constructor:Il,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:St,InterpolantFactoryMethodDiscrete:function(e){return new Nl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new jl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Dl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Et:t=this.InterpolantFactoryMethodDiscrete;break;case St:t=this.InterpolantFactoryMethodLinear;break;case Ct:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Et;case this.InterpolantFactoryMethodLinear:return St;case this.InterpolantFactoryMethodSmooth:return Ct}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Fl.arraySlice(n,i,o),this.values=Fl.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&Fl.isTypedArray(r)){a=0;for(var c=r.length;a!==c;++a){var l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Ct,i=1,o=e.length-1,a=1;a<o;++a){var s=!1,c=e[a];if(c!==e[a+1]&&(1!==a||c!==c[0]))if(r)s=!0;else for(var l=a*n,u=l-n,h=l+n,d=0;d!==n;++d){var f=t[l+d];if(f!==t[u+d]||f!==t[h+d]){s=!0;break}}if(s){if(a!==i){e[i]=e[a];var p=a*n,m=i*n;for(d=0;d!==n;++d)t[m+d]=t[p+d]}++i}}if(o>0){e[i]=e[o];for(p=o*n,m=i*n,d=0;d!==n;++d)t[m+d]=t[p+d];++i}return i!==e.length&&(this.times=Fl.arraySlice(e,0,i),this.values=Fl.arraySlice(t,0,i*n)),this},clone:function(){var e=Fl.arraySlice(this.times,0),t=Fl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Bl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Bl,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Et,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zl.prototype=Object.assign(Object.create(Il.prototype),{constructor:zl,ValueTypeName:"color"}),Ul.prototype=Object.assign(Object.create(Il.prototype),{constructor:Ul,ValueTypeName:"number"}),Hl.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Hl,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,c=(n-t)/(r-t),l=s+a;s!==l;s+=4)dn.slerpFlat(i,0,o,s-a,o,s,c);return i}}),Vl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Vl,ValueTypeName:"quaternion",DefaultInterpolation:St,InterpolantFactoryMethodLinear:function(e){return new Hl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Wl.prototype=Object.assign(Object.create(Il.prototype),{constructor:Wl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Et,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$l.prototype=Object.assign(Object.create(Il.prototype),{constructor:$l,ValueTypeName:"vector"}),Object.assign(Gl,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(ql(n[i]).scale(r));return new Gl(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,o=n.length;i!==o;++i)t.push(Il.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=Fl.getKeyframeOrder(s);s=Fl.sortedArray(s,1,l),c=Fl.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Ul(".morphTargetInfluences["+t[a].name+"]",s,c).scale(1/n))}return new Gl(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],c=s.name.match(i);if(c&&c.length>1){var l=r[h=c[1]];l||(r[h]=l=[]),l.push(s)}}var u=[];for(var h in r)u.push(Gl.CreateFromMorphTargetSequence(h,r[h],t,n));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];Fl.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.length||-1,a=e.fps||30,s=e.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var d=0;d<l[h].morphTargets.length;d++)u[l[h].morphTargets[d]]=-1;for(var f in u){var p=[],m=[];for(d=0;d!==l[h].morphTargets.length;++d){var g=l[h];p.push(g.time),m.push(g.morphTarget===f?1:0)}r.push(new Ul(".morphTargetInfluence["+f+"]",p,m))}o=u.length*(a||1)}else{var v=".bones["+t[c].name+"]";n($l,v+".position",l,"pos",r),n(Vl,v+".quaternion",l,"rot",r),n($l,v+".scale",l,"scl",r)}}return 0===r.length?null:new Gl(i,o,r)}}),Object.assign(Gl.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Gl(this.name,this.duration,e)}});var Yl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Xl(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.test(e))return i}return null}}var Kl=new Xl;function Zl(e){this.manager=void 0!==e?e:Kl,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Zl.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var Jl={};function Ql(e){Zl.call(this,e)}function eu(e){Zl.call(this,e)}function tu(e){Zl.call(this,e)}function nu(e){Zl.call(this,e)}function ru(e){Zl.call(this,e)}function iu(e){Zl.call(this,e)}function ou(e){Zl.call(this,e)}function au(){this.type="Curve",this.arcLengthDivisions=200}function su(e,t,n,r,i,o,a,s){au.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function cu(e,t,n,r,i,o){su.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function lu(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var c=(t-e)/o-(n-e)/(o+a)+(n-t)/a,l=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,c*=a,l*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}Ql.prototype=Object.assign(Object.create(Zl.prototype),{constructor:Ql,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yl.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Jl[e]){var a=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],c=!!a[2],l=a[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var d=new Uint8Array(l.length),f=0;f<l.length;f++)d[f]=l.charCodeAt(f);u="blob"===h?new Blob([d.buffer],{type:s}):d.buffer;break;case"document":var p=new DOMParser;u=p.parseFromString(l,s);break;case"json":u=JSON.parse(l);break;default:u=l}setTimeout((function(){t&&t(u),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Jl[e]=[],Jl[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open("GET",e,!0),m.addEventListener("load",(function(t){var n=this.response;Yl.add(e,n);var r=Jl[e];if(delete Jl[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=r.length;o<a;o++){(s=r[o]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(o=0,a=r.length;o<a;o++){var s;(s=r[o]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener("progress",(function(t){for(var n=Jl[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),m.addEventListener("error",(function(t){var n=Jl[e];delete Jl[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener("abort",(function(t){var n=Jl[e];delete Jl[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(e),m}Jl[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),eu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:eu,load:function(e,t,n,r){var i=this,o=new Ql(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Gl.parse(e[n]);t.push(r)}return t}}),tu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:tu,load:function(e,t,n,r){var i=this,o=[],a=new ac;a.image=o;var s=new Ql(this.manager);function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Ce),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,u=0,h=e.length;u<h;++u)c(u);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Ce),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),nu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:nu,load:function(e,t,n,r){var i=this,o=new Xi,a=new Ql(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ye,o.wrapT=void 0!==n.wrapT?n.wrapT:ye,o.magFilter=void 0!==n.magFilter?n.magFilter:Ce,o.minFilter=void 0!==n.minFilter?n.minFilter:Me,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Ce),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),ru.prototype=Object.assign(Object.create(Zl.prototype),{constructor:ru,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yl.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),Yl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function c(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",c,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),iu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:iu,load:function(e,t,n,r){var i=new _o,o=new ru(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var c=0;c<e.length;++c)s(c);return i}}),ou.prototype=Object.assign(Object.create(Zl.prototype),{constructor:ou,load:function(e,t,n,r){var i=new xn,o=new ru(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Ve:We,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(au.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=e;n++)o+=(t=this.getPoint(n/e)).distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(o-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,o=new mn,a=[],s=[],c=[],l=new mn,u=new Rn;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new mn,c[0]=new mn;var h=Number.MAX_VALUE,d=Math.abs(a[0].x),f=Math.abs(a[0].y),p=Math.abs(a[0].z);for(d<=h&&(h=d,o.set(1,0,0)),f<=h&&(h=f,o.set(0,1,0)),p<=h&&o.set(0,0,1),l.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],l),c[0].crossVectors(a[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),l.crossVectors(a[n-1],a[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(un.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(l,i))),c[n].crossVectors(a[n],s[n]);if(!0===t)for(i=Math.acos(un.clamp(s[0].dot(s[e]),-1,1)),i/=e,a[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(u.makeRotationAxis(a[n],i*n)),c[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),su.prototype=Object.create(au.prototype),su.prototype.constructor=su,su.prototype.isEllipseCurve=!0,su.prototype.getPoint=function(e,t){for(var n=t||new hn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=c-this.aY;s=h*l-d*u+this.aX,c=h*u+d*l+this.aY}return n.set(s,c)},su.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},su.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},su.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},cu.prototype=Object.create(su.prototype),cu.prototype.constructor=cu,cu.prototype.isArcCurve=!0;var uu=new mn,hu=new lu,du=new lu,fu=new lu;function pu(e,t,n,r){au.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function mu(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function gu(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function vu(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function yu(e,t,n,r){au.call(this),this.type="CubicBezierCurve",this.v0=e||new hn,this.v1=t||new hn,this.v2=n||new hn,this.v3=r||new hn}function bu(e,t,n,r){au.call(this),this.type="CubicBezierCurve3",this.v0=e||new mn,this.v1=t||new mn,this.v2=n||new mn,this.v3=r||new mn}function wu(e,t){au.call(this),this.type="LineCurve",this.v1=e||new hn,this.v2=t||new hn}function xu(e,t){au.call(this),this.type="LineCurve3",this.v1=e||new mn,this.v2=t||new mn}function _u(e,t,n){au.call(this),this.type="QuadraticBezierCurve",this.v0=e||new hn,this.v1=t||new hn,this.v2=n||new hn}function Eu(e,t,n){au.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new mn,this.v1=t||new mn,this.v2=n||new mn}function Su(e){au.call(this),this.type="SplineCurve",this.points=e||[]}pu.prototype=Object.create(au.prototype),pu.prototype.constructor=pu,pu.prototype.isCatmullRomCurve3=!0,pu.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new mn,s=this.points,c=s.length,l=(c-(this.closed?0:1))*e,u=Math.floor(l),h=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===h&&u===c-1&&(u=c-2,h=1),this.closed||u>0?n=s[(u-1)%c]:(uu.subVectors(s[0],s[1]).add(s[0]),n=uu),r=s[u%c],i=s[(u+1)%c],this.closed||u+2<c?o=s[(u+2)%c]:(uu.subVectors(s[c-1],s[c-2]).add(s[c-1]),o=uu),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(r),d),p=Math.pow(r.distanceToSquared(i),d),m=Math.pow(i.distanceToSquared(o),d);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),hu.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,f,p,m),du.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,f,p,m),fu.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,f,p,m)}else"catmullrom"===this.curveType&&(hu.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),du.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),fu.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(hu.calc(h),du.calc(h),fu.calc(h)),a},pu.prototype.copy=function(e){au.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},pu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},pu.prototype.fromJSON=function(e){au.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new mn).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},yu.prototype=Object.create(au.prototype),yu.prototype.constructor=yu,yu.prototype.isCubicBezierCurve=!0,yu.prototype.getPoint=function(e,t){var n=t||new hn,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(vu(e,r.x,i.x,o.x,a.x),vu(e,r.y,i.y,o.y,a.y)),n},yu.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},yu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},yu.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},bu.prototype=Object.create(au.prototype),bu.prototype.constructor=bu,bu.prototype.isCubicBezierCurve3=!0,bu.prototype.getPoint=function(e,t){var n=t||new mn,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(vu(e,r.x,i.x,o.x,a.x),vu(e,r.y,i.y,o.y,a.y),vu(e,r.z,i.z,o.z,a.z)),n},bu.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},bu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},bu.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},wu.prototype=Object.create(au.prototype),wu.prototype.constructor=wu,wu.prototype.isLineCurve=!0,wu.prototype.getPoint=function(e,t){var n=t||new hn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},wu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},wu.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},wu.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},wu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},wu.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},xu.prototype=Object.create(au.prototype),xu.prototype.constructor=xu,xu.prototype.isLineCurve3=!0,xu.prototype.getPoint=function(e,t){var n=t||new mn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},xu.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},xu.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},xu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},xu.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},_u.prototype=Object.create(au.prototype),_u.prototype.constructor=_u,_u.prototype.isQuadraticBezierCurve=!0,_u.prototype.getPoint=function(e,t){var n=t||new hn,r=this.v0,i=this.v1,o=this.v2;return n.set(gu(e,r.x,i.x,o.x),gu(e,r.y,i.y,o.y)),n},_u.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},_u.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},_u.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Eu.prototype=Object.create(au.prototype),Eu.prototype.constructor=Eu,Eu.prototype.isQuadraticBezierCurve3=!0,Eu.prototype.getPoint=function(e,t){var n=t||new mn,r=this.v0,i=this.v1,o=this.v2;return n.set(gu(e,r.x,i.x,o.x),gu(e,r.y,i.y,o.y),gu(e,r.z,i.z,o.z)),n},Eu.prototype.copy=function(e){return au.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Eu.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Eu.prototype.fromJSON=function(e){return au.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Su.prototype=Object.create(au.prototype),Su.prototype.constructor=Su,Su.prototype.isSplineCurve=!0,Su.prototype.getPoint=function(e,t){var n=t||new hn,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],c=r[o],l=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(mu(a,s.x,c.x,l.x,u.x),mu(a,s.y,c.y,l.y,u.y)),n},Su.prototype.copy=function(e){au.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Su.prototype.toJSON=function(){var e=au.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Su.prototype.fromJSON=function(e){au.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new hn).fromArray(r))}return this};var Cu=Object.freeze({ArcCurve:cu,CatmullRomCurve3:pu,CubicBezierCurve:yu,CubicBezierCurve3:bu,EllipseCurve:su,LineCurve:wu,LineCurve3:xu,QuadraticBezierCurve:_u,QuadraticBezierCurve3:Eu,SplineCurve:Su});function Au(){au.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Tu(e){Au.call(this),this.type="Path",this.currentPoint=new hn,e&&this.setFromPoints(e)}function Mu(e){Tu.call(this,e),this.uuid=un.generateUUID(),this.type="Shape",this.holes=[]}function ku(e,t){Kn.call(this),this.type="Light",this.color=new jr(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Ou(e,t,n){ku.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.groundColor=new jr(t)}function Pu(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new hn(512,512),this.map=null,this.mapPass=null,this.matrix=new Rn,this._frustum=new no,this._frameExtents=new hn(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}function Ru(){Pu.call(this,new Wi(50,1,.5,500))}function Fu(e,t,n,r,i,o){ku.call(this,e,t),this.type="SpotLight",this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.target=new Kn,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Ru}function Lu(){Pu.call(this,new Wi(90,1,.5,500)),this._frameExtents=new hn(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new mn(1,0,0),new mn(-1,0,0),new mn(0,0,1),new mn(0,0,-1),new mn(0,1,0),new mn(0,-1,0)],this._cubeUps=[new mn(0,1,0),new mn(0,1,0),new mn(0,1,0),new mn(0,1,0),new mn(0,0,1),new mn(0,0,-1)]}function Du(e,t,n,r){ku.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Lu}function ju(e,t,n,r,i,o){Vi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Nu(){Pu.call(this,new ju(-5,5,5,-5,.5,500))}function Iu(e,t){ku.call(this,e,t),this.type="DirectionalLight",this.position.copy(Kn.DefaultUp),this.updateMatrix(),this.target=new Kn,this.shadow=new Nu}function Bu(e,t){ku.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function zu(e,t,n,r){ku.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Uu(e){Zl.call(this,e),this.textures={}}Au.prototype=Object.assign(Object.create(au.prototype),{constructor:Au,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new wu(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),c=0;c<s.length;c++){var l=s[c];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){au.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=au.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){au.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Cu[r.type]).fromJSON(r))}return this}}),Tu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Tu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new wu(this.currentPoint.clone(),new hn(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new _u(this.currentPoint.clone(),new hn(e,t),new hn(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,o){var a=new yu(this.currentPoint.clone(),new hn(e,t),new hn(n,r),new hn(i,o));this.curves.push(a),this.currentPoint.set(i,o)},splineThru:function(e){var t=new Su([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+a,t+s,n,r,i,o)},absarc:function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},ellipse:function(e,t,n,r,i,o,a,s){var c=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+c,t+l,n,r,i,o,a,s)},absellipse:function(e,t,n,r,i,o,a,s){var c=new su(e,t,n,r,i,o,a,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);this.currentPoint.copy(u)},copy:function(e){return Au.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Au.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Au.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Mu.prototype=Object.assign(Object.create(Tu.prototype),{constructor:Mu,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Tu.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Tu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Tu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Tu).fromJSON(r))}return this}}),ku.prototype=Object.assign(Object.create(Kn.prototype),{constructor:ku,isLight:!0,copy:function(e){return Kn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Kn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ou.prototype=Object.assign(Object.create(ku.prototype),{constructor:Ou,isHemisphereLight:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Pu.prototype,{_projScreenMatrix:new Rn,_lightPositionWorld:new mn,_lookTarget:new mn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Ru.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Ru,isSpotLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=2*un.RAD2DEG*e.angle,o=this.mapSize.width/this.mapSize.height,a=e.distance||r.far;i===r.fov&&o===r.aspect&&a===r.far||(r.fov=i,r.aspect=o,r.far=a,r.updateProjectionMatrix()),Pu.prototype.updateMatrices.call(this,e,t,n)}}),Fu.prototype=Object.assign(Object.create(ku.prototype),{constructor:Fu,isSpotLight:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Lu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Lu,isPointLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=this.matrix,o=this._lightPositionWorld,a=this._lookTarget,s=this._projScreenMatrix;o.setFromMatrixPosition(e.matrixWorld),r.position.copy(o),a.copy(r.position),a.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(a),r.updateMatrixWorld(),i.makeTranslation(-o.x,-o.y,-o.z),s.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromMatrix(s)}}),Du.prototype=Object.assign(Object.create(ku.prototype),{constructor:Du,isPointLight:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),ju.prototype=Object.assign(Object.create(Vi.prototype),{constructor:ju,isOrthographicCamera:!0,copy:function(e,t){return Vi.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(i+=u*(this.view.offsetX/c))+u*(this.view.width/c),s=(a-=h*(this.view.offsetY/l))-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Kn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Nu.prototype=Object.assign(Object.create(Pu.prototype),{constructor:Nu,isDirectionalLightShadow:!0,updateMatrices:function(e,t,n){Pu.prototype.updateMatrices.call(this,e,t,n)}}),Iu.prototype=Object.assign(Object.create(ku.prototype),{constructor:Iu,isDirectionalLight:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Bu.prototype=Object.assign(Object.create(ku.prototype),{constructor:Bu,isAmbientLight:!0}),zu.prototype=Object.assign(Object.create(ku.prototype),{constructor:zu,isRectAreaLight:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=ku.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Uu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:Uu,load:function(e,t,n,r){var i=this,o=new Ql(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Rl[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new jr).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new jr).setHex(o.value);break;case"v2":r.uniforms[i].value=(new hn).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new mn).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new _n).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new yn).fromArray(o.value);case"m4":r.uniforms[i].value=(new Rn).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new hn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new hn).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var Hu={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Vu(){li.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Wu(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Wr.call(this,e,t,n),this.meshPerAttribute=r||1}function $u(e){Zl.call(this,e)}Vu.prototype=Object.assign(Object.create(li.prototype),{constructor:Vu,isInstancedBufferGeometry:!0,copy:function(e){return li.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=li.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Wu.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Wu,isInstancedBufferAttribute:!0,copy:function(e){return Wr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Wr.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),$u.prototype=Object.assign(Object.create(Zl.prototype),{constructor:$u,load:function(e,t,n,r){var i=this,o=new Ql(i.manager);o.setPath(i.path),o.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new Vu:new li,n=e.data.index;if(void 0!==n){var r=new Gu[n.type](n.array);t.setIndex(new Wr(r,1))}var i=e.data.attributes;for(var o in i){var a=i[o],s=(r=new Gu[a.type](a.array),new(a.isInstancedBufferAttribute?Wu:Wr)(r,a.itemSize,a.normalized));void 0!==a.name&&(s.name=a.name),t.addAttribute(o,s)}var c=e.data.morphAttributes;if(c)for(var o in c){for(var l=c[o],u=[],h=0,d=l.length;h<d;h++){a=l[h],s=new Wr(r=new Gu[a.type](a.array),a.itemSize,a.normalized);void 0!==a.name&&(s.name=a.name),u.push(s)}t.morphAttributes[o]=u}var f=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==f){h=0;for(var p=f.length;h!==p;++h){var m=f[h];t.addGroup(m.start,m.count,m.materialIndex)}}var g=e.data.boundingSphere;if(void 0!==g){var v=new mn;void 0!==g.center&&v.fromArray(g.center),t.boundingSphere=new fr(v,g.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Gu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function qu(e){Zl.call(this,e)}qu.prototype=Object.assign(Object.create(Zl.prototype),{constructor:qu,load:function(e,t,n,r){var i=this,o=""===this.path?Hu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new Ql(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Mu).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new $u,i=0,o=e.length;i<o;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new xl[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new xl[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new xl[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new xl[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new xl[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new xl[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new xl[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new xl[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new xl[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new xl[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new xl[s.type]((new Cu[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new xl[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new xl[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var h=t[s.shapes[l]];c.push(h)}a=new xl[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,u=s.shapes.length;l<u;l++){h=t[s.shapes[l]];c.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new Cu[d.type]).fromJSON(d)),a=new xl[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(s);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE)a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Uu;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),c.push(n[u.uuid])}r[s.uuid]=c}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Gl.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),o.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new ru(new Xl(t));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=e.length;a<s;a++){var c=e[a],l=c.url;if(Array.isArray(l)){r[c.uuid]=[];for(var u=0,h=l.length;u<h;u++){var d=l[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;r[c.uuid].push(i(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;r[c.uuid]=i(f)}}}return r},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(t[s.image])?new _o(t[s.image]):new xn(t[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,Xu)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],Ku),a.wrapT=n(s.wrap[1],Ku)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,Zu)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,Zu)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),r[s.uuid]=a}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new Zn,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new jr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new ps(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new fs(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Wi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new ju(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Bu(e.color,e.intensity);break;case"DirectionalLight":r=new Iu(e.color,e.intensity);break;case"PointLight":r=new Du(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new zu(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Fu(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Ou(e.color,e.groundColor,e.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(e.geometry),s=o(e.material);r=a.bones&&a.bones.length>0?new Ds(a,s):new Ti(a,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case"LOD":r=new Ls;break;case"Line":r=new qs(i(e.geometry),o(e.material),e.mode);break;case"LineLoop":r=new Zs(i(e.geometry),o(e.material));break;case"LineSegments":r=new Ks(i(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new rc(i(e.geometry),o(e.material));break;case"Sprite":r=new Os(o(e.material));break;case"Group":r=new is;break;default:r=new Kn}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,l=0;l<c.length;l++)r.add(this.parseObject(c[l],t,n));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var d=u[h],f=r.getObjectByProperty("uuid",d.object);void 0!==f&&r.addLevel(f,d.distance)}return r}});var Yu,Xu={UVMapping:le,CubeReflectionMapping:ue,CubeRefractionMapping:he,EquirectangularReflectionMapping:de,EquirectangularRefractionMapping:fe,SphericalReflectionMapping:pe,CubeUVReflectionMapping:me,CubeUVRefractionMapping:ge},Ku={RepeatWrapping:ve,ClampToEdgeWrapping:ye,MirroredRepeatWrapping:be},Zu={NearestFilter:we,NearestMipmapNearestFilter:xe,NearestMipmapLinearFilter:Ee,LinearFilter:Ce,LinearMipmapNearestFilter:Ae,LinearMipmapLinearFilter:Me};function Ju(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Zl.call(this,e),this.options=void 0}function Qu(){this.type="ShapePath",this.color=new jr,this.subPaths=[],this.currentPath=null}function eh(e){this.type="Font",this.data=e}function th(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,c,l,u,h,d,f,p=new Qu;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;){switch(m[g++]){case"m":a=m[g++]*t+n,s=m[g++]*t+r,p.moveTo(a,s);break;case"l":a=m[g++]*t+n,s=m[g++]*t+r,p.lineTo(a,s);break;case"q":c=m[g++]*t+n,l=m[g++]*t+r,u=m[g++]*t+n,h=m[g++]*t+r,p.quadraticCurveTo(u,h,c,l);break;case"b":c=m[g++]*t+n,l=m[g++]*t+r,u=m[g++]*t+n,h=m[g++]*t+r,d=m[g++]*t+n,f=m[g++]*t+r,p.bezierCurveTo(u,h,d,f,c,l)}}return{offsetX:o.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function nh(e){Zl.call(this,e)}Ju.prototype=Object.assign(Object.create(Zl.prototype),{constructor:Ju,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Yl.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){Yl.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(Qu.prototype,{moveTo:function(e,t){this.currentPath=new Tu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,o){this.currentPath.bezierCurveTo(e,t,n,r,i,o)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new Mu;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=t[o],c=-c,s=t[i],l=-l),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var u=l*(e.x-a.x)-c*(e.y-a.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Kc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new Mu).curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=e?!u:u;var h,d,f=[],p=[],m=[],g=0;p[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=i(h=(s=o[v]).getPoints()),(a=e?!a:a)?(!u&&p[g]&&g++,p[g]={s:new Mu,p:h},p[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var b=!1,w=[],x=0,_=p.length;x<_;x++)f[x]=[];for(x=0,_=p.length;x<_;x++)for(var E=m[x],S=0;S<E.length;S++){for(var C=E[S],A=!0,T=0;T<p.length;T++)r(C.p,p[T].p)&&(x!==T&&w.push({froms:x,tos:T,hole:S}),A?(A=!1,f[T].push(C)):b=!0);A&&f[x].push(C)}w.length>0&&(b||(m=f))}v=0;for(var M=p.length;v<M;v++){c=p[v].s,l.push(c);for(var k=0,O=(d=m[v]).length;k<O;k++)c.holes.push(d[k].h)}return l}}),Object.assign(eh.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,c=0,l=0;l<r.length;l++){var u=r[l];if("\n"===u)s=0,c-=o;else{var h=th(u,i,s,c,n);s+=h.offsetX,a.push(h.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),nh.prototype=Object.assign(Object.create(Zl.prototype),{constructor:nh,load:function(e,t,n,r){var i=this,o=new Ql(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new eh(e)}});var rh={getContext:function(){return void 0===Yu&&(Yu=new(window.AudioContext||window.webkitAudioContext)),Yu},setContext:function(e){Yu=e}};function ih(e){Zl.call(this,e)}function oh(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new mn)}function ah(e,t){ku.call(this,void 0,t),this.sh=void 0!==e?e:new oh}function sh(e,t,n){ah.call(this,void 0,n);var r=(new jr).set(e),i=(new jr).set(t),o=new mn(r.r,r.g,r.b),a=new mn(i.r,i.g,i.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}function ch(e,t){ah.call(this,void 0,t);var n=(new jr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}ih.prototype=Object.assign(Object.create(Zl.prototype),{constructor:ih,load:function(e,t,n,r){var i=new Ql(this.manager);i.setResponseType("arraybuffer"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);rh.getContext().decodeAudioData(n,(function(e){t(e)}))}),n,r)}}),Object.assign(oh.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScale(o[1],.488603*r),t.addScale(o[2],.488603*i),t.addScale(o[3],.488603*n),t.addScale(o[4],n*r*1.092548),t.addScale(o[5],r*i*1.092548),t.addScale(o[6],.315392*(3*i*i-1)),t.addScale(o[7],n*i*1.092548),t.addScale(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScale(o[1],1.023328*r),t.addScale(o[2],1.023328*i),t.addScale(o[3],1.023328*n),t.addScale(o[4],.858086*n*r),t.addScale(o[5],.858086*r*i),t.addScale(o[6],.743125*i*i-.247708),t.addScale(o[7],.858086*n*i),t.addScale(o[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(oh,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),ah.prototype=Object.assign(Object.create(ku.prototype),{constructor:ah,isLightProbe:!0,copy:function(e){return ku.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return ku.prototype.toJSON.call(this,e)}}),sh.prototype=Object.assign(Object.create(ah.prototype),{constructor:sh,isHemisphereLightProbe:!0,copy:function(e){return ah.prototype.copy.call(this,e),this},toJSON:function(e){return ah.prototype.toJSON.call(this,e)}}),ch.prototype=Object.assign(Object.create(ah.prototype),{constructor:ch,isAmbientLightProbe:!0,copy:function(e){return ah.prototype.copy.call(this,e),this},toJSON:function(e){return ah.prototype.toJSON.call(this,e)}});var lh=new Rn,uh=new Rn;function hh(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Wi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Wi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function dh(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(hh.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(un.DEG2RAD*t.fov*.5)/t.zoom;uh.elements[12]=-o,lh.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(lh)}}),Object.assign(dh.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var fh=new mn,ph=new dn,mh=new mn,gh=new mn;function vh(){Kn.call(this),this.type="AudioListener",this.context=rh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dh}function yh(e){Kn.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}vh.prototype=Object.assign(Object.create(Kn.prototype),{constructor:vh,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Kn.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fh,ph,mh),gh.set(0,0,-1).applyQuaternion(ph),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(fh.x,r),t.positionY.linearRampToValueAtTime(fh.y,r),t.positionZ.linearRampToValueAtTime(fh.z,r),t.forwardX.linearRampToValueAtTime(gh.x,r),t.forwardY.linearRampToValueAtTime(gh.y,r),t.forwardZ.linearRampToValueAtTime(gh.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(fh.x,fh.y,fh.z),t.setOrientation(gh.x,gh.y,gh.z,n.x,n.y,n.z)}}),yh.prototype=Object.assign(Object.create(Kn.prototype),{constructor:yh,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var bh=new mn,wh=new dn,xh=new mn,_h=new mn;function Eh(e){yh.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Sh(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function Ch(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Eh.prototype=Object.assign(Object.create(yh.prototype),{constructor:Eh,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Kn.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(bh,wh,xh),_h.set(0,0,1).applyQuaternion(wh);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bh.x,n),t.positionY.linearRampToValueAtTime(bh.y,n),t.positionZ.linearRampToValueAtTime(bh.z,n),t.orientationX.linearRampToValueAtTime(_h.x,n),t.orientationY.linearRampToValueAtTime(_h.y,n),t.orientationZ.linearRampToValueAtTime(_h.z,n)}else t.setPosition(bh.x,bh.y,bh.z),t.setOrientation(_h.x,_h.y,_h.z)}}}),Object.assign(Sh.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(Ch.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*t;this._mixBufferRegion(n,r,a,1-i,t)}for(var s=t,c=t+t;s!==c;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){dn.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}}});var Ah=new RegExp("[\\[\\]\\.:\\/]","g"),Th="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Mh=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),kh=/(WCOD+)?/.source.replace("WCOD",Th),Oh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ph=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Rh=new RegExp("^"+Mh+kh+Oh+Ph+"$"),Fh=["material","materials","bones"];function Lh(e,t,n){var r=n||Dh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Dh(e,t,n){this.path=t,this.parsedPath=n||Dh.parseTrackName(t),this.node=Dh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function jh(){this.uuid=un.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Nh(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,o=new Array(i),a={endingStart:At,endingEnd:At},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ih(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Bh(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function zh(e,t,n){ms.call(this,e,t),this.meshPerAttribute=n||1}function Uh(e,t,n,r){this.ray=new xr(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Hh(e,t){return e.distance-t.distance}function Vh(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,o=0,a=i.length;o<a;o++)Vh(i[o],t,n,!0)}function Wh(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function $h(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Lh.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Dh,{Composite:Lh,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Dh.Composite(e,t,n):new Dh(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Ah,"")},parseTrackName:function(e){var t=Rh.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Fh.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Dh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Dh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(e.geometry.morphAttributes.position[a].name===i){i=a;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(e.geometry.morphTargets[a].name===i){i=a;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),
//!\ DECLARE ALIAS AFTER assign prototype !
Object.assign(Dh.prototype,{_getValue_unbound:Dh.prototype.getValue,_setValue_unbound:Dh.prototype.setValue}),Object.assign(jh.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],d=h.uuid,f=r[d];if(void 0===f){f=t++,r[d]=f,e.push(h);for(var p=0,m=s;p!==m;++p)a[p].push(new Dh(h,i[p],o[p]))}else if(f<n){c=e[f];var g=--n,v=e[g];r[v.uuid]=f,e[f]=v,r[d]=g,e[g]=h;for(p=0,m=s;p!==m;++p){var y=a[p],b=y[g],w=y[f];y[f]=b,void 0===w&&(w=new Dh(h,i[p],o[p])),y[g]=w}}else e[f]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],c=s.uuid,l=n[c];if(void 0!==l&&l>=t){var u=t++,h=e[u];n[h.uuid]=l,e[l]=h,n[c]=u,e[u]=s;for(var d=0,f=i;d!==f;++d){var p=r[d],m=p[u],g=p[l];p[l]=m,p[u]=g}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],l=c.uuid,u=r[l];if(void 0!==u)if(delete r[l],u<n){var h=--n,d=e[h],f=e[y=--t];r[d.uuid]=u,e[u]=d,r[f.uuid]=h,e[h]=f,e.pop();for(var p=0,m=o;p!==m;++p){var g=(b=i[p])[h],v=b[y];b[u]=g,b[h]=v,b.pop()}}else{var y;r[(f=e[y=--t]).uuid]=u,e[u]=f,e.pop();for(p=0,m=o;p!==m;++p){var b;(b=i[p])[u]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(var h=l,d=s.length;h!==d;++h){var f=s[h];u[h]=new Dh(f,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Nh.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=e/a,c[1]=t/a,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,h=c.length;u!==h;++u)c[u].evaluate(a),l[u].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,o=r===_t;if(0===e)return-1===i?t:o&&1==(1&i)?n-t:t;if(r===wt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=n||t<0){var a=Math.floor(t/n);t-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=t;if(o&&1==(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Tt,r.endingEnd=Tt):(r.endingStart=e?this.zeroSlopeAtStart?Tt:At:Mt,r.endingEnd=t?this.zeroSlopeAtEnd?Tt:At:Mt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Ih.prototype=Object.assign(Object.create(sn.prototype),{constructor:Ih,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var h=r[u],d=h.name,f=l[d];if(void 0!==f)o[u]=f;else{if(void 0!==(f=o[u])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[u].binding.parsedPath;++(f=new Ch(Dh.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),o[u]=f}a[u].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],o=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c,t[c]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new jl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Gl.findByName(n,e):e,o=null!==i?i.uuid:e,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new Nh(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?Gl.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}var s=this._bindings,c=this._nActiveBindings;for(a=0;a!==c;++a)s[a].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,t[l]=u,t.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Bh.prototype.clone=function(){return new Bh(void 0===this.value.clone?this.value:this.value.clone())},zh.prototype=Object.assign(Object.create(ms.prototype),{constructor:zh,isInstancedInterleavedBuffer:!0,copy:function(e){return ms.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Uh.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Vh(e,this,r,t),r.sort(Hh),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)Vh(e[i],this,r,t);return r.sort(Hh),r}}),Object.assign(Wh.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(un.clamp(t/this.radius,-1,1))),this}}),Object.assign($h.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Gh=new hn;function qh(e,t){this.min=void 0!==e?e:new hn(1/0,1/0),this.max=void 0!==t?t:new hn(-1/0,-1/0)}Object.assign(qh.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Gh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new hn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new hn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new hn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new hn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Gh.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Yh=new mn,Xh=new mn;function Kh(e,t){this.start=void 0!==e?e:new mn,this.end=void 0!==t?t:new mn}function Zh(e){Kn.call(this),this.material=e,this.render=function(){}}Object.assign(Kh.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new mn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new mn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new mn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Yh.subVectors(e,this.start),Xh.subVectors(this.end,this.start);var n=Xh.dot(Xh),r=Xh.dot(Yh)/n;return t&&(r=un.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new mn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Zh.prototype=Object.create(Kn.prototype),Zh.prototype.constructor=Zh,Zh.prototype.isImmediateRenderObject=!0;var Jh=new mn,Qh=new mn,ed=new yn,td=["a","b","c"];function nd(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var c=new li,l=new Jr(2*a*3,3);c.addAttribute("position",l),Ks.call(this,c,new Us({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}nd.prototype=Object.create(Ks.prototype),nd.prototype.constructor=nd,nd.prototype.update=function(){this.object.updateMatrixWorld(!0),ed.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++)for(var c=i[a],l=0,u=c.vertexNormals.length;l<u;l++){var h=r[c[td[l]]],d=c.vertexNormals[l];Jh.copy(h).applyMatrix4(e),Qh.copy(d).applyMatrix3(ed).normalize().multiplyScalar(this.size).add(Jh),t.setXYZ(o,Jh.x,Jh.y,Jh.z),o+=1,t.setXYZ(o,Qh.x,Qh.y,Qh.z),o+=1}else if(n&&n.isBufferGeometry){var f=n.attributes.position,p=n.attributes.normal;for(o=0,l=0,u=f.count;l<u;l++)Jh.set(f.getX(l),f.getY(l),f.getZ(l)).applyMatrix4(e),Qh.set(p.getX(l),p.getY(l),p.getZ(l)),Qh.applyMatrix3(ed).normalize().multiplyScalar(this.size).add(Jh),t.setXYZ(o,Jh.x,Jh.y,Jh.z),o+=1,t.setXYZ(o,Qh.x,Qh.y,Qh.z),o+=1}t.needsUpdate=!0};var rd=new mn;function id(e,t){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new li,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Jr(r,3));var c=new Us({fog:!1});this.cone=new Ks(n,c),this.add(this.cone),this.update()}id.prototype=Object.create(Kn.prototype),id.prototype.constructor=id,id.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},id.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var od=new mn,ad=new Rn,sd=new Rn;function cd(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new li,r=[],i=[],o=new jr(0,0,1),a=new jr(0,1,0),s=0;s<t.length;s++){var c=t[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.addAttribute("position",new Jr(r,3)),n.addAttribute("color",new Jr(i,3));var l=new Us({vertexColors:E,depthTest:!1,depthWrite:!1,transparent:!0});Ks.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function ld(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new al(t,4,2),i=new Vr({wireframe:!0,fog:!1});Ti.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ud(e,t){this.type="RectAreaLightHelper",this.light=e,this.color=t;var n=new li;n.addAttribute("position",new Jr([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Us({fog:!1});qs.call(this,n,r);var i=new li;i.addAttribute("position",new Jr([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Ti(i,new Vr({side:v,fog:!1}))),this.update()}cd.prototype=Object.create(Ks.prototype),cd.prototype.constructor=cd,cd.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");sd.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&(ad.multiplyMatrices(sd,a.matrixWorld),od.setFromMatrixPosition(ad),r.setXYZ(o,od.x,od.y,od.z),ad.multiplyMatrices(sd,a.parent.matrixWorld),od.setFromMatrixPosition(ad),r.setXYZ(o+1,od.x,od.y,od.z),o+=2)}n.getAttribute("position").needsUpdate=!0,Kn.prototype.updateMatrixWorld.call(this,e)},ld.prototype=Object.create(Ti.prototype),ld.prototype.constructor=ld,ld.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ld.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},ud.prototype=Object.create(qs.prototype),ud.prototype.constructor=ud,ud.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},ud.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var hd=new mn,dd=new jr,fd=new jr;function pd(e,t,n){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new vc(t);r.rotateY(.5*Math.PI),this.material=new Vr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=E);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.addAttribute("color",new Wr(o,3)),this.add(new Ti(r,this.material)),this.update()}function md(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:""},r=new Hi({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new al(1,32,16);Ti.call(this,i,r),this.onBeforeRender()}function gd(e,t,n,r){e=e||10,t=t||10,n=new jr(void 0!==n?n:4473924),r=new jr(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],c=[],l=0,u=0,h=-a;l<=t;l++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var d=l===i?n:r;d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3}var f=new li;f.addAttribute("position",new Jr(s,3)),f.addAttribute("color",new Jr(c,3));var p=new Us({vertexColors:E});Ks.call(this,f,p)}function vd(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new jr(void 0!==i?i:4473924),o=new jr(void 0!==o?o:8947848);var a,s,c,l,u,h,d,f=[],p=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),a=Math.sin(c)*e,s=Math.cos(c)*e,f.push(0,0,0),f.push(a,0,s),d=1&l?i:o,p.push(d.r,d.g,d.b),p.push(d.r,d.g,d.b);for(l=0;l<=n;l++)for(d=1&l?i:o,h=e-e/n*l,u=0;u<r;u++)c=u/r*(2*Math.PI),a=Math.sin(c)*h,s=Math.cos(c)*h,f.push(a,0,s),p.push(d.r,d.g,d.b),c=(u+1)/r*(2*Math.PI),a=Math.sin(c)*h,s=Math.cos(c)*h,f.push(a,0,s),p.push(d.r,d.g,d.b);var m=new li;m.addAttribute("position",new Jr(f,3)),m.addAttribute("color",new Jr(p,3));var g=new Us({vertexColors:E});Ks.call(this,m,g)}function yd(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new li,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));i.addAttribute("position",new Wr(a,3));var s=new Us({color:65280}),c=new Us({color:16776960});qs.call(this,i,[c,s]),this.update()}pd.prototype=Object.create(Kn.prototype),pd.prototype.constructor=pd,pd.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},pd.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");dd.copy(this.light.color),fd.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?dd:fd;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(hd.setFromMatrixPosition(this.light.matrixWorld).negate())},md.prototype=Object.create(Ti.prototype),md.prototype.constructor=md,md.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},md.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},gd.prototype=Object.assign(Object.create(Ks.prototype),{constructor:gd,copy:function(e){return Ks.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),vd.prototype=Object.create(Ks.prototype),vd.prototype.constructor=vd,yd.prototype=Object.create(qs.prototype),yd.prototype.constructor=yd,yd.prototype.update=function(){var e,t,n=this.audio,r=this.range,i=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=un.degToRad(n.panner.coneInnerAngle),s=un.degToRad(n.panner.coneOuterAngle),c=a/2,l=s/2,u=0,h=0,d=this.geometry,f=d.attributes.position;function p(n,i,o,a){var s=(i-n)/o;for(f.setXYZ(u,0,0,0),h++,e=n;e<i;e+=s)t=u+h,f.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),f.setXYZ(t+1,Math.sin(Math.min(e+s,i))*r,0,Math.cos(Math.min(e+s,i))*r),f.setXYZ(t+2,0,0,0),h+=3;d.addGroup(u,h,a),u+=h,h=0}d.clearGroups(),p(-l,-c,o,0),p(-c,c,i,1),p(c,l,o,0),f.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},yd.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var bd=new mn,wd=new mn,xd=new yn;function _d(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new li,l=new Jr(2*a*3,3);c.addAttribute("position",l),Ks.call(this,c,new Us({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}_d.prototype=Object.create(Ks.prototype),_d.prototype.constructor=_d,_d.prototype.update=function(){this.object.updateMatrixWorld(!0),xd.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,o=0,a=0,s=i.length;a<s;a++){var c=i[a],l=c.normal;bd.copy(r[c.a]).add(r[c.b]).add(r[c.c]).divideScalar(3).applyMatrix4(e),wd.copy(l).applyMatrix3(xd).normalize().multiplyScalar(this.size).add(bd),t.setXYZ(o,bd.x,bd.y,bd.z),o+=1,t.setXYZ(o,wd.x,wd.y,wd.z),o+=1}t.needsUpdate=!0};var Ed=new mn,Sd=new mn,Cd=new mn;function Ad(e,t,n){Kn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new li;r.addAttribute("position",new Jr([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Us({fog:!1});this.lightPlane=new qs(r,i),this.add(this.lightPlane),(r=new li).addAttribute("position",new Jr([0,0,0,0,0,1],3)),this.targetLine=new qs(r,i),this.add(this.targetLine),this.update()}Ad.prototype=Object.create(Kn.prototype),Ad.prototype.constructor=Ad,Ad.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ad.prototype.update=function(){Ed.setFromMatrixPosition(this.light.matrixWorld),Sd.setFromMatrixPosition(this.light.target.matrixWorld),Cd.subVectors(Sd,Ed),this.lightPlane.lookAt(Sd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Sd),this.targetLine.scale.z=Cd.length()};var Td=new mn,Md=new Vi;function kd(e){var t=new li,n=new Us({color:16777215,vertexColors:_}),r=[],i=[],o={},a=new jr(16755200),s=new jr(16711680),c=new jr(43775),l=new jr(16777215),u=new jr(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.addAttribute("position",new Jr(r,3)),t.addAttribute("color",new Jr(i,3)),Ks.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function Od(e,t,n,r,i,o,a){Td.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var c=n.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],Td.x,Td.y,Td.z)}kd.prototype=Object.create(Ks.prototype),kd.prototype.constructor=kd,kd.prototype.update=function(){var e=this.geometry,t=this.pointMap;Md.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Od("c",t,e,Md,0,0,-1),Od("t",t,e,Md,0,0,1),Od("n1",t,e,Md,-1,-1,-1),Od("n2",t,e,Md,1,-1,-1),Od("n3",t,e,Md,-1,1,-1),Od("n4",t,e,Md,1,1,-1),Od("f1",t,e,Md,-1,-1,1),Od("f2",t,e,Md,1,-1,1),Od("f3",t,e,Md,-1,1,1),Od("f4",t,e,Md,1,1,1),Od("u1",t,e,Md,.7,1.1,-1),Od("u2",t,e,Md,-.7,1.1,-1),Od("u3",t,e,Md,0,2,-1),Od("cf1",t,e,Md,-1,0,1),Od("cf2",t,e,Md,1,0,1),Od("cf3",t,e,Md,0,-1,1),Od("cf4",t,e,Md,0,1,1),Od("cn1",t,e,Md,-1,0,-1),Od("cn2",t,e,Md,1,0,-1),Od("cn3",t,e,Md,0,-1,-1),Od("cn4",t,e,Md,0,1,-1),e.getAttribute("position").needsUpdate=!0};var Pd=new ur;function Rd(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new li;i.setIndex(new Wr(n,1)),i.addAttribute("position",new Wr(r,3)),Ks.call(this,i,new Us({color:t})),this.matrixAutoUpdate=!1,this.update()}function Fd(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new li;r.setIndex(new Wr(n,1)),r.addAttribute("position",new Jr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ks.call(this,r,new Us({color:t})),this.geometry.computeBoundingSphere()}function Ld(e,t,n){this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new li;i.addAttribute("position",new Jr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),qs.call(this,i,new Us({color:r}));var o=new li;o.addAttribute("position",new Jr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Ti(o,new Vr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}Rd.prototype=Object.create(Ks.prototype),Rd.prototype.constructor=Rd,Rd.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Pd.setFromObject(this.object),!Pd.isEmpty()){var t=Pd.min,n=Pd.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Rd.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Rd.prototype.copy=function(e){return Ks.prototype.copy.call(this,e),this.object=e.object,this},Rd.prototype.clone=function(){return(new this.constructor).copy(this)},Fd.prototype=Object.create(Ks.prototype),Fd.prototype.constructor=Fd,Fd.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Kn.prototype.updateMatrixWorld.call(this,e))},Ld.prototype=Object.create(qs.prototype),Ld.prototype.constructor=Ld,Ld.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?v:g,this.lookAt(this.plane.normal),Kn.prototype.updateMatrixWorld.call(this,e)};var Dd,jd,Nd=new mn;function Id(e,t,n,r,i,o){Kn.call(this),void 0===e&&(e=new mn(0,0,1)),void 0===t&&(t=new mn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Dd&&((Dd=new li).addAttribute("position",new Jr([0,0,0,0,1,0],3)),(jd=new gl(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new qs(Dd,new Us({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ti(jd,new Vr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function Bd(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new li;n.addAttribute("position",new Jr(t,3)),n.addAttribute("color",new Jr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Us({vertexColors:E});Ks.call(this,n,r)}function zd(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new zr(e,t,n,i,o,a)}Id.prototype=Object.create(Kn.prototype),Id.prototype.constructor=Id,Id.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nd.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nd,t)}},Id.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Id.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Id.prototype.copy=function(e){return Kn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Id.prototype.clone=function(){return(new this.constructor).copy(this)},Bd.prototype=Object.create(Ks.prototype),Bd.prototype.constructor=Bd;var Ud=0,Hd=1;function Vd(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Wd(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function $d(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new rc(e,t)}function Gd(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Os(e)}function qd(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new rc(e,t)}function Yd(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Js(e)}function Xd(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Js(e)}function Kd(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Js(e)}function Zd(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new mn(e,t,n)}function Jd(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Wr(e,t).setDynamic(!0)}function Qd(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new $r(e,t)}function ef(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Gr(e,t)}function tf(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new qr(e,t)}function nf(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Yr(e,t)}function rf(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Xr(e,t)}function of(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Kr(e,t)}function af(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Zr(e,t)}function sf(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Jr(e,t)}function cf(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Qr(e,t)}function lf(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),pu.call(this,e),this.type="catmullrom",this.closed=!0}function uf(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),pu.call(this,e),this.type="catmullrom"}function hf(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),pu.call(this,e),this.type="catmullrom"}function df(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Bd(e)}function ff(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Rd(e,t)}function pf(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ks(new pl(e.geometry),new Us({color:void 0!==t?t:16777215}))}function mf(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ks(new lc(e.geometry),new Us({color:void 0!==t?t:16777215}))}function gf(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ql(e)}function vf(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new nu(e)}au.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(au.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Au.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Li,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new mn(i.x,i.y,i.z||0))}return t}}),Object.assign(Tu.prototype,{fromPoints:function(e){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),lf.prototype=Object.create(pu.prototype),uf.prototype=Object.create(pu.prototype),hf.prototype=Object.create(pu.prototype),Object.assign(hf.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),gd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},cd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Zl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Hu.extractUrlBase(e)}}),Zl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(qu.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(qh.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(ur.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Kh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(un,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),un.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),un.ceilPowerOfTwo(e)}}),Object.assign(yn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Rn.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new mn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),Qi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},dn.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(xr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Rr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Rr,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Rr.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Rr.getNormal(e,t,n,r)}}),Object.assign(Mu.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Qc(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new hl(this,e)}}),Object.assign(hn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(mn.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(_n.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Li.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(Kn.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(Kn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ls.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Is.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ds.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(au.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Wi.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(ku.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Wr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(Wr.prototype,{copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(e){return console.warn("THREE.BufferAttribute: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this}}),Object.assign(li.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(li.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(ms.prototype,{setArray:function(e){return console.warn("THREE.InterleavedBuffer: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==e?e.length/this.stride:0,this.array=e,this}}),Object.assign(el.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Bh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Hr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new jr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===b}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Al.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Hi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(ds.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(ds.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Ja.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Yi.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(En.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(us.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),yh.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new ih).load(e,(function(e){t.setBuffer(e)})),this},Sh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},qi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var yf={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function bf(){console.error("THREE.CanvasRenderer has been removed")}function wf(){console.error("THREE.JSONLoader has been removed.")}bn.crossOrigin=void 0,bn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ou;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},bn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new iu;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},bn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},bn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var xf={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}};function _f(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}}))},WtKE:function(e,t,n){"use strict";var r,i=59;e.exports=function(e){var t,n="&"+e+";";if((r=r||document.createElement("i")).innerHTML=n,(t=r.textContent).charCodeAt(t.length-1)===i&&"semi"!==e)return!1;return t!==n&&t}},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");e.exports=function(e,t){return e&&r(t,i(t),e)}},WwTg:function(e){e.exports=JSON.parse('["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]')},Wwog:function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=r);var i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&t(r,o)?i:(i=e.apply(this,r),a=!0,n=this,o=r,i)}}},XGnz:function(e,t,n){var r=n("CH3K"),i=n("BiGR");e.exports=function e(t,n,o,a,s){var c=-1,l=t.length;for(o||(o=i),s||(s=[]);++c<l;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},"XJU/":function(e,t,n){var r=n("NegM");e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},XKAG:function(e,t,n){var r=n("ut/Y"),i=n("MMmD"),o=n("7GkX");e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[c?t[l]:l]:void 0}}},XTeY:function(e,t,n){var r=n("PEyx");e.exports=function(e,t){var n=e;return n.node().appendChild(t.label),r.applyStyle(n,t.labelStyle),n}},XYm9:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},Xdfk:function(e,t,n){var r;try{r=n("4Ai+")}catch(e){}r||(r=window.graphlib),e.exports=r},XedF:function(e,t,n){var r=n("6IMF"),i=n("jlxc"),o=n("XTeY");e.exports=function(e,t,n){var a=t.label,s=e.append("g");"svg"===t.labelType?o(s,t):"string"!=typeof a||"html"===t.labelType?i(s,t):r(s,t);var c,l=s.node().getBBox();switch(n){case"top":c=-t.height/2;break;case"bottom":c=t.height/2-l.height;break;default:c=-l.height/2}return s.attr("transform","translate("+-l.width/2+","+c+")"),s}},Xi7e:function(e,t,n){var r=n("KMkd"),i=n("adU4"),o=n("tMB7"),a=n("+6XX"),s=n("Z8oC");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},XqU8:function(e,t,n){var r=n("OEc2"),i=n("E9ZH");e.exports=function(e){this.scale=null,this.type=i.URDF_MESH,this.filename=e.xml.getAttribute("filename");var t=e.xml.getAttribute("scale");if(t){var n=t.split(" ");this.scale=new r({x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])})}}},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},Y7ZC:function(e,t,n){var r=n("5T2Y"),i=n("WEpk"),o=n("2GTP"),a=n("NegM"),s=n("B+OT"),c=function(e,t,n){var l,u,h,d=e&c.F,f=e&c.G,p=e&c.S,m=e&c.P,g=e&c.B,v=e&c.W,y=f?i:i[t]||(i[t]={}),b=y.prototype,w=f?r:p?r[t]:(r[t]||{}).prototype;for(l in f&&(n=t),n)(u=!d&&w&&void 0!==w[l])&&s(y,l)||(h=u?w[l]:n[l],y[l]=f&&"function"!=typeof w[l]?n[l]:g&&u?o(h,r):v&&w[l]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[l]=h,e&c.R&&b&&!b[l]&&a(b,l,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},YEIV:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("SEkw"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},YESw:function(e,t,n){var r=n("Cwc5")(Object,"create");e.exports=r},YLuR:function(e,t){e.exports=function(e,t){return e.intersect(t)}},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),o=n("ExA7"),a="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,u=c.hasOwnProperty,h=l.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}},Yen4:function(e,t,n){var r=n("M96O"),i=n("lnHP"),o=n("AevD");e.exports=function(e,t){var n,a=new i,s={},c=new o;function l(e){var r=e.v===n?e.w:e.v,i=c.priority(r);if(void 0!==i){var o=t(e);o<i&&(s[r]=n,c.decrease(r,o))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){c.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),c.decrease(e.nodes()[0],0);var u=!1;for(;c.size()>0;){if(n=c.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(l)}return a}},Ymag:function(e,t,n){var r=n("N6n/"),i=n("OEc2"),o=n("ACFR");e.exports=function(e){this.name=e.xml.getAttribute("name"),this.type=e.xml.getAttribute("type");var t=e.xml.getElementsByTagName("parent");t.length>0&&(this.parent=t[0].getAttribute("link"));var n=e.xml.getElementsByTagName("child");n.length>0&&(this.child=n[0].getAttribute("link"));var a=e.xml.getElementsByTagName("limit");a.length>0&&(this.minval=parseFloat(a[0].getAttribute("lower")),this.maxval=parseFloat(a[0].getAttribute("upper")));var s=e.xml.getElementsByTagName("origin");if(0===s.length)this.origin=new r;else{var c=s[0].getAttribute("xyz"),l=new i;c&&(c=c.split(" "),l=new i({x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])}));var u=s[0].getAttribute("rpy"),h=new o;if(u){u=u.split(" ");var d=parseFloat(u[0])/2,f=parseFloat(u[1])/2,p=parseFloat(u[2])/2,m=Math.sin(d)*Math.cos(f)*Math.cos(p)-Math.cos(d)*Math.sin(f)*Math.sin(p),g=Math.cos(d)*Math.sin(f)*Math.cos(p)+Math.sin(d)*Math.cos(f)*Math.sin(p),v=Math.cos(d)*Math.cos(f)*Math.sin(p)-Math.sin(d)*Math.sin(f)*Math.cos(p),y=Math.cos(d)*Math.cos(f)*Math.cos(p)+Math.sin(d)*Math.sin(f)*Math.sin(p);(h=new o({x:m,y:g,z:v,w:y})).normalize()}this.origin=new r({position:l,orientation:h})}}},YqAc:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"Yz+Y":function(e,t,n){e.exports={default:n("+plK"),__esModule:!0}},Z0cm:function(e,t){var n=Array.isArray;e.exports=n},Z1HP:function(e,t,n){var r=n("ycre"),i=n("quyA"),o=n("q4HE");e.exports=function(e){return i(e)?o(e):r(e)}},Z87L:function(e){e.exports=JSON.parse('{"0":"�","128":"€","130":"‚","131":"ƒ","132":"„","133":"…","134":"†","135":"‡","136":"ˆ","137":"‰","138":"Š","139":"‹","140":"Œ","142":"Ž","145":"‘","146":"’","147":"“","148":"”","149":"•","150":"–","151":"—","152":"˜","153":"™","154":"š","155":"›","156":"œ","158":"ž","159":"Ÿ"}')},Z8oC:function(e,t,n){var r=n("y1pI");e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},ZCgT:function(e,t,n){var r=n("tLB3"),i=1/0,o=17976931348623157e292;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},ZCpW:function(e,t,n){var r=n("lm/5"),i=n("O7RO"),o=n("IOzZ");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},ZJXm:function(e,t,n){"use strict";var r=n("TjP8").openCloseTag;e.exports=function(e,t,n){var c,l,u,h,d,f,p,m=this.options.blocks,g=t.length,v=0,y=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Za-z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+m.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];for(;v<g&&((h=t.charAt(v))===i||h===o);)v++;if(t.charAt(v)!==s)return;c=-1===(c=t.indexOf(a,v+1))?g:c,l=t.slice(v,c),u=-1,d=y.length;for(;++u<d;)if(y[u][0].test(l)){f=y[u];break}if(!f)return;if(n)return f[2];if(v=c,!f[1].test(l))for(;v<g;){if(c=-1===(c=t.indexOf(a,v+1))?g:c,l=t.slice(v+1,c),f[1].test(l)){l&&(v=c);break}v=c}return p=t.slice(0,v),e(p)({type:"html",value:p})};var i="\t",o=" ",a="\n",s="<"},ZNcB:function(e,t,n){var r=n("5adj"),i=(n("E4pH"),n("MliZ").EventEmitter2);function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.serviceType=e.serviceType,this.isAdvertised=!1,this._serviceCallback=null}o.prototype.__proto__=i.prototype,o.prototype.callService=function(e,t,n){if(!this.isAdvertised){var i="call_service:"+this.name+":"+ ++this.ros.idCounter;(t||n)&&this.ros.once(i,(function(e){void 0!==e.result&&!1===e.result?"function"==typeof n&&n(e.values):"function"==typeof t&&t(new r(e.values))}));var o={op:"call_service",id:i,service:this.name,type:this.serviceType,args:e};this.ros.callOnConnection(o)}},o.prototype.advertise=function(e){this.isAdvertised||"function"!=typeof e||(this._serviceCallback=e,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},o.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},o.prototype._serviceResponse=function(e){var t={},n=this._serviceCallback(e.args,t),i={op:"service_response",service:this.name,values:new r(t),result:n};e.id&&(i.id=e.id),this.ros.callOnConnection(i)},e.exports=o},ZONP:function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}},ZW5q:function(e,t,n){"use strict";var r=n("eaoh");function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},ZWk2:function(e,t,n){"use strict";var r=n("m2n9"),i=n("Z87L"),o=n("ZONP"),a=n("fjrl"),s=n("J5yW"),c=n("WtKE");e.exports=function(e,t){var n,o,a={};t||(t={});for(o in d)n=t[o],a[o]=null==n?d[o]:n;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(e,t){var n,o,a,d,B,z,U,H,V,W,$,G,q,Y,X,K,Z,J,Q,ee=t.additional,te=t.nonTerminated,ne=t.text,re=t.reference,ie=t.warning,oe=t.textContext,ae=t.referenceContext,se=t.warningContext,ce=t.position,le=t.indent||[],ue=e.length,he=0,de=-1,fe=ce.column||1,pe=ce.line||1,me="",ge=[];"string"==typeof ee&&(ee=ee.charCodeAt(0));K=ye(),H=ie?function(e,t){var n=ye();n.column+=t,n.offset+=t,ie.call(se,N[e],n,e)}:h,he--,ue++;for(;++he<ue;)if(B===p&&(fe=le[de]||1),(B=e.charCodeAt(he))===v){if((U=e.charCodeAt(he+1))===f||U===p||U===m||U===g||U===v||U===b||U!=U||ee&&U===ee){me+=u(B),fe++;continue}for(G=q=he+1,Q=q,U===x?(Q=++G,(U=e.charCodeAt(Q))===_||U===E?(Y=A,Q=++G):Y=T):Y=C,n="",$="",d="",X=k[Y],Q--;++Q<ue&&(U=e.charCodeAt(Q),X(U));)d+=u(U),Y===C&&l.call(r,d)&&(n=d,$=r[d]);(a=e.charCodeAt(Q)===y)&&(Q++,(o=Y===C&&c(d))&&(n=d,$=o)),J=1+Q-q,(a||te)&&(d?Y===C?(a&&!$?H(L,1):(n!==d&&(Q=G+n.length,J=1+Q-G,a=!1),a||(V=n?O:R,t.attribute?(U=e.charCodeAt(Q))===w?(H(V,J),$=null):s(U)?$=null:H(V,J):H(V,J))),z=$):(a||H(P,J),z=parseInt(d,M[Y]),(ve=z)>=55296&&ve<=57343||ve>1114111?(H(j,J),z=u(S)):z in i?(H(D,J),z=i[z]):(W="",I(z)&&H(D,J),z>65535&&(W+=u((z-=65536)>>>10|55296),z=56320|1023&z),z=W+u(z))):Y!==C&&H(F,J)),z?(be(),K=ye(),he=Q-1,fe+=Q-q+1,ge.push(z),(Z=ye()).offset++,re&&re.call(ae,z,{start:K,end:Z},e.slice(q-1,Q)),K=Z):(d=e.slice(q-1,Q),me+=d,fe+=d.length,he=Q-1)}else 10===B&&(pe++,de++,fe=0),B==B?(me+=u(B),fe++):be();var ve;return ge.join("");function ye(){return{line:pe,column:fe,offset:he+(ce.offset||0)}}function be(){me&&(ge.push(me),ne&&ne.call(oe,me,{start:K,end:ye()}),me="")}}(e,a)};var l={}.hasOwnProperty,u=String.fromCharCode,h=Function.prototype,d={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},f=9,p=10,m=12,g=32,v=38,y=59,b=60,w=61,x=35,_=88,E=120,S=65533,C="named",A="hexadecimal",T="decimal",M={};M[A]=16,M[T]=10;var k={};k[C]=s,k[T]=o,k[A]=a;var O=1,P=2,R=3,F=4,L=5,D=6,j=7,N={};function I(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}N[O]="Named character references must be terminated by a semicolon",N[P]="Numeric character references must be terminated by a semicolon",N[R]="Named character references cannot be empty",N[F]="Numeric character references cannot be empty",N[L]="Named character references must be known",N[D]="Numeric character references cannot be disallowed",N[j]="Numeric character references cannot be outside the permissible Unicode range"},ZWtO:function(e,t,n){var r=n("4uTw"),i=n("9Nap");e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},Zasy:function(e,t,n){"use strict";function r(e){if("string"==typeof e)return function(e){return function(t){return Boolean(t&&t.type===e)}}(e);if(null==e)return a;if("object"==typeof e)return("length"in e?o:i)(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")}function i(e){return function(t){var n;for(n in e)if(t[n]!==e[n])return!1;return!0}}function o(e){var t=function(e){for(var t=[],n=e.length,i=-1;++i<n;)t[i]=r(e[i]);return t}(e),n=t.length;return function(){var e=-1;for(;++e<n;)if(t[e].apply(this,arguments))return!0;return!1}}function a(){return!0}e.exports=r},ZkSf:function(e,t,n){"use strict";e.exports=s;var r=n("nc5S"),i=r.CONTINUE,o=r.SKIP,a=r.EXIT;function s(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),r(e,t,(function(e,t){var r=t[t.length-1],i=r?r.children.indexOf(e):null;return n(e,i,r)}),i)}s.CONTINUE=i,s.SKIP=o,s.EXIT=a},Zpkj:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("RjOF"),o=n("my8H");e.exports=function(e,t){var n,l,u,h,d=e.split(s),f=d.length+1,p=1/0,m=[];d.unshift(i(a,t)+"!");for(;f--;)if(l=o(d[f]),m[f]=l.stops,0!==r(d[f]).length){if(!l.indent){p=1/0;break}l.indent>0&&l.indent<p&&(p=l.indent)}if(p!==1/0)for(f=d.length;f--;){for(u=m[f],n=p;n&&!(n in u);)n--;h=0!==r(d[f]).length&&p&&n!==p?c:"",d[f]=h+d[f].slice(n in u?u[n]+1:0)}return d.shift(),d.join(s)};var a=" ",s="\n",c="\t"},ZtTi:function(e,t,n){"use strict";var r=n("QRi6"),i=n("Sdz8"),o=n("3th9"),a=n("Kq0i");e.exports={rect:function(e,t,n){var i=e.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-t.width/2).attr("y",-t.height/2).attr("width",t.width).attr("height",t.height);return n.intersect=function(e){return r(n,e)},i},ellipse:function(e,t,n){var r=t.width/2,o=t.height/2,a=e.insert("ellipse",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(e){return i(n,r,o,e)},a},circle:function(e,t,n){var r=Math.max(t.width,t.height)/2,i=e.insert("circle",":first-child").attr("x",-t.width/2).attr("y",-t.height/2).attr("r",r);return n.intersect=function(e){return o(n,r,e)},i},diamond:function(e,t,n){var r=t.width*Math.SQRT2/2,i=t.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=e.insert("polygon",":first-child").attr("points",o.map((function(e){return e.x+","+e.y})).join(" "));return n.intersect=function(e){return a(n,o,e)},s}}},Zxgi:function(e,t,n){var r=n("5T2Y"),i=n("WEpk"),o=n("uOPS"),a=n("zLkG"),s=n("2faE").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},ZzYp:function(e,t,n){var r=n("M96O");e.exports=function(e,t,n){return function(e,t,n){var r={},i=e.nodes();return i.forEach((function(e){r[e]={},r[e][e]={distance:0},i.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var i=n.v===e?n.w:n.v,o=t(n);r[e][i]={distance:o,predecessor:e}}))})),i.forEach((function(e){var t=r[e];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[e],i=t[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},a0xu:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},a9sG:function(e,t){e.exports=function(){return document.createElement("canvas")}},aCXt:function(e,t,n){"use strict";var r=n("/qNp");function i(){}e.exports=a,i.prototype=Error.prototype,a.prototype=new i;var o=a.prototype;function a(e,t,n){var i,o,a;"string"==typeof t&&(n=t,t=null),i=function(e){var t,n=[null,null];"string"==typeof e&&(-1===(t=e.indexOf(":"))?n[1]=e:(n[0]=e.slice(0,t),n[1]=e.slice(t+1)));return n}(n),o=r(t)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},t&&t.position&&(t=t.position),t&&(t.start?(a=t,t=t.start):a.start=t),e.stack&&(this.stack=e.stack,e=e.message),this.message=e,this.name=o,this.reason=e,this.line=t?t.line:null,this.column=t?t.column:null,this.location=a,this.source=i[0],this.ruleId=i[1]}o.file="",o.name="",o.reason="",o.message="",o.stack="",o.fatal=null,o.column=null,o.line=null},aJjT:function(e,t,n){e.exports=function e(t){"use strict";var n=/^\0+/g,r=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,u=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,d=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,f=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,v=/\s+(?=[{\];=:>])/g,y=/([[}=:>])\s+/g,b=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,x=/([^\(])(:+) */g,_=/[svh]\w+-[tblr]{2}/,E=/\(\s*(.*)\s*\)/g,S=/([\s\S]*?);/g,C=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,k="-webkit-",O="-moz-",P="-ms-",R=59,F=125,L=123,D=40,j=41,N=91,I=93,B=10,z=13,U=9,H=64,V=32,W=38,$=45,G=95,q=42,Y=44,X=58,K=39,Z=34,J=47,Q=62,ee=43,te=126,ne=0,re=12,ie=11,oe=107,ae=109,se=115,ce=112,le=111,ue=105,he=99,de=100,fe=112,pe=1,me=1,ge=0,ve=1,ye=1,be=1,we=0,xe=0,_e=0,Ee=[],Se=[],Ce=0,Ae=null,Te=-2,Me=-1,ke=0,Oe=1,Pe=2,Re=3,Fe=0,Le=1,De="",je="",Ne="";function Ie(e,t,i,o,a){for(var s,c,u=0,h=0,d=0,f=0,v=0,y=0,b=0,w=0,_=0,S=0,C=0,A=0,T=0,M=0,G=0,we=0,Se=0,Ae=0,Te=0,Me=i.length,ze=Me-1,Ge="",qe="",Ye="",Xe="",Ke="",Ze="";G<Me;){if(b=i.charCodeAt(G),G===ze&&h+f+d+u!==0&&(0!==h&&(b=h===J?B:J),f=d=u=0,Me++,ze++),h+f+d+u===0){if(G===ze&&(we>0&&(qe=qe.replace(r,"")),qe.trim().length>0)){switch(b){case V:case U:case R:case z:case B:break;default:qe+=i.charAt(G)}b=R}if(1===Se)switch(b){case L:case F:case R:case Z:case K:case D:case j:case Y:Se=0;case U:case z:case B:case V:break;default:for(Se=0,Te=G,v=b,G--,b=R;Te<Me;)switch(i.charCodeAt(Te++)){case B:case z:case R:++G,b=v,Te=Me;break;case X:we>0&&(++G,b=v);case L:Te=Me}}switch(b){case L:for(v=(qe=qe.trim()).charCodeAt(0),C=1,Te=++G;G<Me;){switch(b=i.charCodeAt(G)){case L:C++;break;case F:C--;break;case J:switch(y=i.charCodeAt(G+1)){case q:case J:G=$e(y,G,ze,i)}break;case N:b++;case D:b++;case Z:case K:for(;G++<ze&&i.charCodeAt(G)!==b;);}if(0===C)break;G++}switch(Ye=i.substring(Te,G),v===ne&&(v=(qe=qe.replace(n,"").trim()).charCodeAt(0)),v){case H:switch(we>0&&(qe=qe.replace(r,"")),y=qe.charCodeAt(1)){case de:case ae:case se:case $:s=t;break;default:s=Ee}if(Te=(Ye=Ie(t,s,Ye,y,a+1)).length,_e>0&&0===Te&&(Te=qe.length),Ce>0&&(s=Be(Ee,qe,Ae),c=We(Re,Ye,s,t,me,pe,Te,y,a,o),qe=s.join(""),void 0!==c&&0===(Te=(Ye=c.trim()).length)&&(y=0,Ye="")),Te>0)switch(y){case se:qe=qe.replace(E,Ve);case de:case ae:case $:Ye=qe+"{"+Ye+"}";break;case oe:Ye=(qe=qe.replace(p,"$1 $2"+(Le>0?De:"")))+"{"+Ye+"}",Ye=1===ye||2===ye&&He("@"+Ye,3)?"@"+k+Ye+"@"+Ye:"@"+Ye;break;default:Ye=qe+Ye,o===fe&&(Xe+=Ye,Ye="")}else Ye="";break;default:Ye=Ie(t,Be(t,qe,Ae),Ye,o,a+1)}Ke+=Ye,A=0,Se=0,M=0,we=0,Ae=0,T=0,qe="",Ye="",b=i.charCodeAt(++G);break;case F:case R:if((Te=(qe=(we>0?qe.replace(r,""):qe).trim()).length)>1)switch(0===M&&((v=qe.charCodeAt(0))===$||v>96&&v<123)&&(Te=(qe=qe.replace(" ",":")).length),Ce>0&&void 0!==(c=We(Oe,qe,t,e,me,pe,Xe.length,o,a,o))&&0===(Te=(qe=c.trim()).length)&&(qe="\0\0"),v=qe.charCodeAt(0),y=qe.charCodeAt(1),v){case ne:break;case H:if(y===ue||y===he){Ze+=qe+i.charAt(G);break}default:if(qe.charCodeAt(Te-1)===X)break;Xe+=Ue(qe,v,y,qe.charCodeAt(2))}A=0,Se=0,M=0,we=0,Ae=0,qe="",b=i.charCodeAt(++G)}}switch(b){case z:case B:if(h+f+d+u+xe===0)switch(S){case j:case K:case Z:case H:case te:case Q:case q:case ee:case J:case $:case X:case Y:case R:case L:case F:break;default:M>0&&(Se=1)}h===J?h=0:ve+A===0&&o!==oe&&qe.length>0&&(we=1,qe+="\0"),Ce*Fe>0&&We(ke,qe,t,e,me,pe,Xe.length,o,a,o),pe=1,me++;break;case R:case F:if(h+f+d+u===0){pe++;break}default:switch(pe++,Ge=i.charAt(G),b){case U:case V:if(f+u+h===0)switch(w){case Y:case X:case U:case V:Ge="";break;default:b!==V&&(Ge=" ")}break;case ne:Ge="\\0";break;case re:Ge="\\f";break;case ie:Ge="\\v";break;case W:f+h+u===0&&ve>0&&(Ae=1,we=1,Ge="\f"+Ge);break;case 108:if(f+h+u+ge===0&&M>0)switch(G-M){case 2:w===ce&&i.charCodeAt(G-3)===X&&(ge=w);case 8:_===le&&(ge=_)}break;case X:f+h+u===0&&(M=G);break;case Y:h+d+f+u===0&&(we=1,Ge+="\r");break;case Z:case K:0===h&&(f=f===b?0:0===f?b:f);break;case N:f+h+d===0&&u++;break;case I:f+h+d===0&&u--;break;case j:f+h+u===0&&d--;break;case D:if(f+h+u===0){if(0===A)switch(2*w+3*_){case 533:break;default:C=0,A=1}d++}break;case H:h+d+f+u+M+T===0&&(T=1);break;case q:case J:if(f+u+d>0)break;switch(h){case 0:switch(2*b+3*i.charCodeAt(G+1)){case 235:h=J;break;case 220:Te=G,h=q}break;case q:b===J&&w===q&&Te+2!==G&&(33===i.charCodeAt(Te+2)&&(Xe+=i.substring(Te,G+1)),Ge="",h=0)}}if(0===h){if(ve+f+u+T===0&&o!==oe&&b!==R)switch(b){case Y:case te:case Q:case ee:case j:case D:if(0===A){switch(w){case U:case V:case B:case z:Ge+="\0";break;default:Ge="\0"+Ge+(b===Y?"":"\0")}we=1}else switch(b){case D:M+7===G&&108===w&&(M=0),A=++C;break;case j:0==(A=--C)&&(we=1,Ge+="\0")}break;case U:case V:switch(w){case ne:case L:case F:case R:case Y:case re:case U:case V:case B:case z:break;default:0===A&&(we=1,Ge+="\0")}}qe+=Ge,b!==V&&b!==U&&(S=b)}}_=w,w=b,G++}if(Te=Xe.length,_e>0&&0===Te&&0===Ke.length&&0===t[0].length==0&&(o!==ae||1===t.length&&(ve>0?je:Ne)===t[0])&&(Te=t.join(",").length+2),Te>0){if(s=0===ve&&o!==oe?function(e){for(var t,n,i=0,o=e.length,a=Array(o);i<o;++i){for(var s=e[i].split(l),c="",u=0,h=0,d=0,f=0,p=s.length;u<p;++u)if(!(0===(h=(n=s[u]).length)&&p>1)){if(d=c.charCodeAt(c.length-1),f=n.charCodeAt(0),t="",0!==u)switch(d){case q:case te:case Q:case ee:case V:case D:break;default:t=" "}switch(f){case W:n=t+je;case te:case Q:case ee:case V:case j:case D:break;case N:n=t+n+je;break;case X:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(be>0){n=t+n.substring(8,h-1);break}default:(u<1||s[u-1].length<1)&&(n=t+je+n)}break;case Y:t="";default:n=h>1&&n.indexOf(":")>0?t+n.replace(x,"$1"+je+"$2"):t+n+je}c+=n}a[i]=c.replace(r,"").trim()}return a}(t):t,Ce>0&&void 0!==(c=We(Pe,Xe,s,e,me,pe,Te,o,a,o))&&0===(Xe=c).length)return Ze+Xe+Ke;if(Xe=s.join(",")+"{"+Xe+"}",ye*ge!=0){switch(2!==ye||He(Xe,2)||(ge=0),ge){case le:Xe=Xe.replace(g,":"+O+"$1")+Xe;break;case ce:Xe=Xe.replace(m,"::"+k+"input-$1")+Xe.replace(m,"::"+O+"$1")+Xe.replace(m,":"+P+"input-$1")+Xe}ge=0}}return Ze+Xe+Ke}function Be(e,t,n){var r=t.trim().split(u),i=r,o=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,c=0===a?"":e[0]+" ";s<o;++s)i[s]=ze(c,i[s],n,a).trim();break;default:s=0;var l=0;for(i=[];s<o;++s)for(var h=0;h<a;++h)i[l++]=ze(e[h]+" ",r[s],n,a).trim()}return i}function ze(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case W:switch(ve+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(h,"$1"+e.trim())}break;case X:switch(i.charCodeAt(1)){case 103:if(be>0&&ve>0)return i.replace(d,"$1").replace(h,"$1"+Ne);break;default:return e.trim()+i.replace(h,"$1"+e.trim())}default:if(n*ve>0&&i.indexOf("\f")>0)return i.replace(h,(e.charCodeAt(0)===X?"":"$1")+e.trim())}return e+i}function Ue(e,t,n,r){var l,u=0,h=e+";",d=2*t+3*n+4*r;if(944===d)return function(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Le){case 0:break;case $:if(110!==e.charCodeAt(10))break;default:var o=i.split((i="",s)),a=0;for(n=0,t=o.length;a<t;n=0,++a){for(var l=o[a],u=l.split(c);l=u[n];){var h=l.charCodeAt(0);if(1===Le&&(h>H&&h<90||h>96&&h<123||h===G||h===$&&l.charCodeAt(1)!==$))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=De}}u[n++]=l}i+=(0===a?"":",")+u.join(" ")}}return i=r+i+";",1===ye||2===ye&&He(i,1)?k+i+i:i}(h);if(0===ye||2===ye&&!He(h,1))return h;switch(d){case 1015:return 97===h.charCodeAt(10)?k+h+h:h;case 951:return 116===h.charCodeAt(3)?k+h+h:h;case 963:return 110===h.charCodeAt(5)?k+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return k+h+h;case 978:return k+h+O+h+h;case 1019:case 983:return k+h+O+h+P+h+h;case 883:return h.charCodeAt(8)===$?k+h+h:h.indexOf("image-set(",11)>0?h.replace(M,"$1"+k+"$2")+h:h;case 932:if(h.charCodeAt(4)===$)switch(h.charCodeAt(5)){case 103:return k+"box-"+h.replace("-grow","")+k+h+P+h.replace("grow","positive")+h;case 115:return k+h+P+h.replace("shrink","negative")+h;case 98:return k+h+P+h.replace("basis","preferred-size")+h}return k+h+P+h+h;case 964:return k+h+P+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return l=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),k+"box-pack"+l+k+h+P+"flex-pack"+l+h;case 1005:return o.test(h)?h.replace(i,":"+k)+h.replace(i,":"+O)+h:h;case 1e3:switch(u=(l=h.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(u)){case 226:l=h.replace(_,"tb");break;case 232:l=h.replace(_,"tb-rl");break;case 220:l=h.replace(_,"lr");break;default:return h}return k+h+P+l+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(u=(h=e).length-10,d=(l=(33===h.charCodeAt(u)?h.substring(0,u):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:h=h.replace(l,k+l)+";"+h;break;case 207:case 102:h=h.replace(l,k+(d>102?"inline-":"")+"box")+";"+h.replace(l,k+l)+";"+h.replace(l,P+l+"box")+";"+h}return h+";";case 938:if(h.charCodeAt(5)===$)switch(h.charCodeAt(6)){case 105:return l=h.replace("-items",""),k+h+k+"box-"+l+P+"flex-"+l+h;case 115:return k+h+P+"flex-item-"+h.replace(C,"")+h;default:return k+h+P+"flex-line-pack"+h.replace("align-content","").replace(C,"")+h}break;case 973:case 989:if(h.charCodeAt(3)!==$||122===h.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ue(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):h.replace(l,k+l)+h.replace(l,O+l.replace("fill-",""))+h;break;case 962:if(h=k+h+(102===h.charCodeAt(5)?P+h:"")+h,n+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(a,"$1"+k+"$2")+h}return h}function He(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return Ae(2!==t?r:r.replace(A,"$1"),i,t)}function Ve(e,t){var n=Ue(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(S," or ($1)").substring(4):"("+t+")"}function We(e,t,n,r,i,o,a,s,c,l){for(var u,h=0,d=t;h<Ce;++h)switch(u=Se[h].call(qe,e,d,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=u}if(d!==t)return d}function $e(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case J:if(e===q&&r.charCodeAt(i-1)===q&&t+2!==i)return i+1;break;case B:if(e===J)return i+1}return i}function Ge(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Le=0|n;break;case"global":be=0|n;break;case"cascade":ve=0|n;break;case"compress":we=0|n;break;case"semicolon":xe=0|n;break;case"preserve":_e=0|n;break;case"prefix":Ae=null,n?"function"!=typeof n?ye=1:(ye=2,Ae=n):ye=0}}return Ge}function qe(t,n){if(void 0!==this&&this.constructor===qe)return e(t);var i=t,o=i.charCodeAt(0);o<33&&(o=(i=i.trim()).charCodeAt(0)),Le>0&&(De=i.replace(f,o===N?"":"-")),o=1,1===ve?Ne=i:je=i;var a,s=[Ne];Ce>0&&void 0!==(a=We(Me,n,s,s,me,pe,0,0,0,0))&&"string"==typeof a&&(n=a);var c=Ie(Ee,s,n,0,0);return Ce>0&&void 0!==(a=We(Te,c,s,s,me,pe,c.length,0,0,0))&&"string"!=typeof(c=a)&&(o=0),De="",Ne="",je="",ge=0,me=1,pe=1,we*o==0?c:c.replace(r,"").replace(v,"").replace(y,"$1").replace(b,"$1").replace(w," ")}return qe.use=function e(t){switch(t){case void 0:case null:Ce=Se.length=0;break;default:if("function"==typeof t)Se[Ce++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else Fe=0|!!t}return e},qe.set=Ge,void 0!==t&&Ge(t),qe}(null)},aTp6:function(e,t,n){"use strict";e.exports=function(e,t){var n=e.indexOf("\n",t);for(;n>t&&" "===e.charAt(n-1);)n--;return n}},aTrP:function(e,t,n){"use strict";var r=Math.pow(2,32),i=!1;function o(){i||(i=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var a={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},s={71:function(e){o();for(var t=e.byteLength,n=e.byteOffset,i=t/8,a=e.buffer.slice(n,n+t),s=new Uint32Array(a),c=new Array(i),l=0;l<i;l++){var u=2*l,h=s[u],d=s[u+1];c[l]=h+r*d}return c},79:function(e){o();for(var t=e.byteLength,n=e.byteOffset,i=t/8,a=e.buffer.slice(n,n+t),s=new Uint32Array(a),c=new Int32Array(a),l=new Array(i),u=0;u<i;u++){var h=2*u,d=s[h],f=c[h+1];l[u]=d+r*f}return l}};e.exports&&(e.exports=function(e,t){if(t in a){var n=a[t];return i=n,o=(r=e).byteLength,c=r.byteOffset,new i(r.buffer.slice(c,c+o))}var r,i,o,c;return t in s?s[t](e):e})},aW7e:function(e,t,n){n("wgeU"),n("FlQf"),n("bBy9"),n("JMW+"),n("PBE1"),n("Q/yX"),e.exports=n("WEpk").Promise},adOz:function(e,t,n){n("Zxgi")("asyncIterator")},adU4:function(e,t,n){var r=n("y1pI"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},afWh:function(e,t,n){"use strict";e.exports=function(e,t){return e.indexOf("<",t)}},alwl:function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),o=n("l9OW"),a=n("1LK5"),s=n("sEf8"),c=n("IWTy"),l=n("zZ0H");e.exports=function(e,t,n){var u=-1;t=r(t.length?t:[l],s(i));var h=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++u,value:e}}));return a(h,(function(e,t){return c(e,t,n)}))}},"ar/p":function(e,t,n){var r=n("5vMV"),i=n("FpHa").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},asDA:function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b3Az:function(e,t,n){var r=n("MgzW");e.exports=function(e){r(this,e)}},b5wT:function(e,t,n){var r;try{r={cloneDeep:n("BkRI"),constant:n("cvCv"),defaults:n("la6v"),each:n("xkGU"),filter:n("k4Da"),find:n("J2m7"),flatten:n("TYy9"),forEach:n("bNQv"),forIn:n("mUg4"),has:n("OFL0"),isUndefined:n("TP7S"),last:n("RBan"),map:n("3WF5"),mapValues:n("noZS"),max:n("q92V"),merge:n("QkVN"),min:n("AE40"),minBy:n("gPaA"),now:n("QIyF"),pick:n("JZM8"),range:n("WjpJ"),reduce:n("xaJk"),sortBy:n("xweI"),uniqueId:n("mNz5"),values:n("P/G1"),zipObject:n("VJLA")}}catch(e){}r||(r=window._),e.exports=r},b80T:function(e,t,n){var r=n("UNi/"),i=n("03A+"),o=n("Z0cm"),a=n("DSRE"),s=n("wJg7"),c=n("c6wG"),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),h=!n&&!u&&a(e),d=!n&&!u&&!h&&c(e),f=n||u||h||d,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!l.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},bBy9:function(e,t,n){n("w2d+");for(var r=n("5T2Y"),i=n("NegM"),o=n("SBuE"),a=n("UWiX")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],h=u&&u.prototype;h&&!h[a]&&i(h,a,l),o[l]=o.Array}},bNQv:function(e,t,n){var r=n("gFfm"),i=n("SKAX"),o=n("EwQA"),a=n("Z0cm");e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},bY2E:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("obXZ"),o=n("IPAr"),a=n("CRs9");e.exports=l,l.locator=a;var s="*",c="_";function l(e,t,n){var a,l,u,h,d,f,p,m=0,g=t.charAt(m);if(!(g!==s&&g!==c||(l=this.options.pedantic,d=g,u=g,f=t.length,m++,h="",g="",l&&o(t.charAt(m)))))for(;m<f;){if(p=g,!((g=t.charAt(m))!==u||l&&o(p))){if((g=t.charAt(++m))!==u){if(!r(h)||p===u)return;if(!l&&u===c&&i(g)){h+=u;continue}return!!n||((a=e.now()).column++,a.offset++,e(d+h+u)({type:"emphasis",children:this.tokenizeInline(h,a)}))}h+=u}l||"\\"!==g||(h+=g,g=t.charAt(++m)),h+=g,m++}}},bwSX:function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}r.prototype=i.prototype={constructor:r,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=i;function a(){}var s=o.prototype;function c(e,t){var n=new a;if(e instanceof a)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}a.prototype=c.prototype={constructor:a,has:s.has,add:function(e){return this["$"+(e+="")]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};n.d(t,"a",(function(){return o}))},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},cBNe:function(e,t,n){"use strict";var r=n("ZkSf");function i(e){delete e.position}function o(e){e.position=void 0}e.exports=function(e,t){return r(e,t?i:o),e}},cLqi:function(e,t,n){"use strict";n.r(t);var r=n("Womt");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var c=window.THREE?window.THREE:{LinearFilter:r.LinearFilter,Sprite:r.Sprite,SpriteMaterial:r.SpriteMaterial,Texture:r.Texture},l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=s(this,o(t).call(this,new c.SpriteMaterial({map:new c.Texture}))))._text=n,e._textHeight=r,e._color=i,e._fontFace="Arial",e._fontSize=90,e._fontWeight="normal",e._canvas=document.createElement("canvas"),e._texture=e.material.map,e._texture.minFilter=c.LinearFilter,e._genCanvas(),e}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),n=t,(r=[{key:"_genCanvas",value:function(){var e=this._canvas,t=e.getContext("2d"),n="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);t.font=n;var r=t.measureText(this.text).width;e.width=r,e.height=this.fontSize,t.font=n,t.fillStyle=this.color,t.textBaseline="bottom",t.fillText(this.text,0,e.height),this._texture.image=e,this._texture.needsUpdate=!0,this.scale.set(this.textHeight*e.width/e.height,this.textHeight)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(e){return c.Sprite.prototype.copy.call(this,e),this.color=e.color,this.fontFace=e.fontFace,this.fontSize=e.fontSize,this.fontWeight=e.fontWeight,this}},{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(e){this._textHeight=e,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(e){this._fontFace=e,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e,this._genCanvas()}}])&&i(n.prototype,r),l&&i(n,l),t}(c.Sprite);t.default=l},cSR1:function(e,t,n){var r=n("lU+G"),i=n("Ve/E"),o=n("yLCY").layout;e.exports=function(){var e=n("qIx1"),t=n("oHgj"),i=n("BS4l"),l=n("V5Ta"),u=n("4P+C"),h=n("EV5+"),d=n("lTTH"),f=n("ZtTi"),p=n("yQ0E"),m=function(n,m){!function(e){e.nodes().forEach((function(t){var n=e.node(t);r.has(n,"label")||e.children(t).length||(n.label=t),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(e){n[e]=Number(n[e])})),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)})),e.edges().forEach((function(t){var n=e.edge(t);r.has(n,"label")||(n.label=""),r.defaults(n,s)}))}(m);var g=c(n,"output"),v=c(g,"clusters"),y=c(g,"edgePaths"),b=i(c(g,"edgeLabels"),m),w=e(c(g,"nodes"),m,f);o(m),u(w,m),h(b,m),l(y,m,p);var x=t(v,m);d(x,m),function(e){r.each(e.nodes(),(function(t){var n=e.node(t);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(m)};return m.createNodes=function(t){return arguments.length?(e=t,m):e},m.createClusters=function(e){return arguments.length?(t=e,m):t},m.createEdgeLabels=function(e){return arguments.length?(i=e,m):i},m.createEdgePaths=function(e){return arguments.length?(l=e,m):l},m.shapes=function(e){return arguments.length?(f=e,m):f},m.arrows=function(e){return arguments.length?(p=e,m):p},m};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function c(e,t){var n=e.select("g."+t);return n.empty()&&(n=e.append("g").attr("class",t)),n}},cVWj:function(e,t,n){"use strict";var r=n("ZkSf"),i="virtualHtml",o=/^<(area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\s*\/?>$/i,a=/^<(\/?)([a-z]+)\s*>$/;e.exports=function(e){var t,n;return r(e,"html",(function(e,r,s){n!==s&&(t=[],n=s);var c=function(e){var t=e.value.match(o);return!!t&&t[1]}(e);if(c)return s.children.splice(r,1,{type:i,tag:c,position:e.position}),!0;var l=function(e,t){var n=e.value.match(a);return!!n&&{tag:n[2],opening:!n[1],node:e}}(e);if(!l)return!0;var u=function(e,t){var n=e.length;for(;n--;)if(e[n].tag===t)return e.splice(n,1)[0];return!1}(t,l.tag);return u?s.children.splice(r,0,function(e,t,n){var r=n.children.indexOf(e.node),o=n.children.indexOf(t.node),a=n.children.splice(r,o-r+1).slice(1,-1);return{type:i,children:a,tag:e.tag,position:{start:e.node.position.start,end:t.node.position.end,indent:[]}}}(l,u,s)):l.opening||t.push(l),!0}),!0),e}},ccE7:function(e,t,n){var r=n("Ojgd"),i=n("Jes0");e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},cjKa:function(e,t,n){(function(r){var i;
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */!function(o){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=10;function c(){this._events={},this._conf&&l.call(this,this._conf)}function l(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==o?e.maxListeners:s,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=s}function u(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r&&r.emitWarning){var i=new Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.emitWarning(i)}else console.error(n),console.trace&&console.trace()}function h(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,l.call(this,e)}function d(e,t,n,r){if(!n)return[];var i,o,a,s,c,l,u,h=[],f=t.length,p=t[r],m=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,o=n._listeners.length;i<o;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===p||"**"===p||n[p]){if("*"===p){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(h=h.concat(d(e,t,n[a],r+1)));return h}if("**"===p){for(a in(u=r+1===f||r+2===f&&"*"===m)&&n._listeners&&(h=h.concat(d(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!u&&(h=h.concat(d(e,t,n[a],f))),h=h.concat(d(e,t,n[a],r))):h=a===m?h.concat(d(e,t,n[a],r+2)):h.concat(d(e,t,n[a],r)));return h}h=h.concat(d(e,t,n[p],r+1))}if((s=n["*"])&&d(e,t,s,r+1),c=n["**"])if(r<f)for(a in c._listeners&&d(e,t,c,f),c)"_listeners"!==a&&c.hasOwnProperty(a)&&(a===m?d(e,t,c[a],r+2):a===p?d(e,t,c[a],r+1):((l={})[a]=c[a],d(e,t,{"**":l},r+1)));else c._listeners?d(e,t,c,f):c["*"]&&c["*"]._listeners&&d(e,t,c["*"],f);return h}function f(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,a=e.shift();a!==o;){if(i[a]||(i[a]={}),i=i[a],0===e.length)return i._listeners?("function"==typeof i._listeners&&(i._listeners=[i._listeners]),i._listeners.push(t),!i._listeners.warned&&this._maxListeners>0&&i._listeners.length>this._maxListeners&&(i._listeners.warned=!0,u.call(this,i._listeners.length,a))):i._listeners=t,!0;a=e.shift()}return!0}h.EventEmitter2=h,h.prototype.delimiter=".",h.prototype.setMaxListeners=function(e){e!==o&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},h.prototype.event="",h.prototype.once=function(e,t){return this._once(e,t,!1)},h.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},h.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},h.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},h.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},h.prototype._many=function(e,t,n,r){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&i.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r),i},h.prototype.emit=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,i,o,a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),a>3)for(t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this,e);break;case 2:o[r].call(this,e,arguments[1]);break;case 3:o[r].call(this,e,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}}if(this.wildcard){o=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,s,this.listenerTree,0)}else{if("function"==typeof(o=this._events[e])){switch(this.event=e,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];o.apply(this,t)}return!0}o&&(o=o.slice())}if(o&&o.length){if(a>3)for(t=new Array(a-1),i=1;i<a;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,a){case 1:o[r].call(this);break;case 2:o[r].call(this,arguments[1]);break;case 3:o[r].call(this,arguments[1],arguments[2]);break;default:o[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},h.prototype.emitAsync=function(){this._events||c.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,i,o,a=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,s){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();d.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,s){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];a.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(r=0,n=o.length;r<n;r++)switch(this.event=e,s){case 1:a.push(o[r].call(this));break;case 2:a.push(o[r].call(this,arguments[1]));break;case 3:a.push(o[r].call(this,arguments[1],arguments[2]));break;default:a.push(o[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},h.prototype.on=function(e,t){return this._on(e,t,!1)},h.prototype.prependListener=function(e,t){return this._on(e,t,!0)},h.prototype.onAny=function(e){return this._onAny(e,!1)},h.prototype.prependAny=function(e){return this._onAny(e,!0)},h.prototype.addListener=h.prototype.on,h.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},h.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||c.call(this),this.emit("newListener",e,t),this.wildcard?(f.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,u.call(this,this._events[e].length,e))):this._events[e]=t,this)},h.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();r=d.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var s=0;s<r.length;s++){var c=r[s];if(n=c._listeners,a(n)){for(var l=-1,u=0,h=n.length;u<h;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){l=u;break}if(l<0)continue;return this.wildcard?c._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete c._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete c._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==o){var n=Object.keys(t);for(var r in n){var i=n[r],a=t[i];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},h.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},h.prototype.removeListener=h.prototype.off,h.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||c.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=d.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else this._events&&(this._events[e]=null);return this},h.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return d.call(this,t,n,this.listenerTree,0),t}return this._events||c.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},h.prototype.eventNames=function(){return Object.keys(this._events)},h.prototype.listenerCount=function(e){return this.listeners(e).length},h.prototype.listenersAny=function(){return this._all?this._all:[]},(i=function(){return h}.call(t,n,t,e))===o||(e.exports=i)}()}).call(this,n("8oxB"))},cja7:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},"cq/+":function(e,t,n){var r=n("mc0g")();e.exports=r},cqyl:function(e,t,n){var r=n("cjKa").EventEmitter2,i=n("PjQo");function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.messageType=e.messageType,this.isAdvertised=!1,this.compression=e.compression||"none",this.throttle_rate=e.throttle_rate||0,this.latch=e.latch||!1,this.queue_size=e.queue_size||100,this.queue_length=e.queue_length||0,this.reconnect_on_close=e.reconnect_on_close||!0,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var t=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e),t.waitForReconnect=!1,t.reconnectFunc=function(){t.waitForReconnect||(t.waitForReconnect=!0,t.ros.callOnConnection(e),t.ros.once("connection",(function(){t.waitForReconnect=!1})))},t.ros.on("close",t.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(e){t.emit("message",new i(e))}}o.prototype.__proto__=r.prototype,o.prototype.subscribe=function(e){"function"==typeof e&&this.on("message",e),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},o.prototype.unsubscribe=function(e){e&&(this.off("message",e),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},o.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var e=this;this.ros.on("close",(function(){e.isAdvertised=!1}))}},o.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},o.prototype.publish=function(e){this.isAdvertised||this.advertise(),this.ros.idCounter++;var t={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(t)},e.exports=o},cvCv:function(e,t){e.exports=function(e){return function(){return e}}},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),o=n("ExA7"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},dOj1:function(e,t,n){"use strict";var r=n("b5wT"),i=n("GEWS"),o=n("6Ekc").slack,a=n("6Ekc").longestPath,s=n("F9We").alg.preorder,c=n("F9We").alg.postorder,l=n("tQ6r").simplify;function u(e){e=l(e),a(e);var t,n=i(e);for(f(n),h(n,e);t=p(n);)g(n,e,t,m(n,e,t))}function h(e,t){var n=c(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=d(e,t,n)}(e,t,n)}))}function d(e,t,n){var i=e.node(n).parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,r.forEach(t.nodeEdges(n),(function(r){var a,c,l=r.v===n,u=l?r.w:r.v;if(u!==i){var h=l===o,d=t.edge(r).weight;if(s+=h?d:-d,a=n,c=u,e.hasEdge(a,c)){var f=e.edge(n,u).cutvalue;s+=h?-f:f}}})),s}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,i,o,a){var s=i;var c=t.node(o);n[o]=!0;r.forEach(t.neighbors(o),(function(a){r.has(n,a)||(i=e(t,n,i,a,o))}));c.low=s;c.lim=i++;a?c.parent=a:delete c.parent;return i}(e,{},1,t)}function p(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function m(e,t,n){var i=n.v,a=n.w;t.hasEdge(i,a)||(i=n.w,a=n.v);var s=e.node(i),c=e.node(a),l=s,u=!1;s.lim>c.lim&&(l=c,u=!0);var h=r.filter(t.edges(),(function(t){return u===v(e,e.node(t.v),l)&&u!==v(e,e.node(t.w),l)}));return r.minBy(h,(function(e){return o(t,e)}))}function g(e,t,n,i){var o=n.v,a=n.w;e.removeEdge(o,a),e.setEdge(i.v,i.w,{}),f(e),h(e,t),function(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),i=s(e,n);i=i.slice(1),r.forEach(i,(function(n){var r=e.node(n).parent,i=t.edge(n,r),o=!1;i||(i=t.edge(r,n),o=!0),t.node(n).rank=t.node(r).rank+(o?i.minlen:-i.minlen)}))}(e,t)}function v(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=f,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=p,u.enterEdge=m,u.exchangeEdges=g},dQpi:function(e,t,n){var r=n("yGk4"),i=n("vN+2"),o=n("rEGp"),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},dl0q:function(e,t,n){n("Zxgi")("observable")},dt0z:function(e,t,n){var r=n("zoYe");e.exports=function(e){return null==e?"":r(e)}},dunj:function(e,t,n){var r=n("/9aa");e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===c?s==s&&!r(s):n(s,c)))var c=s,l=a}return l}},dxEu:function(e,t,n){var r=n("U1bi");n("epdU")(r,["TFClient"],e.exports={TFClient:n("eG1d")})},dzCc:function(e,t,n){n("rcjB");var r=n("IDHz"),i=(n("ZNcB"),n("E4pH")),o=n("AZ13");function a(e){e=e||{},this.ros=e.ros,this.fixedFrame=e.fixedFrame||"/base_link",this.angularThres=e.angularThres||2,this.transThres=e.transThres||.01,this.rate=e.rate||10,this.updateDelay=e.updateDelay||50;var t=e.topicTimeout||2,n=Math.floor(t),r=Math.floor(1e9*(t-n));this.topicTimeout={secs:n,nsecs:r},this.serverName=e.serverName||"/tf2_web_republisher",this.repubServiceName=e.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}a.prototype.processTFArray=function(e){e.transforms.forEach((function(e){var t=e.child_frame_id;"/"===t[0]&&(t=t.substring(1));var n=this.frameInfos[t];n&&(n.transform=new o({translation:e.transform.translation,rotation:e.transform.rotation}),n.cbs.forEach((function(e){e(n.transform)})))}),this)},a.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new r({actionClient:this.actionClient,goalMessage:e}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{e.timeout=this.topicTimeout;var t=new i(e);this.serviceClient.callService(t,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},a.prototype.processResponse=function(e){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:e.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},a.prototype.subscribe=function(e,t){"/"===e[0]&&(e=e.substring(1)),this.frameInfos[e]?this.frameInfos[e].transform&&t(this.frameInfos[e].transform):(this.frameInfos[e]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[e].cbs.push(t)},a.prototype.unsubscribe=function(e,t){"/"===e[0]&&(e=e.substring(1));for(var n=this.frameInfos[e],r=n&&n.cbs||[],i=r.length;i--;)r[i]===t&&r.splice(i,1);t&&0!==r.length||delete this.frameInfos[e]},a.prototype.dispose=function(){this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe()},e.exports=a},e1dK:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},e3BR:function(e,t){e.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},e4Nc:function(e,t,n){var r=n("fGT3"),i=n("k+1r"),o=n("JHgL"),a=n("pSRY"),s=n("H8j4");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},e5cp:function(e,t,n){var r=n("fmRc"),i=n("or5M"),o=n("HDyB"),a=n("seXi"),s=n("QqLw"),c=n("Z0cm"),l=n("DSRE"),u=n("c6wG"),h=1,d="[object Arguments]",f="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var b=c(e),w=c(t),x=b?f:s(e),_=w?f:s(t),E=(x=x==d?p:x)==p,S=(_=_==d?p:_)==p,C=x==_;if(C&&l(e)){if(!l(t))return!1;b=!0,E=!1}if(C&&!E)return y||(y=new r),b||u(e)?i(e,t,n,g,v,y):o(e,t,x,n,g,v,y);if(!(n&h)){var A=E&&m.call(e,"__wrapped__"),T=S&&m.call(t,"__wrapped__");if(A||T){var M=A?e.value():e,k=T?t.value():t;return y||(y=new r),v(M,k,n,g,y)}}return!!C&&(y||(y=new r),a(e,t,n,g,v,y))}},eG1d:function(e,t,n){n("qesz");var r=n("4XN4"),i=(n("US93"),n("kAvd")),o=n("4wl8");function a(e){e=e||{},this.ros=e.ros,this.fixedFrame=e.fixedFrame||"/base_link",this.angularThres=e.angularThres||2,this.transThres=e.transThres||.01,this.rate=e.rate||10,this.updateDelay=e.updateDelay||50;var t=e.topicTimeout||2,n=Math.floor(t),r=Math.floor(1e9*(t-n));this.topicTimeout={secs:n,nsecs:r},this.serverName=e.serverName||"/tf2_web_republisher",this.repubServiceName=e.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this.actionClient=this.ros.ActionClient({serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=this.ros.Service({name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}a.prototype.processTFArray=function(e){e.transforms.forEach((function(e){var t=e.child_frame_id;"/"===t[0]&&(t=t.substring(1));var n=this.frameInfos[t];n&&(n.transform=new o({translation:e.transform.translation,rotation:e.transform.rotation}),n.cbs.forEach((function(e){e(n.transform)})))}),this)},a.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new r({actionClient:this.actionClient,goalMessage:e}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{e.timeout=this.topicTimeout;var t=new i(e);this.serviceClient.callService(t,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},a.prototype.processResponse=function(e){this.currentTopic&&this.currentTopic.unsubscribe(),this.currentTopic=this.ros.Topic({name:e.topic_name,messageType:"tf2_web_republisher/TFArray"}),this.currentTopic.subscribe(this.processTFArray.bind(this))},a.prototype.subscribe=function(e,t){"/"===e[0]&&(e=e.substring(1)),this.frameInfos[e]?this.frameInfos[e].transform&&t(this.frameInfos[e].transform):(this.frameInfos[e]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[e].cbs.push(t)},a.prototype.unsubscribe=function(e,t){"/"===e[0]&&(e=e.substring(1));for(var n=this.frameInfos[e],r=n&&n.cbs||[],i=r.length;i--;)r[i]===t&&r.splice(i,1);t&&0!==r.length||delete this.frameInfos[e]},a.prototype.dispose=function(){this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe()},e.exports=a},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},eUtF:function(e,t,n){e.exports=!n("jmDH")&&!n("KUxP")((function(){return 7!=Object.defineProperty(n("Hsns")("div"),"a",{get:function(){return 7}}).a}))},eaoh:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},ebwN:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Map");e.exports=r},"ec/5":function(e,t,n){"use strict";var r=n("IPAr"),i=n("kaWx");e.exports=p,p.notInList=!0,p.notInBlock=!0;var o="\\",a="\n",s="\t",c=" ",l="[",u="]",h="^",d=":",f=/^( {4}|\t)?/gm;function p(e,t,n){var p,m,g,v,y,b,w,x,_,E,S,C,A=this.offset;if(this.options.footnotes){for(p=0,m=t.length,g="",v=e.now(),y=v.line;p<m&&(_=t.charAt(p),r(_));)g+=_,p++;if(t.charAt(p)===l&&t.charAt(p+1)===h){for(p=(g+=l+h).length,w="";p<m&&(_=t.charAt(p))!==u;)_===o&&(w+=_,p++,_=t.charAt(p)),w+=_,p++;if(w&&t.charAt(p)===u&&t.charAt(p+1)===d){if(n)return!0;for(E=i(w),p=(g+=w+u+d).length;p<m&&((_=t.charAt(p))===s||_===c);)g+=_,p++;for(v.column+=g.length,v.offset+=g.length,w="",b="",x="";p<m;){if((_=t.charAt(p))===a){for(x=_,p++;p<m&&(_=t.charAt(p))===a;)x+=_,p++;for(w+=x,x="";p<m&&(_=t.charAt(p))===c;)x+=_,p++;if(0===x.length)break;w+=x}w&&(b+=w,w=""),b+=_,p++}return g+=b,b=b.replace(f,(function(e){return A[y]=(A[y]||0)+e.length,y++,""})),S=e(g),C=this.enterBlock(),b=this.tokenizeBlock(b,v),C(),S({type:"footnoteDefinition",identifier:E,children:b})}}}}},eeiS:function(e,t,n){e.exports=n.p+"2b9b4872cd25494093c1eb14f0264a0b.svg"},ekgI:function(e,t,n){var r=n("YESw"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},epdU:function(e,t){e.exports=function(e,t,n){t.forEach((function(t){var r=n[t];e.prototype[t]=function(e){return e.ros=this,new r(e)}}))}},epwv:function(e,t,n){"use strict";var r=n("b5wT"),i=n("ptHe"),o=n("Re5C"),a=n("C4tZ"),s=n("tQ6r").normalizeRanks,c=n("8c2E"),l=n("tQ6r").removeEmptyRanks,u=n("JRpN"),h=n("Ig6t"),d=n("qGSU"),f=n("Kp9H"),p=n("IyW0"),m=n("tQ6r"),g=n("F9We").Graph;e.exports=function(e,t){var n=t&&t.debugTiming?m.time:m.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new g({multigraph:!0,compound:!0}),n=A(e.graph());return t.setGraph(r.merge({},y,C(n,v),r.pick(n,b))),r.forEach(e.nodes(),(function(n){var i=A(e.node(n));t.setNode(n,r.defaults(C(i,w),x)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var i=A(e.edge(n));t.setEdge(n,r.merge({},E,C(i,_),r.pick(i,S)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){i.run(e)})),t("    nestingGraph.run",(function(){u.run(e)})),t("    rank",(function(){a(m.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};m.addDummyNode(e,"edge-proxy",i,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){l(e)})),t("    nestingGraph.cleanup",(function(){u.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;r.forEach(e.nodes(),(function(n){var i=e.node(n);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=r.max(t,i.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){o.run(e)})),t("    parentDummyChains",(function(){c(e)})),t("    addBorderSegments",(function(){h(e)})),t("    order",(function(){f(e)})),t("    insertSelfEdges",(function(){!function(e){var t=m.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,i){var o=e.node(t);o.order=i+n,r.forEach(o.selfEdges,(function(t){m.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:o.rank,order:i+ ++n,e:t.e,label:t.label},"_se")})),delete o.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){d.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){!function(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),i=e.node(n.borderTop),o=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){o.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){d.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=e.graph(),s=a.marginx||0,c=a.marginy||0;function l(e){var r=e.x,a=e.y,s=e.width,c=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-c/2),o=Math.max(o,a+c/2)}r.forEach(e.nodes(),(function(t){l(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&l(n)})),t-=s,i-=c,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=i})),r.forEach(e.edges(),(function(n){var o=e.edge(n);r.forEach(o.points,(function(e){e.x-=t,e.y-=i})),r.has(o,"x")&&(o.x-=t),r.has(o,"y")&&(o.y-=i)})),a.width=n-t+s,a.height=o-i+c}(e)})),t("    assignNodeIntersects",(function(){!function(e){r.forEach(e.edges(),(function(t){var n,r,i=e.edge(t),o=e.node(t.v),a=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(m.intersectRect(o,n)),i.points.push(m.intersectRect(a,r))}))}(e)})),t("    reversePoints",(function(){!function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){i.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(e.edges(),(function(n){var i=e.edge(n),o=t.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function C(e,t){return r.mapValues(r.pick(e,t),Number)}function A(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},fGT3:function(e,t,n){var r=n("4kuk"),i=n("Xi7e"),o=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},fNZA:function(e,t,n){var r=n("QMMT"),i=n("UWiX")("iterator"),o=n("SBuE");e.exports=n("WEpk").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"fR/l":function(e,t,n){var r=n("CH3K"),i=n("Z0cm");e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},fUUT:function(e,t,n){"use strict";var r=n("5t69"),i=n("U6jy"),o=n("fduw");function a(e){var t=r(o);t.prototype.options=i(t.prototype.options,this.data("settings"),e),this.Parser=t}e.exports=a,a.Parser=o},fXsU:function(e,t,n){var r=n("5K7Z"),i=n("fNZA");e.exports=n("WEpk").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},fduw:function(e,t,n){"use strict";var r=n("U6jy"),i=n("4MqD"),o=n("7nPM"),a=n("EQPF"),s=n("Olrm"),c=n("A6mZ");function l(e,t){this.file=t,this.offset={},this.options=r(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=o(t).toOffset,this.unescape=a(this,"escape"),this.decode=s(this)}e.exports=l;var u=l.prototype;function h(e){var t,n=[];for(t in e)n.push(t);return n}u.setOptions=n("nLKB"),u.parse=n("zK1H"),u.options=n("0lR2"),u.exitStart=i("atStart",!0),u.enterList=i("inList",!1),u.enterLink=i("inLink",!1),u.enterBlock=i("inBlock",!1),u.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],u.blockTokenizers={newline:n("Eidx"),indentedCode:n("K2KW"),fencedCode:n("Gqj6"),blockquote:n("PIlL"),atxHeading:n("MHMH"),thematicBreak:n("pyet"),list:n("tGWH"),setextHeading:n("NS2H"),html:n("ZJXm"),footnote:n("ec/5"),definition:n("HRR4"),table:n("ujgL"),paragraph:n("RSXs")},u.inlineTokenizers={escape:n("tgay"),autoLink:n("2yk8"),url:n("UBI6"),html:n("VRSw"),link:n("jWrk"),reference:n("wCsn"),strong:n("KX5q"),emphasis:n("bY2E"),deletion:n("UIh7"),code:n("JlFY"),break:n("497W"),text:n("SbiQ")},u.blockMethods=h(u.blockTokenizers),u.inlineMethods=h(u.inlineTokenizers),u.tokenizeBlock=c("block"),u.tokenizeInline=c("inline"),u.tokenizeFactory=c},fjOl:function(e,t,n){var r=n("e1dK");e.exports=function(e){r(this,e)}},fjrl:function(e,t,n){"use strict";e.exports=function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),c=n("0Cz8");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},fpC5:function(e,t,n){var r=n("2faE"),i=n("5K7Z"),o=n("w6GO");e.exports=n("jmDH")?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},fqyn:function(e,t,n){"use strict";var r=1;e.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(e){r=e}}},ftKO:function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},gPaA:function(e,t,n){var r=n("dunj"),i=n("ut/Y"),o=n("jSBL");e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},gRFJ:function(e,t,n){e.exports=[n("rdUC"),n("ynwM"),n("RELg"),n("DlR+"),n("CrYA"),n("PD8m")]},gYXE:function(e,t,n){var r=n("M96O");function i(e){var t={},n={},i=[];if(r.each(e.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],i.push(s))})),r.size(t)!==e.nodeCount())throw new o;return i}function o(){}e.exports=i,i.CycleException=o,o.prototype=new Error},gYtI:function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(o,i),t.JsonHighlightRules=o})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var a=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,i-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,o=e("./fold_mode").FoldMode,a=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(a,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(i=o.match(this.foldingStartMarker)){var a=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,a);var s=e.getCommentFoldRange(n,a+i[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(i=o.match(this.foldingStopMarker))){a=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),o=t,a=n.length,s=t+=1,c=e.getLength();++t<c;){var l=(n=e.getLine(t)).search(/\S/);if(-1!==l){if(r>l)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(r==l)break}s=t}}return new i(o,a,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),o=e.getLength(),a=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,c=1;++n<o;){t=e.getLine(n);var l=s.exec(t);if(l&&(l[1]?c--:c++,!c))break}if(n>a)return new i(a,r,n,t.length)}}.call(a.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,r){"use strict";var i=e("../lib/oop"),o=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,c=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,u=e("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=a,this.$outdent=new s,this.$behaviour=new c,this.foldingRules=new l};i.inherits(h,o),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(r+=n));return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new u(["ace"],n("6P8j"),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(h.prototype),t.Mode=h}))},gaXo:function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;n<o;n+=1)a[n]=str(n,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],c))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},gfzm:function(e,t){t.DOMImplementation=window.DOMImplementation,t.XMLSerializer=window.XMLSerializer,t.DOMParser=window.DOMParser},h9ck:function(e,t,n){"use strict";t.HtmlParser="undefined"==typeof Symbol?"__RMD_HTML_PARSER__":Symbol("__RMD_HTML_PARSER__")},hDam:function(e,t){e.exports=function(){}},heNW:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},hgQt:function(e,t,n){var r=n("Juji"),i=n("4sDh");e.exports=function(e,t){return null!=e&&i(e,t,r)}},hhYa:function(e,t,n){var r=n("Jxod"),i=n("GU3B"),o=n("RT9k");e.exports=function(e){this.name=e.xml.getAttribute("name"),this.type=e.xml.getAttribute("type");var t=e.xml.getElementsByTagName("parent");t.length>0&&(this.parent=t[0].getAttribute("link"));var n=e.xml.getElementsByTagName("child");n.length>0&&(this.child=n[0].getAttribute("link"));var a=e.xml.getElementsByTagName("limit");a.length>0&&(this.minval=parseFloat(a[0].getAttribute("lower")),this.maxval=parseFloat(a[0].getAttribute("upper")));var s=e.xml.getElementsByTagName("origin");if(0===s.length)this.origin=new r;else{var c=s[0].getAttribute("xyz"),l=new i;c&&(c=c.split(" "),l=new i({x:parseFloat(c[0]),y:parseFloat(c[1]),z:parseFloat(c[2])}));var u=s[0].getAttribute("rpy"),h=new o;if(u){u=u.split(" ");var d=parseFloat(u[0])/2,f=parseFloat(u[1])/2,p=parseFloat(u[2])/2,m=Math.sin(d)*Math.cos(f)*Math.cos(p)-Math.cos(d)*Math.sin(f)*Math.sin(p),g=Math.cos(d)*Math.sin(f)*Math.cos(p)+Math.sin(d)*Math.cos(f)*Math.sin(p),v=Math.cos(d)*Math.cos(f)*Math.sin(p)-Math.sin(d)*Math.sin(f)*Math.cos(p),y=Math.cos(d)*Math.cos(f)*Math.cos(p)+Math.sin(d)*Math.sin(f)*Math.sin(p);(h=new o({x:m,y:g,z:v,w:y})).normalize()}this.origin=new r({position:l,orientation:h})}}},hypo:function(e,t,n){var r=n("O0oS");e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},i8i4:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n("yl30")},iBet:function(e,t,n){var r=n("b5wT"),i=n("F9We").Graph;e.exports=function(e,t,n){var o=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(i){var s=e.node(i),c=e.parent(i);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(i),a.setParent(i,c||o),r.forEach(e[n](i),(function(t){var n=t.v===i?t.w:t.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:e.edge(t).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},iCc5:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},iFRm:function(e,t,n){e.exports=n("e1dK")({UrdfBox:n("UNQo"),UrdfColor:n("MOh6"),UrdfCylinder:n("9qUN"),UrdfLink:n("nQt/"),UrdfMaterial:n("W3FB"),UrdfMesh:n("KN5b"),UrdfModel:n("8J61"),UrdfSphere:n("nTAN"),UrdfVisual:n("xXZ1")},n("e3BR"))},idmN:function(e,t,n){var r=n("ZWtO"),i=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],u=r(e,l);n(u,l)&&i(c,o(l,e),u)}return c}},iq4v:function(e,t,n){n("Mqbl"),e.exports=n("WEpk").Object.keys},itsj:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},j2DC:function(e,t,n){"use strict";var r=n("oVml"),i=n("rr1i"),o=n("RfKB"),a={};n("NegM")(a,n("UWiX")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},jFXE:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph,o=n("tQ6r");function a(e,t){var n={};return r.reduce(t,(function(t,i){var o=0,a=0,s=t.length,l=r.last(i);return r.forEach(i,(function(t,u){var h=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),d=h?e.node(h).order:s;(h||t===l)&&(r.forEach(i.slice(a,u+1),(function(t){r.forEach(e.predecessors(t),(function(r){var i=e.node(r),a=i.order;!(a<o||d<a)||i.dummy&&e.node(t).dummy||c(n,r,t)}))})),a=u+1,o=d)})),i})),n}function s(e,t){var n={};function i(t,i,o,a,s){var l;r.forEach(r.range(i,o),(function(i){l=t[i],e.node(l).dummy&&r.forEach(e.predecessors(l),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&c(n,t,l)}))}))}return r.reduce(t,(function(t,n){var o,a=-1,s=0;return r.forEach(n,(function(r,c){if("border"===e.node(r).dummy){var l=e.predecessors(r);l.length&&(o=e.node(l[0]).order,i(n,s,c,a,o),s=c,a=o)}i(n,s,n.length,o,t.length)})),n})),n}function c(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function l(e,t,n){if(t>n){var i=t;t=n,n=i}return r.has(e[t],n)}function u(e,t,n,i){var o={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){o[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var c=i(e);if(c.length)for(var u=((c=r.sortBy(c,(function(e){return s[e]}))).length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var f=c[h];a[e]===e&&t<s[f]&&!l(n,e,f)&&(a[f]=e,a[e]=o[e]=o[f],t=s[f])}}))})),{root:o,align:a}}function h(e,t,n,o,a){var s={},c=function(e,t,n,o){var a=new i,s=e.graph(),c=function(e,t,n){return function(i,o,a){var s,c=i.node(o),l=i.node(a),u=0;if(u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=-c.width/2;break;case"r":s=c.width/2}if(s&&(u+=n?s:-s),s=0,u+=(c.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,o);return r.forEach(t,(function(t){var i;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(c(e,t,i),s||0))}i=t}))})),a}(e,t,n,a),l=a?"borderLeft":"borderRight";function u(e,t){for(var n=c.nodes(),r=n.pop(),i={};r;)i[r]?e(r):(i[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return u((function(e){s[e]=c.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+c.edge(t))}),0)}),c.predecessors.bind(c)),u((function(t){var n=c.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-c.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==l&&(s[t]=Math.max(s[t],n))}),c.successors.bind(c)),r.forEach(o,(function(e){s[e]=s[n[e]]})),s}function d(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var o=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+o,n),i=Math.min(t-o,i)})),n-i}))}function f(e,t){var n=r.values(t),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,c=n+a,l=e[c];if(l!==t){var u=r.values(l);(s="l"===a?i-r.min(u):o-r.max(u))&&(e[c]=r.mapValues(l,(function(e){return e+s})))}}))}))}function p(e,t){return r.mapValues(e.ul,(function(n,i){if(t)return e[t.toLowerCase()][i];var o=r.sortBy(r.map(e,i));return(o[1]+o[2])/2}))}e.exports={positionX:function(e){var t,n=o.buildLayerMatrix(e),i=r.merge(a(e,n),s(e,n)),c={};r.forEach(["u","d"],(function(o){t="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===o?e.predecessors:e.successors).bind(e),s=u(e,t,i,a),l=h(e,t,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,(function(e){return-e}))),c[o+n]=l}))}));var l=d(e,c);return f(c,l),p(c,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:c,hasConflict:l,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},jSBL:function(e,t){e.exports=function(e,t){return e<t}},jWrk:function(e,t,n){"use strict";var r=n("IPAr"),i=n("EmYC");e.exports=g,g.locator=i;var o={}.hasOwnProperty,a="\\",s="[",c="]",l="(",u=")",h="<",d=">",f="`",p={'"':'"',"'":"'"},m={};function g(e,t,n){var i,g,v,y,b,w,x,_,E,S,C,A,T,M,k,O,P,R,F,L="",D=0,j=t.charAt(0),N=this.options.pedantic,I=this.options.commonmark,B=this.options.gfm;if("!"===j&&(E=!0,L=j,j=t.charAt(++D)),j===s&&(E||!this.inLink)){for(L+=j,k="",D++,A=t.length,M=0,(P=e.now()).column+=D,P.offset+=D;D<A;){if(w=j=t.charAt(D),j===f){for(g=1;t.charAt(D+1)===f;)w+=j,D++,g++;v?g>=v&&(v=0):v=g}else if(j===a)D++,w+=t.charAt(D);else if(v&&!B||j!==s){if((!v||B)&&j===c){if(!M){if(!N)for(;D<A&&(j=t.charAt(D+1),r(j));)w+=j,D++;if(t.charAt(D+1)!==l)return;w+=l,i=!0,D++;break}M--}}else M++;k+=w,w="",D++}if(i){for(S=k,L+=k+w,D++;D<A&&(j=t.charAt(D),r(j));)L+=j,D++;if(j=t.charAt(D),_=I?m:p,k="",y=L,j===h){for(D++,y+=h;D<A&&(j=t.charAt(D))!==d;){if(I&&"\n"===j)return;k+=j,D++}if(t.charAt(D)!==d)return;L+=h+k+d,O=k,D++}else{for(j=null,w="";D<A&&(j=t.charAt(D),!w||!o.call(_,j));){if(r(j)){if(!N)break;w+=j}else{if(j===l)M++;else if(j===u){if(0===M)break;M--}k+=w,w="",j===a&&(k+=a,j=t.charAt(++D)),k+=j}D++}O=k,D=(L+=k).length}for(k="";D<A&&(j=t.charAt(D),r(j));)k+=j,D++;if(j=t.charAt(D),L+=k,k&&o.call(_,j))if(D++,L+=j,k="",C=_[j],b=L,I){for(;D<A&&(j=t.charAt(D))!==C;)j===a&&(k+=a,j=t.charAt(++D)),D++,k+=j;if((j=t.charAt(D))!==C)return;for(T=k,L+=k+j,D++;D<A&&(j=t.charAt(D),r(j));)L+=j,D++}else for(w="";D<A;){if((j=t.charAt(D))===C)x&&(k+=C+w,w=""),x=!0;else if(x){if(j===u){L+=k+C+w,T=k;break}r(j)?w+=j:(k+=C+w+j,w="",x=!1)}else k+=j;D++}if(t.charAt(D)===u)return!!n||(L+=u,O=this.decode.raw(this.unescape(O),e(y).test().end,{nonTerminated:!1}),T&&(b=e(b).test().end,T=this.decode.raw(this.unescape(T),b)),F={type:E?"image":"link",title:T||null,url:O},E?F.alt=this.decode.raw(this.unescape(S),P)||null:(R=this.enterLink(),F.children=this.tokenizeInline(S,P),R()),e(L)(F))}}}m['"']='"',m["'"]="'",m[l]=u},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},jcpv:function(e,t,n){var r=n("cqyl"),i=n("PjQo"),o=n("cjKa").EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.feedbackPublisher=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var n=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});n.advertise(),this.resultPublisher=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var o=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),a=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new i({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,o.subscribe((function(e){t.currentGoal?(t.nextGoal=e,t.emit("cancel")):(t.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],t.currentGoal=e,t.emit("goal",e.goal))}));var s=function(e,t){return!(e.secs>t.secs)&&(e.secs<t.secs||e.nsecs<t.nsecs)};a.subscribe((function(e){0===e.stamp.secs&&0===e.stamp.secs&&""===e.id?(t.nextGoal=null,t.currentGoal&&t.emit("cancel")):(t.currentGoal&&e.id===t.currentGoal.goal_id.id?t.emit("cancel"):t.nextGoal&&e.id===t.nextGoal.goal_id.id&&(t.nextGoal=null),t.nextGoal&&s(t.nextGoal.goal_id.stamp,e.stamp)&&(t.nextGoal=null),t.currentGoal&&s(t.currentGoal.goal_id.stamp,e.stamp)&&t.emit("cancel"))}));setInterval((function(){var e=new Date,r=Math.floor(e.getTime()/1e3),i=Math.round(1e9*(e.getTime()/1e3-r));t.statusMessage.header.stamp.secs=r,t.statusMessage.header.stamp.nsecs=i,n.publish(t.statusMessage)}),500)}a.prototype.__proto__=o.prototype,a.prototype.setSucceeded=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(t),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},a.prototype.sendFeedback=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(t)},a.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new i({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},e.exports=a},je13:function(e,t,n){var r=n("5nXd"),i=n("gRFJ"),o=[n("uQRt")];e.exports=r.createStore(i,o)},je4i:function(e,t,n){"use strict";e.exports=n("Bpvx")},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e){return r(e,i(e))}},jlxc:function(e,t,n){var r=n("PEyx");e.exports=function(e,t){var n=e.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=t.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert((function(){return o}));break;default:i.html(o)}r.applyStyle(i,t.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},jmDH:function(e,t,n){e.exports=!n("KUxP")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},jo6Y:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},juv8:function(e,t,n){var r=n("MrPd"),i=n("hypo");e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?i(n,l,u):r(n,l,u)}return n}},"k+1r":function(e,t,n){var r=n("QkVE");e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},"k/8l":function(e,t,n){e.exports={default:n("VKFn"),__esModule:!0}},k4Da:function(e,t,n){var r=n("LXxW"),i=n("n3Sm"),o=n("ut/Y"),a=n("Z0cm");e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},kAMH:function(e,t,n){var r=n("a0xu");e.exports=Array.isArray||function(e){return"Array"==r(e)}},kAvd:function(e,t,n){var r=n("MgzW");e.exports=function(e){r(this,e)}},kTiW:function(e,t,n){e.exports=n("NegM")},kaWx:function(e,t,n){"use strict";var r=n("JqBK");e.exports=function(e){return r(e).toLowerCase()}},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},khRU:function(e,t){e.exports="0.8.5"},kwZ1:function(e,t,n){"use strict";var r=n("jmDH"),i=n("w6GO"),o=n("mqlF"),a=n("NV0k"),s=n("JB68"),c=n("M1xp"),l=Object.assign;e.exports=!l||n("KUxP")((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,h=o.f,d=a.f;l>u;)for(var f,p=c(arguments[u++]),m=h?i(p).concat(h(p)):i(p),g=m.length,v=0;g>v;)f=m[v++],r&&!d.call(p,f)||(n[f]=p[f]);return n}:l},l9OW:function(e,t,n){var r=n("SKAX"),i=n("MMmD");e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},lCc8:function(e,t,n){var r=n("Y7ZC");r(r.S,"Object",{create:n("oVml")})},lQqw:function(e,t,n){var r=n("MMmD");e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},lSCD:function(e,t,n){var r=n("NykK"),i=n("GoyQ"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==c}},lTTH:function(e,t,n){"use strict";var r=n("PEyx"),i=n("Ve/E");e.exports=function(e,t){var n=e.filter((function(){return!i.select(this).classed("update")}));function o(e){var n=t.node(e);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(e,t).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),t).attr("width",(function(e){return t.node(e).width})).attr("height",(function(e){return t.node(e).height})).attr("x",(function(e){return-t.node(e).width/2})).attr("y",(function(e){return-t.node(e).height/2}))}},lTd2:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],h=!1,d=-1;function f(){h&&l&&(h=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!h){var e=c(f);h=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||h||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,r,i,o,a,s,c){if(n(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,a,s,c],h=0;(l=new Error(t.replace(/%s/g,(function(){return u[h++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}}).call(t,n(0))},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(c[u]=n[u]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(c[s[h]]=n[s[h]])}}return c}},function(e,t,n){"use strict";(function(t){var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r=n(2);if("production"!==t.env.NODE_ENV){var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];i.apply(void 0,[t].concat(r))}}}e.exports=r}).call(t,n(0))},function(e,t,n){"use strict";var r,i=n(7),o=(r=i)&&r.__esModule?r:{default:r};e.exports=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={mounted:!1},t.componentGracefulUnmount=t.componentGracefulUnmount.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentGracefulUnmount",value:function(){this.setState({mounted:!1}),window.removeEventListener("beforeunload",this.componentGracefulUnmount),window.removeEventListener("turbolinks:before-render",this.componentGracefulUnmount)}},{key:"componentWillMount",value:function(){this.setState({mounted:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.componentGracefulUnmount),window.addEventListener("turbolinks:before-render",this.componentGracefulUnmount)}},{key:"componentWillUnmount",value:function(){this.componentGracefulUnmount()}},{key:"render",value:function(){return this.state.mounted?a.default.createElement(e,this.props):null}}]),n}(o.Component)};var i,o=n(8),a=(i=o)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";(function(t){"production"===t.env.NODE_ENV?e.exports=n(9):e.exports=n(10)}).call(t,n(0))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),o=n(4);n(1);var a=n(2);function s(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}var c={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function l(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||c}function u(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||c}function h(){}l.prototype.isReactComponent={},l.prototype.setState=function(e,t){"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e&&null!=e&&s("85"),this.updater.enqueueSetState(this,e,t,"setState")},l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},h.prototype=l.prototype;var d=u.prototype=new h;function f(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||c}d.constructor=u,i(d,l.prototype),d.isPureReactComponent=!0;var p=f.prototype=new h;p.constructor=f,i(p,l.prototype),p.unstable_isAsyncReactComponent=!0,p.render=function(){return this.props.children};var m={Component:l,PureComponent:u,AsyncComponent:f},g={current:null},v=Object.prototype.hasOwnProperty,y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,b={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n,r,i,o,a){return{$$typeof:y,type:e,key:t,ref:n,props:a,_owner:o}}w.createElement=function(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),void 0===t.__self||t.__self,void 0===t.__source||t.__source,t)v.call(t,r)&&!b.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return w(e,o,a,0,0,g.current,i)},w.createFactory=function(e){var t=w.createElement.bind(null,e);return t.type=e,t},w.cloneAndReplaceKey=function(e,t){return w(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},w.cloneElement=function(e,t,n){var r=i({},e.props),o=e.key,a=e.ref,s=(e._self,e._source,e._owner);if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=g.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)v.call(t,l)&&!b.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return w(e.type,o,a,0,0,s,r)},w.isValidElement=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&e.$$typeof===y};var x="function"==typeof Symbol&&Symbol.iterator,_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,E=/\/+/g,S=[];function C(e,t,n,r){if(S.length){var i=S.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>S.length&&S.push(e)}function T(e,t,n,i){var o=void 0===e?"undefined":r(e);if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||"object"===o&&e.$$typeof===_)return n(i,e,""===t?"."+M(e,0):t),1;var a=0;if(t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=t+M(o=e[c],c);a+=T(o,l,n,i)}else if("function"==typeof(l=x&&e[x]||e["@@iterator"]))for(e=l.call(e),c=0;!(o=e.next()).done;)a+=T(o=o.value,l=t+M(o,c++),n,i);else"object"===o&&s("31","[object Object]"==(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return a}function M(e,t){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function k(e,t){e.func.call(e.context,t,e.count++)}function O(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,r,n,a.thatReturnsArgument):null!=e&&(w.isValidElement(e)&&(e=w.cloneAndReplaceKey(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),r.push(e))}function P(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(E,"$&/")+"/"),t=C(t,o,r,i),null==e||T(e,"",O,t),A(t)}var R={forEach:function(e,t,n){if(null==e)return e;t=C(null,null,t,n),null==e||T(e,"",k,t),A(t)},map:function(e,t,n){if(null==e)return e;var r=[];return P(e,r,null,t,n),r},count:function(e){return null==e?0:T(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return P(e,t,null,a.thatReturnsArgument),t}};e.exports={Children:{map:R.map,forEach:R.forEach,count:R.count,toArray:R.toArray,only:function(e){return w.isValidElement(e)||s("143"),e}},Component:m.Component,PureComponent:m.PureComponent,unstable_AsyncComponent:m.AsyncComponent,createElement:w.createElement,cloneElement:w.cloneElement,isValidElement:w.isValidElement,createFactory:w.createFactory,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:g,assign:i}}},function(e,t,n){"use strict";(function(t){
/** @license React v16.0.0
 * react.development.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"production"!==t.env.NODE_ENV&&function(){var t=n(3),i=n(5),o=n(4),a=n(1),s=n(2),c=n(11),l=i;function u(e,t){var n=e.constructor;l(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.",t,t,n&&(n.displayName||n.name)||"ReactClass")}var h={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){u(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){u(e,"replaceState")},enqueueSetState:function(e,t,n,r){u(e,"setState")}},d=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}},f=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];d.apply(void 0,[t].concat(r))}};function p(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||h}p.prototype.isReactComponent={},p.prototype.setState=function(e,t){"object"!==(void 0===e?"undefined":r(e))&&"function"!=typeof e&&null!=e&&a(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var m={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},g=function(e,t){Object.defineProperty(p.prototype,e,{get:function(){f(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var v in m)m.hasOwnProperty(v)&&g(v,m[v]);function y(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||h}function b(){}b.prototype=p.prototype;var w=y.prototype=new b;function x(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||h}w.constructor=y,t(w,p.prototype),w.isPureReactComponent=!0;var _=x.prototype=new b;_.constructor=x,t(_,p.prototype),_.unstable_isAsyncReactComponent=!0,_.render=function(){return this.props.children};var E,S,C={Component:p,PureComponent:y,AsyncComponent:x},A={current:null},T=Object.prototype.hasOwnProperty,M=i,k="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,O={key:!0,ref:!0,__self:!0,__source:!0};function P(e){if(T.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function R(e){if(T.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function F(e,t){var n=function(){E||(E=!0,M(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function L(e,t){var n=function(){S||(S=!0,M(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var D=function(e,t,n,r,i,o,a){var s={$$typeof:k,type:e,key:t,ref:n,props:a,_owner:o,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};D.createElement=function(e,t,n){var r,i={},o=null,a=null,s=null,c=null;if(null!=t)for(r in P(t)&&(a=t.ref),R(t)&&(o=""+t.key),s=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)T.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(l>1){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];Object.freeze&&Object.freeze(u),i.children=u}if(e&&e.defaultProps){var d=e.defaultProps;for(r in d)void 0===i[r]&&(i[r]=d[r])}if((o||a)&&(void 0===i.$$typeof||i.$$typeof!==k)){var f="function"==typeof e?e.displayName||e.name||"Unknown":e;o&&F(i,f),a&&L(i,f)}return D(e,o,a,s,c,A.current,i)},D.createFactory=function(e){var t=D.createElement.bind(null,e);return t.type=e,t},D.cloneAndReplaceKey=function(e,t){return D(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},D.cloneElement=function(e,n,r){var i,o,a=t({},e.props),s=e.key,c=e.ref,l=e._self,u=e._source,h=e._owner;if(null!=n)for(i in P(n)&&(c=n.ref,h=A.current),R(n)&&(s=""+n.key),e.type&&e.type.defaultProps&&(o=e.type.defaultProps),n)T.call(n,i)&&!O.hasOwnProperty(i)&&(void 0===n[i]&&void 0!==o?a[i]=o[i]:a[i]=n[i]);var d=arguments.length-2;if(1===d)a.children=r;else if(d>1){for(var f=Array(d),p=0;p<d;p++)f[p]=arguments[p+2];a.children=f}return D(e.type,s,c,l,u,h,a)},D.isValidElement=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&e.$$typeof===k};var j=D,N={getCurrentStack:null,getStackAddendum:function(){var e=N.getCurrentStack;return e?e():null}},I=N,B=i,z=I.getStackAddendum,U="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",V="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,W=".",$=":",G=!1,q=/\/+/g;function Y(e){return(""+e).replace(q,"$&/")}var X=10,K=[];function Z(e,t,n,r){if(K.length){var i=K.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function J(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,K.length<X&&K.push(e)}function Q(e,t,n){return null==e?0:function e(t,n,i,o){var s,c=void 0===t?"undefined":r(t);if("undefined"!==c&&"boolean"!==c||(t=null),null===t||"string"===c||"number"===c||"object"===c&&t.$$typeof===V)return i(o,t,""===n?W+ee(t,0):n),1;var l=0,u=""===n?W:n+$;if(Array.isArray(t))for(var h=0;h<t.length;h++)l+=e(s=t[h],u+ee(s,h),i,o);else{var d=U&&t[U]||t[H];if("function"==typeof d){d===t.entries&&(B(G,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",z()),G=!0);for(var f,p=d.call(t),m=0;!(f=p.next()).done;)l+=e(s=f.value,u+ee(s,m++),i,o)}else if("object"===c){var g;g=" If you meant to render a collection of children, use an array instead."+z();var v=""+t;a(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===v?"object with keys {"+Object.keys(t).join(", ")+"}":v,g)}}return l}(e,"",t,n)}function ee(e,t){return"object"===(void 0===e?"undefined":r(e))&&null!==e&&null!=e.key?(n=e.key,i={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return i[e]}))):t.toString(36);var n,i}function te(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function ne(e,t,n){var r=e.result,i=e.keyPrefix,o=e.func,a=e.context,c=o.call(a,t,e.count++);Array.isArray(c)?re(c,r,n,s.thatReturnsArgument):null!=c&&(j.isValidElement(c)&&(c=j.cloneAndReplaceKey(c,i+(!c.key||t&&t.key===c.key?"":Y(c.key)+"/")+n)),r.push(c))}function re(e,t,n,r,i){var o="";null!=n&&(o=Y(n)+"/");var a=Z(t,o,r,i);Q(e,ne,a),J(a)}var ie={forEach:function(e,t,n){if(null==e)return e;var r=Z(null,null,t,n);Q(e,te,r),J(r)},map:function(e,t,n){if(null==e)return e;var r=[];return re(e,r,null,t,n),r},count:function(e,t){return Q(e,s.thatReturnsNull,null)},toArray:function(e){var t=[];return re(e,t,null,s.thatReturnsArgument),t}},oe=function(e){return j.isValidElement(e)||a(!1,"React.Children.only expected to receive a single React element child."),e},ae=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")},se=c,ce=f,le=I,ue=i,he=ae,de=function(e){if("function"==typeof e.getName)return e.getName();if("number"==typeof e.tag){var t=e.type;if("string"==typeof t)return t;if("function"==typeof t)return t.displayName||t.name}return null},fe=null,pe=function(){var e,t="";if(fe){var n=null==(e=fe)?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown",r=fe._owner;t+=he(n,fe._source,r&&de(r))}return t+=le.getStackAddendum()||""},me="function"==typeof Symbol&&Symbol.iterator,ge="@@iterator";function ve(){if(A.current){var e=de(A.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function ye(e){if(null!=e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}var be={};function we(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=ve();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!be[n]){be[n]=!0;var r="";e&&e._owner&&e._owner!==A.current&&(r=" It was passed a child from "+de(e._owner)+"."),fe=e,ue(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,pe()),fe=null}}}function xe(e,t){if("object"===(void 0===e?"undefined":r(e)))if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];j.isValidElement(i)&&we(i,t)}else if(j.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=me&&e[me]||e[ge];if("function"==typeof o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)j.isValidElement(a.value)&&we(a.value,t)}}function _e(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name,r=t.propTypes;r&&(fe=e,se(r,e.props,"prop",n,pe),fe=null),"function"==typeof t.getDefaultProps&&ue(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var Ee,Se,Ce,Ae,Te,Me,ke,Oe={createElement:function(e,t,n){var i="string"==typeof e||"function"==typeof e;if(!i){var o="";(void 0===e||"object"===(void 0===e?"undefined":r(e))&&null!==e&&0===Object.keys(e).length)&&(o+=" You likely forgot to export your component from the file it's defined in.");var a=ye(t);o+=a||ve(),o+=le.getStackAddendum()||"",ue(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:void 0===e?"undefined":r(e),o)}var s=j.createElement.apply(this,arguments);if(null==s)return s;if(i)for(var c=2;c<arguments.length;c++)xe(arguments[c],e);return _e(s),s},createFactory:function(e){var t=Oe.createElement.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return ce(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},cloneElement:function(e,t,n){for(var r=j.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)xe(arguments[i],r.type);return _e(r),r}},Pe=Oe,Re=i;function Fe(e){var t=Function.prototype.toString,n=RegExp("^"+t.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=t.call(e);return n.test(r)}catch(e){return!1}}if("function"==typeof Array.from&&"function"==typeof Map&&Fe(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&Fe(Map.prototype.keys)&&"function"==typeof Set&&Fe(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&Fe(Set.prototype.keys)){var Le=new Map,De=new Set;Ee=function(e,t){Le.set(e,t)},Se=function(e){return Le.get(e)},Ce=function(e){Le.delete(e)},Ae=function(){return Array.from(Le.keys())},Te=function(e){De.add(e)},Me=function(e){De.delete(e)},ke=function(){return Array.from(De.keys())}}else{var je={},Ne={},Ie=function(e){return"."+e},Be=function(e){return parseInt(e.substr(1),10)};Ee=function(e,t){var n=Ie(e);je[n]=t},Se=function(e){var t=Ie(e);return je[t]},Ce=function(e){var t=Ie(e);delete je[t]},Ae=function(){return Object.keys(je).map(Be)},Te=function(e){var t=Ie(e);Ne[t]=!0},Me=function(e){var t=Ie(e);delete Ne[t]},ke=function(){return Object.keys(Ne).map(Be)}}var ze=[];function Ue(e){var t=Se(e);if(t){var n=t.childIDs;Ce(e),n.forEach(Ue)}}function He(e){var t=Ve.getDisplayName(e),n=Ve.getElement(e),r=Ve.getOwnerID(e),i=void 0;return r&&(i=Ve.getDisplayName(r)),Re(n,"ReactComponentTreeHook: Missing React element for debugID %s when building stack",e),ae(t||"",n&&n._source,i||"")}var Ve={onSetChildren:function(e,t){var n=Se(e);n||a(!1,"Item must have been set"),n.childIDs=t;for(var i=0;i<t.length;i++){var o=t[i],s=Se(o);s||a(!1,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."),null==s.childIDs&&"object"===r(s.element)&&null!=s.element&&a(!1,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."),s.isMounted||a(!1,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."),null==s.parentID&&(s.parentID=e),s.parentID!==e&&a(!1,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",o,s.parentID,e)}},onBeforeMountComponent:function(e,t,n){Ee(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=Se(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=Se(e);t||a(!1,"Item must have been set"),t.isMounted=!0,0===t.parentID&&Te(e)},onUpdateComponent:function(e){var t=Se(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=Se(e);t&&(t.isMounted=!1,0===t.parentID&&Me(e)),ze.push(e)},purgeUnmountedComponents:function(){if(!Ve._preventPurging){for(var e=0;e<ze.length;e++)Ue(ze[e]);ze.length=0}},isMounted:function(e){var t=Se(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(){var e="",t=A.current;return t&&("number"==typeof t.tag&&a(!1,"Fiber owners should not show up in Stack stack traces."),"number"==typeof t._debugID&&(e+=Ve.getStackAddendumByID(t._debugID))),e},getStackAddendumByID:function(e){for(var t="";e;)t+=He(e),e=Ve.getParentID(e);return t},getChildIDs:function(e){var t=Se(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=Ve.getElement(e);return t?function(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}(t):null},getElement:function(e){var t=Se(e);return t?t.element:null},getOwnerID:function(e){var t=Ve.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=Se(e);return t?t.parentID:null},getSource:function(e){var t=Se(e),n=t?t.element:null;return null!=n?n._source:null},getText:function(e){var t=Ve.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=Se(e);return t?t.updateCount:0},getRootIDs:ke,getRegisteredIDs:Ae},We=Ve,$e=j.createElement,Ge=j.createFactory,qe=j.cloneElement,Ye=Pe;$e=Ye.createElement,Ge=Ye.createFactory,qe=Ye.cloneElement;var Xe={Children:{map:ie.map,forEach:ie.forEach,count:ie.count,toArray:ie.toArray,only:oe},Component:C.Component,PureComponent:C.PureComponent,unstable_AsyncComponent:C.AsyncComponent,createElement:$e,cloneElement:qe,isValidElement:j.isValidElement,createFactory:Ge,version:"16.0.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:t}};t(Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactComponentTreeHook:We,ReactDebugCurrentFrame:I});var Ke=Xe;e.exports=Ke}()}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("production"!==t.env.NODE_ENV)var i=n(1),o=n(5),a=n(12),s={};e.exports=function(e,n,c,l,u){if("production"!==t.env.NODE_ENV)for(var h in e)if(e.hasOwnProperty(h)){var d;try{i("function"==typeof e[h],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",c,h,r(e[h])),d=e[h](n,h,l,c,null,a)}catch(e){d=e}if(o(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",c,h,void 0===d?"undefined":r(d)),d instanceof Error&&!(d.message in s)){s[d.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",c,d.message,null!=f?f:"")}}}}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=r()},"lU+G":function(e,t,n){var r;try{r={defaults:n("la6v"),each:n("xkGU"),isFunction:n("lSCD"),isPlainObject:n("YO3V"),pick:n("JZM8"),has:n("OFL0"),range:n("WjpJ"),uniqueId:n("mNz5")}}catch(e){}r||(r=window._),e.exports=r},la6v:function(e,t,n){var r=n("EA7m"),i=n("ljhN"),o=n("mv/X"),a=n("mTTR"),s=Object.prototype,c=s.hasOwnProperty,l=r((function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;for(l&&o(t[0],t[1],l)&&(r=1);++n<r;)for(var u=t[n],h=a(u),d=-1,f=h.length;++d<f;){var p=h[d],m=e[p];(void 0===m||i(m,s[p])&&!c.call(e,p))&&(e[p]=u[p])}return e}));e.exports=l},ldVq:function(e,t,n){var r=n("QMMT"),i=n("UWiX")("iterator"),o=n("SBuE");e.exports=n("WEpk").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"lm/5":function(e,t,n){var r=n("fmRc"),i=n("wF/u"),o=1,a=2;e.exports=function(e,t,n,s){var c=n.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var h=n[c];if(u&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++c<l;){var d=(h=n[c])[0],f=e[d],p=h[1];if(u&&h[2]){if(void 0===f&&!(d in e))return!1}else{var m=new r;if(s)var g=s(f,p,d,e,t,m);if(!(void 0===g?i(p,f,o|a,s,m):g))return!1}}return!0}},lnHP:function(e,t,n){"use strict";var r=n("M96O");e.exports=s;var i="\0",o="\0",a="";function s(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[o]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(e,t){e[t]?e[t]++:e[t]=1}function l(e,t){--e[t]||delete e[t]}function u(e,t,n,o){var s=""+t,c=""+n;if(!e&&s>c){var l=s;s=c,c=l}return s+a+c+a+(r.isUndefined(o)?i:o)}function h(e,t,n,r){var i=""+t,o=""+n;if(!e&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function d(e,t){return u(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},s.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},s.prototype.setNodes=function(e,t){var n=arguments,i=this;return r.each(e,(function(e){n.length>1?i.setNode(e,t):i.setNode(e)})),this},s.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=o,this._children[e]={},this._children[o][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return r.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=o;else{for(var n=t+="";!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==o)return t}},s.prototype.children=function(e){if(r.isUndefined(e)&&(e=o),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===o)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},s.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var i={};return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,function e(r){var o=n.parent(r);return void 0===o||t.hasNode(o)?(i[r]=o,o):o in i?i[o]:e(o)}(e))})),t},s.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,i=arguments;return r.reduce(e,(function(e,r){return i.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},s.prototype.setEdge=function(){var e,t,n,i,o=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(i=arguments[1],o=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var s=u(this._isDirected,e,t,n);if(r.has(this._edgeLabels,s))return o&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=o?i:this._defaultEdgeLabelFn(e,t,n);var l=h(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,c(this._preds[t],e),c(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var r=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],l(this._preds[t],e),l(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.v===t})):i}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=r.values(n);return t?r.filter(i,(function(e){return e.w===t})):i}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},lvO4:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},m0Av:function(e,t,n){"use strict";(function(e){function r(t,n){var r,i,o,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&r.document.attachEvent;if(!a){var s=(o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return o(e)}),c=(i=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return i(e)}),l=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;l(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},h=!1,d="",f="animationstart",p="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=r.document.createElement("fakeelement");if(void 0!==g.style.animationName&&(h=!0),!1===h)for(var v=0;v<p.length;v++)if(void 0!==g.style[p[v]+"AnimationName"]){d="-"+p[v].toLowerCase()+"-",f=m[v],h=!0;break}var y="resizeanim",b="@"+d+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",w=d+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,n){if(a)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,o=r.getComputedStyle(e);o&&"static"==o.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],i=e.createElement("style");i.id="detectElementResize",i.type="text/css",null!=t&&i.setAttribute("nonce",t),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(e.createTextNode(n)),r.appendChild(i)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",u,!0),f&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&l(e)},e.__resizeTriggers__.addEventListener(f,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(f,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return r}))}).call(this,n("yLpj"))},m1cH:function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("rfXi"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},m2n9:function(e){e.exports=JSON.parse('{"AElig":"Æ","AMP":"&","Aacute":"Á","Acirc":"Â","Agrave":"À","Aring":"Å","Atilde":"Ã","Auml":"Ä","COPY":"©","Ccedil":"Ç","ETH":"Ð","Eacute":"É","Ecirc":"Ê","Egrave":"È","Euml":"Ë","GT":">","Iacute":"Í","Icirc":"Î","Igrave":"Ì","Iuml":"Ï","LT":"<","Ntilde":"Ñ","Oacute":"Ó","Ocirc":"Ô","Ograve":"Ò","Oslash":"Ø","Otilde":"Õ","Ouml":"Ö","QUOT":"\\"","REG":"®","THORN":"Þ","Uacute":"Ú","Ucirc":"Û","Ugrave":"Ù","Uuml":"Ü","Yacute":"Ý","aacute":"á","acirc":"â","acute":"´","aelig":"æ","agrave":"à","amp":"&","aring":"å","atilde":"ã","auml":"ä","brvbar":"¦","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","curren":"¤","deg":"°","divide":"÷","eacute":"é","ecirc":"ê","egrave":"è","eth":"ð","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","iacute":"í","icirc":"î","iexcl":"¡","igrave":"ì","iquest":"¿","iuml":"ï","laquo":"«","lt":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","ntilde":"ñ","oacute":"ó","ocirc":"ô","ograve":"ò","ordf":"ª","ordm":"º","oslash":"ø","otilde":"õ","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","raquo":"»","reg":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","thorn":"þ","times":"×","uacute":"ú","ucirc":"û","ugrave":"ù","uml":"¨","uuml":"ü","yacute":"ý","yen":"¥","yuml":"ÿ"}')},mNz5:function(e,t,n){var r=n("dt0z"),i=0;e.exports=function(e){var t=++i;return r(e)+t}},mRg0:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n("s3Ml")),i=a(n("AyUB")),o=a(n("EJiy"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,o.default)(t)));e.prototype=(0,i.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),o=n("MMmD");e.exports=function(e){return o(e)?r(e,!0):i(e)}},mUg4:function(e,t,n){var r=n("cq/+"),i=n("EwQA"),o=n("mTTR");e.exports=function(e,t){return null==e?e:r(e,i(t),o)}},mbFl:function(e,t){e.exports=e=>{const t=typeof e;if("string"!==t)throw new TypeError(`\n      URL type is invalid. Expected a string, but got: ${t}\n    `);return new RegExp("^(?:(?:https?)://)(?:localhost|(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e)}},mc0g:function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break}return t}}},mdPL:function(e,t,n){(function(e){var r=n("WFqU"),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n("YuTi")(e))},mqlF:function(e,t){t.f=Object.getOwnPropertySymbols},"ms/C":function(e,t,n){e.exports={Pose:n("Jxod"),Quaternion:n("RT9k"),Transform:n("AZ13"),Vector3:n("GU3B")}},"mv/X":function(e,t,n){var r=n("ljhN"),i=n("MMmD"),o=n("wJg7"),a=n("GoyQ");e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},mwIZ:function(e,t,n){var r=n("ZWtO");e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},my8H:function(e,t,n){"use strict";e.exports=function(e){var t,n=0,i=0,o=e.charAt(n),a={};for(;o in r;)t=r[o],i+=t,t>1&&(i=Math.floor(i/t)*t),a[i]=n,o=e.charAt(++n);return{indent:i,stops:a}};var r={" ":1,"\t":4}},n2bN:function(e,t,n){var r=n("ozMc"),i=n("fjOl"),o=n("MliZ").EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.feedbackPublisher=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var n=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});n.advertise(),this.resultPublisher=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var o=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),a=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new i({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,o.subscribe((function(e){t.currentGoal?(t.nextGoal=e,t.emit("cancel")):(t.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],t.currentGoal=e,t.emit("goal",e.goal))}));var s=function(e,t){return!(e.secs>t.secs)&&(e.secs<t.secs||e.nsecs<t.nsecs)};a.subscribe((function(e){0===e.stamp.secs&&0===e.stamp.secs&&""===e.id?(t.nextGoal=null,t.currentGoal&&t.emit("cancel")):(t.currentGoal&&e.id===t.currentGoal.goal_id.id?t.emit("cancel"):t.nextGoal&&e.id===t.nextGoal.goal_id.id&&(t.nextGoal=null),t.nextGoal&&s(t.nextGoal.goal_id.stamp,e.stamp)&&(t.nextGoal=null),t.currentGoal&&s(t.currentGoal.goal_id.stamp,e.stamp)&&t.emit("cancel"))}));setInterval((function(){var e=new Date,r=Math.floor(e.getTime()/1e3),i=Math.round(1e9*(e.getTime()/1e3-r));t.statusMessage.header.stamp.secs=r,t.statusMessage.header.stamp.nsecs=i,n.publish(t.statusMessage)}),500)}a.prototype.__proto__=o.prototype,a.prototype.setSucceeded=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(t),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},a.prototype.sendFeedback=function(e){var t=new i({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(t)},a.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new i({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},e.exports=a},n3Sm:function(e,t,n){var r=n("SKAX");e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},n8Jw:function(e,t,n){"use strict";e.exports=0},nLKB:function(e,t,n){"use strict";var r=n("U6jy"),i=n("MQ5/"),o=n("0lR2");e.exports=function(e){var t,n,a=this.options;if(null==e)e={};else{if("object"!=typeof e)throw new Error("Invalid value `"+e+"` for setting `options`");e=r(e)}for(t in o){if(null==(n=e[t])&&(n=a[t]),"blocks"!==t&&"boolean"!=typeof n||"blocks"===t&&"object"!=typeof n)throw new Error("Invalid value `"+n+"` for setting `options."+t+"`");e[t]=n}return this.options=e,this.escape=i(e),this}},"nQt/":function(e,t,n){var r=n("xXZ1");e.exports=function(e){this.name=e.xml.getAttribute("name"),this.visuals=[];for(var t=e.xml.getElementsByTagName("visual"),n=0;n<t.length;n++)this.visuals.push(new r({xml:t[n]}))}},nTAN:function(e,t,n){var r=n("e3BR");e.exports=function(e){this.type=r.URDF_SPHERE,this.radius=parseFloat(e.xml.getAttribute("radius"))}},nc5S:function(e,t,n){"use strict";e.exports=s;var r=n("Zasy"),i=!0,o="skip",a=!1;function s(e,t,n,i){var s;function l(e,r,u){var h,d=[];return(t&&!s(e,r,u[u.length-1]||null)||(d=c(n(e,u)))[0]!==a)&&e.children&&d[0]!==o&&(h=c(function(e,t){var n,r=i?-1:1,o=(i?e.length:-1)+r;for(;o>-1&&o<e.length;){if((n=l(e[o],o,t))[0]===a)return n;o="number"==typeof n[1]?n[1]:o+r}}(e.children,u.concat(e))))[0]===a?h:d}"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),s=r(t),l(e,null,[])}function c(e){return null!==e&&"object"==typeof e&&"length"in e?e:"number"==typeof e?[i,e]:[e]}s.CONTINUE=i,s.SKIP=o,s.EXIT=a},nmnc:function(e,t,n){var r=n("Kz5y").Symbol;e.exports=r},noZS:function(e,t,n){var r=n("hypo"),i=n("JC6p"),o=n("ut/Y");e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},o8NH:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},oHgj:function(e,t,n){var r=n("PEyx"),i=n("Ve/E"),o=n("XedF");e.exports=function(e,t){var n,a=t.nodes().filter((function(e){return r.isSubgraph(t,e)})),s=e.selectAll("g.cluster").data(a,(function(e){return e}));s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",(function(e){return t.node(e).id})).style("opacity",0),s=e.selectAll("g.cluster"),r.applyTransition(s,t).style("opacity",1),s.each((function(e){var n=t.node(e),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)})),s.selectAll("rect").each((function(e){var n=t.node(e),o=i.select(this);r.applyStyle(o,n.style)})),n=s.exit?s.exit():s.selectAll(null);return r.applyTransition(n,t).style("opacity",0).remove(),s}},oVml:function(e,t,n){var r=n("5K7Z"),i=n("fpC5"),o=n("FpHa"),a=n("VVlx")("IE_PROTO"),s=function(){},c=function(){var e,t=n("Hsns")("iframe"),r=o.length;for(t.style.display="none",n("MvwC").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},obXZ:function(e,t,n){"use strict";e.exports=function(e){return i.test("number"==typeof e?r(e):e.charAt(0))};var r=String.fromCharCode,i=/\w/},oioR:function(e,t,n){var r=n("2GTP"),i=n("sNwI"),o=n("NwJ3"),a=n("5K7Z"),s=n("tEej"),c=n("fNZA"),l={},u={};(t=e.exports=function(e,t,n,h,d){var f,p,m,g,v=d?function(){return e}:c(e),y=r(n,h,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=s(e.length);f>b;b++)if((g=t?y(a(p=e[b])[0],p[1]):y(e[b]))===l||g===u)return g}else for(m=v.call(e);!(p=m.next()).done;)if((g=i(m,y,p.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},or5M:function(e,t,n){var r=n("1hJj"),i=n("QoRX"),o=n("xYSL"),a=1,s=2;e.exports=function(e,t,n,c,l,u){var h=n&a,d=e.length,f=t.length;if(d!=f&&!(h&&f>d))return!1;var p=u.get(e);if(p&&u.get(t))return p==t;var m=-1,g=!0,v=n&s?new r:void 0;for(u.set(e,t),u.set(t,e);++m<d;){var y=e[m],b=t[m];if(c)var w=h?c(b,y,m,t,e,u):c(y,b,m,e,t,u);if(void 0!==w){if(w)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(y===e||l(y,e,n,c,u)))return v.push(t)}))){g=!1;break}}else if(y!==b&&!l(y,b,n,c,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},"otv/":function(e,t,n){var r=n("nmnc"),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},ozMc:function(e,t,n){var r=n("MliZ").EventEmitter2,i=n("fjOl");function o(e){e=e||{},this.ros=e.ros,this.name=e.name,this.messageType=e.messageType,this.isAdvertised=!1,this.compression=e.compression||"none",this.throttle_rate=e.throttle_rate||0,this.latch=e.latch||!1,this.queue_size=e.queue_size||100,this.queue_length=e.queue_length||0,this.reconnect_on_close=e.reconnect_on_close||!0,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var t=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e),t.waitForReconnect=!1,t.reconnectFunc=function(){t.waitForReconnect||(t.waitForReconnect=!0,t.ros.callOnConnection(e),t.ros.once("connection",(function(){t.waitForReconnect=!1})))},t.ros.on("close",t.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(e){t.emit("message",new i(e))}}o.prototype.__proto__=r.prototype,o.prototype.subscribe=function(e){"function"==typeof e&&this.on("message",e),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},o.prototype.unsubscribe=function(e){e&&(this.off("message",e),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},o.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var e=this;this.ros.on("close",(function(){e.isAdvertised=!1}))}},o.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},o.prototype.publish=function(e){this.isAdvertised||this.advertise(),this.ros.idCounter++;var t={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(t)},e.exports=o},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),o=n("zZ0H"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},pHPU:function(e,t,n){var r=n("M96O"),i=n("AevD");e.exports=function(e,t,n,r){return function(e,t,n,r){var o,a,s={},c=new i,l=function(e){var t=e.v!==o?e.v:e.w,r=s[t],i=n(e),l=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);l<r.distance&&(r.distance=l,r.predecessor=o,c.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},c.add(e,n)}));for(;c.size()>0&&(o=c.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(l);return s}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},pSRY:function(e,t,n){var r=n("QkVE");e.exports=function(e){return r(this,e).has(e)}},ptHe:function(e,t,n){"use strict";var r=n("b5wT"),i=n("KZ/l");e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?i(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},i={};return r.forEach(e.nodes(),(function o(a){if(r.has(i,a))return;i[a]=!0;n[a]=!0;r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):o(e.w)}));delete n[a]})),t}(e);r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))},undo:function(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}}},pyet:function(e,t,n){"use strict";e.exports=function(e,t,n){var u,h,d,f,p=-1,m=t.length+1,g="";for(;++p<m&&((u=t.charAt(p))===i||u===o);)g+=u;if(u!==a&&u!==c&&u!==s)return;h=u,g+=u,d=1,f="";for(;++p<m;)if((u=t.charAt(p))===h)d++,g+=f+h,f="";else{if(u!==o)return d>=l&&(!u||u===r)?(g+=f,!!n||e(g)({type:"thematicBreak"})):void 0;f+=u}};var r="\n",i="\t",o=" ",a="*",s="_",c="-",l=3},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},q4HE:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+u+l,"g");e.exports=function(e){for(var t=h.lastIndex=0;h.test(e);)++t;return t}},q6LJ:function(e,t,n){var r=n("5T2Y"),i=n("QXhf").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n("a0xu")(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},q92V:function(e,t,n){var r=n("dunj"),i=n("V9xz"),o=n("zZ0H");e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},qGSU:function(e,t,n){"use strict";var r=n("b5wT");function i(e){r.forEach(e.nodes(),(function(t){o(e.node(t))})),r.forEach(e.edges(),(function(t){o(e.edge(t))}))}function o(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||i(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){r.forEach(e.nodes(),(function(t){a(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(e),i(e))}}},qIx1:function(e,t,n){"use strict";var r=n("lU+G"),i=n("XedF"),o=n("PEyx"),a=n("Ve/E");e.exports=function(e,t,n){var s,c=t.nodes().filter((function(e){return!o.isSubgraph(t,e)})),l=e.selectAll("g.node").data(c,(function(e){return e})).classed("update",!0);l.exit().remove(),l.enter().append("g").attr("class","node").style("opacity",0),(l=e.selectAll("g.node")).each((function(e){var s=t.node(e),c=a.select(this);o.applyClass(c,s.class,(c.classed("update")?"update ":"")+"node"),c.select("g.label").remove();var l=c.append("g").attr("class","label"),u=i(l,s),h=n[s.shape],d=r.pick(u.node().getBBox(),"width","height");s.elem=this,s.id&&c.attr("id",s.id),s.labelId&&l.attr("id",s.labelId),r.has(s,"width")&&(d.width=s.width),r.has(s,"height")&&(d.height=s.height),d.width+=s.paddingLeft+s.paddingRight,d.height+=s.paddingTop+s.paddingBottom,l.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var f=a.select(this);f.select(".label-container").remove();var p=h(f,d,s).classed("label-container",!0);o.applyStyle(p,s.style);var m=p.node().getBBox();s.width=m.width,s.height=m.height})),s=l.exit?l.exit():l.selectAll(null);return o.applyTransition(s,t).style("opacity",0).remove(),l}},qMV5:function(e,t,n){"use strict";n.r(t);var r=n("Womt"),i=new r.Vector3,o=new r.Vector3,a=new r.Vector3,s=new r.Vector2,c=new r.Vector2,l=new r.Vector2,u=new r.Vector3,h=new r.Vector3;function d(e,t,n,d,f,p,m,g){i.fromBufferAttribute(d,p),o.fromBufferAttribute(d,m),a.fromBufferAttribute(d,g);var v=function(e,t,n,i,o,a,s,c){if(null===(t.side===r.BackSide?i.intersectTriangle(s,a,o,!0,c):i.intersectTriangle(o,a,s,t.side!==r.DoubleSide,c)))return null;h.copy(c),h.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(h);return l<n.near||l>n.far?null:{distance:l,point:h.clone(),object:e}}(e,e.material,t,n,i,o,a,u);if(v){f&&(s.fromBufferAttribute(f,p),c.fromBufferAttribute(f,m),l.fromBufferAttribute(f,g),v.uv=r.Triangle.getUV(u,i,o,a,s,c,l,new r.Vector2));var y=new r.Vector3;v.face=new r.Face3(p,m,g,r.Triangle.getNormal(i,o,a,y)),v.faceIndex=p}return v}function f(e,t,n,r,i,o){const a=3*i,s=t.index.getX(a),c=t.index.getX(a+1),l=t.index.getX(a+2),u=d(e,n,r,t.attributes.position,t.attributes.uv,s,c,l);return u?(u.faceIndex=i,o&&o.push(u),u):null}function p(e,t){return t.min.x=e[0],t.min.y=e[1],t.min.z=e[2],t.max.x=e[3],t.max.y=e[4],t.max.z=e[5],t}function m(e){let t=-1,n=-1/0;for(let r=0;r<3;r++){const i=e[r+3]-e[r];i>n&&(n=i,t=r)}return t}class g{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,r=-1/0;for(let i=0,o=e.length;i<o;i++){const o=e[i][t];n=Math.min(o,n),r=Math.max(o,r)}this.min=n,this.max=r}setFromPoints(e,t){let n=1/0,r=-1/0;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=e.dot(o);n=Math.min(a,n),r=Math.max(a,r)}this.min=n,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}}g.prototype.setFromBox=function(){const e=new r.Vector3;return function(t,n){const r=n.min,i=n.max;let o=1/0,a=-1/0;for(let n=0;n<=1;n++)for(let s=0;s<=1;s++)for(let c=0;c<=1;c++){e.x=r.x*n+i.x*(1-n),e.y=r.y*s+i.y*(1-s),e.z=r.z*c+i.z*(1-c);const l=t.dot(e);o=Math.min(l,o),a=Math.max(l,a)}this.min=o,this.max=a}}();!function(){const e=new g}();const v=function(){const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3;return function(r,i,o){const a=r.start,s=e,c=i.start,l=t;n.subVectors(a,c),e.subVectors(r.end,i.start),t.subVectors(i.end,i.start);const u=n.dot(l),h=l.dot(s),d=l.dot(l),f=n.dot(s),p=s.dot(s)*d-h*h;let m,g;g=(u+(m=0!==p?(u*h-f*d)/p:0)*h)/d,o.x=m,o.y=g}}(),y=function(){const e=new r.Vector2,t=new r.Vector3,n=new r.Vector3;return function(r,i,o,a){v(r,i,e);let s=e.x,c=e.y;if(s>=0&&s<=1&&c>=0&&c<=1)return r.at(s,o),void i.at(c,a);if(s>=0&&s<=1)return c<0?i.at(0,a):i.at(1,a),void r.closestPointToPoint(a,!0,o);if(c>=0&&c<=1)return s<0?r.at(0,o):r.at(1,o),void i.closestPointToPoint(o,!0,a);{let e,l;e=s<0?r.start:r.end,l=c<0?i.start:i.end;const u=t,h=n;return r.closestPointToPoint(l,!0,t),i.closestPointToPoint(e,!0,n),u.distanceToSquared(l)<=h.distanceToSquared(e)?(o.copy(u),void a.copy(l)):(o.copy(e),void a.copy(h))}}}(),b=function(){const e=new r.Vector3,t=new r.Vector3,n=new r.Plane,i=new r.Line3;return function(r,o){const{radius:a,center:s}=r,{a:c,b:l,c:u}=o;if(i.start=c,i.end=l,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a)return!0;if(i.start=c,i.end=u,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a)return!0;if(i.start=l,i.end=u,i.closestPointToPoint(s,!0,e).distanceTo(s)<=a)return!0;const h=o.getPlane(n);if(Math.abs(h.distanceToPoint(s))<=a){const e=h.projectPoint(s,t);if(o.containsPoint(e))return!0}return!1}}();class w extends r.Triangle{constructor(...e){super(...e),this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new r.Vector3),this.satBounds=new Array(4).fill().map(()=>new g),this.points=[this.a,this.b,this.c],this.sphere=new r.Sphere}}w.prototype.update=function(){const e=new Array(3);return function(){const t=this.a,n=this.b,r=this.c;e[0]=this.a,e[1]=this.b,e[2]=this.c;const i=this.satAxes,o=this.satBounds,a=i[0],s=o[0];this.getNormal(a),s.setFromPoints(a,e);const c=i[1],l=o[1];c.subVectors(t,n),l.setFromPoints(c,e);const u=i[2],h=o[2];u.subVectors(n,r),h.setFromPoints(u,e);const d=i[3],f=o[3];d.subVectors(r,t),f.setFromPoints(d,e),this.sphere.setFromPoints(this.points)}}(),w.prototype.intersectsTriangle=function(){const e=new w,t=new Array(3),n=new Array(3),i=new g,o=new g,a=new r.Vector3;return function(r){r.isSeparatingAxisTriangle||(e.copy(r),e.update(),r=e);const s=this.satBounds,c=this.satAxes;n[0]=r.a,n[1]=r.b,n[2]=r.c;for(let e=0;e<4;e++){const t=s[e],r=c[e];if(i.setFromPoints(r,n),t.isSeparated(i))return!1}const l=r.satBounds,u=r.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let e=0;e<4;e++){const n=l[e],r=u[e];if(i.setFromPoints(r,t),n.isSeparated(i))return!1}for(let e=0;e<4;e++){const r=c[e];for(let e=0;e<4;e++){const s=u[e];if(a.crossVectors(r,s),i.setFromPoints(a,t),o.setFromPoints(a,n),i.isSeparated(o))return!1}}return!0}}(),w.prototype.distanceToPoint=function(){const e=new r.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),w.prototype.distanceToTriangle=function(){const e=new r.Vector3,t=new r.Vector3,n=["a","b","c"],i=new r.Line3,o=new r.Line3;return function(r,a=null,s=null){if(this.intersectsTriangle(r))return(a||s)&&(this.getMidpoint(e),r.closestPointToPoint(e,t),this.closestPointToPoint(t,e),a&&a.copy(e),s&&s.copy(t)),0;let c=1/0;for(let t=0;t<3;t++){let i;const o=n[t],l=r[o];this.closestPointToPoint(l,e),(i=l.distanceToSquared(e))<c&&(c=i,a&&a.copy(e),s&&s.copy(l));const u=this[o];r.closestPointToPoint(u,e),(i=u.distanceToSquared(e))<c&&(c=i,a&&a.copy(u),s&&s.copy(e))}for(let l=0;l<3;l++){const u=n[l],h=n[(l+1)%3];i.set(this[u],this[h]);for(let l=0;l<3;l++){const u=n[l],h=n[(l+1)%3];o.set(r[u],r[h]),y(i,o,e,t);const d=e.distanceToSquared(t);d<c&&(c=d,a&&a.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();class x extends r.Box3{constructor(...e){super(...e),this.isOrientedBox=!0,this.matrix=new r.Matrix4,this.invMatrix=new r.Matrix4,this.points=new Array(8).fill().map(()=>new r.Vector3),this.satAxes=new Array(3).fill().map(()=>new r.Vector3),this.satBounds=new Array(3).fill().map(()=>new g),this.alignedSatBounds=new Array(3).fill().map(()=>new g),this.sphere=new r.Sphere}set(e,t,n){super.set(e,t),this.matrix=n}copy(e){super.copy(e),this.matrix.copy(e.matrix)}}x.prototype.update=function(){const e=this.matrix,t=this.min,n=this.max,r=this.points;for(let i=0;i<=1;i++)for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){const s=r[1*i|2*o|4*a];s.x=i?n.x:t.x,s.y=o?n.y:t.y,s.z=a?n.z:t.z,s.applyMatrix4(e)}this.sphere.setFromPoints(this.points);const i=this.satBounds,o=this.satAxes,a=r[0];for(let e=0;e<3;e++){const t=o[e],n=i[e],s=r[1<<e];t.subVectors(a,s),n.setFromPoints(t,r)}const s=this.alignedSatBounds;s[0].setFromPointsField(r,"x"),s[1].setFromPointsField(r,"y"),s[2].setFromPointsField(r,"z"),this.invMatrix.getInverse(this.matrix)},x.prototype.intersectsBox=function(){const e=new g;return function(t){if(!t.intersectsSphere(this.sphere))return!1;const n=t.min,r=t.max,i=this.satBounds,o=this.satAxes,a=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,a[0].isSeparated(e))return!1;if(e.min=n.y,e.max=r.y,a[1].isSeparated(e))return!1;if(e.min=n.z,e.max=r.z,a[2].isSeparated(e))return!1;for(let n=0;n<3;n++){const r=o[n],a=i[n];if(e.setFromBox(r,t),a.isSeparated(e))return!1}return!0}}(),x.prototype.intersectsTriangle=function(){const e=new w,t=new Array(3),n=new g,i=new g,o=new r.Vector3;return function(r){r.isSeparatingAxisTriangle||(e.copy(r),e.update(),r=e);const a=this.satBounds,s=this.satAxes;t[0]=r.a,t[1]=r.b,t[2]=r.c;for(let e=0;e<3;e++){const r=a[e],i=s[e];if(n.setFromPoints(i,t),r.isSeparated(n))return!1}const c=r.satBounds,l=r.satAxes,u=this.points;for(let e=0;e<3;e++){const t=c[e],r=l[e];if(n.setFromPoints(r,u),t.isSeparated(n))return!1}for(let e=0;e<3;e++){const r=s[e];for(let e=0;e<4;e++){const a=l[e];if(o.crossVectors(r,a),n.setFromPoints(o,t),i.setFromPoints(o,u),n.isSeparated(i))return!1}}return!0}}(),x.prototype.closestPointToPoint=function(e,t){return t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},x.prototype.distanceToPoint=function(){const e=new r.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),x.prototype.distanceToBox=function(){const e=["x","y","z"],t=new Array(12).fill().map(()=>new r.Line3),n=new Array(12).fill().map(()=>new r.Line3),i=new r.Vector3,o=new r.Vector3;return function(r,a=0,s=null,c=null){if(this.intersectsBox(r))return(s||c)&&(r.getCenter(o),this.closestPointToPoint(o,i),r.closestPointToPoint(i,o),s&&s.copy(i),c&&c.copy(o)),0;const l=a*a,u=r.min,h=r.max,d=this.points;let f=1/0;for(let e=0;e<8;e++){const t=d[e];o.copy(t).clamp(u,h);const n=t.distanceToSquared(o);if(n<f&&(f=n,s&&s.copy(t),c&&c.copy(o),n<l))return Math.sqrt(n)}let p=0;for(let r=0;r<3;r++)for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){const a=(r+1)%3,s=(r+2)%3,c=1<<r|i<<a|o<<s,l=d[i<<a|o<<s],f=d[c];t[p].set(l,f);const m=e[r],g=e[a],v=e[s],y=n[p],b=y.start,w=y.end;b[m]=u[m],b[g]=i?u[g]:h[g],b[v]=o?u[v]:h[g],w[m]=h[m],w[g]=i?u[g]:h[g],w[v]=o?u[v]:h[g],p++}for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){o.x=e?h.x:u.x,o.y=t?h.y:u.y,o.z=n?h.z:u.z,this.closestPointToPoint(o,i);const r=o.distanceToSquared(i);if(r<f&&(f=r,s&&s.copy(i),c&&c.copy(o),r<l))return Math.sqrt(r)}for(let e=0;e<12;e++){const r=t[e];for(let e=0;e<12;e++){const t=n[e];y(r,t,i,o);const a=i.distanceToSquared(o);if(a<f&&(f=a,s&&s.copy(i),c&&c.copy(o),a<l))return Math.sqrt(a)}}return Math.sqrt(f)}}();const _=new r.Box3,E=new r.Vector3,S=["x","y","z"];function C(e,t,n,r){const i=e.a,o=e.b,a=e.c;let s=n.getX(t);i.x=r.getX(s),i.y=r.getY(s),i.z=r.getZ(s),s=n.getX(t+1),o.x=r.getX(s),o.y=r.getY(s),o.z=r.getZ(s),s=n.getX(t+2),a.x=r.getX(s),a.y=r.getY(s),a.z=r.getZ(s)}class A{constructor(){}intersectRay(e,t){return p(this.boundingData,_),e.intersectBox(_,t)}raycast(e,t,n,r){this.count?function(e,t,n,r,i,o,a){for(let s=i,c=i+o;s<c;s++)f(e,t,n,r,s,a)}(e,e.geometry,t,n,this.offset,this.count,r):(this.left.intersectRay(n,E)&&this.left.raycast(e,t,n,r),this.right.intersectRay(n,E)&&this.right.raycast(e,t,n,r))}raycastFirst(e,t,n){if(this.count)return function(e,t,n,r,i,o){let a=1/0,s=null;for(let c=i,l=i+o;c<l;c++){const i=f(e,t,n,r,c);i&&i.distance<a&&(s=i,a=i.distance)}return s}(e,e.geometry,t,n,this.offset,this.count);{const r=this.splitAxis,i=S[r];let o,a;n.direction[i]>=0?(o=this.left,a=this.right):(o=this.right,a=this.left);const s=o.intersectRay(n,E)?o.raycastFirst(e,t,n):null;if(s){const e=n.origin[i],t=e-s.point[i],o=e-a.boundingData[r],c=e-a.boundingData[r+3],l=t*t;if(l<=o*o&&l<=c*c)return s}const c=a.intersectRay(n,E)?a.raycastFirst(e,t,n):null;return s&&c?s.distance<=c.distance?s:c:s||c||null}}}A.prototype.shapecast=function(){const e=new w,t=new r.Box3,n=new r.Box3;return function(r,i,o=null,a=null){if(this.count&&o){const t=r.geometry,n=t.index,i=t.attributes.position,a=this.offset;for(let t=3*a,r=3*(this.count+a);t<r;t+=3)if(C(e,t,n,i),e.update(),o(e,t,t+1,t+2))return!0;return!1}{const e=this.left,s=this.right;let c,l,u,h,d=e,f=s;if(a&&(u=t,h=n,p(d.boundingData,u),p(f.boundingData,h),c=a(u),(l=a(h))<c)){d=s,f=e;const t=c;c=l,l=t;const n=u;u=h,h=n}return u||(u=t,p(d.boundingData,u)),i(u,!!d.count,c,d)&&d.shapecast(r,i,o,a)?!0:(h||(h=n,p(f.boundingData,h)),!(!i(h,!!f.count,l,f)||!f.shapecast(r,i,o,a)))}}}(),A.prototype.intersectsGeometry=function(){const e=new w,t=new w,n=new r.Mesh,i=new r.Matrix4,o=new x,a=new x;return function(r,s,c,l=null){if(null===l&&(s.boundingBox||s.computeBoundingBox(),o.set(s.boundingBox.min,s.boundingBox.max,c),o.update(),l=o),!this.count){const e=this.left,t=this.right;return p(e.boundingData,_),l.intersectsBox(_)&&e.intersectsGeometry(r,s,c,l)?!0:(p(t.boundingData,_),!(!l.intersectsBox(_)||!t.intersectsGeometry(r,s,c,l)))}{const o=r.geometry,l=o.index,u=o.attributes.position,h=s.index,d=s.attributes.position,f=this.offset,m=this.count;if(i.getInverse(c),s.boundsTree){p(this.boundingData,a),a.matrix.copy(i),a.update(),n.geometry=s;const e=s.boundsTree.shapecast(n,e=>a.intersectsBox(e),(function(e){e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.update();for(let n=3*f,r=3*(m+f);n<r;n+=3)if(C(t,n,l,u),t.update(),e.intersectsTriangle(t))return!0;return!1}));return n.geometry=null,e}for(let n=3*f,r=m+3*f;n<r;n+=3){C(e,n,l,u),e.a.applyMatrix4(i),e.b.applyMatrix4(i),e.c.applyMatrix4(i),e.update();for(let n=0,r=h.count;n<r;n+=3)if(C(t,n,h,d),t.update(),e.intersectsTriangle(t))return!0}}}}(),A.prototype.intersectsBox=function(){const e=new x;return function(t,n,r){return e.set(n.min,n.max,r),e.update(),this.shapecast(t,t=>e.intersectsBox(t),t=>e.intersectsTriangle(t))}}(),A.prototype.intersectsSphere=function(e,t){return this.shapecast(e,e=>t.intersectsBox(e),e=>b(t,e))},A.prototype.closestPointToPoint=function(){const e=new r.Vector3;return function(t,n,r=null,i=0,o=1/0){let a=1/0;return this.shapecast(t,(e,t,n)=>n<a&&n<o,t=>{t.closestPointToPoint(n,e);const o=n.distanceTo(e);return o<a&&(r&&r.copy(e),a=o),o<i},e=>e.distanceToPoint(n)),a}}(),A.prototype.closestPointToGeometry=function(){const e=new w,t=new x,n=new r.Vector3,i=new r.Vector3;return function(r,o,a,s=null,c=null,l=0,u=1/0){o.boundingBox||o.computeBoundingBox(),t.set(o.boundingBox.min,o.boundingBox.max,a),t.update();const h=o.attributes.position,d=o.index;let f,p;s&&(f=n),c&&(p=i);let m=1/0;return this.shapecast(r,(e,t,n)=>n<m&&n<u,t=>{const n=t.sphere;for(let r=0,i=d.count;r<i;r+=3){C(e,r,d,h),e.a.applyMatrix4(a),e.b.applyMatrix4(a),e.c.applyMatrix4(a),e.sphere.setFromPoints(e.points);const i=e.sphere;if(i.center.distanceTo(n.center)-i.radius-n.radius>m)continue;e.update();const o=t.distanceToTriangle(e,f,p);if(o<m&&(s&&s.copy(f),c&&c.copy(p),m=o),o<l)return!0}return!1},e=>t.distanceToBox(e,Math.min(m,u))),m}}();const T=0,M=1,k=2,O=["x","y","z"];const P=new r.Box3;class R{constructor(e,t){if(this.geo=e,this.options=t,this.bounds=function(e){const t=e.attributes.position.array,n=e.index.array,r=n.length/3,i=new Float32Array(6*r);for(let e=0;e<r;e++){const r=3*n[3*e+0],o=3*n[3*e+1],a=3*n[3*e+2];for(let n=0;n<3;n++){const s=t[r+n],c=t[o+n],l=t[a+n],u=Math.min(s,c,l),h=(Math.max(s,c,l)-u)/2;i[6*e+2*n+0]=u+h,i[6*e+2*n+1]=h}}return i}(e),this.sahplanes=null,t.strategy===k){const t=e.index.count/3;this.sahplanes=[new Array(t),new Array(t),new Array(t)];for(let e=0;e<t;e++)for(let t=0;t<3;t++)this.sahplanes[t][e]={p:this.bounds[6*e+2*t],tri:e}}}getAverage(e,t,n){let r=0;const i=this.bounds;for(let o=e,a=e+t;o<a;o++)r+=i[6*o+2*n];return r/t}getBounds(e,t,n){let r=1/0,i=1/0,o=1/0,a=-1/0,s=-1/0,c=-1/0;const l=this.bounds;for(let n=e,u=e+t;n<u;n++){const e=l[6*n+0],t=l[6*n+1];r=Math.min(r,e-t),a=Math.max(a,e+t);const u=l[6*n+2],h=l[6*n+3];i=Math.min(i,u-h),s=Math.max(s,u+h);const d=l[6*n+4],f=l[6*n+5];o=Math.min(o,d-f),c=Math.max(c,d+f)}return n[0]=r,n[1]=i,n[2]=o,n[3]=a,n[4]=s,n[5]=c,n}partition(e,t,n){let r=e,i=e+t-1;const o=n.pos,a=2*n.axis,s=this.geo.index.array,c=this.bounds,l=this.sahplanes;for(;;){for(;r<=i&&c[6*r+a]<o;)r++;for(;r<=i&&c[6*i+a]>=o;)i--;if(!(r<i))return r;for(let e=0;e<3;e++){let t=s[3*r+e];s[3*r+e]=s[3*i+e],s[3*i+e]=t;let n=c[6*r+2*e+0];c[6*r+2*e+0]=c[6*i+2*e+0],c[6*i+2*e+0]=n;let o=c[6*r+2*e+1];c[6*r+2*e+1]=c[6*i+2*e+1],c[6*i+2*e+1]=o}if(l)for(let e=0;e<3;e++){let t=l[e][r];l[e][r]=l[e][i],l[e][i]=t}r++,i--}}getOptimalSplit(e,t,n,r){let i=-1,o=0;if(r===T)-1!==(i=m(e))&&(o=(e[i+3]+e[i])/2);else if(r===M)-1!==(i=m(e))&&(o=this.getAverage(t,n,i));else if(r===k){const r=3,a=1,s=p(e,P),c=[s.max.x-s.min.x,s.max.y-s.min.y,s.max.z-s.min.z],l=2*(c[0]*c[1]+c[0]*c[2]+c[1]*c[2]),u=[[],[],[]];for(let e=t,r=t+n;e<r;e++)for(let t=0;t<3;t++)u[t].push(this.sahplanes[t][e]);u.forEach(e=>e.sort((e,t)=>e.p-t.p));const h=(e,t,n,i,o)=>r+a*(t/e*n+i/e*o);i=-1;let d=a*n;for(let e=0;e<3;e++){const t=(e+1)%3,r=(e+2)%3,a=s.min[O[e]],f=s.max[O[e]],p=u[e];let m=0,g=n;for(let n=0;n<p.length;n++){const s=p[n];m++,g--;const u=s.p-a,v=f-s.p;let y=c[t],b=c[t],w=c[r],x=c[r];const _=h(l,2*(y*w+y*u+w*u),m,2*(b*x+b*v+x*v),g);_<d&&(i=e,o=s.p,d=_)}}}return{axis:i,pos:o}}}class F{constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.attributes.position.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the position attribute.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");(t=Object.assign({strategy:T,maxDepth:40,maxLeafTris:10,verbose:!0},t)).strategy=Math.max(0,Math.min(2,t.strategy)),this._roots=this._buildTree(e,t)}_ensureIndex(e){if(!e.index){const t=e.attributes.position.count,n=new(t>65535?Uint32Array:Uint16Array)(t);e.setIndex(new r.BufferAttribute(n,1));for(let e=0;e<t;e++)n[e]=e}}_getRootIndexRanges(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const t=[],n=new Set;for(const t of e.groups)n.add(t.start),n.add(t.start+t.count);const r=Array.from(n.values()).sort((e,t)=>e-t);for(let e=0;e<r.length-1;e++){const n=r[e],i=r[e+1];t.push({offset:n/3,count:(i-n)/3})}return t}_buildTree(e,t){this._ensureIndex(e);const n=new R(e,t);let i=!1;const o=(e,r,a,s=0)=>{if(s>=t.maxDepth&&(i=!0),a<=t.maxLeafTris||s>=t.maxDepth)return e.offset=r,e.count=a,e;const c=n.getOptimalSplit(e.boundingData,r,a,t.strategy);if(-1===c.axis)return e.offset=r,e.count=a,e;const l=n.partition(r,a,c);if(l===r||l===r+a)e.offset=r,e.count=a;else{e.splitAxis=c.axis;const t=e.left=new A,i=r,u=l-r;t.boundingData=n.getBounds(i,u,new Float32Array(6)),o(t,i,u,s+1);const h=e.right=new A,d=l,f=a-u;h.boundingData=n.getBounds(d,f,new Float32Array(6)),o(h,d,f,s+1)}return e},a=[],s=this._getRootIndexRanges(e);if(1===s.length){const t=new A,r=s[0];null!=e.boundingBox?t.boundingData=function(e){const t=new Float32Array(6);return t[0]=e.min.x,t[1]=e.min.y,t[2]=e.min.z,t[3]=e.max.x,t[4]=e.max.y,t[5]=e.max.z,t}(e.boundingBox):t.boundingData=n.getBounds(r.offset,r.count,new Float32Array(6)),o(t,r.offset,r.count),a.push(t)}else for(let e of s){const t=new A;t.boundingData=n.getBounds(e.offset,e.count,new Float32Array(6)),o(t,e.offset,e.count),a.push(t)}if(i&&t.verbose&&(console.warn(`MeshBVH: Max depth of ${t.maxDepth} reached when generating BVH. Consider increasing maxDepth.`),console.warn(this,e)),null==e.boundingBox){const t=new r.Box3;e.boundingBox=new r.Box3;for(let n of a)e.boundingBox.union(p(n.boundingData,t))}return a}raycast(e,t,n,r){for(const i of this._roots)i.raycast(e,t,n,r)}raycastFirst(e,t,n){let r=null;for(const i of this._roots){const o=i.raycastFirst(e,t,n);null!=o&&(null==r||o.distance<r.distance)&&(r=o)}return r}intersectsGeometry(e,t,n){for(const r of this._roots)if(r.intersectsGeometry(e,t,n))return!0;return!1}shapecast(e,t,n=null,r=null){for(const i of this._roots)if(i.shapecast(e,t,n,r))return!0;return!1}intersectsBox(e,t,n){for(const r of this._roots)if(r.intersectsBox(e,t,n))return!0;return!1}intersectsSphere(e,t){for(const n of this._roots)if(n.intersectsSphere(e,t))return!0;return!1}closestPointToGeometry(e,t,n,r,i,o,a){let s=1/0;for(const c of this._roots){const l=c.closestPointToGeometry(e,t,n,r,i,o,a);if(l<s&&(s=l),l<o)return l}return s}distanceToGeometry(e,t,n,r,i){return this.closestPointToGeometry(e,t,n,null,null,r,i)}closestPointToPoint(e,t,n,r,i){let o=1/0;for(const a of this._roots){const s=a.closestPointToPoint(e,t,n,r,i);if(s<o&&(o=s),s<r)return s}return o}distanceToPoint(e,t,n,r){return this.closestPointToPoint(e,t,null,n,r)}}const L=new r.LineBasicMaterial({color:65416,transparent:!0,opacity:.3}),D=(new r.Box3Helper).geometry;let j=new r.Box3;class N extends r.Object3D{constructor(e,t=10,n=0){super("MeshBVHRootVisualizer"),this.depth=t,this._oldDepth=-1,this._mesh=e,this._boundsTree=null,this._group=n,this.update()}update(){if(this._mesh.geometry.boundsTree!==this._boundsTree||this._oldDepth!==this.depth){this._oldDepth=this.depth,this._boundsTree=this._mesh.geometry.boundsTree;let e=0;if(this._boundsTree){const t=(n,i)=>{let o="count"in n;if(i!==this.depth){if(i===this.depth-1||o){let t=e<this.children.length?this.children[e]:null;t||((t=new r.LineSegments(D,L)).raycast=()=>[],this.add(t)),e++,p(n.boundingData,j),j.getCenter(t.position),t.scale.subVectors(j.max,j.min).multiplyScalar(.5),0===t.scale.x&&(t.scale.x=Number.EPSILON),0===t.scale.y&&(t.scale.y=Number.EPSILON),0===t.scale.z&&(t.scale.z=Number.EPSILON)}o||(t(n.left,i+1),t(n.right,i+1))}};t(this._boundsTree._roots[this._group],0)}for(;this.children.length>e;)this.remove(this.children.pop())}}}class I extends r.Object3D{constructor(e,t=10){super("MeshBVHVisualizer"),this.depth=t,this._mesh=e,this._roots=[],this.update()}update(){const e=this._mesh.geometry.boundsTree,t=e?e._roots.length:0;for(;this._roots.length>t;)this._roots.pop();for(let e=0;e<t;e++)if(e>=this._roots.length){const t=new N(this._mesh,this.depth,e);this.add(t),this._roots.push(t)}else{let t=this._roots[e];t.depth=this.depth,t.update()}this.position.copy(this._mesh.position),this.rotation.copy(this._mesh.rotation),this.scale.copy(this._mesh.scale)}}var B=I;n.d(t,"acceleratedRaycast",(function(){return V})),n.d(t,"computeBoundsTree",(function(){return W})),n.d(t,"disposeBoundsTree",(function(){return $})),n.d(t,"MeshBVH",(function(){return F})),n.d(t,"Visualizer",(function(){return B})),n.d(t,"CENTER",(function(){return T})),n.d(t,"AVERAGE",(function(){return M})),n.d(t,"SAH",(function(){return k}));const z=new r.Ray,U=new r.Matrix4,H=r.Mesh.prototype.raycast;function V(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;if(U.getInverse(this.matrixWorld),z.copy(e.ray).applyMatrix4(U),!0===e.firstHitOnly){const n=this.geometry.boundsTree.raycastFirst(this,e,z);n&&t.push(n)}else this.geometry.boundsTree.raycast(this,e,z,t)}else H.call(this,e,t)}function W(e){return this.boundsTree=new F(this,e),this.boundsTree}function $(){this.boundsTree=null}},qT12:function(e,t,n){"use strict";
/** @license React v16.11.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case a:case c:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case v:case g:case o:return t}}}function _(e){return x(e)===d}t.typeOf=x,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=c,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===c||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return _(e)||x(e)===h},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===c},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p}},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),o=n("7GkX");e.exports=function(e){return r(e,o,i)}},qesz:function(e,t,n){var r=n("cqyl"),i=n("PjQo"),o=n("cjKa").EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult,this.goals={};var n=!1;this.feedbackListener=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe((function(e){n=!0,e.status_list.forEach((function(e){var n=t.goals[e.goal_id.id];n&&n.emit("status",e)}))})),this.omitFeedback||this.feedbackListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("feedback",e.feedback))})),this.omitResult||this.resultListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("result",e.result))})),this.timeout&&setTimeout((function(){n||t.emit("timeout")}),this.timeout)}a.prototype.__proto__=o.prototype,a.prototype.cancel=function(){var e=new i;this.cancelTopic.publish(e)},a.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},e.exports=a},quyA:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},qvmO:function(e,t,n){var r=n("3y7U");e.exports=function(e,t){return r(e,t,"pre")}},rEGp:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},rcjB:function(e,t,n){var r=n("ozMc"),i=n("fjOl"),o=n("MliZ").EventEmitter2;function a(e){var t=this;e=e||{},this.ros=e.ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult,this.goals={};var n=!1;this.feedbackListener=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe((function(e){n=!0,e.status_list.forEach((function(e){var n=t.goals[e.goal_id.id];n&&n.emit("status",e)}))})),this.omitFeedback||this.feedbackListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("feedback",e.feedback))})),this.omitResult||this.resultListener.subscribe((function(e){var n=t.goals[e.status.goal_id.id];n&&(n.emit("status",e.status),n.emit("result",e.result))})),this.timeout&&setTimeout((function(){n||t.emit("timeout")}),this.timeout)}a.prototype.__proto__=o.prototype,a.prototype.cancel=function(){var e=new i;this.cancelTopic.publish(e)},a.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},e.exports=a},rdUC:function(e,t,n){var r=n("MFOe").Global;function i(){return r.localStorage}function o(e){return i().getItem(e)}e.exports={name:"localStorage",read:o,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(o(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},rfXi:function(e,t,n){e.exports={default:n("0tVQ"),__esModule:!0}},rr1i:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},s3Ml:function(e,t,n){e.exports={default:n("JbBM"),__esModule:!0}},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},sNwI:function(e,t,n){var r=n("5K7Z");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},seXi:function(e,t,n){var r=n("qZTm"),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,c){var l=n&i,u=r(e),h=u.length;if(h!=r(t).length&&!l)return!1;for(var d=h;d--;){var f=u[d];if(!(l?f in t:o.call(t,f)))return!1}var p=c.get(e);if(p&&c.get(t))return p==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++d<h;){var v=e[f=u[d]],y=t[f];if(a)var b=l?a(y,v,f,t,e,c):a(v,y,f,e,t,c);if(!(void 0===b?v===y||s(v,y,n,a,c):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(m=!1)}return c.delete(e),c.delete(t),m}},shjB:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},sk9p:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n("k/8l")),i=o(n("FyfS"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=(0,i.default)(e);!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},"t/3S":function(e,t,n){var r,i;!function(o,a){"use strict";var s=Math.pow(2,-24),c=Math.pow(2,32),l=Math.pow(2,53);(i="function"==typeof(r={encode:function(e){var t,n=new ArrayBuffer(256),r=new DataView(n),i=0;function o(e){for(var o=n.byteLength,a=i+e;o<a;)o*=2;if(o!==n.byteLength){var s=r;n=new ArrayBuffer(o),r=new DataView(n);for(var c=i+3>>2,l=0;l<c;++l)r.setUint32(4*l,s.getUint32(4*l))}return t=e,r}function s(){i+=t}function u(e){s(o(1).setUint8(i,e))}function h(e){for(var t=o(e.length),n=0;n<e.length;++n)t.setUint8(i+n,e[n]);s()}function d(e,t){t<24?u(e<<5|t):t<256?(u(e<<5|24),u(t)):t<65536?(u(e<<5|25),function(e){s(o(2).setUint16(i,e))}(t)):t<4294967296?(u(e<<5|26),function(e){s(o(4).setUint32(i,e))}(t)):(u(e<<5|27),function(e){var t=e%c,n=(e-t)/c,r=o(8);r.setUint32(i,n),r.setUint32(i+4,t),s()}(t))}if(function e(t){var n;if(!1===t)return u(244);if(!0===t)return u(245);if(null===t)return u(246);if(t===a)return u(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=l)return d(0,t);if(-l<=t&&t<0)return d(1,-(t+1))}return u(251),function(e){s(o(8).setFloat64(i,e))}(t);case"string":var r=[];for(n=0;n<t.length;++n){var c=t.charCodeAt(n);c<128?r.push(c):c<2048?(r.push(192|c>>6),r.push(128|63&c)):c<55296?(r.push(224|c>>12),r.push(128|c>>6&63),r.push(128|63&c)):(c=(1023&c)<<10,c|=1023&t.charCodeAt(++n),c+=65536,r.push(240|c>>18),r.push(128|c>>12&63),r.push(128|c>>6&63),r.push(128|63&c))}return d(3,r.length),h(r);default:var f;if(Array.isArray(t))for(d(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)d(2,t.length),h(t);else{var p=Object.keys(t);for(d(5,f=p.length),n=0;n<f;++n){var m=p[n];e(m),e(t[m])}}}}(e),"slice"in n)return n.slice(0,i);for(var f=new ArrayBuffer(i),p=new DataView(f),m=0;m<i;++m)p.setUint8(m,r.getUint8(m));return f},decode:function(e,t,n){var r=new DataView(e),i=0;function o(e,t){return i+=t,e}function l(t){return o(new Uint8Array(e,i,t),t)}function u(){return o(r.getUint8(i),1)}function h(){return o(r.getUint16(i),2)}function d(){return o(r.getUint32(i),4)}function f(){return 255===r.getUint8(i)&&(i+=1,!0)}function p(e){if(e<24)return e;if(24===e)return u();if(25===e)return h();if(26===e)return d();if(27===e)return d()*c+d();if(31===e)return-1;throw"Invalid length encoding"}function m(e){var t=u();if(255===t)return-1;var n=p(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function g(e,t){for(var n=0;n<t;++n){var r=u();128&r&&(r<224?(r=(31&r)<<6|63&u(),t-=1):r<240?(r=(15&r)<<12|(63&u())<<6|63&u(),t-=2):(r=(15&r)<<18|(63&u())<<12|(63&u())<<6|63&u(),t-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof n&&(n=function(){return a});var v=function e(){var c,d,v=u(),y=v>>5,b=31&v;if(7===y)switch(b){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=h(),r=32768&n,i=31744&n,o=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==o)return o*s;return t.setUint32(0,r<<16|i<<13|o<<13),t.getFloat32(0)}();case 26:return o(r.getFloat32(i),4);case 27:return o(r.getFloat64(i),8)}if((d=p(b))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var w=[],x=0;(d=m(y))>=0;)x+=d,w.push(l(d));var _=new Uint8Array(x),E=0;for(c=0;c<w.length;++c)_.set(w[c],E),E+=w[c].length;return _}return l(d);case 3:var S=[];if(d<0)for(;(d=m(y))>=0;)g(S,d);else g(S,d);return String.fromCharCode.apply(null,S);case 4:var C;if(d<0)for(C=[];!f();)C.push(e());else for(C=new Array(d),c=0;c<d;++c)C[c]=e();return C;case 5:var A={};for(c=0;c<d||d<0&&!f();++c){A[e()]=e()}return A;case 6:return t(e(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return a;default:return n(d)}}}();if(i!==e.byteLength)throw"Remaining bytes";return v}})?r.call(t,n,t,e):r)===a||(e.exports=i)}()},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},tEej:function(e,t,n){var r=n("Ojgd"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},tGWH:function(e,t,n){"use strict";var r=n("RsFJ"),i=n("RjOF"),o=n("ZONP"),a=n("my8H"),s=n("Zpkj"),c=n("KJAg");e.exports=function(e,t,n){var i,a,s,m,v,y,b,w,x,A,T,M,k,O,P,R,F,L,D,j,N,I,B,z,U=this.options.commonmark,H=this.options.pedantic,V=this.blockTokenizers,W=this.interruptList,$=0,G=t.length,q=null,Y=0;for(;$<G;){if((m=t.charAt($))===p)Y+=g-Y%g;else{if(m!==d)break;Y++}$++}if(Y>=g)return;if(m=t.charAt($),i=U?S:E,!0===_[m])v=m,s=!1;else{for(s=!0,a="";$<G&&(m=t.charAt($),o(m));)a+=m,$++;if(m=t.charAt($),!a||!0!==i[m])return;q=parseInt(a,10),v=m}if((m=t.charAt(++$))!==d&&m!==p)return;if(n)return!0;$=0,O=[],P=[],R=[];for(;$<G;){for(y=t.indexOf(f,$),b=$,w=!1,z=!1,-1===y&&(y=G),B=$+g,Y=0;$<G;){if((m=t.charAt($))===p)Y+=g-Y%g;else{if(m!==d)break;Y++}$++}if(Y>=g&&(z=!0),F&&Y>=F.indent&&(z=!0),m=t.charAt($),x=null,!z){if(!0===_[m])x=m,$++,Y++;else{for(a="";$<G&&(m=t.charAt($),o(m));)a+=m,$++;m=t.charAt($),$++,a&&!0===i[m]&&(x=m,Y+=a.length+1)}if(x)if((m=t.charAt($))===p)Y+=g-Y%g,$++;else if(m===d){for(B=$+g;$<B&&t.charAt($)===d;)$++,Y++;$===B&&t.charAt($)===d&&($-=g-1,Y-=g-1)}else m!==f&&""!==m&&(x=null)}if(x){if(!H&&v!==x)break;w=!0}else U||z||t.charAt(b)!==d?U&&F&&(z=Y>=F.indent||Y>g):z=!0,w=!1,$=b;if(T=t.slice(b,y),A=b===$?T:t.slice($,y),(x===l||x===u||x===h)&&V.thematicBreak.call(this,e,T,!0))break;if(M=k,k=!r(A).length,z&&F)F.value=F.value.concat(R,T),P=P.concat(R,T),R=[];else if(w)0!==R.length&&(F.value.push(""),F.trail=R.concat()),F={value:[T],indent:Y,trail:[]},O.push(F),P=P.concat(R,T),R=[];else if(k){if(M)break;R.push(T)}else{if(M)break;if(c(W,V,this,[e,T,!0]))break;F.value=F.value.concat(R,T),P=P.concat(R,T),R=[]}$=y+1}N=e(P.join(f)).reset({type:"list",ordered:s,start:q,loose:null,children:[]}),L=this.enterList(),D=this.enterBlock(),j=!1,$=-1,G=O.length;for(;++$<G;)F=O[$].value.join(f),I=e.now(),(F=e(F)(C(this,F,I),N)).loose&&(j=!0),F=O[$].trail.join(f),$!==G-1&&(F+=f),e(F);return L(),D(),N.loose=j,N};var l="*",u="_",h="-",d=" ",f="\n",p="\t",m="x",g=4,v=/\n\n(?!\s*$)/,y=/^\[([ \t]|x|X)][ \t]/,b=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,w=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,x=/^( {1,4}|\t)?/gm,_={};_[l]=!0,_["+"]=!0,_[h]=!0;var E={".":!0},S={};function C(e,t,n){var r,i,o=e.offset,a=null;return t=(e.options.pedantic?A:T).apply(null,arguments),e.options.gfm&&(r=t.match(y))&&(i=r[0].length,a=r[1].toLowerCase()===m,o[n.line]+=i,t=t.slice(i)),{type:"listItem",loose:v.test(t)||t.charAt(t.length-1)===f,checked:a,children:e.tokenizeBlock(t,n)}}function A(e,t,n){var r=e.offset,i=n.line;return t=t.replace(w,o),i=n.line,t.replace(x,o);function o(e){return r[i]=(r[i]||0)+e.length,i++,""}}function T(e,t,n){var r,o,c,l,u,h,p,m=e.offset,g=n.line;for(l=(t=t.replace(b,(function(e,t,n,a,s){o=t+n+a,c=s,Number(n)<10&&o.length%2==1&&(n=d+n);return(r=t+i(d,n.length)+a)+c}))).split(f),(u=s(t,a(r).indent).split(f))[0]=c,m[g]=(m[g]||0)+o.length,g++,h=0,p=l.length;++h<p;)m[g]=(m[g]||0)+l[h].length-u[h].length,g++;return u.join(f)}S["."]=!0,S[")"]=!0},tLB3:function(e,t,n){var r=n("GoyQ"),i=n("/9aa"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}},tMB7:function(e,t,n){var r=n("y1pI");e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},tQ6r:function(e,t,n){"use strict";var r=n("b5wT"),i=n("F9We").Graph;function o(e,t,n,i){var o;do{o=r.uniqueId(i)}while(e.hasNode(o));return n.dummy=t,e.setNode(o,n),o}function a(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}e.exports={addDummyNode:o,simplify:function(e){var t=(new i).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),t},asNonCompoundGraph:function(e){var t=new i({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,i=e.x,o=e.y,a=t.x-i,s=t.y-o,c=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(c=-c),n=c,r=c*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var i=e.node(n),o=i.rank;r.isUndefined(o)||(t[o][i.order]=n)})),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var i=e.node(n);r.has(i,"rank")&&(i.rank-=t)}))},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var i=e.node(r).rank-t;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%o!=0?--i:i&&r.forEach(t,(function(t){e.node(t).rank+=i}))}))},addBorderNode:function(e,t,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return o(e,"border",i,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},tadb:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"DataView");e.exports=r},tag3:function(e,t){ace.define("ace/theme/xcode",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-xcode",t.cssText=".ace-xcode .ace_gutter {background: #e8e8e8;color: #333}.ace-xcode .ace_print-margin {width: 1px;background: #e8e8e8}.ace-xcode {background-color: #FFFFFF;color: #000000}.ace-xcode .ace_cursor {color: #000000}.ace-xcode .ace_marker-layer .ace_selection {background: #B5D5FF}.ace-xcode.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;}.ace-xcode .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-xcode .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-xcode .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_gutter-active-line {background-color: rgba(0, 0, 0, 0.071)}.ace-xcode .ace_marker-layer .ace_selected-word {border: 1px solid #B5D5FF}.ace-xcode .ace_constant.ace_language,.ace-xcode .ace_keyword,.ace-xcode .ace_meta,.ace-xcode .ace_variable.ace_language {color: #C800A4}.ace-xcode .ace_invisible {color: #BFBFBF}.ace-xcode .ace_constant.ace_character,.ace-xcode .ace_constant.ace_other {color: #275A5E}.ace-xcode .ace_constant.ace_numeric {color: #3A00DC}.ace-xcode .ace_entity.ace_other.ace_attribute-name,.ace-xcode .ace_support.ace_constant,.ace-xcode .ace_support.ace_function {color: #450084}.ace-xcode .ace_fold {background-color: #C800A4;border-color: #000000}.ace-xcode .ace_entity.ace_name.ace_tag,.ace-xcode .ace_support.ace_class,.ace-xcode .ace_support.ace_type {color: #790EAD}.ace-xcode .ace_storage {color: #C900A4}.ace-xcode .ace_string {color: #DF0002}.ace-xcode .ace_comment {color: #008E00}.ace-xcode .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y}",e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},tfBy:function(e,t,n){var r=n("BHpa");function i(e){this.textureFilename=null,this.color=null,this.name=e.xml.getAttribute("name");var t=e.xml.getElementsByTagName("texture");t.length>0&&(this.textureFilename=t[0].getAttribute("filename"));var n=e.xml.getElementsByTagName("color");n.length>0&&(this.color=new r({xml:n[0]}))}i.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var o=n("MgzW");i.prototype.assign=function(e){return o(this,e)},e.exports=i},tgay:function(e,t,n){"use strict";var r=n("NFD0");function i(e,t,n){var r,i;if("\\"===t.charAt(0)&&(r=t.charAt(1),-1!==this.escape.indexOf(r)))return!!n||(i="\n"===r?{type:"break"}:{type:"text",value:r},e("\\"+r)(i))}e.exports=i,i.locator=r},"u3i/":function(e,t,n){"use strict";var r=n("ZkSf");function i(e,t,n,r){if("remove"===r)n.children.splice(t,1);else if("unwrap"===r){var i=[t,1];e.children&&(i=i.concat(e.children)),Array.prototype.splice.apply(n.children,i)}}t.ofType=function(e,t){return function(t){return e.forEach((function(e){return r(t,e,n,!0)})),t};function n(e,n,r){r&&i(e,n,r,t)}},t.ifNotMatch=function(e,t){return function(e){return r(e,n,!0),e};function n(n,r,o){o&&!e(n,r,o)&&i(n,r,o,t)}}},u8Dt:function(e,t,n){var r=n("YESw"),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},u95b:function(e,t,n){var r=n("Q1Og");"string"==typeof r&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n("LboF")(r,i);r.locals&&(e.exports=r.locals)},uLOr:function(e,t,n){"use strict";n.r(t);var r=n("Womt"),i=function(e){r.Loader.call(this,e)};i.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:i,load:function(e,t,n,i){var o=this,a=new r.Texture,s=new r.FileLoader(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,(function(e){a.image=o.parse(e),a.needsUpdate=!0,void 0!==t&&t(a)}),n,i),a},parse:function(e){var t=0,n=1,r=2,i=3,o=9,a=10,s=11,c=48,l=4,u=0,h=1,d=2,f=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var p=new Uint8Array(e),m=0,g={id_length:p[m++],colormap_type:p[m++],image_type:p[m++],colormap_index:p[m++]|p[m++]<<8,colormap_length:p[m++]|p[m++]<<8,colormap_size:p[m++],origin:[p[m++]|p[m++]<<8,p[m++]|p[m++]<<8],width:p[m++]|p[m++]<<8,height:p[m++]|p[m++]<<8,pixel_size:p[m++],flags:p[m++]};!function(e){switch(e.image_type){case n:case o:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case i:case a:case s:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(g),g.id_length+m>e.length&&console.error("THREE.TGALoader: No data."),m+=g.id_length;var v=!1,y=!1,b=!1;switch(g.image_type){case o:v=!0,y=!0;break;case n:y=!0;break;case a:v=!0;break;case r:break;case s:v=!0,b=!0;break;case i:b=!0}var w="undefined"!=typeof OffscreenCanvas,x=w?new OffscreenCanvas(g.width,g.height):document.createElement("canvas");x.width=g.width,x.height=g.height;var _=x.getContext("2d"),E=_.createImageData(g.width,g.height),S=function(e,t,n,r,i){var o,a,s,c;if(a=n.pixel_size>>3,s=n.width*n.height*a,t&&(c=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){var l,u,h;o=new Uint8Array(s);for(var d=0,f=new Uint8Array(a);d<s;)if(u=1+(127&(l=i[r++])),128&l){for(h=0;h<a;++h)f[h]=i[r++];for(h=0;h<u;++h)o.set(f,d+h*a);d+=a*u}else{for(u*=a,h=0;h<u;++h)o[d+h]=i[r++];d+=u}}else o=i.subarray(r,r+=t?n.width*n.height:s);return{pixel_data:o,palettes:c}}(v,y,g,m,p);!function(e,t,n,r,i){var o,a,s,p,m,v;switch((g.flags&c)>>l){default:case d:o=0,s=1,m=t,a=0,p=1,v=n;break;case u:o=0,s=1,m=t,a=n-1,p=-1,v=-1;break;case f:o=t-1,s=-1,m=-1,a=0,p=1,v=n;break;case h:o=t-1,s=-1,m=-1,a=n-1,p=-1,v=-1}if(b)switch(g.pixel_size){case 8:!function(e,t,n,r,i,o,a,s){var c,l,u,h=0,d=g.width;for(u=t;u!==r;u+=n)for(l=i;l!==a;l+=o,h++)c=s[h],e[4*(l+d*u)+0]=c,e[4*(l+d*u)+1]=c,e[4*(l+d*u)+2]=c,e[4*(l+d*u)+3]=255}(e,a,p,v,o,s,m,r);break;case 16:!function(e,t,n,r,i,o,a,s){var c,l,u=0,h=g.width;for(l=t;l!==r;l+=n)for(c=i;c!==a;c+=o,u+=2)e[4*(c+h*l)+0]=s[u+0],e[4*(c+h*l)+1]=s[u+0],e[4*(c+h*l)+2]=s[u+0],e[4*(c+h*l)+3]=s[u+1]}(e,a,p,v,o,s,m,r);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(g.pixel_size){case 8:!function(e,t,n,r,i,o,a,s,c){var l,u,h,d=c,f=0,p=g.width;for(h=t;h!==r;h+=n)for(u=i;u!==a;u+=o,f++)l=s[f],e[4*(u+p*h)+3]=255,e[4*(u+p*h)+2]=d[3*l+0],e[4*(u+p*h)+1]=d[3*l+1],e[4*(u+p*h)+0]=d[3*l+2]}(e,a,p,v,o,s,m,r,i);break;case 16:!function(e,t,n,r,i,o,a,s){var c,l,u,h=0,d=g.width;for(u=t;u!==r;u+=n)for(l=i;l!==a;l+=o,h+=2)c=s[h+0]+(s[h+1]<<8),e[4*(l+d*u)+0]=(31744&c)>>7,e[4*(l+d*u)+1]=(992&c)>>2,e[4*(l+d*u)+2]=(31&c)>>3,e[4*(l+d*u)+3]=32768&c?0:255}(e,a,p,v,o,s,m,r);break;case 24:!function(e,t,n,r,i,o,a,s){var c,l,u=0,h=g.width;for(l=t;l!==r;l+=n)for(c=i;c!==a;c+=o,u+=3)e[4*(c+h*l)+3]=255,e[4*(c+h*l)+2]=s[u+0],e[4*(c+h*l)+1]=s[u+1],e[4*(c+h*l)+0]=s[u+2]}(e,a,p,v,o,s,m,r);break;case 32:!function(e,t,n,r,i,o,a,s){var c,l,u=0,h=g.width;for(l=t;l!==r;l+=n)for(c=i;c!==a;c+=o,u+=4)e[4*(c+h*l)+2]=s[u+0],e[4*(c+h*l)+1]=s[u+1],e[4*(c+h*l)+0]=s[u+2],e[4*(c+h*l)+3]=s[u+3]}(e,a,p,v,o,s,m,r);break;default:console.error("THREE.TGALoader: Format not supported.")}}(E.data,g.width,g.height,S.pixel_data,S.palettes);return _.putImageData(E,0,0),w?x.transferToImageBitmap():x}}),n.d(t,"ColladaLoader",(function(){return o}));var o=function(e){r.Loader.call(this,e)};o.prototype=Object.assign(Object.create(r.Loader.prototype),{constructor:o,load:function(e,t,n,i){var o=this,a=""===o.path?r.LoaderUtils.extractUrlBase(e):o.path,s=new r.FileLoader(o.manager);s.setPath(o.path),s.load(e,(function(e){t(o.parse(e,a))}),n,i)},options:{set convertUpAxis(e){console.warn("THREE.ColladaLoader: options.convertUpAxis() has been removed. Up axis is converted automatically.")}},parse:function(e,t){function n(e,t){for(var n=[],r=e.childNodes,i=0,o=r.length;i<o;i++){var a=r[i];a.nodeName===t&&n.push(a)}return n}function o(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=t[r];return n}function a(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseFloat(t[r]);return n}function s(e){if(0===e.length)return[];for(var t=e.trim().split(/\s+/),n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=parseInt(t[r]);return n}function c(e){return e.substring(1)}function l(e){return 0===Object.keys(e).length}function u(e){return void 0!==e&&!0===e.hasAttribute("meter")?parseFloat(e.getAttribute("meter")):1}function h(e){return void 0!==e?e.textContent:"Y_UP"}function d(e,t,r,i){var o=n(e,t)[0];if(void 0!==o)for(var a=n(o,r),s=0;s<a.length;s++)i(a[s])}function f(e,t){for(var n in e){e[n].build=t(e[n])}}function p(e,t){return void 0!==e.build?e.build:(e.build=t(e),e.build)}function m(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=c(i.getAttribute("source")),a=i.getAttribute("semantic");t.inputs[a]=o}}return t}function g(e){var t={},n=e.getAttribute("target").split("/"),r=n.shift(),i=n.shift(),o=-1!==i.indexOf("("),a=-1!==i.indexOf(".");if(a)n=i.split("."),i=n.shift(),t.member=n.shift();else if(o){var s=i.split("(");i=s.shift();for(var l=0;l<s.length;l++)s[l]=parseInt(s[l].replace(/\)/,""));t.indices=s}return t.id=r,t.sid=i,t.arraySyntax=o,t.memberSyntax=a,t.sampler=c(e.getAttribute("source")),t}function v(e){var t=[],n=e.channels,r=e.samplers,i=e.sources;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o],s=r[a.sampler],c=s.inputs.INPUT,l=s.inputs.OUTPUT;E(b(a,i[c],i[l]),t)}return t}function y(e){return p(Je.animations[e],v)}function b(e,t,n){var r,i,o,a,s,c,l=Je.nodes[e.id],u=Ne(l.id),h=l.transforms[e.sid],d=l.matrix.clone().transpose(),f={};switch(h){case"matrix":for(o=0,a=t.array.length;o<a;o++)if(r=t.array[o],i=o*n.stride,void 0===f[r]&&(f[r]={}),!0===e.arraySyntax){var p=n.array[i],m=e.indices[0]+4*e.indices[1];f[r][m]=p}else for(s=0,c=n.stride;s<c;s++)f[r][s]=n.array[i+s];break;case"translate":case"rotate":case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',h)}var g=function(e,t){var n=[];for(var r in e)n.push({time:parseFloat(r),value:e[r]});n.sort((function(e,t){return e.time-t.time}));for(var i=0;i<16;i++)S(n,i,t.elements[i]);return n}(f,d);return{name:u.uuid,keyframes:g}}var w=new r.Vector3,x=new r.Vector3,_=new r.Quaternion;function E(e,t){for(var n=e.keyframes,i=e.name,o=[],a=[],s=[],c=[],l=0,u=n.length;l<u;l++){var h=n[l],d=h.time,f=h.value;Ae.fromArray(f).transpose(),Ae.decompose(w,_,x),o.push(d),a.push(w.x,w.y,w.z),s.push(_.x,_.y,_.z,_.w),c.push(x.x,x.y,x.z)}return a.length>0&&t.push(new r.VectorKeyframeTrack(i+".position",o,a)),s.length>0&&t.push(new r.QuaternionKeyframeTrack(i+".quaternion",o,s)),c.length>0&&t.push(new r.VectorKeyframeTrack(i+".scale",o,c)),t}function S(e,t,n){var r,i,o,a=!0;for(i=0,o=e.length;i<o;i++)void 0===(r=e[i]).value[t]?r.value[t]=null:a=!1;if(!0===a)for(i=0,o=e.length;i<o;i++)(r=e[i]).value[t]=n;else!function(e,t){for(var n,r,i=0,o=e.length;i<o;i++){var a=e[i];if(null===a.value[t]){if(n=C(e,i,t),r=A(e,i,t),null===n){a.value[t]=r.value[t];continue}if(null===r){a.value[t]=n.value[t];continue}T(a,n,r,t)}}}(e,t)}function C(e,t,n){for(;t>=0;){var r=e[t];if(null!==r.value[n])return r;t--}return null}function A(e,t,n){for(;t<e.length;){var r=e[t];if(null!==r.value[n])return r;t++}return null}function T(e,t,n,r){n.time-t.time!=0?e.value[r]=(e.time-t.time)*(n.value[r]-t.value[r])/(n.time-t.time)+t.value[r]:e.value[r]=t.value[r]}function M(e){for(var t=[],n=e.name,i=e.end-e.start||-1,o=e.animations,a=0,s=o.length;a<s;a++)for(var c=y(o[a]),l=0,u=c.length;l<u;l++)t.push(c[l]);return new r.AnimationClip(n,i,t)}function k(e){return p(Je.clips[e],M)}function O(e){for(var t={sources:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"bind_shape_matrix":t.bindShapeMatrix=a(i.textContent);break;case"source":var o=i.getAttribute("id");t.sources[o]=ae(i);break;case"joints":t.joints=P(i);break;case"vertex_weights":t.vertexWeights=R(i)}}return t}function P(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=i.getAttribute("semantic"),a=c(i.getAttribute("source"));t.inputs[o]=a}}return t}function R(e){for(var t={inputs:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=i.getAttribute("semantic"),a=c(i.getAttribute("source")),l=parseInt(i.getAttribute("offset"));t.inputs[o]={id:a,offset:l};break;case"vcount":t.vcount=s(i.textContent);break;case"v":t.v=s(i.textContent)}}return t}function F(e){var t={id:e.id},n=Je.geometries[t.id];return void 0!==e.skin&&(t.skin=function(e){var t,n,i,o={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},a=e.sources,s=e.vertexWeights,c=s.vcount,l=s.v,u=s.inputs.JOINT.offset,h=s.inputs.WEIGHT.offset,d=e.sources[e.joints.inputs.JOINT],f=e.sources[e.joints.inputs.INV_BIND_MATRIX],p=a[s.inputs.WEIGHT.id].array,m=0;for(t=0,i=c.length;t<i;t++){var g=c[t],v=[];for(n=0;n<g;n++){var y=l[m+u],b=l[m+h],w=p[b];v.push({index:y,weight:w}),m+=2}for(v.sort(S),n=0;n<4;n++){var x=v[n];void 0!==x?(o.indices.array.push(x.index),o.weights.array.push(x.weight)):(o.indices.array.push(0),o.weights.array.push(0))}}e.bindShapeMatrix?o.bindMatrix=(new r.Matrix4).fromArray(e.bindShapeMatrix).transpose():o.bindMatrix=(new r.Matrix4).identity();for(t=0,i=d.array.length;t<i;t++){var _=d.array[t],E=(new r.Matrix4).fromArray(f.array,t*f.stride).transpose();o.joints.push({name:_,boneInverse:E})}return o;function S(e,t){return t.weight-e.weight}}(e.skin),n.sources.skinIndices=t.skin.indices,n.sources.skinWeights=t.skin.weights),t}function L(e){return void 0!==e.build?e.build:e.init_from}function D(e){var t=Je.images[e];return void 0!==t?p(t,L):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",e),null)}function j(e){for(var t={surfaces:{},samplers:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"newparam":N(i,t);break;case"technique":t.technique=z(i);break;case"extra":t.extra=G(i)}}return t}function N(e,t){for(var n=e.getAttribute("sid"),r=0,i=e.childNodes.length;r<i;r++){var o=e.childNodes[r];if(1===o.nodeType)switch(o.nodeName){case"surface":t.surfaces[n]=I(o);break;case"sampler2D":t.samplers[n]=B(o)}}}function I(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"init_from":t.init_from=i.textContent}}return t}function B(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"source":t.source=i.textContent}}return t}function z(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"constant":case"lambert":case"blinn":case"phong":t.type=i.nodeName,t.parameters=U(i)}}return t}function U(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":t[i.nodeName]=H(i);break;case"transparent":t[i.nodeName]={opaque:i.getAttribute("opaque"),data:H(i)}}}return t}function H(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"color":t[i.nodeName]=a(i.textContent);break;case"float":t[i.nodeName]=parseFloat(i.textContent);break;case"texture":t[i.nodeName]={id:i.getAttribute("texture"),extra:V(i)}}}return t}function V(e){for(var t={technique:{}},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"extra":W(i,t)}}return t}function W(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique":$(i,t)}}}function $(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":t.technique[i.nodeName]=parseFloat(i.textContent);break;case"wrapU":case"wrapV":"TRUE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=1:"FALSE"===i.textContent.toUpperCase()?t.technique[i.nodeName]=0:t.technique[i.nodeName]=parseInt(i.textContent)}}}function G(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique":t.technique=q(i)}}return t}function q(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"double_sided":t[i.nodeName]=parseInt(i.textContent)}}return t}function Y(e){return e}function X(e){var t,n,i=(t=e.url,p(Je.effects[t],Y)),o=i.profile.technique,a=i.profile.extra;switch(o.type){case"phong":case"blinn":n=new r.MeshPhongMaterial;break;case"lambert":n=new r.MeshLambertMaterial;break;default:n=new r.MeshBasicMaterial}function s(e){var t=i.profile.samplers[e.id],n=null;void 0!==t?n=D(i.profile.surfaces[t.source].init_from):(console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),n=D(e.id));if(null!==n){var o=function(e){var t,n=e.slice(2+(e.lastIndexOf(".")-1>>>0));switch(n=n.toLowerCase()){case"tga":t=Ge;break;default:t=Ye}return t}(n);if(void 0!==o){var a=o.load(n),s=e.extra;if(void 0!==s&&void 0!==s.technique&&!1===l(s.technique)){var c=s.technique;a.wrapS=c.wrapU?r.RepeatWrapping:r.ClampToEdgeWrapping,a.wrapT=c.wrapV?r.RepeatWrapping:r.ClampToEdgeWrapping,a.offset.set(c.offsetU||0,c.offsetV||0),a.repeat.set(c.repeatU||1,c.repeatV||1)}else a.wrapS=r.RepeatWrapping,a.wrapT=r.RepeatWrapping;return a}return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",n),null}return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",e.id),null}n.name=e.name||"";var c=o.parameters;for(var u in c){var h=c[u];switch(u){case"diffuse":h.color&&n.color.fromArray(h.color),h.texture&&(n.map=s(h.texture));break;case"specular":h.color&&n.specular&&n.specular.fromArray(h.color),h.texture&&(n.specularMap=s(h.texture));break;case"bump":h.texture&&(n.normalMap=s(h.texture));break;case"ambient":h.texture&&(n.lightMap=s(h.texture));break;case"shininess":h.float&&n.shininess&&(n.shininess=h.float);break;case"emission":h.color&&n.emissive&&n.emissive.fromArray(h.color),h.texture&&(n.emissiveMap=s(h.texture))}}var d=c.transparent,f=c.transparency;if(void 0===f&&d&&(f={float:1}),void 0===d&&f&&(d={opaque:"A_ONE",data:{color:[1,1,1,1]}}),d&&f)if(d.data.texture)n.transparent=!0;else{var m=d.data.color;switch(d.opaque){case"A_ONE":n.opacity=m[3]*f.float;break;case"RGB_ZERO":n.opacity=1-m[0]*f.float;break;case"A_ZERO":n.opacity=1-m[3]*f.float;break;case"RGB_ONE":n.opacity=m[0]*f.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',d.opaque)}n.opacity<1&&(n.transparent=!0)}return void 0!==a&&void 0!==a.technique&&1===a.technique.double_sided&&(n.side=r.DoubleSide),n}function K(e){return p(Je.materials[e],X)}function Z(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];switch(n.nodeName){case"technique_common":return J(n)}}return{}}function J(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"perspective":case"orthographic":t.technique=r.nodeName,t.parameters=Q(r)}}return t}function Q(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":t[r.nodeName]=parseFloat(r.textContent)}}return t}function ee(e){var t;switch(e.optics.technique){case"perspective":t=new r.PerspectiveCamera(e.optics.parameters.yfov,e.optics.parameters.aspect_ratio,e.optics.parameters.znear,e.optics.parameters.zfar);break;case"orthographic":var n=e.optics.parameters.ymag,i=e.optics.parameters.xmag,o=e.optics.parameters.aspect_ratio;i=void 0===i?n*o:i,n=void 0===n?i/o:n,i*=.5,n*=.5,t=new r.OrthographicCamera(-i,i,n,-n,e.optics.parameters.znear,e.optics.parameters.zfar);break;default:t=new r.PerspectiveCamera}return t.name=e.name||"",t}function te(e){var t=Je.cameras[e];return void 0!==t?p(t,ee):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",e),null)}function ne(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"directional":case"point":case"spot":case"ambient":t.technique=i.nodeName,t.parameters=re(i)}}return t}function re(e){for(var t={},n=0,i=e.childNodes.length;n<i;n++){var o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"color":var s=a(o.textContent);t.color=(new r.Color).fromArray(s);break;case"falloff_angle":t.falloffAngle=parseFloat(o.textContent);break;case"quadratic_attenuation":var c=parseFloat(o.textContent);t.distance=c?Math.sqrt(1/c):0}}return t}function ie(e){var t;switch(e.technique){case"directional":t=new r.DirectionalLight;break;case"point":t=new r.PointLight;break;case"spot":t=new r.SpotLight;break;case"ambient":t=new r.AmbientLight}return e.parameters.color&&t.color.copy(e.parameters.color),e.parameters.distance&&(t.distance=e.parameters.distance),t}function oe(e){var t=Je.lights[e];return void 0!==t?p(t,ie):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",e),null)}function ae(e){for(var t={array:[],stride:3},r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(1===i.nodeType)switch(i.nodeName){case"float_array":t.array=a(i.textContent);break;case"Name_array":t.array=o(i.textContent);break;case"technique_common":var s=n(i,"accessor")[0];void 0!==s&&(t.stride=parseInt(s.getAttribute("stride")))}}return t}function se(e){for(var t={},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];1===r.nodeType&&(t[r.getAttribute("semantic")]=c(r.getAttribute("source")))}return t}function ce(e){for(var t={type:e.nodeName,material:e.getAttribute("material"),count:parseInt(e.getAttribute("count")),inputs:{},stride:0,hasUV:!1},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"input":var o=c(i.getAttribute("source")),a=i.getAttribute("semantic"),l=parseInt(i.getAttribute("offset")),u=parseInt(i.getAttribute("set")),h=u>0?a+u:a;t.inputs[h]={id:o,offset:l},t.stride=Math.max(t.stride,l+1),"TEXCOORD"===a&&(t.hasUV=!0);break;case"vcount":t.vcount=s(i.textContent);break;case"p":t.p=s(i.textContent)}}return t}function le(e){for(var t=0,n=0,r=e.length;n<r;n++){!0===e[n].hasUV&&t++}t>0&&t<e.length&&(e.uvsNeedsFix=!0)}function ue(e){var t={},n=e.sources,r=e.vertices,i=e.primitives;if(0===i.length)return{};var o=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0===t[r.type]&&(t[r.type]=[]),t[r.type].push(r)}return t}(i);for(var a in o){var s=o[a];le(s),t[a]=he(s,n,r)}return t}function he(e,t,n){for(var i={},o={array:[],stride:0},a={array:[],stride:0},s={array:[],stride:0},c={array:[],stride:0},l={array:[],stride:0},u=[],h=4,d=[],f=4,p=new r.BufferGeometry,m=[],g=0,v=0;v<e.length;v++){var y=e[v],b=y.inputs,w=0;switch(y.type){case"lines":case"linestrips":w=2*y.count;break;case"triangles":w=3*y.count;break;case"polylist":for(var x=0;x<y.count;x++){var _=y.vcount[x];switch(_){case 3:w+=3;break;case 4:w+=6;break;default:w+=3*(_-2)}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",y.type)}for(var E in p.addGroup(g,w,v),g+=w,y.material&&m.push(y.material),b){var S=b[E];switch(E){case"VERTEX":for(var C in n){var A=n[C];switch(C){case"POSITION":var T=o.array.length;if(de(y,t[A],S.offset,o.array),o.stride=t[A].stride,t.skinWeights&&t.skinIndices&&(de(y,t.skinIndices,S.offset,u),de(y,t.skinWeights,S.offset,d)),!1===y.hasUV&&!0===e.uvsNeedsFix){w=(o.array.length-T)/o.stride;for(var M=0;M<w;M++)s.array.push(0,0)}break;case"NORMAL":de(y,t[A],S.offset,a.array),a.stride=t[A].stride;break;case"COLOR":de(y,t[A],S.offset,l.array),l.stride=t[A].stride;break;case"TEXCOORD":de(y,t[A],S.offset,s.array),s.stride=t[A].stride;break;case"TEXCOORD1":de(y,t[A],S.offset,c.array),s.stride=t[A].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',C)}}break;case"NORMAL":de(y,t[S.id],S.offset,a.array),a.stride=t[S.id].stride;break;case"COLOR":de(y,t[S.id],S.offset,l.array),l.stride=t[S.id].stride;break;case"TEXCOORD":de(y,t[S.id],S.offset,s.array),s.stride=t[S.id].stride;break;case"TEXCOORD1":de(y,t[S.id],S.offset,c.array),c.stride=t[S.id].stride}}}return o.array.length>0&&p.addAttribute("position",new r.Float32BufferAttribute(o.array,o.stride)),a.array.length>0&&p.addAttribute("normal",new r.Float32BufferAttribute(a.array,a.stride)),l.array.length>0&&p.addAttribute("color",new r.Float32BufferAttribute(l.array,l.stride)),s.array.length>0&&p.addAttribute("uv",new r.Float32BufferAttribute(s.array,s.stride)),c.array.length>0&&p.addAttribute("uv2",new r.Float32BufferAttribute(c.array,c.stride)),u.length>0&&p.addAttribute("skinIndex",new r.Float32BufferAttribute(u,h)),d.length>0&&p.addAttribute("skinWeight",new r.Float32BufferAttribute(d,f)),i.data=p,i.type=e[0].type,i.materialKeys=m,i}function de(e,t,n,r){var i=e.p,o=e.stride,a=e.vcount;function s(e){for(var t=i[e+n]*l,o=t+l;t<o;t++)r.push(c[t])}var c=t.array,l=t.stride;if(void 0!==e.vcount)for(var u=0,h=0,d=a.length;h<d;h++){var f=a[h];if(4===f){var p=u+1*o,m=u+2*o,g=u+3*o;s(u+0*o),s(p),s(g),s(p),s(m),s(g)}else if(3===f){p=u+1*o,m=u+2*o;s(u+0*o),s(p),s(m)}else if(f>4)for(var v=1,y=f-2;v<=y;v++){p=u+o*v,m=u+o*(v+1);s(u+0*o),s(p),s(m)}u+=o*f}else for(h=0,d=i.length;h<d;h+=o)s(h)}function fe(e){return p(Je.geometries[e],ue)}function pe(e){return void 0!==e.build?e.build:e}function me(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"joint":t.joints[r.getAttribute("sid")]=ge(r);break;case"link":t.links.push(ye(r))}}}function ge(e){for(var t,n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"prismatic":case"revolute":t=ve(r)}}return t}function ve(e,t){t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",axis:new r.Vector3,limits:{min:0,max:0},type:e.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"axis":var o=a(i.textContent);t.axis.fromArray(o);break;case"limits":var s=i.getElementsByTagName("max")[0],c=i.getElementsByTagName("min")[0];t.limits.max=parseFloat(s.textContent),t.limits.min=parseFloat(c.textContent)}}return t.limits.min>=t.limits.max&&(t.static=!0),t.middlePosition=(t.limits.min+t.limits.max)/2,t}function ye(e){for(var t={sid:e.getAttribute("sid"),name:e.getAttribute("name")||"",attachments:[],transforms:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"attachment_full":t.attachments.push(be(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(we(r))}}return t}function be(e){for(var t={joint:e.getAttribute("joint").split("/").pop(),transforms:[],links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"link":t.links.push(ye(r));break;case"matrix":case"translate":case"rotate":t.transforms.push(we(r))}}return t}function we(e){var t={type:e.nodeName},n=a(e.textContent);switch(t.type){case"matrix":t.obj=new r.Matrix4,t.obj.fromArray(n).transpose();break;case"translate":t.obj=new r.Vector3,t.obj.fromArray(n);break;case"rotate":t.obj=new r.Vector3,t.obj.fromArray(n),t.angle=r.Math.degToRad(n[3])}return t}function xe(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":_e(r,t)}}}function _e(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"inertia":t.inertia=a(r.textContent);break;case"mass":t.mass=a(r.textContent)[0]}}}function Ee(e){for(var t={target:e.getAttribute("target").split("/").pop()},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"axis":var i=r.getElementsByTagName("param")[0];t.axis=i.textContent;var o=t.axis.split("inst_").pop().split("axis")[0];t.jointIndex=o.substr(0,o.length-1)}}return t}function Se(e){return void 0!==e.build?e.build:e}function Ce(e){for(var t=[],n=Ue.querySelector('[id="'+e.id+'"]'),i=0;i<n.childNodes.length;i++){var o=n.childNodes[i];if(1===o.nodeType)switch(o.nodeName){case"matrix":var s=a(o.textContent),c=(new r.Matrix4).fromArray(s).transpose();t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:c});break;case"translate":case"scale":s=a(o.textContent);var l=(new r.Vector3).fromArray(s);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:l});break;case"rotate":s=a(o.textContent),l=(new r.Vector3).fromArray(s);var u=r.Math.degToRad(s[3]);t.push({sid:o.getAttribute("sid"),type:o.nodeName,obj:l,angle:u})}}return t}var Ae=new r.Matrix4,Te=new r.Vector3;function Me(e){for(var t={name:e.getAttribute("name")||"",type:e.getAttribute("type"),id:e.getAttribute("id"),sid:e.getAttribute("sid"),matrix:new r.Matrix4,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}},n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"node":t.nodes.push(i.getAttribute("id")),Me(i);break;case"instance_camera":t.instanceCameras.push(c(i.getAttribute("url")));break;case"instance_controller":t.instanceControllers.push(ke(i));break;case"instance_light":t.instanceLights.push(c(i.getAttribute("url")));break;case"instance_geometry":t.instanceGeometries.push(ke(i));break;case"instance_node":t.instanceNodes.push(c(i.getAttribute("url")));break;case"matrix":var o=a(i.textContent);t.matrix.multiply(Ae.fromArray(o).transpose()),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"translate":o=a(i.textContent);Te.fromArray(o),t.matrix.multiply(Ae.makeTranslation(Te.x,Te.y,Te.z)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"rotate":o=a(i.textContent);var s=r.Math.degToRad(o[3]);t.matrix.multiply(Ae.makeRotationAxis(Te.fromArray(o),s)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"scale":o=a(i.textContent);t.matrix.scale(Te.fromArray(o)),t.transforms[i.getAttribute("sid")]=i.nodeName;break;case"extra":break;default:console.log(i)}}return je(t.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",t.id):Je.nodes[t.id]=t,t}function ke(e){for(var t={id:c(e.getAttribute("url")),materials:{},skeletons:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];switch(r.nodeName){case"bind_material":for(var i=r.getElementsByTagName("instance_material"),o=0;o<i.length;o++){var a=i[o],s=a.getAttribute("symbol"),l=a.getAttribute("target");t.materials[s]=c(l)}break;case"skeleton":t.skeletons.push(c(r.textContent))}}return t}function Oe(e,t){var n,i,o,a=[],s=[];for(n=0;n<e.length;n++){var c=e[n];if(je(c))Pe(Ne(c),t,a);else if(o=c,void 0!==Je.visualScenes[o])for(var l=Je.visualScenes[c].children,u=0;u<l.length;u++){var h=l[u];if("JOINT"===h.type)Pe(Ne(h.id),t,a)}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",c)}for(n=0;n<t.length;n++)for(u=0;u<a.length;u++)if((i=a[u]).bone.name===t[n].name){s[n]=i,i.processed=!0;break}for(n=0;n<a.length;n++)!1===(i=a[n]).processed&&(s.push(i),i.processed=!0);var d=[],f=[];for(n=0;n<s.length;n++)i=s[n],d.push(i.bone),f.push(i.boneInverse);return new r.Skeleton(d,f)}function Pe(e,t,n){e.traverse((function(e){if(!0===e.isBone){for(var i,o=0;o<t.length;o++){var a=t[o];if(a.name===e.name){i=a.boneInverse;break}}void 0===i&&(i=new r.Matrix4),n.push({bone:e,boneInverse:i,processed:!1})}}))}function Re(e){for(var t,n=[],i=e.matrix,o=e.nodes,a=e.type,s=e.instanceCameras,c=e.instanceControllers,l=e.instanceLights,u=e.instanceGeometries,h=e.instanceNodes,d=0,f=o.length;d<f;d++)n.push(Ne(o[d]));for(d=0,f=s.length;d<f;d++){var m=te(s[d]);null!==m&&n.push(m.clone())}for(d=0,f=c.length;d<f;d++)for(var g=c[d],v=(t=g.id,p(Je.controllers[t],F)),y=De(fe(v.id),g.materials),b=Oe(g.skeletons,v.skin.joints),w=0,x=y.length;w<x;w++){var _;(_=y[w]).isSkinnedMesh&&(_.bind(b,v.skin.bindMatrix),_.normalizeSkinWeights()),n.push(_)}for(d=0,f=l.length;d<f;d++){var E=oe(l[d]);null!==E&&n.push(E.clone())}for(d=0,f=u.length;d<f;d++)for(w=0,x=(y=De(fe((g=u[d]).id),g.materials)).length;w<x;w++)n.push(y[w]);for(d=0,f=h.length;d<f;d++)n.push(Ne(h[d]).clone());if(0===o.length&&1===n.length)_=n[0];else{_="JOINT"===a?new r.Bone:new r.Group;for(d=0;d<n.length;d++)_.add(n[d])}return""===_.name&&(_.name="JOINT"===a?e.sid:e.name),_.matrix.copy(i),_.matrix.decompose(_.position,_.quaternion,_.scale),_}var Fe=new r.MeshBasicMaterial({color:16711935});function Le(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=t[e[r]];void 0===o?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",e[r]),n.push(Fe)):n.push(K(o))}return n}function De(e,t){var n=[];for(var i in e){var o=e[i],a=Le(o.materialKeys,t);0===a.length&&("lines"===i||"linestrips"===i?a.push(new r.LineBasicMaterial):a.push(new r.MeshPhongMaterial));var s=void 0!==o.data.attributes.skinIndex;if(s)for(var c=0,l=a.length;c<l;c++)a[c].skinning=!0;var u,h=1===a.length?a[0]:a;switch(i){case"lines":u=new r.LineSegments(o.data,h);break;case"linestrips":u=new r.Line(o.data,h);break;case"triangles":case"polylist":u=s?new r.SkinnedMesh(o.data,h):new r.Mesh(o.data,h)}n.push(u)}return n}function je(e){return void 0!==Je.nodes[e]}function Ne(e){return p(Je.nodes[e],Re)}function Ie(e){var t=new r.Group;t.name=e.name;for(var n=e.children,i=0;i<n.length;i++){var o=n[i];t.add(Ne(o.id))}return t}function Be(e){return p(Je.visualScenes[e],Ie)}if(0===e.length)return{scene:new r.Scene};var ze=(new DOMParser).parseFromString(e,"application/xml"),Ue=n(ze,"COLLADA")[0],He=ze.getElementsByTagName("parsererror")[0];if(void 0!==He){var Ve,We=n(He,"div")[0];return Ve=We?We.textContent:function(e){for(var t="",n=[e];n.length;){var r=n.shift();r.nodeType===Node.TEXT_NODE?t+=r.textContent:(t+="\n",n.push.apply(n,r.childNodes))}return t.trim()}(He),console.error("THREE.ColladaLoader: Failed to parse collada file.\n",Ve),null}var $e=Ue.getAttribute("version");console.log("THREE.ColladaLoader: File version",$e);var Ge,qe=function(e){return{unit:u(n(e,"unit")[0]),upAxis:h(n(e,"up_axis")[0])}}(n(Ue,"asset")[0]),Ye=new r.TextureLoader(this.manager);Ye.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),i&&(Ge=new i(this.manager)).setPath(this.resourcePath||t);var Xe=[],Ke={},Ze=0,Je={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};d(Ue,"library_animations","animation",(function(e){for(var t={sources:{},samplers:{},channels:{}},n=0,r=e.childNodes.length;n<r;n++){var i,o=e.childNodes[n];if(1===o.nodeType)switch(o.nodeName){case"source":i=o.getAttribute("id"),t.sources[i]=ae(o);break;case"sampler":i=o.getAttribute("id"),t.samplers[i]=m(o);break;case"channel":i=o.getAttribute("target"),t.channels[i]=g(o);break;default:console.log(o)}}Je.animations[e.getAttribute("id")]=t})),d(Ue,"library_animation_clips","animation_clip",(function(e){for(var t={name:e.getAttribute("id")||"default",start:parseFloat(e.getAttribute("start")||0),end:parseFloat(e.getAttribute("end")||0),animations:[]},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"instance_animation":t.animations.push(c(i.getAttribute("url")))}}Je.clips[e.getAttribute("id")]=t})),d(Ue,"library_controllers","controller",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"skin":t.id=c(i.getAttribute("source")),t.skin=O(i);break;case"morph":t.id=c(i.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.")}}Je.controllers[e.getAttribute("id")]=t})),d(Ue,"library_images","image",(function(e){var t={init_from:n(e,"init_from")[0].textContent};Je.images[e.getAttribute("id")]=t})),d(Ue,"library_effects","effect",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"profile_COMMON":t.profile=j(i)}}Je.effects[e.getAttribute("id")]=t})),d(Ue,"library_materials","material",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"instance_effect":t.url=c(i.getAttribute("url"))}}Je.materials[e.getAttribute("id")]=t})),d(Ue,"library_cameras","camera",(function(e){for(var t={name:e.getAttribute("name")},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"optics":t.optics=Z(i)}}Je.cameras[e.getAttribute("id")]=t})),d(Ue,"library_lights","light",(function(e){for(var t={},n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(1===i.nodeType)switch(i.nodeName){case"technique_common":t=ne(i)}}Je.lights[e.getAttribute("id")]=t})),d(Ue,"library_geometries","geometry",(function(e){var t={name:e.getAttribute("name"),sources:{},vertices:{},primitives:[]},r=n(e,"mesh")[0];if(void 0!==r){for(var i=0;i<r.childNodes.length;i++){var o=r.childNodes[i];if(1===o.nodeType){var a=o.getAttribute("id");switch(o.nodeName){case"source":t.sources[a]=ae(o);break;case"vertices":t.vertices=se(o);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",o.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":t.primitives.push(ce(o));break;default:console.log(o)}}}Je.geometries[e.getAttribute("id")]=t}})),d(Ue,"library_nodes","node",Me),d(Ue,"library_visual_scenes","visual_scene",(function(e){var t={name:e.getAttribute("name"),children:[]};!function(e){for(var t=e.getElementsByTagName("node"),n=0;n<t.length;n++){var r=t[n];!1===r.hasAttribute("id")&&r.setAttribute("id","three_default_"+Ze++)}}(e);for(var r=n(e,"node"),i=0;i<r.length;i++)t.children.push(Me(r[i]));Je.visualScenes[e.getAttribute("id")]=t})),d(Ue,"library_kinematics_models","kinematics_model",(function(e){for(var t={name:e.getAttribute("name")||"",joints:{},links:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"technique_common":me(r,t)}}Je.kinematicsModels[e.getAttribute("id")]=t})),d(Ue,"library_physics_models","physics_model",(function(e){for(var t={name:e.getAttribute("name")||"",rigidBodies:{}},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"rigid_body":t.rigidBodies[r.getAttribute("name")]={},xe(r,t.rigidBodies[r.getAttribute("name")])}}Je.physicsModels[e.getAttribute("id")]=t})),d(Ue,"scene","instance_kinematics_scene",(function(e){for(var t={bindJointAxis:[]},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType)switch(r.nodeName){case"bind_joint_axis":t.bindJointAxis.push(Ee(r))}}Je.kinematicsScenes[c(e.getAttribute("url"))]=t})),f(Je.animations,v),f(Je.clips,M),f(Je.controllers,F),f(Je.images,L),f(Je.effects,Y),f(Je.materials,X),f(Je.cameras,ee),f(Je.lights,ie),f(Je.geometries,ue),f(Je.visualScenes,Ie),function(){var e=Je.clips;if(!0===l(e)){if(!1===l(Je.animations)){var t=[];for(var n in Je.animations)for(var i=y(n),o=0,a=i.length;o<a;o++)t.push(i[o]);Xe.push(new r.AnimationClip("default",-1,t))}}else for(var n in e)Xe.push(k(n))}(),function(){var e=Object.keys(Je.kinematicsModels)[0],t=Object.keys(Je.kinematicsScenes)[0],n=Object.keys(Je.visualScenes)[0];if(void 0!==e&&void 0!==t){for(var i,o=(i=e,p(Je.kinematicsModels[i],pe)),a=function(e){return p(Je.kinematicsScenes[e],Se)}(t),s=Be(n),c=a.bindJointAxis,l={},u=0,h=c.length;u<h;u++){var d=c[u],f=Ue.querySelector('[sid="'+d.target+'"]');if(f){var m=f.parentElement;v(d.jointIndex,m)}}var g=new r.Matrix4;Ke={joints:o&&o.joints,getJointValue:function(e){var t=l[e];if(t)return t.position;console.warn("THREE.ColladaLoader: Joint "+e+" doesn't exist.")},setJointValue:function(e,t){var n=l[e];if(n){var i=n.joint;if(t>i.limits.max||t<i.limits.min)console.warn("THREE.ColladaLoader: Joint "+e+" value "+t+" outside of limits (min: "+i.limits.min+", max: "+i.limits.max+").");else if(i.static)console.warn("THREE.ColladaLoader: Joint "+e+" is static.");else{var o=n.object,a=i.axis,s=n.transforms;Ae.identity();for(var c=0;c<s.length;c++){var u=s[c];if(u.sid&&-1!==u.sid.indexOf(e))switch(i.type){case"revolute":Ae.multiply(g.makeRotationAxis(a,r.Math.degToRad(t)));break;case"prismatic":Ae.multiply(g.makeTranslation(a.x*t,a.y*t,a.z*t));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+i.type)}else switch(u.type){case"matrix":Ae.multiply(u.obj);break;case"translate":Ae.multiply(g.makeTranslation(u.obj.x,u.obj.y,u.obj.z));break;case"scale":Ae.scale(u.obj);break;case"rotate":Ae.multiply(g.makeRotationAxis(u.obj,u.angle))}}o.matrix.copy(Ae),o.matrix.decompose(o.position,o.quaternion,o.scale),l[e].position=t}}else console.log("THREE.ColladaLoader: "+e+" does not exist.")}}}function v(e,t){var n=t.getAttribute("name"),r=o.joints[e];s.traverse((function(i){i.name===n&&(l[e]={object:i,transforms:Ce(t),joint:r,position:r.zeroPosition})}))}}();var Qe=function(e){return Be(c(n(e,"instance_visual_scene")[0].getAttribute("url")))}(n(Ue,"scene")[0]);return"Z_UP"===qe.upAxis&&Qe.quaternion.setFromEuler(new r.Euler(-Math.PI/2,0,0)),Qe.scale.multiplyScalar(qe.unit),{animations:Xe,kinematics:Ke,library:Je,scene:Qe}}})},uM7l:function(e,t,n){var r=n("OBhP"),i=4;e.exports=function(e){return r(e,i)}},uOPS:function(e,t){e.exports=!0},uQRt:function(e,t,n){e.exports=function(){return n("gaXo"),{}}},ujgL:function(e,t,n){"use strict";var r=n("IPAr");e.exports=function(e,t,n){var y,b,w,x,_,E,S,C,A,T,M,k,O,P,R,F,L,D,j,N,I,B,z,U;if(!this.options.gfm)return;y=0,D=0,E=t.length+1,S=[];for(;y<E;){if(B=t.indexOf(u,y),z=t.indexOf(s,y+1),-1===B&&(B=t.length),-1===z||z>B){if(D<f)return;break}S.push(t.slice(y,B)),D++,y=B+1}x=S.join(u),b=S.splice(1,1)[0]||[],y=0,E=b.length,D--,w=!1,M=[];for(;y<E;){if((A=b.charAt(y))===s){if(T=null,!1===w){if(!1===U)return}else M.push(w),w=!1;U=!1}else if(A===a)T=!0,w=w||v;else if(A===c)w=w===p?m:T&&w===v?g:p;else if(!r(A))return;y++}!1!==w&&M.push(w);if(M.length<d)return;if(n)return!0;L=-1,N=[],I=e(x).reset({type:"table",align:M,children:N});for(;++L<D;){for(j=S[L],_={type:"tableRow",children:[]},L&&e(u),e(j).reset(_,I),E=j.length+1,y=0,C="",k="",O=!0,P=null,R=null;y<E;)if((A=j.charAt(y))!==h&&A!==l){if(""===A||A===s)if(O)e(A);else{if(A&&R){C+=A,y++;continue}!k&&!A||O||(x=k,C.length>1&&(A?(x+=C.slice(0,C.length-1),C=C.charAt(C.length-1)):(x+=C,C="")),F=e.now(),e(x)({type:"tableCell",children:this.tokenizeInline(k,F)},_)),e(C+A),C="",k=""}else if(C&&(k+=C,C=""),k+=A,A===i&&y!==E-2&&(k+=j.charAt(y+1),y++),A===o){for(P=1;j.charAt(y+1)===A;)k+=A,y++,P++;R?P>=R&&(R=0):R=P}O=!1,y++}else k?C+=A:e(A),y++;L||e(u+b)}return I};var i="\\",o="`",a="-",s="|",c=":",l=" ",u="\n",h="\t",d=1,f=2,p="left",m="center",g="right",v=null},um8h:function(e,t,n){var r=n("tfBy"),i=n("ChrQ"),o=n("Ymag"),a=n("NlNu").DOMParser;e.exports=function(e){var t=(e=e||{}).xml,n=e.string;this.materials={},this.links={},this.joints={},n&&(t=(new a).parseFromString(n,"text/xml"));var s=t.documentElement;this.name=s.getAttribute("name");for(var c=s.childNodes,l=0;l<c.length;l++){var u=c[l];if("material"===u.tagName){var h=new r({xml:u});void 0!==this.materials[h.name]?this.materials[h.name].isLink()?this.materials[h.name].assign(h):console.warn("Material "+h.name+"is not unique."):this.materials[h.name]=h}else if("link"===u.tagName){var d=new i({xml:u});if(void 0!==this.links[d.name])console.warn("Link "+d.name+" is not unique.");else{for(var f=0;f<d.visuals.length;f++){var p=d.visuals[f].material;null!==p&&(void 0!==this.materials[p.name]?d.visuals[f].material=this.materials[p.name]:this.materials[p.name]=p)}this.links[d.name]=d}}else if("joint"===u.tagName){var m=new o({xml:u});this.joints[m.name]=m}}}},uqDE:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("48TB"),a={};function s(){}function c(e){for(var t=e.length,n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t,n){try{return e.f(t)}catch(e){return n._e(e),a}}t.NO=a;var u={_n:s,_e:s,_c:s};function h(e){e._start=function(e){e.next=e._n,e.error=e._e,e.complete=e._c,this.start(e)},e._stop=e.stop}t.NO_IL=u;var d=function(){function e(e,t){this._stream=e,this._listener=t}return e.prototype.unsubscribe=function(){this._stream._remove(this._listener)},e}(),f=function(){function e(e){this._listener=e}return e.prototype.next=function(e){this._listener._n(e)},e.prototype.error=function(e){this._listener._e(e)},e.prototype.complete=function(){this._listener._c()},e}(),p=function(){function e(e){this.type="fromObservable",this.ins=e,this.active=!1}return e.prototype._start=function(e){this.out=e,this.active=!0,this._sub=this.ins.subscribe(new f(e)),this.active||this._sub.unsubscribe()},e.prototype._stop=function(){this._sub&&this._sub.unsubscribe(),this.active=!1},e}(),m=function(){function e(e){this.type="merge",this.insArr=e,this.out=a,this.ac=0}return e.prototype._start=function(e){this.out=e;var t=this.insArr,n=t.length;this.ac=n;for(var r=0;r<n;r++)t[r]._add(this)},e.prototype._stop=function(){for(var e=this.insArr,t=e.length,n=0;n<t;n++)e[n]._remove(this);this.out=a},e.prototype._n=function(e){var t=this.out;t!==a&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){if(--this.ac<=0){var e=this.out;if(e===a)return;e._c()}},e}(),g=function(){function e(e,t,n){this.i=e,this.out=t,this.p=n,n.ils.push(this)}return e.prototype._n=function(e){var t=this.p,n=this.out;if(n!==a&&t.up(e,this.i)){for(var r=t.vals,i=r.length,o=Array(i),s=0;s<i;++s)o[s]=r[s];n._n(o)}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.p;e.out!==a&&0==--e.Nc&&e.out._c()},e}(),v=function(){function e(e){this.type="combine",this.insArr=e,this.out=a,this.ils=[],this.Nc=this.Nn=0,this.vals=[]}return e.prototype.up=function(e,t){var n=this.vals[t],r=this.Nn?n===a?--this.Nn:this.Nn:0;return this.vals[t]=e,0===r},e.prototype._start=function(e){this.out=e;var t=this.insArr,n=this.Nc=this.Nn=t.length,r=this.vals=new Array(n);if(0===n)e._n([]),e._c();else for(var i=0;i<n;i++)r[i]=a,t[i]._add(new g(i,e,this))},e.prototype._stop=function(){for(var e=this.insArr,t=e.length,n=this.ils,r=0;r<t;r++)e[r]._remove(n[r]);this.out=a,this.ils=[],this.vals=[]},e}(),y=function(){function e(e){this.type="fromArray",this.a=e}return e.prototype._start=function(e){for(var t=this.a,n=0,r=t.length;n<r;n++)e._n(t[n]);e._c()},e.prototype._stop=function(){},e}(),b=function(){function e(e){this.type="fromPromise",this.on=!1,this.p=e}return e.prototype._start=function(e){var t=this;this.on=!0,this.p.then((function(n){t.on&&(e._n(n),e._c())}),(function(t){e._e(t)})).then(s,(function(e){setTimeout((function(){throw e}))}))},e.prototype._stop=function(){this.on=!1},e}(),w=function(){function e(e){this.type="periodic",this.period=e,this.intervalID=-1,this.i=0}return e.prototype._start=function(e){var t=this;this.intervalID=setInterval((function(){e._n(t.i++)}),this.period)},e.prototype._stop=function(){-1!==this.intervalID&&clearInterval(this.intervalID),this.intervalID=-1,this.i=0},e}(),x=function(){function e(e,t){this.type="debug",this.ins=e,this.out=a,this.s=s,this.l="","string"==typeof t?this.l=t:"function"==typeof t&&(this.s=t)}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=this.s,r=this.l;if(n!==s)try{n(e)}catch(e){t._e(e)}else r?console.log(r+":",e):console.log(e);t._n(e)}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),_=function(){function e(e,t){this.type="drop",this.ins=t,this.out=a,this.max=e,this.dropped=0}return e.prototype._start=function(e){this.out=e,this.dropped=0,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;t!==a&&this.dropped++>=this.max&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),E=function(){function e(e,t){this.out=e,this.op=t}return e.prototype._n=function(){this.op.end()},e.prototype._e=function(e){this.out._e(e)},e.prototype._c=function(){this.op.end()},e}(),S=function(){function e(e,t){this.type="endWhen",this.ins=t,this.out=a,this.o=e,this.oil=u}return e.prototype._start=function(e){this.out=e,this.o._add(this.oil=new E(e,this)),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.o._remove(this.oil),this.out=a,this.oil=u},e.prototype.end=function(){var e=this.out;e!==a&&e._c()},e.prototype._n=function(e){var t=this.out;t!==a&&t._n(e)},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){this.end()},e}(),C=function(){function e(e,t){this.type="filter",this.ins=t,this.out=a,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=l(this,e,t);n!==a&&n&&t._n(e)}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),A=function(){function e(e,t){this.out=e,this.op=t}return e.prototype._n=function(e){this.out._n(e)},e.prototype._e=function(e){this.out._e(e)},e.prototype._c=function(){this.op.inner=a,this.op.less()},e}(),T=function(){function e(e){this.type="flatten",this.ins=e,this.out=a,this.open=!0,this.inner=a,this.il=u}return e.prototype._start=function(e){this.out=e,this.open=!0,this.inner=a,this.il=u,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.inner!==a&&this.inner._remove(this.il),this.out=a,this.open=!0,this.inner=a,this.il=u},e.prototype.less=function(){var e=this.out;e!==a&&(this.open||this.inner!==a||e._c())},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=this.inner,r=this.il;n!==a&&r!==u&&n._remove(r),(this.inner=e)._add(this.il=new A(t,this))}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){this.open=!1,this.less()},e}(),M=function(){function e(e,t,n){var r=this;this.type="fold",this.ins=n,this.out=a,this.f=function(t){return e(r.acc,t)},this.acc=this.seed=t}return e.prototype._start=function(e){this.out=e,this.acc=this.seed,e._n(this.acc),this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a,this.acc=this.seed},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=l(this,e,t);n!==a&&t._n(this.acc=n)}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),k=function(){function e(e){this.type="last",this.ins=e,this.out=a,this.has=!1,this.val=a}return e.prototype._start=function(e){this.out=e,this.has=!1,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a,this.val=a},e.prototype._n=function(e){this.has=!0,this.val=e},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&(this.has?(e._n(this.val),e._c()):e._e(new Error("last() failed because input stream completed")))},e}(),O=function(){function e(e,t){this.type="map",this.ins=t,this.out=a,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=l(this,e,t);n!==a&&t._n(n)}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),P=function(){function e(e){this.type="remember",this.ins=e,this.out=a}return e.prototype._start=function(e){this.out=e,this.ins._add(e)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=a},e}(),R=function(){function e(e,t){this.type="replaceError",this.ins=t,this.out=a,this.f=e}return e.prototype._start=function(e){this.out=e,this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;t!==a&&t._n(e)},e.prototype._e=function(e){var t=this.out;if(t!==a)try{this.ins._remove(this),(this.ins=this.f(e))._add(this)}catch(e){t._e(e)}},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),F=function(){function e(e,t){this.type="startWith",this.ins=e,this.out=a,this.val=t}return e.prototype._start=function(e){this.out=e,this.out._n(this.val),this.ins._add(e)},e.prototype._stop=function(){this.ins._remove(this.out),this.out=a},e}(),L=function(){function e(e,t){this.type="take",this.ins=t,this.out=a,this.max=e,this.taken=0}return e.prototype._start=function(e){this.out=e,this.taken=0,this.max<=0?e._c():this.ins._add(this)},e.prototype._stop=function(){this.ins._remove(this),this.out=a},e.prototype._n=function(e){var t=this.out;if(t!==a){var n=++this.taken;n<this.max?t._n(e):n===this.max&&(t._n(e),t._c())}},e.prototype._e=function(e){var t=this.out;t!==a&&t._e(e)},e.prototype._c=function(){var e=this.out;e!==a&&e._c()},e}(),D=function(){function e(e){this._prod=e||a,this._ils=[],this._stopID=a,this._dl=a,this._d=!1,this._target=a,this._err=a}return e.prototype._n=function(e){var t=this._ils,n=t.length;if(this._d&&this._dl._n(e),1==n)t[0]._n(e);else{if(0==n)return;for(var r=c(t),i=0;i<n;i++)r[i]._n(e)}},e.prototype._e=function(e){if(this._err===a){this._err=e;var t=this._ils,n=t.length;if(this._x(),this._d&&this._dl._e(e),1==n)t[0]._e(e);else{if(0==n)return;for(var r=c(t),i=0;i<n;i++)r[i]._e(e)}if(!this._d&&0==n)throw this._err}},e.prototype._c=function(){var e=this._ils,t=e.length;if(this._x(),this._d&&this._dl._c(),1==t)e[0]._c();else{if(0==t)return;for(var n=c(e),r=0;r<t;r++)n[r]._c()}},e.prototype._x=function(){0!==this._ils.length&&(this._prod!==a&&this._prod._stop(),this._err=a,this._ils=[])},e.prototype._stopNow=function(){this._prod._stop(),this._err=a,this._stopID=a},e.prototype._add=function(e){var t=this._target;if(t!==a)return t._add(e);var n=this._ils;if(n.push(e),!(n.length>1))if(this._stopID!==a)clearTimeout(this._stopID),this._stopID=a;else{var r=this._prod;r!==a&&r._start(this)}},e.prototype._remove=function(e){var t=this,n=this._target;if(n!==a)return n._remove(e);var r=this._ils,i=r.indexOf(e);i>-1&&(r.splice(i,1),this._prod!==a&&r.length<=0?(this._err=a,this._stopID=setTimeout((function(){return t._stopNow()}))):1===r.length&&this._pruneCycles())},e.prototype._pruneCycles=function(){this._hasNoSinks(this,[])&&this._remove(this._ils[0])},e.prototype._hasNoSinks=function(e,t){if(-1!==t.indexOf(e))return!0;if(e.out===this)return!0;if(e.out&&e.out!==a)return this._hasNoSinks(e.out,t.concat(e));if(e._ils){for(var n=0,r=e._ils.length;n<r;n++)if(!this._hasNoSinks(e._ils[n],t.concat(e)))return!1;return!0}return!1},e.prototype.ctor=function(){return this instanceof j?j:e},e.prototype.addListener=function(e){e._n=e.next||s,e._e=e.error||s,e._c=e.complete||s,this._add(e)},e.prototype.removeListener=function(e){this._remove(e)},e.prototype.subscribe=function(e){return this.addListener(e),new d(this,e)},e.prototype[o.default]=function(){return this},e.create=function(t){if(t){if("function"!=typeof t.start||"function"!=typeof t.stop)throw new Error("producer requires both start and stop functions");h(t)}return new e(t)},e.createWithMemory=function(e){return e&&h(e),new j(e)},e.never=function(){return new e({_start:s,_stop:s})},e.empty=function(){return new e({_start:function(e){e._c()},_stop:s})},e.throw=function(t){return new e({_start:function(e){e._e(t)},_stop:s})},e.from=function(t){if("function"==typeof t[o.default])return e.fromObservable(t);if("function"==typeof t.then)return e.fromPromise(t);if(Array.isArray(t))return e.fromArray(t);throw new TypeError("Type of input to from() must be an Array, Promise, or Observable")},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.fromArray(t)},e.fromArray=function(t){return new e(new y(t))},e.fromPromise=function(t){return new e(new b(t))},e.fromObservable=function(t){if(t.endWhen)return t;var n="function"==typeof t[o.default]?t[o.default]():t;return new e(new p(n))},e.periodic=function(t){return new e(new w(t))},e.prototype._map=function(e){return new(this.ctor())(new O(e,this))},e.prototype.map=function(e){return this._map(e)},e.prototype.mapTo=function(e){var t=this.map((function(){return e}));return t._prod.type="mapTo",t},e.prototype.filter=function(t){var n,r,i=this._prod;return new e(i instanceof C?new C((n=i.f,r=t,function(e){return n(e)&&r(e)}),i.ins):new C(t,this))},e.prototype.take=function(e){return new(this.ctor())(new L(e,this))},e.prototype.drop=function(t){return new e(new _(t,this))},e.prototype.last=function(){return new e(new k(this))},e.prototype.startWith=function(e){return new j(new F(this,e))},e.prototype.endWhen=function(e){return new(this.ctor())(new S(e,this))},e.prototype.fold=function(e,t){return new j(new M(e,t,this))},e.prototype.replaceError=function(e){return new(this.ctor())(new R(e,this))},e.prototype.flatten=function(){return new e(new T(this))},e.prototype.compose=function(e){return e(this)},e.prototype.remember=function(){return new j(new P(this))},e.prototype.debug=function(e){return new(this.ctor())(new x(this,e))},e.prototype.imitate=function(e){if(e instanceof j)throw new Error("A MemoryStream was given to imitate(), but it only supports a Stream. Read more about this restriction here: https://github.com/staltz/xstream#faq");this._target=e;for(var t=this._ils,n=t.length,r=0;r<n;r++)e._add(t[r]);this._ils=[]},e.prototype.shamefullySendNext=function(e){this._n(e)},e.prototype.shamefullySendError=function(e){this._e(e)},e.prototype.shamefullySendComplete=function(){this._c()},e.prototype.setDebugListener=function(e){e?(this._d=!0,e._n=e.next||s,e._e=e.error||s,e._c=e.complete||s,this._dl=e):(this._d=!1,this._dl=a)},e.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(new m(t))},e.combine=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(new v(t))},e}();t.Stream=D;var j=function(e){function t(t){var n=e.call(this,t)||this;return n._has=!1,n}return i(t,e),t.prototype._n=function(t){this._v=t,this._has=!0,e.prototype._n.call(this,t)},t.prototype._add=function(e){var t=this._target;if(t!==a)return t._add(e);var n=this._ils;if(n.push(e),n.length>1)this._has&&e._n(this._v);else if(this._stopID!==a)this._has&&e._n(this._v),clearTimeout(this._stopID),this._stopID=a;else if(this._has)e._n(this._v);else{var r=this._prod;r!==a&&r._start(this)}},t.prototype._stopNow=function(){this._has=!1,e.prototype._stopNow.call(this)},t.prototype._x=function(){this._has=!1,e.prototype._x.call(this)},t.prototype.map=function(e){return this._map(e)},t.prototype.mapTo=function(t){return e.prototype.mapTo.call(this,t)},t.prototype.take=function(t){return e.prototype.take.call(this,t)},t.prototype.endWhen=function(t){return e.prototype.endWhen.call(this,t)},t.prototype.replaceError=function(t){return e.prototype.replaceError.call(this,t)},t.prototype.remember=function(){return this},t.prototype.debug=function(t){return e.prototype.debug.call(this,t)},t}(D);t.MemoryStream=j;var N=D;t.default=N},"ut/Y":function(e,t,n){var r=n("ZCpW"),i=n("GDhZ"),o=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},uzq8:function(e,t,n){"use strict";e.exports=function(e,t,n){var r=[];"function"==typeof t&&(n=t,t=null);function i(e){var o;return t&&e.type!==t||(o=n(e,r.concat())),e.children&&!1!==o?function(e,t){var n,o=e.length,a=-1;r.push(t);for(;++a<o;)if((n=e[a])&&!1===i(n))return!1;return r.pop(),!0}(e.children,e):o}i(e)}},v5Dd:function(e,t,n){var r=n("NsO/"),i=n("vwuL").f;n("zn7N")("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},v5S5:function(e,t,n){var r=n("UCHQ");n("OqVj")(r,["ActionClient","SimpleActionServer"],e.exports={ActionClient:n("rcjB"),ActionListener:n("CyBW"),Goal:n("IDHz"),SimpleActionServer:n("n2bN")})},v8eK:function(e,t,n){var r=n("XGnz"),i=n("EA7m"),o=n("LGYb"),a=n("3L66"),s=i((function(e){return o(r(e,1,a,!0))}));e.exports=s},vBP9:function(e,t,n){var r=n("5T2Y").navigator;e.exports=r&&r.userAgent||""},vCiO:function(e,t,n){"use strict";n.r(t);var r,i,o="undefined"==typeof window?{}:window,a=[],s=function(e){if(!r){var t=document.createTextNode("");new MutationObserver((function(){return a.splice(0).forEach((function(e){return e()}))})).observe(t,{characterData:!0}),r=function(){t.textContent=""}}a.push(e),r()},c={attributes:!0,characterData:!0,childList:!0,subtree:!0},l=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],u=!1,h=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t,n=this;u||(u=!0,t=function(){var t=!1;try{t=j()}finally{if(u=!1,!I())return;t?n.run(60):e?n.run(e-1):n.start()}},s((function(){requestAnimationFrame(t)})))},e.prototype.schedule=function(){this.stop(),this.run(12)},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,c)};document.body?t():o.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),l.forEach((function(t){return o.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),l.forEach((function(t){return o.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}());!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box"}(i||(i={}));var d=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),f=function(e){return e instanceof SVGElement&&"getBBox"in e},p=function(e){if(f(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},m=new Map,g=/auto|scroll/,v=/^tb|vertical/,y=/msie|trident/i.test(o.navigator&&o.navigator.userAgent),b=function(e){return parseFloat(e||"0")},w=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},x=Object.freeze({borderBoxSize:w(),contentBoxSize:w(),contentRect:new d(0,0,0,0)}),_=function(e){if(m.has(e))return m.get(e);if(p(e))return m.set(e,x),x;var t=getComputedStyle(e),n=f(e)&&e.getBBox(),r=!y&&"border-box"===t.boxSizing,i=v.test(t.writingMode||""),o=!n&&g.test(t.overflowY||""),a=!n&&g.test(t.overflowX||""),s=n?0:b(t.paddingTop),c=n?0:b(t.paddingRight),l=n?0:b(t.paddingBottom),u=n?0:b(t.paddingLeft),h=n?0:b(t.borderTopWidth),_=n?0:b(t.borderRightWidth),E=n?0:b(t.borderBottomWidth),S=u+c,C=s+l,A=(n?0:b(t.borderLeftWidth))+_,T=h+E,M=a?e.offsetHeight-T-e.clientHeight:0,k=o?e.offsetWidth-A-e.clientWidth:0,O=r?S+A:0,P=r?C+T:0,R=n?n.width:b(t.width)-O-k,F=n?n.height:b(t.height)-P-M,L=R+S+k+A,D=F+C+M+T,j=Object.freeze({borderBoxSize:w(L,D,i),contentBoxSize:w(R,F,i),contentRect:new d(u,s,R,F)});return m.set(e,j),j},E=function(e,t){var n=_(e),r=n.borderBoxSize,o=n.contentBoxSize;return t===i.BORDER_BOX?r:o},S=function(){function e(e,t){this.target=e,this.observedBox=t||i.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=E(this.target,this.observedBox);return e=this.target,f(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),C=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},A="ResizeObserver loop completed with undelivered notifications.",T=function(e){var t=_(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=t.borderBoxSize,this.contentBoxSize=t.contentBoxSize},M=function(e){if(p(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},k=function(){var e=1/0,t=[];P.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new T(t.target),i=M(t.target);r.push(n),t.lastReportedSize=E(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},O=function(e){m.clear(),P.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(M(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},P=[],R=new Map,F=0,L=function(e){!F&&e>0&&h.start(),!(F+=e)&&h.stop()},D=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},j=function(){var e,t=0;for(O(t);P.some((function(e){return e.activeTargets.length>0}));)t=k(),O(t);return P.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:A}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=A),window.dispatchEvent(e)),t>0},N=function(){function e(){}return e.connect=function(e,t){var n=new C(e,t);P.push(n),R.set(e,n)},e.observe=function(e,t,n){if(R.has(e)){var r=R.get(e);D(r.observationTargets,t)<0&&(r.observationTargets.push(new S(t,n&&n.box)),L(1),h.schedule())}},e.unobserve=function(e,t){if(R.has(e)){var n=R.get(e),r=D(n.observationTargets,t);r>=0&&(n.observationTargets.splice(r,1),L(-1))}},e.disconnect=function(e){if(R.has(e)){var t=R.get(e);P.splice(P.indexOf(t),1),R.delete(e),L(-t.observationTargets.length)}},e}(),I=function(){return!!F};n.d(t,"ResizeObserver",(function(){return B}));var B=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");N.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(e instanceof Element==!1)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");N.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(e instanceof Element==!1)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");N.unobserve(this,e)},e.prototype.disconnect=function(){N.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();t.default=B},"vN+2":function(e,t){e.exports=function(){}},vOnD:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return nt})),n.d(t,"b",(function(){return we})),n.d(t,"d",(function(){return it}));var r=n("aJjT"),i=n.n(r),o=n("TAZq"),a=n.n(o),s=n("q1tI"),c=n.n(s),l=n("ME5O"),u=n("TOwV"),h=n("Wwog"),d=(n("17x9"),n("9uj6")),f=n("ECyS"),p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},_=function(e){return"object"===(void 0===e?"undefined":m(e))&&e.constructor===Object},E=Object.freeze([]),S=Object.freeze({});function C(e){return"function"==typeof e}function A(e){return e.displayName||e.name||"Component"}function T(e){return e&&"string"==typeof e.styledComponentId}var M=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",k="undefined"!=typeof window&&"HTMLElement"in window,O="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==e&&(e.env.REACT_APP_SC_DISABLE_SPEEDY||e.env.SC_DISABLE_SPEEDY)||!1,P={};var R=function(e){function t(n){g(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=x(this,e.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+n+" for more information."+(i.length>0?" Additional arguments: "+i.join(", "):"")));return x(a)}return b(t,e),t}(Error),F=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,L=function(e){var t=""+(e||""),n=[];return t.replace(F,(function(e,t,r){return n.push({componentId:t,matchIndex:r}),e})),n.map((function(e,r){var i=e.componentId,o=e.matchIndex,a=n[r+1];return{componentId:i,cssFromDOM:a?t.slice(o,a.matchIndex):t.slice(o)}}))},D=/^\s*\/\/.*$/gm,j=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),N=new i.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),I=[],B=function(e){if(-2===e){var t=I;return I=[],t}},z=a()((function(e){I.push(e)})),U=void 0,H=void 0,V=void 0,W=function(e,t,n){return t>0&&-1!==n.slice(0,t).indexOf(H)&&n.slice(t-H.length,t)!==H?"."+U:e};N.use([function(e,t,n){2===e&&n.length&&n[0].lastIndexOf(H)>0&&(n[0]=n[0].replace(V,W))},z,B]),j.use([z,B]);var $=function(e){return j("",e)};function G(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",i=e.join("").replace(D,""),o=t&&n?n+" "+t+" { "+i+" }":i;return U=r,H=t,V=new RegExp("\\"+H+"\\b","g"),N(n||!t?"":t,o)}var q=function(){return n.nc},Y=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},X=function(e,t){e[t]=Object.create(null)},K=function(e){return function(t,n){return void 0!==e[t]&&e[t][n]}},Z=function(e){var t="";for(var n in e)t+=Object.keys(e[n]).join(" ")+" ";return t.trim()},J=function(e){if(e.sheet)return e.sheet;for(var t=e.ownerDocument.styleSheets.length,n=0;n<t;n+=1){var r=e.ownerDocument.styleSheets[n];if(r.ownerNode===e)return r}throw new R(10)},Q=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},ee=function(e){return"\n/* sc-component-id: "+e+" */\n"},te=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},ne=function(e,t){return function(n){var r=q();return"<style "+[r&&'nonce="'+r+'"',M+'="'+Z(t)+'"','data-styled-version="4.4.1"',n].filter(Boolean).join(" ")+">"+e()+"</style>"}},re=function(e,t){return function(){var n,r=((n={})[M]=Z(t),n["data-styled-version"]="4.4.1",n),i=q();return i&&(r.nonce=i),c.a.createElement("style",y({},r,{dangerouslySetInnerHTML:{__html:e()}}))}},ie=function(e){return function(){return Object.keys(e)}},oe=function(e,t){return e.createTextNode(ee(t))},ae=function e(t,n){var r=void 0===t?Object.create(null):t,i=void 0===n?Object.create(null):n,o=function(e){var t=i[e];return void 0!==t?t:i[e]=[""]},a=function(){var e="";for(var t in i){var n=i[t][0];n&&(e+=ee(t)+n)}return e};return{clone:function(){var t=function(e){var t=Object.create(null);for(var n in e)t[n]=y({},e[n]);return t}(r),n=Object.create(null);for(var o in i)n[o]=[i[o][0]];return e(t,n)},css:a,getIds:ie(i),hasNameForId:K(r),insertMarker:o,insertRules:function(e,t,n){o(e)[0]+=t.join(" "),Y(r,e,n)},removeRules:function(e){var t=i[e];void 0!==t&&(t[0]="",X(r,e))},sealed:!1,styleTag:null,toElement:re(a,r),toHTML:ne(a,r)}},se=function(e,t,n,r,i){if(k&&!n){var o=function(e,t,n){var r=document;e?r=e.ownerDocument:t&&(r=t.ownerDocument);var i=r.createElement("style");i.setAttribute(M,""),i.setAttribute("data-styled-version","4.4.1");var o=q();if(o&&i.setAttribute("nonce",o),i.appendChild(r.createTextNode("")),e&&!t)e.appendChild(i);else{if(!t||!e||!t.parentNode)throw new R(6);t.parentNode.insertBefore(i,n?t:t.nextSibling)}return i}(e,t,r);return O?function(e,t){var n=Object.create(null),r=Object.create(null),i=void 0!==t,o=!1,a=function(t){var i=r[t];return void 0!==i?i:(r[t]=oe(e.ownerDocument,t),e.appendChild(r[t]),n[t]=Object.create(null),r[t])},s=function(){var e="";for(var t in r)e+=r[t].data;return e};return{clone:function(){throw new R(5)},css:s,getIds:ie(r),hasNameForId:K(n),insertMarker:a,insertRules:function(e,r,s){for(var c=a(e),l=[],u=r.length,h=0;h<u;h+=1){var d=r[h],f=i;if(f&&-1!==d.indexOf("@import"))l.push(d);else{f=!1;var p=h===u-1?"":" ";c.appendData(""+d+p)}}Y(n,e,s),i&&l.length>0&&(o=!0,t().insertRules(e+"-import",l))},removeRules:function(a){var s=r[a];if(void 0!==s){var c=oe(e.ownerDocument,a);e.replaceChild(c,s),r[a]=c,X(n,a),i&&o&&t().removeRules(a+"-import")}},sealed:!1,styleTag:e,toElement:re(s,n),toHTML:ne(s,n)}}(o,i):function(e,t){var n=Object.create(null),r=Object.create(null),i=[],o=void 0!==t,a=!1,s=function(e){var t=r[e];return void 0!==t?t:(r[e]=i.length,i.push(0),X(n,e),r[e])},c=function(){var t=J(e).cssRules,n="";for(var o in r){n+=ee(o);for(var a=r[o],s=te(i,a),c=s-i[a];c<s;c+=1){var l=t[c];void 0!==l&&(n+=l.cssText)}}return n};return{clone:function(){throw new R(5)},css:c,getIds:ie(r),hasNameForId:K(n),insertMarker:s,insertRules:function(r,c,l){for(var u=s(r),h=J(e),d=te(i,u),f=0,p=[],m=c.length,g=0;g<m;g+=1){var v=c[g],y=o;y&&-1!==v.indexOf("@import")?p.push(v):Q(h,v,d+f)&&(y=!1,f+=1)}o&&p.length>0&&(a=!0,t().insertRules(r+"-import",p)),i[u]+=f,Y(n,r,l)},removeRules:function(s){var c=r[s];if(void 0!==c&&!1!==e.isConnected){var l=i[c];!function(e,t,n){for(var r=t-n,i=t;i>r;i-=1)e.deleteRule(i)}(J(e),te(i,c)-1,l),i[c]=0,X(n,s),o&&a&&t().removeRules(s+"-import")}},sealed:!1,styleTag:e,toElement:re(c,n),toHTML:ne(c,n)}}(o,i)}return ae()},ce=/\s+/,le=void 0;le=k?O?40:1e3:-1;var ue=0,he=void 0,de=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k?document.head:null,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(this,e),this.getImportRuleTag=function(){var e=t.importRuleTag;if(void 0!==e)return e;var n=t.tags[0];return t.importRuleTag=se(t.target,n?n.styleTag:null,t.forceServer,!0)},ue+=1,this.id=ue,this.forceServer=r,this.target=r?null:n,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return e.prototype.rehydrate=function(){if(!k||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+M+'][data-styled-version="4.4.1"]'),i=r.length;if(!i)return this;for(var o=0;o<i;o+=1){var a=r[o];n||(n=!!a.getAttribute("data-styled-streamed"));for(var s,c=(a.getAttribute(M)||"").trim().split(ce),l=c.length,u=0;u<l;u+=1)s=c[u],this.rehydratedNames[s]=!0;t.push.apply(t,L(a.textContent)),e.push(a)}var h=t.length;if(!h)return this;var d=this.makeTag(null);!function(e,t,n){for(var r=0,i=n.length;r<i;r+=1){var o=n[r],a=o.componentId,s=o.cssFromDOM,c=$(s);e.insertRules(a,c)}for(var l=0,u=t.length;l<u;l+=1){var h=t[l];h.parentNode&&h.parentNode.removeChild(h)}}(d,e,t),this.capacity=Math.max(1,le-h),this.tags.push(d);for(var f=0;f<h;f+=1)this.tagMap[t[f].componentId]=d;return this},e.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];he=new e(void 0,t).rehydrate()},e.prototype.clone=function(){var t=new e(this.target,this.forceServer);return this.clones.push(t),t.tags=this.tags.map((function(e){for(var n=e.getIds(),r=e.clone(),i=0;i<n.length;i+=1)t.tagMap[n[i]]=r;return r})),t.rehydratedNames=y({},this.rehydratedNames),t.deferred=y({},this.deferred),t},e.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach((function(e){e.sealed=!0}))},e.prototype.makeTag=function(e){var t=e?e.styleTag:null;return se(this.target,t,this.forceServer,!1,this.getImportRuleTag)},e.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=le,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},e.prototype.hasId=function(e){return void 0!==this.tagMap[e]},e.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},e.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},e.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o=this.getTagForId(e);if(void 0!==this.deferred[e]){var a=this.deferred[e].concat(t);o.insertRules(e,a,n),this.deferred[e]=void 0}else o.insertRules(e,t,n)},e.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},e.prototype.toHTML=function(){return this.tags.map((function(e){return e.toHTML()})).join("")},e.prototype.toReactElements=function(){var e=this.id;return this.tags.map((function(t,n){var r="sc-"+e+"-"+n;return Object(s.cloneElement)(t.toElement(),{key:r})}))},v(e,null,[{key:"master",get:function(){return he||(he=(new e).rehydrate())}},{key:"instance",get:function(){return e.master}}]),e}(),fe=function(){function e(t,n){var r=this;g(this,e),this.inject=function(e){e.hasNameForId(r.id,r.name)||e.inject(r.id,r.rules,r.name)},this.toString=function(){throw new R(12,String(r.name))},this.name=t,this.rules=n,this.id="sc-keyframes-"+t}return e.prototype.getName=function(){return this.name},e}(),pe=/([A-Z])/g,me=/^ms-/;function ge(e){return e.replace(pe,"-$1").toLowerCase().replace(me,"-ms-")}var ve=function(e){return null==e||!1===e||""===e},ye=function e(t,n){var r=[];return Object.keys(t).forEach((function(n){if(!ve(t[n])){if(_(t[n]))return r.push.apply(r,e(t[n],n)),r;if(C(t[n]))return r.push(ge(n)+":",t[n],";"),r;r.push(ge(n)+": "+(i=n,null==(o=t[n])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||i in l.a?String(o).trim():o+"px")+";")}var i,o;return r})),n?[n+" {"].concat(r,["}"]):r};function be(e,t,n){if(Array.isArray(e)){for(var r,i=[],o=0,a=e.length;o<a;o+=1)null!==(r=be(e[o],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}return ve(e)?null:T(e)?"."+e.styledComponentId:C(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:be(e(t),t,n):e instanceof fe?n?(e.inject(n),e.getName()):e:_(e)?ye(e):e.toString();var s}function we(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return C(e)||_(e)?be(p(E,[e].concat(n))):be(p(e,n))}function xe(e){for(var t,n=0|e.length,r=0|n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return((r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16))^r>>>15)>>>0}var _e=52,Ee=function(e){return String.fromCharCode(e+(e>25?39:97))};function Se(e){var t="",n=void 0;for(n=e;n>_e;n=Math.floor(n/_e))t=Ee(n%_e)+t;return Ee(n%_e)+t}function Ce(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(Array.isArray(r)&&!Ce(r,t))return!1;if(C(r)&&!T(r))return!1}return!t.some((function(e){return C(e)||function(e){for(var t in e)if(C(e[t]))return!0;return!1}(e)}))}var Ae,Te=function(e){return Se(xe(e))},Me=function(){function e(t,n,r){g(this,e),this.rules=t,this.isStatic=Ce(t,n),this.componentId=r,de.master.hasId(r)||de.master.deferredInject(r,[])}return e.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(k&&n&&"string"==typeof i&&t.hasNameForId(r,i))return i;var o=be(this.rules,e,t),a=Te(this.componentId+o.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,G(o,"."+a,void 0,r),a),this.lastClassName=a,a},e.generateName=function(e){return Te(e)},e}(),ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,r=!!n&&e.theme===n.theme,i=e.theme&&!r?e.theme:t||n.theme;return i},Oe=/[[\].#*$><+~=|^:(),"'`-]+/g,Pe=/(^-|-$)/g;function Re(e){return e.replace(Oe,"-").replace(Pe,"")}function Fe(e){return"string"==typeof e&&!0}var Le={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},De={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},je=((Ae={})[u.ForwardRef]={$$typeof:!0,render:!0},Ae),Ne=Object.defineProperty,Ie=Object.getOwnPropertyNames,Be=Object.getOwnPropertySymbols,ze=void 0===Be?function(){return[]}:Be,Ue=Object.getOwnPropertyDescriptor,He=Object.getPrototypeOf,Ve=Object.prototype,We=Array.prototype;function $e(e,t,n){if("string"!=typeof t){var r=He(t);r&&r!==Ve&&$e(e,r,n);for(var i=We.concat(Ie(t),ze(t)),o=je[e.$$typeof]||Le,a=je[t.$$typeof]||Le,s=i.length,c=void 0,l=void 0;s--;)if(l=i[s],!(De[l]||n&&n[l]||a&&a[l]||o&&o[l])&&(c=Ue(t,l)))try{Ne(e,l,c)}catch(e){}return e}return e}var Ge=Object(s.createContext)(),qe=Ge.Consumer,Ye=(function(e){function t(n){g(this,t);var r=x(this,e.call(this,n));return r.getContext=Object(h.a)(r.getContext.bind(r)),r.renderInner=r.renderInner.bind(r),r}b(t,e),t.prototype.render=function(){return this.props.children?c.a.createElement(Ge.Consumer,null,this.renderInner):null},t.prototype.renderInner=function(e){var t=this.getContext(this.props.theme,e);return c.a.createElement(Ge.Provider,{value:t},this.props.children)},t.prototype.getTheme=function(e,t){if(C(e))return e(t);if(null===e||Array.isArray(e)||"object"!==(void 0===e?"undefined":m(e)))throw new R(8);return y({},t,e)},t.prototype.getContext=function(e,t){return this.getTheme(e,t)}}(s.Component),function(){function e(){g(this,e),this.masterSheet=de.master,this.instance=this.masterSheet.clone(),this.sealed=!1}e.prototype.seal=function(){if(!this.sealed){var e=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(e,1),this.sealed=!0}},e.prototype.collectStyles=function(e){if(this.sealed)throw new R(2);return c.a.createElement(Ke,{sheet:this.instance},e)},e.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},e.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},e.prototype.interleaveWithNodeStream=function(e){throw new R(3)}}(),Object(s.createContext)()),Xe=Ye.Consumer,Ke=function(e){function t(n){g(this,t);var r=x(this,e.call(this,n));return r.getContext=Object(h.a)(r.getContext),r}return b(t,e),t.prototype.getContext=function(e,t){if(e)return e;if(t)return new de(t);throw new R(4)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.sheet,r=e.target;return c.a.createElement(Ye.Provider,{value:this.getContext(n,r)},t)},t}(s.Component),Ze={};var Je=function(e){function t(){g(this,t);var n=x(this,e.call(this));return n.attrs={},n.renderOuter=n.renderOuter.bind(n),n.renderInner=n.renderInner.bind(n),n}return b(t,e),t.prototype.render=function(){return c.a.createElement(Xe,null,this.renderOuter)},t.prototype.renderOuter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.master;return this.styleSheet=e,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():c.a.createElement(qe,null,this.renderInner)},t.prototype.renderInner=function(e){var t=this.props.forwardedComponent,n=t.componentStyle,r=t.defaultProps,i=(t.displayName,t.foldedComponentIds),o=t.styledComponentId,a=t.target,c=void 0;c=n.isStatic?this.generateAndInjectStyles(S,this.props):this.generateAndInjectStyles(ke(this.props,e,r)||S,this.props);var l=this.props.as||this.attrs.as||a,u=Fe(l),h={},f=y({},this.props,this.attrs),p=void 0;for(p in f)"forwardedComponent"!==p&&"as"!==p&&("forwardedRef"===p?h.ref=f[p]:"forwardedAs"===p?h.as=f[p]:u&&!Object(d.a)(p)||(h[p]=f[p]));return this.props.style&&this.attrs.style&&(h.style=y({},this.attrs.style,this.props.style)),h.className=Array.prototype.concat(i,o,c!==o?c:null,this.props.className,this.attrs.className).filter(Boolean).join(" "),Object(s.createElement)(l,h)},t.prototype.buildExecutionContext=function(e,t,n){var r=this,i=y({},t,{theme:e});return n.length?(this.attrs={},n.forEach((function(e){var t,n=e,o=!1,a=void 0,s=void 0;for(s in C(n)&&(n=n(i),o=!0),n)a=n[s],o||!C(a)||(t=a)&&t.prototype&&t.prototype.isReactComponent||T(a)||(a=a(i)),r.attrs[s]=a,i[s]=a})),i):i},t.prototype.generateAndInjectStyles=function(e,t){var n=t.forwardedComponent,r=n.attrs,i=n.componentStyle;n.warnTooManyClasses;return i.isStatic&&!r.length?i.generateAndInjectStyles(S,this.styleSheet):i.generateAndInjectStyles(this.buildExecutionContext(e,t,r),this.styleSheet)},t}(s.Component);function Qe(e,t,n){var r=T(e),i=!Fe(e),o=t.displayName,a=void 0===o?function(e){return Fe(e)?"styled."+e:"Styled("+A(e)+")"}(e):o,s=t.componentId,l=void 0===s?function(e,t,n){var r="string"!=typeof t?"sc":Re(t),i=(Ze[r]||0)+1;Ze[r]=i;var o=r+"-"+e.generateName(r+i);return n?n+"-"+o:o}(Me,t.displayName,t.parentComponentId):s,u=t.ParentComponent,h=void 0===u?Je:u,d=t.attrs,p=void 0===d?E:d,m=t.displayName&&t.componentId?Re(t.displayName)+"-"+t.componentId:t.componentId||l,g=r&&e.attrs?Array.prototype.concat(e.attrs,p).filter(Boolean):p,v=new Me(r?e.componentStyle.rules.concat(n):n,g,m),b=void 0,x=function(e,t){return c.a.createElement(h,y({},e,{forwardedComponent:b,forwardedRef:t}))};return x.displayName=a,(b=c.a.forwardRef(x)).displayName=a,b.attrs=g,b.componentStyle=v,b.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):E,b.styledComponentId=m,b.target=r?e.target:e,b.withComponent=function(e){var r=t.componentId,i=w(t,["componentId"]),o=r&&r+"-"+(Fe(e)?e:Re(A(e)));return Qe(e,y({},i,{attrs:g,componentId:o,ParentComponent:h}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Object(f.a)(e.defaultProps,t):t}}),b.toString=function(){return"."+b.styledComponentId},i&&$e(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}var et=function(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(!Object(u.isValidElementType)(n))throw new R(1,String(n));var i=function(){return t(n,r,we.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,y({},r,i))},i.attrs=function(i){return e(t,n,y({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Qe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){et[e]=et(e)}));var tt=function(){function e(t,n){g(this,e),this.rules=t,this.componentId=n,this.isStatic=Ce(t,E),de.master.hasId(n)||de.master.deferredInject(n,[])}return e.prototype.createStyles=function(e,t){var n=G(be(this.rules,e,t),"");t.inject(this.componentId,n)},e.prototype.removeStyles=function(e){var t=this.componentId;e.hasId(t)&&e.remove(t)},e.prototype.renderStyles=function(e,t){this.removeStyles(t),this.createStyles(e,t)},e}();function nt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=we.apply(void 0,[e].concat(n)),o="sc-global-"+xe(JSON.stringify(i)),a=new tt(i,o),s=function(e){function t(n){g(this,t);var r=x(this,e.call(this,n)),i=r.constructor,o=i.globalStyle,a=i.styledComponentId;return k&&(window.scCGSHMRCache[a]=(window.scCGSHMRCache[a]||0)+1),r.state={globalStyle:o,styledComponentId:a},r}return b(t,e),t.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},t.prototype.render=function(){var e=this;return c.a.createElement(Xe,null,(function(t){e.styleSheet=t||de.master;var n=e.state.globalStyle;return n.isStatic?(n.renderStyles(P,e.styleSheet),null):c.a.createElement(qe,null,(function(t){var r=e.constructor.defaultProps,i=y({},e.props);return void 0!==t&&(i.theme=ke(e.props,t,r)),n.renderStyles(i,e.styleSheet),null}))}))},t}(c.a.Component);return s.globalStyle=a,s.styledComponentId=o,s}k&&(window.scCGSHMRCache={});var rt=function(e){return e.replace(/\s|\\n/g,"")};function it(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=we.apply(void 0,[e].concat(n)),o=Se(xe(rt(JSON.stringify(i))));return new fe(o,G(i,o,"@keyframes"))}t.c=et}).call(this,n("8oxB"))},vZIR:function(e,t,n){"use strict";var r=n("Qfp6"),i=n("CR0S"),o=n("5R+2");e.exports=function(e){for(var t,n=0,a="";!t;)a+=o(i,r.get(),1),t=e<Math.pow(16,n+1),n++;return a}},viRO:function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("MgzW"),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var p=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function x(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=w.prototype;var E=_.prototype=new x;E.constructor=_,r(E,w.prototype),E.isPureReactComponent=!0;var S={current:null},C={current:null},A=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:C.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,P=[];function R(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function F(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return r(i,t,""===n?"."+D(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+D(s=t[l],l);c+=e(s,u,r,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=n+D(s,l++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,r,n,(function(e){return e})):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function I(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),L(e,N,t=R(t,o,r,i)),F(t)}function B(){var e=S.current;if(null===e)throw Error(v(321));return e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return I(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,j,t=R(null,null,t,n)),F(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return I(e,t,null,(function(e){return e})),t},only:function(e){if(!k(e))throw Error(v(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:l,StrictMode:c,Suspense:f,createElement:M,cloneElement:function(e,t,n){if(null==e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)A.call(t,u)&&!T.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=M.bind(null,e);return t.type=e,t},isValidElement:k,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r}},U={default:z},H=U&&z||U;e.exports=H.default||H},vwuL:function(e,t,n){var r=n("NV0k"),i=n("rr1i"),o=n("NsO/"),a=n("G8Mo"),s=n("B+OT"),c=n("eUtF"),l=Object.getOwnPropertyDescriptor;t.f=n("jmDH")?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}},"w2d+":function(e,t,n){"use strict";var r=n("hDam"),i=n("UO39"),o=n("SBuE"),a=n("NsO/");e.exports=n("MPFp")(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},w6GO:function(e,t,n){var r=n("5vMV"),i=n("FpHa");e.exports=Object.keys||function(e){return r(e,i)}},w802:function(e,t){e.exports="2.1.8"},wCsn:function(e,t,n){"use strict";var r=n("IPAr"),i=n("EmYC"),o=n("kaWx");e.exports=g,g.locator=i;var a="link",s="image",c="footnote",l="shortcut",u="collapsed",h="full",d="^",f="\\",p="[",m="]";function g(e,t,n){var i,g,v,y,b,w,x,_,E=t.charAt(0),S=0,C=t.length,A="",T="",M=a,k=l;if("!"===E&&(M=s,T=E,E=t.charAt(++S)),E===p){if(S++,T+=E,w="",this.options.footnotes&&t.charAt(S)===d){if(M===s)return;T+=d,S++,M=c}for(_=0;S<C;){if((E=t.charAt(S))===p)x=!0,_++;else if(E===m){if(!_)break;_--}E===f&&(w+=f,E=t.charAt(++S)),w+=E,S++}if(A=w,i=w,(E=t.charAt(S))===m){for(S++,A+=E,w="";S<C&&(E=t.charAt(S),r(E));)w+=E,S++;if(E=t.charAt(S),M!==c&&E===p){for(g="",w+=E,S++;S<C&&(E=t.charAt(S))!==p&&E!==m;)E===f&&(g+=f,E=t.charAt(++S)),g+=E,S++;(E=t.charAt(S))===m?(k=g?h:u,w+=g+E,S++):g="",A+=w,w=""}else{if(!i)return;g=i}if(k===h||!x)return A=T+A,M===a&&this.inLink?null:!!n||(M===c&&-1!==i.indexOf(" ")?e(A)({type:"footnote",children:this.tokenizeInline(i,e.now())}):((v=e.now()).column+=T.length,v.offset+=T.length,y={type:M+"Reference",identifier:o(g=k===h?g:i)},M!==a&&M!==s||(y.referenceType=k),M===a?(b=this.enterLink(),y.children=this.tokenizeInline(i,v),b()):M===s&&(y.alt=this.decode.raw(this.unescape(i),v)||null),e(A)(y)))}}}},"wF/u":function(e,t,n){var r=n("e5cp"),i=n("ExA7");e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},wJg7:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},wWUp:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("NRL+"),i=Object(r.a)("\t"),o=i.parse;i.parseRows,i.format,i.formatBody,i.formatRows,i.formatRow,i.formatValue},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu")(r);e.exports=i},wgeU:function(e,t){},wnOJ:function(e,t,n){var r=n("uzq8");e.exports=function(){return function(e){return r(e,"list",(function(e,t){var n,r,i=0;for(n=0,r=t.length;n<r;n++)"list"===t[n].type&&(i+=1);for(n=0,r=e.children.length;n<r;n++){var o=e.children[n];o.index=n,o.ordered=e.ordered}e.depth=i})),e}}},wrZu:function(e,t,n){var r=n("+K+b"),i=n("XYm9"),o=n("b2z7"),a=n("otv/"),s=n("yP5f"),c="[object Boolean]",l="[object Date]",u="[object Map]",h="[object Number]",d="[object RegExp]",f="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]";e.exports=function(e,t,n){var T=e.constructor;switch(t){case g:return r(e);case c:case l:return new T(+e);case v:return i(e,n);case y:case b:case w:case x:case _:case E:case S:case C:case A:return s(e,n);case u:return new T;case h:case p:return new T(e);case d:return o(e);case f:return new T;case m:return a(e)}}},xXZ1:function(e,t,n){var r=n("Jxod"),i=n("GU3B"),o=n("RT9k"),a=n("9qUN"),s=n("UNQo"),c=n("W3FB"),l=n("KN5b"),u=n("nTAN");e.exports=function(e){var t=e.xml;this.origin=null,this.geometry=null,this.material=null;var n=t.getElementsByTagName("origin");if(0===n.length)this.origin=new r;else{var h=n[0].getAttribute("xyz"),d=new i;h&&(h=h.split(" "),d=new i({x:parseFloat(h[0]),y:parseFloat(h[1]),z:parseFloat(h[2])}));var f=n[0].getAttribute("rpy"),p=new o;if(f){f=f.split(" ");var m=parseFloat(f[0])/2,g=parseFloat(f[1])/2,v=parseFloat(f[2])/2,y=Math.sin(m)*Math.cos(g)*Math.cos(v)-Math.cos(m)*Math.sin(g)*Math.sin(v),b=Math.cos(m)*Math.sin(g)*Math.cos(v)+Math.sin(m)*Math.cos(g)*Math.sin(v),w=Math.cos(m)*Math.cos(g)*Math.sin(v)-Math.sin(m)*Math.sin(g)*Math.cos(v),x=Math.cos(m)*Math.cos(g)*Math.cos(v)+Math.sin(m)*Math.sin(g)*Math.sin(v);(p=new o({x:y,y:b,z:w,w:x})).normalize()}this.origin=new r({position:d,orientation:p})}var _=t.getElementsByTagName("geometry");if(_.length>0){for(var E=_[0],S=null,C=0;C<E.childNodes.length;C++){var A=E.childNodes[C];if(1===A.nodeType){S=A;break}}var T=S.nodeName;"sphere"===T?this.geometry=new u({xml:S}):"box"===T?this.geometry=new s({xml:S}):"cylinder"===T?this.geometry=new a({xml:S}):"mesh"===T?this.geometry=new l({xml:S}):console.warn("Unknown geometry type "+T)}var M=t.getElementsByTagName("material");M.length>0&&(this.material=new c({xml:M[0]}))}},xYSL:function(e,t){e.exports=function(e,t){return e.has(t)}},xaJk:function(e,t,n){var r=n("asDA"),i=n("SKAX"),o=n("ut/Y"),a=n("WPeF"),s=n("Z0cm");e.exports=function(e,t,n){var c=s(e)?r:a,l=arguments.length<3;return c(e,o(t,4),n,l,i)}},xkGU:function(e,t,n){e.exports=n("bNQv")},xkQk:function(e,t,n){"use strict";var r=n("EBzq");e.exports=o,o.wrap=r;var i=[].slice;function o(){var e=[],t={run:function(){var t=-1,n=i.call(arguments,0,-1),o=arguments[arguments.length-1];if("function"!=typeof o)throw new Error("Expected function as last argument, not "+o);(function a(s){var c=e[++t],l=i.call(arguments,0).slice(1),u=n.length,h=-1;if(s)o(s);else{for(;++h<u;)null!==l[h]&&void 0!==l[h]||(l[h]=n[h]);n=l,c?r(c,a).apply(null,n):o.apply(null,[null].concat(n))}}).apply(null,[null].concat(n))},use:function(n){if("function"!=typeof n)throw new Error("Expected `fn` to be a function, not "+n);return e.push(n),t}};return t}},xo8x:function(e,t,n){"use strict";var r={value:function(){}};function i(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}function a(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function s(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function c(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=r,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}o.prototype=i.prototype={constructor:o,on:function(e,t){var n,r=this._,i=a(e+"",r),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<l;)if(n=(e=i[o]).type)r[n]=c(r[n],e.name,t);else if(null==t)for(n in r)r[n]=c(r[n],e.name,null);return this}for(;++o<l;)if((n=(e=i[o]).type)&&(n=s(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=i},"xs/l":function(e,t,n){var r=n("TYy9"),i=n("Ioao"),o=n("wclG");e.exports=function(e){return o(i(e,void 0,r),e+"")}},xweI:function(e,t,n){var r=n("XGnz"),i=n("alwl"),o=n("EA7m"),a=n("mv/X"),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},y1pI:function(e,t,n){var r=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},"y7/N":function(e,t,n){var r=n("N6n/"),i=n("OEc2"),o=n("ACFR"),a=n("G+a2"),s=n("Oj8Q"),c=n("tfBy"),l=n("XqU8"),u=n("55cE");e.exports=function(e){var t=e.xml;this.origin=null,this.geometry=null,this.material=null;var n=t.getElementsByTagName("origin");if(0===n.length)this.origin=new r;else{var h=n[0].getAttribute("xyz"),d=new i;h&&(h=h.split(" "),d=new i({x:parseFloat(h[0]),y:parseFloat(h[1]),z:parseFloat(h[2])}));var f=n[0].getAttribute("rpy"),p=new o;if(f){f=f.split(" ");var m=parseFloat(f[0])/2,g=parseFloat(f[1])/2,v=parseFloat(f[2])/2,y=Math.sin(m)*Math.cos(g)*Math.cos(v)-Math.cos(m)*Math.sin(g)*Math.sin(v),b=Math.cos(m)*Math.sin(g)*Math.cos(v)+Math.sin(m)*Math.cos(g)*Math.sin(v),w=Math.cos(m)*Math.cos(g)*Math.sin(v)-Math.sin(m)*Math.sin(g)*Math.cos(v),x=Math.cos(m)*Math.cos(g)*Math.cos(v)+Math.sin(m)*Math.sin(g)*Math.sin(v);(p=new o({x:y,y:b,z:w,w:x})).normalize()}this.origin=new r({position:d,orientation:p})}var _=t.getElementsByTagName("geometry");if(_.length>0){for(var E=_[0],S=null,C=0;C<E.childNodes.length;C++){var A=E.childNodes[C];if(1===A.nodeType){S=A;break}}var T=S.nodeName;"sphere"===T?this.geometry=new u({xml:S}):"box"===T?this.geometry=new s({xml:S}):"cylinder"===T?this.geometry=new a({xml:S}):"mesh"===T?this.geometry=new l({xml:S}):console.warn("Unknown geometry type "+T)}var M=t.getElementsByTagName("material");M.length>0&&(this.material=new c({xml:M[0]}))}},yGk4:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Set");e.exports=r},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},yLCY:function(e,t,n){var r;try{r=n("409L")}catch(e){}r||(r=window.dagre),e.exports=r},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},yP5f:function(e,t,n){var r=n("+K+b");e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},yQ0E:function(e,t,n){var r=n("PEyx");function i(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}e.exports={default:i,normal:i,vee:function(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(e,t,n,i){var o=e.append("marker").attr("id",t).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},ycre:function(e,t,n){var r=n("711d")("length");e.exports=r},yl30:function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("q1tI"),i=n("MgzW"),o=n("QCnb");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,c={};function l(){if(s)for(var e in c){var t=c[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!h[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in h[n]=t,n=t.eventTypes){var i=void 0,o=n[r],l=t,f=r;if(d.hasOwnProperty(f))throw Error(a(99,f));d[f]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&u(p[i],l,f);i=!0}else o.registrationName?(u(o.registrationName,l,f),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function u(e,t,n){if(f[e])throw Error(a(100,e));f[e]=t,p[e]=t.eventTypes[n].dependencies}var h=[],d={},f={},p={};function m(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var g=!1,v=null,y=!1,b=null,w={onError:function(e){g=!0,v=e}};function x(e,t,n,r,i,o,a,s,c){g=!1,v=null,m.apply(w,arguments)}var _=null,E=null,S=null;function C(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,r,i,o,s,c,l){if(x.apply(this,arguments),g){if(!g)throw Error(a(198));var u=v;g=!1,v=null,y||(y=!0,b=u)}}(r,t,void 0,e),e.currentTarget=null}function A(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function T(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var M=null;function k(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)C(e,t[r],n[r]);else t&&C(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){if(null!==e&&(M=A(M,e)),e=M,M=null,e){if(T(e,k),M)throw Error(a(95));if(y)throw e=b,y=!1,b=null,e}}var P={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!c.hasOwnProperty(t)||c[t]!==r){if(c[t])throw Error(a(102,t));c[t]=r,n=!0}}n&&l()}};function R(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var F=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;F.hasOwnProperty("ReactCurrentDispatcher")||(F.ReactCurrentDispatcher={current:null}),F.hasOwnProperty("ReactCurrentBatchConfig")||(F.ReactCurrentBatchConfig={suspense:null});var L=/^(.*)[\\\/]/,D="function"==typeof Symbol&&Symbol.for,j=D?Symbol.for("react.element"):60103,N=D?Symbol.for("react.portal"):60106,I=D?Symbol.for("react.fragment"):60107,B=D?Symbol.for("react.strict_mode"):60108,z=D?Symbol.for("react.profiler"):60114,U=D?Symbol.for("react.provider"):60109,H=D?Symbol.for("react.context"):60110,V=D?Symbol.for("react.concurrent_mode"):60111,W=D?Symbol.for("react.forward_ref"):60112,$=D?Symbol.for("react.suspense"):60113,G=D?Symbol.for("react.suspense_list"):60120,q=D?Symbol.for("react.memo"):60115,Y=D?Symbol.for("react.lazy"):60116;D&&Symbol.for("react.fundamental"),D&&Symbol.for("react.responder"),D&&Symbol.for("react.scope");var X="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=X&&e[X]||e["@@iterator"])?e:null}function Z(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case I:return"Fragment";case N:return"Portal";case z:return"Profiler";case B:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case H:return"Context.Consumer";case U:return"Context.Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return Z(e.type);case Y:if(e=1===e._status?e._result:null)return Z(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=Z(e.type);n=null,r&&(n=Z(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(L,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=E(e)){if("function"!=typeof ee)throw Error(a(280));var t=_(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function ce(){}var le=ae,ue=!1,he=!1;function de(){null===te&&null===ne||(ce(),oe())}new Map;var fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},ge={};function ve(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ye[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ye[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ye[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ye[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ye[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function xe(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e,t,n,r){var i=ye.hasOwnProperty(t)?ye[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(ge,e)||!pe.call(me,e)&&(fe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Se(e){e._valueTracker||(e._valueTracker=function(e){var t=Ee(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ee(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ae(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=xe(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Me(e,t){null!=(t=t.checked)&&_e(e,"checked",t,!1)}function ke(e,t){Me(e,t);var n=xe(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,xe(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Re(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Fe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:xe(n)}}function je(e,t){var n=xe(t.value),r=xe(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,we);ye[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,we);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,we);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var Ie={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,He=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ie.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function We(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $e={animationend:We("Animation","AnimationEnd"),animationiteration:We("Animation","AnimationIteration"),animationstart:We("Animation","AnimationStart"),transitionend:We("Transition","TransitionEnd")},Ge={},qe={};function Ye(e){if(Ge[e])return Ge[e];if(!$e[e])return e;var t,n=$e[e];for(t in n)if(n.hasOwnProperty(t)&&t in qe)return Ge[e]=n[t];return e}Q&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);var Xe=Ye("animationend"),Ke=Ye("animationiteration"),Ze=Ye("animationstart"),Je=Ye("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,ot,at,st=!1,ct=[],lt=null,ut=null,ht=null,dt=new Map,ft=new Map,pt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),gt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function vt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function yt(e,t){switch(e){case"focus":case"blur":lt=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ht=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function bt(e,t,n,r,i){return null===e||e.nativeEvent!==i?(e=vt(t,n,r,i),null!==t&&(null!==(t=fr(t))&&ot(t)),e):(e.eventSystemFlags|=r,e)}function wt(e){var t=dr(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){at(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xt(e){if(null!==e.blockedOn)return!1;var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=fr(t);return null!==n&&ot(n),e.blockedOn=t,!1}return!0}function _t(e,t,n){xt(e)&&n.delete(t)}function Et(){for(st=!1;0<ct.length;){var e=ct[0];if(null!==e.blockedOn){null!==(e=fr(e.blockedOn))&&it(e);break}var t=Pn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ct.shift()}null!==lt&&xt(lt)&&(lt=null),null!==ut&&xt(ut)&&(ut=null),null!==ht&&xt(ht)&&(ht=null),dt.forEach(_t),ft.forEach(_t)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Et)))}function Ct(e){function t(t){return St(t,e)}if(0<ct.length){St(ct[0],e);for(var n=1;n<ct.length;n++){var r=ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==lt&&St(lt,e),null!==ut&&St(ut,e),null!==ht&&St(ht,e),dt.forEach(t),ft.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)wt(n),null===n.blockedOn&&pt.shift()}function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mt(e,t,n){(t=R(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function kt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)Mt(n[t],"captured",e);for(t=0;t<n.length;t++)Mt(n[t],"bubbled",e)}}function Ot(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=R(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=A(n._dispatchListeners,t),n._dispatchInstances=A(n._dispatchInstances,e))}function Pt(e){e&&e.dispatchConfig.registrationName&&Ot(e._targetInst,null,e)}function Rt(e){T(e,kt)}function Ft(){return!0}function Lt(){return!1}function Dt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ft:Lt,this.isPropagationStopped=Lt,this}function jt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Nt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function It(e){e.eventPool=[],e.getPooled=jt,e.release=Nt}i(Dt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ft)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ft)},persist:function(){this.isPersistent=Ft},isPersistent:Lt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Lt,this._dispatchInstances=this._dispatchListeners=null}}),Dt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Dt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,It(n),n},It(Dt);var Bt=Dt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),zt=Dt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ut=Dt.extend({view:null,detail:null}),Ht=Ut.extend({relatedTarget:null});function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Wt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Gt[e])&&!!t[e]}function Yt(){return qt}for(var Xt=Ut.extend({key:function(e){if(e.key){var t=Wt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$t[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Yt,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Kt=0,Zt=0,Jt=!1,Qt=!1,en=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Yt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Zt;return Zt=e.screenY,Qt?"mousemove"===e.type?e.screenY-t:0:(Qt=!0,0)}}),tn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nn=en.extend({dataTransfer:null}),rn=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Yt}),on=Dt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),an=en.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Xe,"animationEnd",2],[Ke,"animationIteration",2],[Ze,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],cn={},ln={},un=0;un<sn.length;un++){var hn=sn[un],dn=hn[0],fn=hn[1],pn=hn[2],mn="on"+(fn[0].toUpperCase()+fn.slice(1)),gn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[dn],eventPriority:pn};cn[fn]=gn,ln[dn]=gn}var vn={eventTypes:cn,getEventPriority:function(e){return void 0!==(e=ln[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=ln[e];if(!i)return null;switch(e){case"keypress":if(0===Vt(n))return null;case"keydown":case"keyup":e=Xt;break;case"blur":case"focus":e=Ht;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=rn;break;case Xe:case Ke:case Ze:e=Bt;break;case Je:e=on;break;case"scroll":e=Ut;break;case"wheel":e=an;break;case"copy":case"cut":case"paste":e=zt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=tn;break;default:e=Dt}return Rt(t=e.getPooled(i,t,n,r)),t}},yn=o.unstable_UserBlockingPriority,bn=o.unstable_runWithPriority,wn=vn.getEventPriority,xn=10,_n=[];function En(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=dr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=At(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,c=0;c<h.length;c++){var l=h[c];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=A(s,l))}O(s)}}var Sn=!0;function Cn(e,t){An(t,e,!1)}function An(e,t,n){switch(wn(t)){case 0:var r=Tn.bind(null,t,1);break;case 1:r=Mn.bind(null,t,1);break;default:r=On.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Tn(e,t,n){ue||ce();var r=On,i=ue;ue=!0;try{se(r,e,t,n)}finally{(ue=i)||de()}}function Mn(e,t,n){bn(yn,On.bind(null,e,t,n))}function kn(e,t,n,r){if(_n.length){var i=_n.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=En,n=e,he)t(n,void 0);else{he=!0;try{le(t,n,void 0)}finally{he=!1,de()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,_n.length<xn&&_n.push(e)}}function On(e,t,n){if(Sn)if(0<ct.length&&-1<mt.indexOf(e))e=vt(null,e,t,n),ct.push(e);else{var r=Pn(e,t,n);null===r?yt(e,n):-1<mt.indexOf(e)?(e=vt(r,e,t,n),ct.push(e)):function(e,t,n,r){switch(t){case"focus":return lt=bt(lt,e,t,n,r),!0;case"dragenter":return ut=bt(ut,e,t,n,r),!0;case"mouseover":return ht=bt(ht,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return dt.set(i,bt(dt.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,ft.set(i,bt(ft.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(yt(e,n),kn(e,t,n,null))}}function Pn(e,t,n){var r=At(n);if(null!==(r=dr(r))){var i=et(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=tt(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return kn(e,t,n,r),null}function Rn(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Fn=new("function"==typeof WeakMap?WeakMap:Map);function Ln(e){var t=Fn.get(e);return void 0===t&&(t=new Set,Fn.set(e,t)),t}function Dn(e,t,n){if(!n.has(e)){switch(e){case"scroll":An(t,"scroll",!0);break;case"focus":case"blur":An(t,"focus",!0),An(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Rn(e)&&An(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Cn(e,t)}n.add(e)}}var jn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];function In(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function Bn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=In(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(jn).forEach((function(e){Nn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]}))}));var zn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(e,t){if(t){if(zn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Hn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Vn(e,t){var n=Ln(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Dn(t[r],e,n)}function Wn(){}function $n(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Yn(){for(var e=window,t=$n();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$n((e=t.contentWindow).document)}return t}function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn="$",Zn="/$",Jn="$?",Qn="$!",er=null,tr=null;function nr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function rr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"==typeof setTimeout?setTimeout:void 0,or="function"==typeof clearTimeout?clearTimeout:void 0;function ar(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function sr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Kn||n===Qn||n===Jn){if(0===t)return e;t--}else n===Zn&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),lr="__reactInternalInstance$"+cr,ur="__reactEventHandlers$"+cr,hr="__reactContainere$"+cr;function dr(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[lr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=sr(e);null!==e;){if(n=e[lr])return n;e=sr(e)}return t}n=(e=n).parentNode}return null}function fr(e){return!(e=e[lr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function pr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function mr(e){return e[ur]||null}var gr=null,vr=null,yr=null;function br(){if(yr)return yr;var e,t,n=vr,r=n.length,i="value"in gr?gr.value:gr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return yr=i.slice(e,1<t?1-t:void 0)}var wr=Dt.extend({data:null}),xr=Dt.extend({data:null}),_r=[9,13,27,32],Er=Q&&"CompositionEvent"in window,Sr=null;Q&&"documentMode"in document&&(Sr=document.documentMode);var Cr=Q&&"TextEvent"in window&&!Sr,Ar=Q&&(!Er||Sr&&8<Sr&&11>=Sr),Tr=String.fromCharCode(32),Mr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},kr=!1;function Or(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Pr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rr=!1;var Fr={eventTypes:Mr,extractEvents:function(e,t,n,r){var i;if(Er)e:{switch(e){case"compositionstart":var o=Mr.compositionStart;break e;case"compositionend":o=Mr.compositionEnd;break e;case"compositionupdate":o=Mr.compositionUpdate;break e}o=void 0}else Rr?Or(e,n)&&(o=Mr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Mr.compositionStart);return o?(Ar&&"ko"!==n.locale&&(Rr||o!==Mr.compositionStart?o===Mr.compositionEnd&&Rr&&(i=br()):(vr="value"in(gr=r)?gr.value:gr.textContent,Rr=!0)),o=wr.getPooled(o,t,n,r),i?o.data=i:null!==(i=Pr(n))&&(o.data=i),Rt(o),i=o):i=null,(e=Cr?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(kr=!0,Tr);case"textInput":return(e=t.data)===Tr&&kr?null:e;default:return null}}(e,n):function(e,t){if(Rr)return"compositionend"===e||!Er&&Or(e,t)?(e=br(),yr=vr=gr=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ar&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=xr.getPooled(Mr.beforeInput,t,n,r)).data=e,Rt(t)):t=null,null===i?t:null===t?i:[i,t]}},Lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Lr[e.type]:"textarea"===t}var jr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Nr(e,t,n){return(e=Dt.getPooled(jr.change,e,t,n)).type="change",ie(n),Rt(e),e}var Ir=null,Br=null;function zr(e){O(e)}function Ur(e){if(Ce(pr(e)))return e}function Hr(e,t){if("change"===e)return t}var Vr=!1;function Wr(){Ir&&(Ir.detachEvent("onpropertychange",$r),Br=Ir=null)}function $r(e){if("value"===e.propertyName&&Ur(Br))if(e=Nr(Br,e,At(e)),ue)O(e);else{ue=!0;try{ae(zr,e)}finally{ue=!1,de()}}}function Gr(e,t,n){"focus"===e?(Wr(),Br=n,(Ir=t).attachEvent("onpropertychange",$r)):"blur"===e&&Wr()}function qr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ur(Br)}function Yr(e,t){if("click"===e)return Ur(t)}function Xr(e,t){if("input"===e||"change"===e)return Ur(t)}Q&&(Vr=Rn("input")&&(!document.documentMode||9<document.documentMode));var Kr,Zr={eventTypes:jr,_isInputEventSupported:Vr,extractEvents:function(e,t,n,r){var i=t?pr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Hr;else if(Dr(i))if(Vr)a=Xr;else{a=qr;var s=Gr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Yr);if(a&&(a=a(e,t)))return Nr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pe(i,"number",i.value)}},Jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qr={eventTypes:Jr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?dr(t):null)&&(t!==(o=et(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=en,c=Jr.mouseLeave,l=Jr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=tn,c=Jr.pointerLeave,l=Jr.pointerEnter,u="pointer");if(e=null==a?i:pr(a),i=null==t?i:pr(t),(c=s.getPooled(c,a,n,r)).type=u+"leave",c.target=e,c.relatedTarget=i,(r=s.getPooled(l,t,n,r)).type=u+"enter",r.target=i,r.relatedTarget=e,u=t,(s=a)&&u)e:{for(e=u,a=0,t=l=s;t;t=Tt(t))a++;for(t=0,i=e;i;i=Tt(i))t++;for(;0<a-t;)l=Tt(l),a--;for(;0<t-a;)e=Tt(e),t--;for(;a--;){if(l===e||l===e.alternate)break e;l=Tt(l),e=Tt(e)}l=null}else l=null;for(e=l,l=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)l.push(s),s=Tt(s);for(s=[];u&&u!==e&&(null===(a=u.alternate)||a!==e);)s.push(u),u=Tt(u);for(u=0;u<l.length;u++)Ot(l[u],"bubbled",c);for(u=s.length;0<u--;)Ot(s[u],"captured",r);return n===Kr?(Kr=null,[c]):(Kr=n,[c,r])}};var ei="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ti=Object.prototype.hasOwnProperty;function ni(e,t){if(ei(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ti.call(t,n[r])||!ei(e[n[r]],t[n[r]]))return!1;return!0}var ri=Q&&"documentMode"in document&&11>=document.documentMode,ii={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},oi=null,ai=null,si=null,ci=!1;function li(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ci||null==oi||oi!==$n(n)?null:("selectionStart"in(n=oi)&&Xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},si&&ni(si,n)?null:(si=n,(e=Dt.getPooled(ii.select,ai,e,t)).type="select",e.target=oi,Rt(e),e))}var ui={eventTypes:ii,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Ln(o),i=p.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?pr(t):window,e){case"focus":(Dr(o)||"true"===o.contentEditable)&&(oi=o,ai=t,si=null);break;case"blur":si=ai=oi=null;break;case"mousedown":ci=!0;break;case"contextmenu":case"mouseup":case"dragend":return ci=!1,li(n,r);case"selectionchange":if(ri)break;case"keydown":case"keyup":return li(n,r)}return null}};P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=mr,E=fr,S=pr,P.injectEventPluginsByName({SimpleEventPlugin:vn,EnterLeaveEventPlugin:Qr,ChangeEventPlugin:Zr,SelectEventPlugin:ui,BeforeInputEventPlugin:Fr}),new Set;var hi=[],di=-1;function fi(e){0>di||(e.current=hi[di],hi[di]=null,di--)}function pi(e,t){hi[++di]=e.current,e.current=t}var mi={},gi={current:mi},vi={current:!1},yi=mi;function bi(e,t){var n=e.type.contextTypes;if(!n)return mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wi(e){return null!=(e=e.childContextTypes)}function xi(e){fi(vi),fi(gi)}function _i(e){fi(vi),fi(gi)}function Ei(e,t,n){if(gi.current!==mi)throw Error(a(168));pi(gi,t),pi(vi,n)}function Si(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Z(t)||"Unknown",o));return i({},n,{},r)}function Ci(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||mi,yi=gi.current,pi(gi,t),pi(vi,vi.current),!0}function Ai(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=Si(e,t,yi),r.__reactInternalMemoizedMergedChildContext=t,fi(vi),fi(gi),pi(gi,t)):fi(vi),pi(vi,n)}var Ti=o.unstable_runWithPriority,Mi=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ri=o.unstable_now,Fi=o.unstable_getCurrentPriorityLevel,Li=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Ii=o.unstable_IdlePriority,Bi={},zi=void 0!==Pi?Pi:function(){},Ui=null,Hi=null,Vi=!1,Wi=Ri(),$i=1e4>Wi?Ri:function(){return Ri()-Wi};function Gi(){switch(Fi()){case Li:return 99;case Di:return 98;case ji:return 97;case Ni:return 96;case Ii:return 95;default:throw Error(a(332))}}function qi(e){switch(e){case 99:return Li;case 98:return Di;case 97:return ji;case 96:return Ni;case 95:return Ii;default:throw Error(a(332))}}function Yi(e,t){return e=qi(e),Ti(e,t)}function Xi(e,t,n){return e=qi(e),Mi(e,t,n)}function Ki(e){return null===Ui?(Ui=[e],Hi=Mi(Li,Ji)):Ui.push(e),Bi}function Zi(){if(null!==Hi){var e=Hi;Hi=null,ki(e)}Ji()}function Ji(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Mi(Li,Zi),t}finally{Vi=!1}}}var Qi=3;function eo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function to(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var no={current:null},ro=null,io=null,oo=null;function ao(){oo=io=ro=null}function so(e,t){var n=e.type._context;pi(no,n._currentValue),n._currentValue=t}function co(e){var t=no.current;fi(no),e.type._context._currentValue=t}function lo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function uo(e,t){ro=e,oo=io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&($a=!0),e.firstContext=null)}function ho(e,t){if(oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===io){if(null===ro)throw Error(a(308));io=t,ro.dependencies={expirationTime:0,firstContext:t,responders:null}}else io=io.next=t;return e._currentValue}var fo=!1;function po(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function mo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function go(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function vo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function yo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=po(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=po(e.memoizedState),i=n.updateQueue=po(n.memoizedState)):r=e.updateQueue=mo(i):null===i&&(i=n.updateQueue=mo(r));null===i||r===i?vo(r,t):null===r.lastUpdate||null===i.lastUpdate?(vo(r,t),vo(i,t)):(vo(r,t),i.lastUpdate=t)}function bo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=po(e.memoizedState):wo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function wo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=mo(t)),t}function xo(e,t,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case 2:fo=!0}return r}function _o(e,t,n,r,i){fo=!1;for(var o=(t=wo(e,t)).baseState,a=null,s=0,c=t.firstUpdate,l=o;null!==c;){var u=c.expirationTime;u<i?(null===a&&(a=c,o=l),s<u&&(s=u)):(Tc(u,c.suspenseConfig),l=xo(e,0,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var h=c.expirationTime;h<i?(null===u&&(u=c,null===a&&(o=l)),s<h&&(s=h)):(l=xo(e,0,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=u,Mc(s),e.expirationTime=s,e.memoizedState=l}function Eo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),So(t.firstEffect,n),t.firstEffect=t.lastEffect=null,So(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function So(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var Co=F.ReactCurrentBatchConfig,Ao=(new r.Component).refs;function To(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=pc(),i=Co.suspense;(i=go(r=mc(r,e,i),i)).payload=t,null!=n&&(i.callback=n),yo(e,i),gc(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=pc(),i=Co.suspense;(i=go(r=mc(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),yo(e,i),gc(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=pc(),r=Co.suspense;(r=go(n=mc(n,e,r),r)).tag=2,null!=t&&(r.callback=t),yo(e,r),gc(e,n)}};function ko(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ni(n,r)||!ni(i,o))}function Oo(e,t,n){var r=!1,i=mi,o=t.contextType;return"object"==typeof o&&null!==o?o=ho(o):(i=wi(t)?yi:gi.current,o=(r=null!=(r=t.contextTypes))?bi(e,i):mi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Po(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Ro(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ao;var o=t.contextType;"object"==typeof o&&null!==o?i.context=ho(o):(o=wi(t)?yi:gi.current,i.context=bi(e,o)),null!==(o=e.updateQueue)&&(_o(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(To(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(_o(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Fo=Array.isArray;function Lo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ao&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Do(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function jo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Lo(e,t,n),r.return=e,r):((r=Xc(n.type,n.key,n.props,null,e.mode,r)).ref=Lo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Kc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Zc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Xc(t.type,t.key,t.props,null,e.mode,n)).ref=Lo(e,null,t),n.return=e,n;case N:return(t=Jc(t,e.mode,n)).return=e,t}if(Fo(t)||K(t))return(t=Kc(t,e.mode,n,null)).return=e,t;Do(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case N:return n.key===i?u(e,t,n,r):null}if(Fo(n)||K(n))return null!==i?null:h(e,t,n,r,null);Do(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case j:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Fo(r)||K(r))return h(t,e=e.get(n)||null,r,i,null);Do(t,r)}return null}function m(i,a,s,c){for(var l=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,s[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===s.length)return n(i,h),l;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],c))&&(a=o(h,a,m),null===u?l=h:u.sibling=h,u=h);return l}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,s,c,l){var u=K(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===I&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case j:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag?o.type===I:l.elementType===o.type){n(e,l.sibling),(r=i(l,o.type===I?o.props.children:o.props)).ref=Lo(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===I?((r=Kc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Xc(o.type,o.key,o.props,null,e.mode,c)).ref=Lo(e,r,o),c.return=e,e=c)}return s(e);case N:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zc(o,e.mode,c)).return=e,e=r),s(e);if(Fo(o))return m(e,r,o,c);if(K(o))return g(e,r,o,c);if(u&&Do(e,o),void 0===o&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var No=jo(!0),Io=jo(!1),Bo={},zo={current:Bo},Uo={current:Bo},Ho={current:Bo};function Vo(e){if(e===Bo)throw Error(a(174));return e}function Wo(e,t){pi(Ho,t),pi(Uo,e),pi(zo,Bo);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ze(null,"");break;default:t=ze(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}fi(zo),pi(zo,t)}function $o(e){fi(zo),fi(Uo),fi(Ho)}function Go(e){Vo(Ho.current);var t=Vo(zo.current),n=ze(t,e.type);t!==n&&(pi(Uo,e),pi(zo,n))}function qo(e){Uo.current===e&&(fi(zo),fi(Uo))}var Yo={current:0};function Xo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Jn||n.data===Qn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ko(e,t){return{responder:e,props:t}}var Zo=F.ReactCurrentDispatcher,Jo=F.ReactCurrentBatchConfig,Qo=0,ea=null,ta=null,na=null,ra=null,ia=null,oa=null,aa=0,sa=null,ca=0,la=!1,ua=null,ha=0;function da(){throw Error(a(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function pa(e,t,n,r,i,o){if(Qo=o,ea=t,na=null!==e?e.memoizedState:null,Zo.current=null===na?Fa:La,t=n(r,i),la){do{la=!1,ha+=1,na=null!==e?e.memoizedState:null,oa=ra,sa=ia=ta=null,Zo.current=La,t=n(r,i)}while(la);ua=null,ha=0}if(Zo.current=Ra,(e=ea).memoizedState=ra,e.expirationTime=aa,e.updateQueue=sa,e.effectTag|=ca,e=null!==ta&&null!==ta.next,Qo=0,oa=ia=ra=na=ta=ea=null,aa=0,sa=null,ca=0,e)throw Error(a(300));return t}function ma(){Zo.current=Ra,Qo=0,oa=ia=ra=na=ta=ea=null,aa=0,sa=null,ca=0,la=!1,ua=null,ha=0}function ga(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ia?ra=ia=e:ia=ia.next=e,ia}function va(){if(null!==oa)oa=(ia=oa).next,na=null!==(ta=na)?ta.next:null;else{if(null===na)throw Error(a(310));var e={memoizedState:(ta=na).memoizedState,baseState:ta.baseState,queue:ta.queue,baseUpdate:ta.baseUpdate,next:null};ia=null===ia?ra=e:ia.next=e,na=ta.next}return ia}function ya(e,t){return"function"==typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<ha){var r=n.dispatch;if(null!==ua){var i=ua.get(n);if(void 0!==i){ua.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return ei(o,t.memoizedState)||($a=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var c=i=null,l=r,u=!1;do{var h=l.expirationTime;h<Qo?(u||(u=!0,c=s,i=o),h>aa&&Mc(aa=h)):(Tc(h,l.suspenseConfig),o=l.eagerReducer===e?l.eagerState:e(o,l.action)),s=l,l=l.next}while(null!==l&&l!==r);u||(c=s,i=o),ei(o,t.memoizedState)||($a=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function wa(e){var t=ga();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function xa(e){return ba(ya)}function _a(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===sa?(sa={lastEffect:null}).lastEffect=e.next=e:null===(t=sa.lastEffect)?sa.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,sa.lastEffect=e),e}function Ea(e,t,n,r){var i=ga();ca|=e,i.memoizedState=_a(t,n,void 0,void 0===r?null:r)}function Sa(e,t,n,r){var i=va();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&fa(r,a.deps))return void _a(0,n,o,r)}ca|=e,i.memoizedState=_a(t,n,o,r)}function Ca(e,t){return Ea(516,192,e,t)}function Aa(e,t){return Sa(516,192,e,t)}function Ta(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ma(){}function ka(e,t){return ga().memoizedState=[e,void 0===t?null:t],e}function Oa(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t,n){if(!(25>ha))throw Error(a(301));var r=e.alternate;if(e===ea||null!==r&&r===ea)if(la=!0,e={expirationTime:Qo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ua&&(ua=new Map),void 0===(n=ua.get(t)))ua.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=pc(),o=Co.suspense;o={expirationTime:i=mc(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,u=r(l,n);if(o.eagerReducer=r,o.eagerState=u,ei(u,l))return}catch(e){}gc(e,i)}}var Ra={readContext:ho,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useResponder:da,useDeferredValue:da,useTransition:da},Fa={readContext:ho,useCallback:ka,useContext:ho,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ea(4,36,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ea(4,36,e,t)},useMemo:function(e,t){var n=ga();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ga().memoizedState=e},useState:wa,useDebugValue:Ma,useResponder:Ko,useDeferredValue:function(e,t){var n=wa(e),r=n[0],i=n[1];return Ca((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=wa(!1),n=t[0],r=t[1];return[ka((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},La={readContext:ho,useCallback:Oa,useContext:ho,useEffect:Aa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Sa(4,36,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sa(4,36,e,t)},useMemo:function(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ba,useRef:function(){return va().memoizedState},useState:xa,useDebugValue:Ma,useResponder:Ko,useDeferredValue:function(e,t){var n=xa(),r=n[0],i=n[1];return Aa((function(){o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===t?null:t;try{i(e)}finally{Jo.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=xa(),n=t[0],r=t[1];return[Oa((function(t){r(!0),o.unstable_next((function(){var n=Jo.suspense;Jo.suspense=void 0===e?null:e;try{r(!1),t()}finally{Jo.suspense=n}}))}),[e,n]),n]}},Da=null,ja=null,Na=!1;function Ia(e,t){var n=Gc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function za(e){if(Na){var t=ja;if(t){var n=t;if(!Ba(e,t)){if(!(t=ar(n.nextSibling))||!Ba(e,t))return e.effectTag=-1025&e.effectTag|2,Na=!1,void(Da=e);Ia(Da,n)}Da=e,ja=ar(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Na=!1,Da=e}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Da=e}function Ha(e){if(e!==Da)return!1;if(!Na)return Ua(e),Na=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!rr(t,e.memoizedProps))for(t=ja;t;)Ia(e,t),t=ar(t.nextSibling);if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Zn){if(0===t){ja=ar(e.nextSibling);break e}t--}else n!==Kn&&n!==Qn&&n!==Jn||t++}e=e.nextSibling}ja=null}}else ja=Da?ar(e.stateNode.nextSibling):null;return!0}function Va(){ja=Da=null,Na=!1}var Wa=F.ReactCurrentOwner,$a=!1;function Ga(e,t,n,r){t.child=null===e?Io(t,null,n,r):No(t,e.child,n,r)}function qa(e,t,n,r,i){n=n.render;var o=t.ref;return uo(t,i),r=pa(e,t,n,r,o,i),null===e||$a?(t.effectTag|=1,Ga(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i))}function Ya(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||qc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Xa(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ni)(i,r)&&e.ref===t.ref)?us(e,t,o):(t.effectTag|=1,(e=Yc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Xa(e,t,n,r,i,o){return null!==e&&ni(e.memoizedProps,r)&&e.ref===t.ref&&($a=!1,i<o)?us(e,t,o):Za(e,t,n,r,o)}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Za(e,t,n,r,i){var o=wi(n)?yi:gi.current;return o=bi(t,o),uo(t,i),n=pa(e,t,n,r,o,i),null===e||$a?(t.effectTag|=1,Ga(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),us(e,t,i))}function Ja(e,t,n,r,i){if(wi(n)){var o=!0;Ci(t)}else o=!1;if(uo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Oo(t,n,r),Ro(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=ho(l):l=bi(t,l=wi(n)?yi:gi.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Po(t,a,r,l),fo=!1;var d=t.memoizedState;c=a.state=d;var f=t.updateQueue;null!==f&&(_o(t,f,r,a,i),c=t.memoizedState),s!==r||d!==c||vi.current||fo?("function"==typeof u&&(To(t,n,u,r),c=t.memoizedState),(s=fo||ko(t,n,s,r,d,c,l))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:to(t.type,s),c=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=ho(l):l=bi(t,l=wi(n)?yi:gi.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Po(t,a,r,l),fo=!1,c=t.memoizedState,d=a.state=c,null!==(f=t.updateQueue)&&(_o(t,f,r,a,i),d=t.memoizedState),s!==r||c!==d||vi.current||fo?("function"==typeof u&&(To(t,n,u,r),d=t.memoizedState),(u=fo||ko(t,n,s,r,c,d,l))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Qa(e,t,n,r,o,i)}function Qa(e,t,n,r,i,o){Ka(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ai(t,n,!1),us(e,t,o);r=t.stateNode,Wa.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=No(t,e.child,null,o),t.child=No(t,null,s,o)):Ga(e,t,s,o),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function es(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Wo(e,t.containerInfo)}var ts,ns,rs,is,os={dehydrated:null,retryTime:0};function as(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Yo.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),pi(Yo,1&a),null===e){if(void 0!==o.fallback&&za(t),s){if(s=o.fallback,(o=Kc(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Kc(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=os,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Yc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Yc(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=os,t.child=n,i}return n=No(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Kc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Kc(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=os,t.child=o,n}return t.memoizedState=null,t.child=No(t,e,o.children,n)}function ss(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),lo(e.return,t)}function cs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ls(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ga(e,t,r.children,n),0!=(2&(r=Yo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ss(e,n);else if(19===e.tag)ss(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Yo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cs(t,!0,n,null,o,t.lastEffect);break;case"together":cs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function us(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Mc(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Yc(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yc(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function hs(e){e.effectTag|=4}function ds(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fs(e){switch(e.tag){case 1:wi(e.type)&&xi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if($o(),_i(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return qo(e),null;case 13:return fi(Yo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(Yo),null;case 4:return $o(),null;case 10:return co(e),null;default:return null}}function ps(e,t){return{value:e,source:t,stack:J(t)}}ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ns=function(){},rs=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,c,l=t.stateNode;switch(Vo(zo.current),e=null,n){case"input":a=Ae(l,a),r=Ae(l,r),e=[];break;case"option":a=Re(l,a),r=Re(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Le(l,a),r=Le(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=Wn)}for(s in Un(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in l=a[s])l.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==l&&(null!=u||null!=l))if("style"===s)if(l){for(c in l)!l.hasOwnProperty(c)||u&&u.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in u)u.hasOwnProperty(c)&&l[c]!==u[c]&&(n||(n={}),n[c]=u[c])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(s,""+u)):"children"===s?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=u&&Vn(o,s),e||l===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&hs(t)}},is=function(e,t,n,r){n!==r&&hs(t)};var ms="function"==typeof WeakSet?WeakSet:Set;function gs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&Z(n.type),t=t.value,null!==e&&1===e.tag&&Z(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function vs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){zc(e,t)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:bs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:to(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function bs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ws(e,t,n){switch("function"==typeof Wc&&Wc(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Yi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){zc(i,e)}}e=e.next}while(e!==r)}))}break;case 1:vs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){zc(e,t)}}(t,n);break;case 5:vs(t);break;case 4:Ss(e,t,n)}}function xs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&xs(t)}function _s(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(_s(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ve(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var c=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(c,s):o.insertBefore(c,s)}else t.insertBefore(s,n);else r?(8===(c=t).nodeType?(o=c.parentNode).insertBefore(s,c):(o=c).appendChild(s),null!=(c=c._reactRootContainer)||null!==o.onclick||(o.onclick=Wn)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,l=o,u=n,h=l;;)if(ws(c,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(c=r,l=o.stateNode,8===c.nodeType?c.parentNode.removeChild(l):c.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ws(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:bs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[ur]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Me(n,r),Hn(e,i),t=Hn(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Bn(n,c):"dangerouslySetInnerHTML"===s?He(n,c):"children"===s?Ve(n,c):_e(n,s,c,t)}switch(e){case"input":ke(n,r);break;case"textarea":je(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Fe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Fe(n,!!r.multiple,r.defaultValue,!0):Fe(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ct(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,tc=$i()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=In("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}As(t);break;case 19:As(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ms),t.forEach((function(t){var r=Hc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Ts="function"==typeof WeakMap?WeakMap:Map;function Ms(e,t,n){(n=go(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ic||(ic=!0,oc=r),gs(e,t)},n}function ks(e,t,n){(n=go(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return gs(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ac?ac=new Set([this]):ac.add(this),gs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Os,Ps=Math.ceil,Rs=F.ReactCurrentDispatcher,Fs=F.ReactCurrentOwner,Ls=0,Ds=8,js=16,Ns=32,Is=0,Bs=1,zs=2,Us=3,Hs=4,Vs=5,Ws=Ls,$s=null,Gs=null,qs=0,Ys=Is,Xs=null,Ks=1073741823,Zs=1073741823,Js=null,Qs=0,ec=!1,tc=0,nc=500,rc=null,ic=!1,oc=null,ac=null,sc=!1,cc=null,lc=90,uc=null,hc=0,dc=null,fc=0;function pc(){return(Ws&(js|Ns))!==Ls?1073741821-($i()/10|0):0!==fc?fc:fc=1073741821-($i()/10|0)}function mc(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Gi();if(0==(4&t))return 99===r?1073741823:1073741822;if((Ws&js)!==Ls)return qs;if(null!==n)e=eo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=eo(e,150,100);break;case 97:case 96:e=eo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==$s&&e===qs&&--e,e}function gc(e,t){if(50<hc)throw hc=0,dc=null,Error(a(185));if(null!==(e=vc(e,t))){var n=Gi();1073741823===t?(Ws&Ds)!==Ls&&(Ws&(js|Ns))===Ls?xc(e):(bc(e),Ws===Ls&&Zi()):bc(e),(4&Ws)===Ls||98!==n&&99!==n||(null===uc?uc=new Map([[e,t]]):(void 0===(n=uc.get(e))||n>t)&&uc.set(e,t))}}function vc(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&($s===i&&(Mc(t),Ys===Hs&&tl(i,qs)),nl(i,t)),i}function yc(e){var t=e.lastExpiredTime;return 0!==t?t:el(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function bc(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(xc.bind(null,e));else{var t=yc(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=pc();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Bi&&ki(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(xc.bind(null,e)):Xi(r,wc.bind(null,e),{timeout:10*(1073741821-t)-$i()}),e.callbackNode=t}}}function wc(e,t){if(fc=0,t)return rl(e,t=pc()),bc(e),null;var n=yc(e);if(0!==n){if(t=e.callbackNode,(Ws&(js|Ns))!==Ls)throw Error(a(327));if(Nc(),e===$s&&n===qs||Sc(e,n),null!==Gs){var r=Ws;Ws|=js;for(var i=Ac();;)try{Oc();break}catch(t){Cc(e,t)}if(ao(),Ws=r,Rs.current=i,Ys===Bs)throw t=Xs,Sc(e,n),tl(e,n),bc(e),t;if(null===Gs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ys,$s=null,r){case Is:case Bs:throw Error(a(345));case zs:rl(e,2<n?2:n);break;case Us:if(tl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Fc(i)),1073741823===Ks&&10<(i=tc+nc-$i())){if(ec){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Sc(e,n);break}}if(0!==(o=yc(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=ir(Lc.bind(null,e),i);break}Lc(e);break;case Hs:if(tl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Fc(i)),ec&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Sc(e,n);break}if(0!==(i=yc(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Zs?r=10*(1073741821-Zs)-$i():1073741823===Ks?r=0:(r=10*(1073741821-Ks)-5e3,0>(r=(i=$i())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ps(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=ir(Lc.bind(null,e),r);break}Lc(e);break;case Vs:if(1073741823!==Ks&&null!==Js){o=Ks;var s=Js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=$i()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){tl(e,n),e.timeoutHandle=ir(Lc.bind(null,e),r);break}}Lc(e);break;default:throw Error(a(329))}if(bc(e),e.callbackNode===t)return wc.bind(null,e)}}return null}function xc(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)Lc(e);else{if((Ws&(js|Ns))!==Ls)throw Error(a(327));if(Nc(),e===$s&&t===qs||Sc(e,t),null!==Gs){var n=Ws;Ws|=js;for(var r=Ac();;)try{kc();break}catch(t){Cc(e,t)}if(ao(),Ws=n,Rs.current=r,Ys===Bs)throw n=Xs,Sc(e,t),tl(e,t),bc(e),n;if(null!==Gs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,$s=null,Lc(e),bc(e)}}return null}function _c(e,t){var n=Ws;Ws|=1;try{return e(t)}finally{(Ws=n)===Ls&&Zi()}}function Ec(e,t){var n=Ws;Ws&=-2,Ws|=Ds;try{return e(t)}finally{(Ws=n)===Ls&&Zi()}}function Sc(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,or(n)),null!==Gs)for(n=Gs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&xi();break;case 3:$o(),_i();break;case 5:qo(r);break;case 4:$o();break;case 13:case 19:fi(Yo);break;case 10:co(r)}n=n.return}$s=e,Gs=Yc(e.current,null),qs=t,Ys=Is,Xs=null,Zs=Ks=1073741823,Js=null,Qs=0,ec=!1}function Cc(e,t){for(;;){try{if(ao(),ma(),null===Gs||null===Gs.return)return Ys=Bs,Xs=t,null;e:{var n=e,r=Gs.return,i=Gs,o=t;if(t=qs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Yo.current),c=r;do{var l;if(l=13===c.tag){var u=c.memoizedState;if(null!==u)l=null!==u.dehydrated;else{var h=c.memoizedProps;l=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(l){var d=c.updateQueue;if(null===d){var f=new Set;f.add(a),c.updateQueue=f}else d.add(a);if(0==(2&c.mode)){if(c.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var p=go(1073741823,null);p.tag=2,yo(i,p)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Ts,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var g=Uc.bind(null,n,a,i);a.then(g,g)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);o=Error((Z(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Ys!==Vs&&(Ys=zs),o=ps(o,i),c=r;do{switch(c.tag){case 3:a=o,c.effectTag|=4096,c.expirationTime=t,bo(c,Ms(c,a,t));break e;case 1:a=o;var v=c.type,y=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===ac||!ac.has(y)))){c.effectTag|=4096,c.expirationTime=t,bo(c,ks(c,a,t));break e}}c=c.return}while(null!==c)}Gs=Rc(Gs)}catch(e){t=e;continue}break}}function Ac(){var e=Rs.current;return Rs.current=Ra,null===e?Ra:e}function Tc(e,t){e<Ks&&2<e&&(Ks=e),null!==t&&e<Zs&&2<e&&(Zs=e,Js=t)}function Mc(e){e>Qs&&(Qs=e)}function kc(){for(;null!==Gs;)Gs=Pc(Gs)}function Oc(){for(;null!==Gs&&!Oi();)Gs=Pc(Gs)}function Pc(e){var t=Os(e.alternate,e,qs);return e.memoizedProps=e.pendingProps,null===t&&(t=Rc(e)),Fs.current=null,t}function Rc(e){Gs=e;do{var t=Gs.alternate;if(e=Gs.return,0==(2048&Gs.effectTag)){e:{var n=t,r=qs,o=(t=Gs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:wi(t.type)&&xi();break;case 3:$o(),_i(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Ha(t)&&hs(t),ns(t);break;case 5:qo(t),r=Vo(Ho.current);var s=t.type;if(null!==n&&null!=t.stateNode)rs(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var c=Vo(zo.current);if(Ha(t)){var l=(o=t).stateNode;n=o.type;var u=o.memoizedProps,h=r;switch(l[lr]=o,l[ur]=u,s=void 0,r=l,n){case"iframe":case"object":case"embed":Cn("load",r);break;case"video":case"audio":for(l=0;l<Qe.length;l++)Cn(Qe[l],r);break;case"source":Cn("error",r);break;case"img":case"image":case"link":Cn("error",r),Cn("load",r);break;case"form":Cn("reset",r),Cn("submit",r);break;case"details":Cn("toggle",r);break;case"input":Te(r,u),Cn("invalid",r),Vn(h,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Cn("invalid",r),Vn(h,"onChange");break;case"textarea":De(r,u),Cn("invalid",r),Vn(h,"onChange")}for(s in Un(n,u),l=null,u)u.hasOwnProperty(s)&&(c=u[s],"children"===s?"string"==typeof c?r.textContent!==c&&(l=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(l=["children",""+c]):f.hasOwnProperty(s)&&null!=c&&Vn(h,s));switch(n){case"input":Se(r),Oe(r,u,!0);break;case"textarea":Se(r),Ne(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=Wn)}s=l,o.updateQueue=s,(o=null!==s)&&hs(t)}else{n=t,h=s,u=o,l=9===r.nodeType?r:r.ownerDocument,c===Ie.html&&(c=Be(h)),c===Ie.html?"script"===h?((u=l.createElement("div")).innerHTML="<script><\/script>",l=u.removeChild(u.firstChild)):"string"==typeof u.is?l=l.createElement(h,{is:u.is}):(l=l.createElement(h),"select"===h&&(h=l,u.multiple?h.multiple=!0:u.size&&(h.size=u.size))):l=l.createElementNS(c,h),(u=l)[lr]=n,u[ur]=o,ts(u,t,!1,!1),t.stateNode=u;var d=r,p=Hn(h=s,n=o);switch(h){case"iframe":case"object":case"embed":Cn("load",u),r=n;break;case"video":case"audio":for(r=0;r<Qe.length;r++)Cn(Qe[r],u);r=n;break;case"source":Cn("error",u),r=n;break;case"img":case"image":case"link":Cn("error",u),Cn("load",u),r=n;break;case"form":Cn("reset",u),Cn("submit",u),r=n;break;case"details":Cn("toggle",u),r=n;break;case"input":Te(u,n),r=Ae(u,n),Cn("invalid",u),Vn(d,"onChange");break;case"option":r=Re(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),Cn("invalid",u),Vn(d,"onChange");break;case"textarea":De(u,n),r=Le(u,n),Cn("invalid",u),Vn(d,"onChange");break;default:r=n}Un(h,r),l=void 0,c=h;var m=u,g=r;for(l in g)if(g.hasOwnProperty(l)){var v=g[l];"style"===l?Bn(m,v):"dangerouslySetInnerHTML"===l?null!=(v=v?v.__html:void 0)&&He(m,v):"children"===l?"string"==typeof v?("textarea"!==c||""!==v)&&Ve(m,v):"number"==typeof v&&Ve(m,""+v):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(f.hasOwnProperty(l)?null!=v&&Vn(d,l):null!=v&&_e(m,l,v,p))}switch(h){case"input":Se(u),Oe(u,n,!1);break;case"textarea":Se(u),Ne(u);break;case"option":null!=n.value&&u.setAttribute("value",""+xe(n.value));break;case"select":(r=u).multiple=!!n.multiple,null!=(u=n.value)?Fe(r,!!n.multiple,u,!1):null!=n.defaultValue&&Fe(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(u.onclick=Wn)}(o=nr(s,o))&&hs(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)is(n,t,n.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));r=Vo(Ho.current),Vo(zo.current),Ha(t)?(s=(o=t).stateNode,r=o.memoizedProps,s[lr]=o,(o=s.nodeValue!==r)&&hs(t)):(s=t,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[lr]=s,t.stateNode=o)}break;case 11:break;case 13:if(fi(Yo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}o=null!==o,s=!1,null===n?void 0!==t.memoizedProps.fallback&&Ha(t):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=r,r.nextEffect=u):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Yo.current)?Ys===Is&&(Ys=Us):(Ys!==Is&&Ys!==Us||(Ys=Hs),0!==Qs&&null!==$s&&(tl($s,qs),nl($s,Qs)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:$o(),ns(t);break;case 10:co(t);break;case 9:case 14:break;case 17:wi(t.type)&&xi();break;case 19:if(fi(Yo),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=o.rendering)){if(s)ds(o,!1);else if(Ys!==Is||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Xo(n))){for(t.effectTag|=64,ds(o,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=r,s=t.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(u=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=u.childExpirationTime,r.expirationTime=u.expirationTime,r.child=u.child,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,n=u.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;pi(Yo,1&Yo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Xo(u))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ds(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else $i()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,ds(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=o.last)?r.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=$i()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Yo.current,pi(Yo,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Gs,1===qs||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(u=r.childExpirationTime)>s&&(s=u),r=r.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Gs.firstEffect),null!==Gs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Gs.firstEffect),e.lastEffect=Gs.lastEffect),1<Gs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Gs:e.firstEffect=Gs,e.lastEffect=Gs))}else{if(null!==(t=fs(Gs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Gs.sibling))return t;Gs=e}while(null!==Gs);return Ys===Is&&(Ys=Vs),null}function Fc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Lc(e){var t=Gi();return Yi(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{Nc()}while(null!==cc);if((Ws&(js|Ns))!==Ls)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Fc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===$s&&(Gs=$s=null,qs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ws;Ws|=Ns,Fs.current=null,er=Sn;var s=Yn();if(Xn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(l&&0!==l.rangeCount){c=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{c.nodeType,h.nodeType}catch(e){c=null;break e}var d=0,f=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==c||0!==u&&3!==v.nodeType||(f=d+u),v!==h||0!==l&&3!==v.nodeType||(p=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===c&&++m===u&&(f=d),y===h&&++g===l&&(p=d),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}c=-1===f||-1===p?null:{start:f,end:p}}else c=null}c=c||{start:0,end:0}}else c=null;tr={focusedElem:s,selectionRange:c},Sn=!1,rc=i;do{try{jc()}catch(e){if(null===rc)throw Error(a(330));zc(rc,e),rc=rc.nextEffect}}while(null!==rc);rc=i;do{try{for(s=e,c=t;null!==rc;){var w=rc.effectTag;if(16&w&&Ve(rc.stateNode,""),128&w){var x=rc.alternate;if(null!==x){var _=x.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:Es(rc),rc.effectTag&=-3;break;case 6:Es(rc),rc.effectTag&=-3,Cs(rc.alternate,rc);break;case 1024:rc.effectTag&=-1025;break;case 1028:rc.effectTag&=-1025,Cs(rc.alternate,rc);break;case 4:Cs(rc.alternate,rc);break;case 8:Ss(s,u=rc,c),xs(u)}rc=rc.nextEffect}}catch(e){if(null===rc)throw Error(a(330));zc(rc,e),rc=rc.nextEffect}}while(null!==rc);if(_=tr,x=Yn(),w=_.focusedElem,c=_.selectionRange,x!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==c&&Xn(w)&&(x=c.start,void 0===(_=c.end)&&(_=x),"selectionStart"in w?(w.selectionStart=x,w.selectionEnd=Math.min(_,w.value.length)):(_=(x=w.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),u=w.textContent.length,s=Math.min(c.start,u),c=void 0===c.end?s:Math.min(c.end,u),!_.extend&&s>c&&(u=c,c=s,s=u),u=qn(w,s),h=qn(w,c),u&&h&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==h.node||_.focusOffset!==h.offset)&&((x=x.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),s>c?(_.addRange(x),_.extend(h.node,h.offset)):(x.setEnd(h.node,h.offset),_.addRange(x))))),x=[];for(_=w;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<x.length;w++)(_=x[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}tr=null,Sn=!!er,er=null,e.current=n,rc=i;do{try{for(w=r;null!==rc;){var E=rc.effectTag;if(36&E){var S=rc.alternate;switch(_=w,(x=rc).tag){case 0:case 11:case 15:bs(16,32,x);break;case 1:var C=x.stateNode;if(4&x.effectTag)if(null===S)C.componentDidMount();else{var A=x.elementType===x.type?S.memoizedProps:to(x.type,S.memoizedProps);C.componentDidUpdate(A,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var T=x.updateQueue;null!==T&&Eo(0,T,C);break;case 3:var M=x.updateQueue;if(null!==M){if(s=null,null!==x.child)switch(x.child.tag){case 5:s=x.child.stateNode;break;case 1:s=x.child.stateNode}Eo(0,M,s)}break;case 5:var k=x.stateNode;null===S&&4&x.effectTag&&nr(x.type,x.memoizedProps)&&k.focus();break;case 6:case 4:case 12:break;case 13:if(null===x.memoizedState){var O=x.alternate;if(null!==O){var P=O.memoizedState;if(null!==P){var R=P.dehydrated;null!==R&&Ct(R)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&E){x=void 0;var F=rc.ref;if(null!==F){var L=rc.stateNode;switch(rc.tag){case 5:x=L;break;default:x=L}"function"==typeof F?F(x):F.current=x}}rc=rc.nextEffect}}catch(e){if(null===rc)throw Error(a(330));zc(rc,e),rc=rc.nextEffect}}while(null!==rc);rc=null,zi(),Ws=o}else e.current=n;if(sc)sc=!1,cc=e,lc=t;else for(rc=i;null!==rc;)t=rc.nextEffect,rc.nextEffect=null,rc=t;if(0===(t=e.firstPendingTime)&&(ac=null),1073741823===t?e===dc?hc++:(hc=0,dc=e):hc=0,"function"==typeof Vc&&Vc(n.stateNode,r),bc(e),ic)throw ic=!1,e=oc,oc=null,e;return(Ws&Ds)!==Ls?null:(Zi(),null)}function jc(){for(;null!==rc;){var e=rc.effectTag;0!=(256&e)&&ys(rc.alternate,rc),0==(512&e)||sc||(sc=!0,Xi(97,(function(){return Nc(),null}))),rc=rc.nextEffect}}function Nc(){if(90!==lc){var e=97<lc?97:lc;return lc=90,Yi(e,Ic)}}function Ic(){if(null===cc)return!1;var e=cc;if(cc=null,(Ws&(js|Ns))!==Ls)throw Error(a(331));var t=Ws;for(Ws|=Ns,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:bs(128,0,n),bs(0,64,n)}}catch(t){if(null===e)throw Error(a(330));zc(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ws=t,Zi(),!0}function Bc(e,t,n){yo(e,t=Ms(e,t=ps(n,t),1073741823)),null!==(e=vc(e,1073741823))&&bc(e)}function zc(e,t){if(3===e.tag)Bc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ac||!ac.has(r))){yo(n,e=ks(n,e=ps(t,e),1073741823)),null!==(n=vc(n,1073741823))&&bc(n);break}}n=n.return}}function Uc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),$s===e&&qs===n?Ys===Hs||Ys===Us&&1073741823===Ks&&$i()-tc<nc?Sc(e,qs):ec=!0:el(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),bc(e)))}function Hc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=mc(t=pc(),e,null)),null!==(e=vc(e,t))&&bc(e)}Os=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||vi.current)$a=!0;else{if(r<n){switch($a=!1,t.tag){case 3:es(t),Va();break;case 5:if(Go(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:wi(t.type)&&Ci(t);break;case 4:Wo(t,t.stateNode.containerInfo);break;case 10:so(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?as(e,t,n):(pi(Yo,1&Yo.current),null!==(t=us(e,t,n))?t.sibling:null);pi(Yo,1&Yo.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ls(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(Yo,Yo.current),!r)return null}return us(e,t,n)}$a=!1}}else $a=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,gi.current),uo(t,n),i=pa(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ma(),wi(r)){var o=!0;Ci(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&To(t,r,s,e),i.updater=Mo,t.stateNode=i,i._reactInternalFiber=t,Ro(t,r,e,n),t=Qa(null,t,r,!0,o,n)}else t.tag=0,Ga(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return qc(e)?1:0;if(null!=e){if((e=e.$$typeof)===W)return 11;if(e===q)return 14}return 2}(i),e=to(i,e),o){case 0:t=Za(null,t,i,e,n);break;case 1:t=Ja(null,t,i,e,n);break;case 11:t=qa(null,t,i,e,n);break;case 14:t=Ya(null,t,i,to(i.type,e),r,n);break;default:throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Za(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ja(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:if(es(t),null===(r=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,_o(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)Va(),t=us(e,t,n);else{if((i=t.stateNode.hydrate)&&(ja=ar(t.stateNode.containerInfo.firstChild),Da=t,i=Na=!0),i)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ga(e,t,r,n),Va();t=t.child}return t;case 5:return Go(t),null===e&&za(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,rr(r,i)?s=null:null!==o&&rr(r,o)&&(t.effectTag|=16),Ka(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ga(e,t,s,n),t=t.child),t;case 6:return null===e&&za(t),null;case 13:return as(e,t,n);case 4:return Wo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=No(t,null,r,n):Ga(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return Ga(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ga(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,so(t,o=i.value),null!==s){var c=s.value;if(0===(o=ei(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!vi.current){t=us(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=go(n,null)).tag=2,yo(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),lo(c.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}Ga(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,uo(t,n),r=r(i=ho(i,o.unstable_observedBits)),t.effectTag|=1,Ga(e,t,r,n),t.child;case 14:return o=to(i=t.type,t.pendingProps),Ya(e,t,i,o=to(i.type,o),r,n);case 15:return Xa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,wi(r)?(e=!0,Ci(t)):e=!1,uo(t,n),Oo(t,r,i),Ro(t,r,i,n),Qa(null,t,r,!0,e,n);case 19:return ls(e,t,n)}throw Error(a(156,t.tag))};var Vc=null,Wc=null;function $c(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gc(e,t,n,r){return new $c(e,t,n,r)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yc(e,t){var n=e.alternate;return null===n?((n=Gc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)qc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case I:return Kc(n.children,i,o,t);case V:s=8,i|=7;break;case B:s=8,i|=1;break;case z:return(e=Gc(12,n,t,8|i)).elementType=z,e.type=z,e.expirationTime=o,e;case $:return(e=Gc(13,n,t,i)).type=$,e.elementType=$,e.expirationTime=o,e;case G:return(e=Gc(19,n,t,i)).elementType=G,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case U:s=10;break e;case H:s=9;break e;case W:s=11;break e;case q:s=14;break e;case Y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Gc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Kc(e,t,n,r){return(e=Gc(7,e,r,t)).expirationTime=n,e}function Zc(e,t,n){return(e=Gc(6,e,null,t)).expirationTime=n,e}function Jc(e,t,n){return(t=Gc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function el(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function tl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function nl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function rl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function il(e,t,n,r){var i=t.current,o=pc(),s=Co.suspense;o=mc(o,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(wi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(wi(l)){n=Si(n,l,c);break e}}n=c}else n=mi;return null===t.context?t.context=n:t.pendingContext=n,(t=go(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),yo(i,t),gc(i,o),o}function ol(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function al(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function sl(e,t){al(e,t),(e=e.alternate)&&al(e,t)}function cl(e,t,n){var r=new Qc(e,t,n=null!=n&&!0===n.hydrate),i=Gc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,e[hr]=r.current,n&&0!==t&&function(e){var t=Ln(e);mt.forEach((function(n){Dn(n,e,t)})),gt.forEach((function(n){Dn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ll(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ul(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=ol(a);s.call(e)}}il(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new cl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=ol(a);c.call(e)}}Ec((function(){il(t,a,e,i)}))}return ol(a)}function hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ll(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}cl.prototype.render=function(e,t){il(e,this._internalRoot,null,void 0===t?null:t)},cl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;il(null,t,null,(function(){r[hr]=null,null!==n&&n()}))},it=function(e){if(13===e.tag){var t=eo(pc(),150,100);gc(e,t),sl(e,t)}},ot=function(e){if(13===e.tag){pc();var t=Qi++;gc(e,t),sl(e,t)}},at=function(e){if(13===e.tag){var t=pc();gc(e,t=mc(t,e,null)),sl(e,t)}},ee=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mr(r);if(!i)throw Error(a(90));Ce(r),ke(r,i)}}}break;case"textarea":je(e,n);break;case"select":null!=(t=n.value)&&Fe(e,!!n.multiple,t,!1)}},ae=_c,se=function(e,t,n,r){var i=Ws;Ws|=4;try{return Yi(98,e.bind(null,t,n,r))}finally{(Ws=i)===Ls&&Zi()}},ce=function(){(Ws&(1|js|Ns))===Ls&&(function(){if(null!==uc){var e=uc;uc=null,e.forEach((function(e,t){rl(t,e),bc(t)})),Zi()}}(),Nc())},le=function(e,t){var n=Ws;Ws|=2;try{return e(t)}finally{(Ws=n)===Ls&&Zi()}};var dl,fl,pl={createPortal:hl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ll(t))throw Error(a(200));return ul(null,e,t,!0,n)},render:function(e,t,n){if(!ll(t))throw Error(a(200));return ul(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ll(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ul(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!ll(e))throw Error(a(40));return!!e._reactRootContainer&&(Ec((function(){ul(null,null,e,!1,(function(){e._reactRootContainer=null,e[hr]=null}))})),!0)},unstable_createPortal:function(){return hl.apply(void 0,arguments)},unstable_batchedUpdates:_c,flushSync:function(e,t){if((Ws&(js|Ns))!==Ls)throw Error(a(187));var n=Ws;Ws|=1;try{return Yi(99,e.bind(null,t))}finally{Ws=n,Zi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[fr,pr,mr,P.injectEventPluginsByName,d,Rt,function(e){T(e,Pt)},ie,oe,On,O,Nc,{current:!1}]}};fl=(dl={findFiberByHostInstance:dr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Wc=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},dl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return fl?fl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var ml={default:pl},gl=ml&&pl||ml;e.exports=gl.default||gl},ynwM:function(e,t,n){var r=n("MFOe").Global;e.exports={name:"oldFF-globalStorage",read:function(e){return i[e]},write:function(e,t){i[e]=t},each:o,remove:function(e){return i.removeItem(e)},clearAll:function(){o((function(e,t){delete i[e]}))}};var i=r.globalStorage;function o(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}},yue5:function(e,t,n){var r=n("/9aa");e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,c=null===t,l=t==t,u=r(t);if(!c&&!u&&!a&&e>t||a&&s&&l&&!c&&!u||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!u&&e<t||u&&n&&o&&!i&&!a||c&&n&&o||!s&&o||!l)return-1}return 0}},z6cq:function(e,t,n){var r=n("M96O");e.exports=function(e){var t=0,n=[],i={},o=[];return e.nodes().forEach((function(a){r.has(i,a)||function a(s){var c=i[s]={onStack:!0,lowlink:t,index:t++};n.push(s);e.successors(s).forEach((function(e){r.has(i,e)?i[e].onStack&&(c.lowlink=Math.min(c.lowlink,i[e].index)):(a(e),c.lowlink=Math.min(c.lowlink,i[e].lowlink))}));if(c.lowlink===c.index){var l,u=[];do{l=n.pop(),i[l].onStack=!1,u.push(l)}while(s!==l);o.push(u)}}(a)})),o}},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},zK1H:function(e,t,n){"use strict";var r=n("U6jy"),i=n("cBNe");e.exports=function(){var e,t=String(this.file),n={line:1,column:1,offset:0},s=r(n);65279===(t=t.replace(a,o)).charCodeAt(0)&&(t=t.slice(1),s.column++,s.offset++);e={type:"root",children:this.tokenizeBlock(t,s),position:{start:n,end:this.eof||r(n)}},this.options.position||i(e,!0);return e};var o="\n",a=/\r\n|\r/g},zLkG:function(e,t,n){t.f=n("UWiX")},zXhZ:function(e,t,n){var r=n("5K7Z"),i=n("93I4"),o=n("ZW5q");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},zZ0H:function(e,t){e.exports=function(e){return e}},zn7N:function(e,t,n){var r=n("Y7ZC"),i=n("WEpk"),o=n("KUxP");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},zoYe:function(e,t,n){var r=n("nmnc"),i=n("eUgh"),o=n("Z0cm"),a=n("/9aa"),s=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},ztPK:function(e,t,n){var r,i;!function(o,a){"use strict";var s=Math.pow(2,-24),c=Math.pow(2,32),l=Math.pow(2,53);(i="function"==typeof(r={encode:function(e){var t,n=new ArrayBuffer(256),r=new DataView(n),i=0;function o(e){for(var o=n.byteLength,a=i+e;o<a;)o*=2;if(o!==n.byteLength){var s=r;n=new ArrayBuffer(o),r=new DataView(n);for(var c=i+3>>2,l=0;l<c;++l)r.setUint32(4*l,s.getUint32(4*l))}return t=e,r}function s(){i+=t}function u(e){s(o(1).setUint8(i,e))}function h(e){for(var t=o(e.length),n=0;n<e.length;++n)t.setUint8(i+n,e[n]);s()}function d(e,t){t<24?u(e<<5|t):t<256?(u(e<<5|24),u(t)):t<65536?(u(e<<5|25),function(e){s(o(2).setUint16(i,e))}(t)):t<4294967296?(u(e<<5|26),function(e){s(o(4).setUint32(i,e))}(t)):(u(e<<5|27),function(e){var t=e%c,n=(e-t)/c,r=o(8);r.setUint32(i,n),r.setUint32(i+4,t),s()}(t))}if(function e(t){var n;if(!1===t)return u(244);if(!0===t)return u(245);if(null===t)return u(246);if(t===a)return u(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=l)return d(0,t);if(-l<=t&&t<0)return d(1,-(t+1))}return u(251),function(e){s(o(8).setFloat64(i,e))}(t);case"string":var r=[];for(n=0;n<t.length;++n){var c=t.charCodeAt(n);c<128?r.push(c):c<2048?(r.push(192|c>>6),r.push(128|63&c)):c<55296?(r.push(224|c>>12),r.push(128|c>>6&63),r.push(128|63&c)):(c=(1023&c)<<10,c|=1023&t.charCodeAt(++n),c+=65536,r.push(240|c>>18),r.push(128|c>>12&63),r.push(128|c>>6&63),r.push(128|63&c))}return d(3,r.length),h(r);default:var f;if(Array.isArray(t))for(d(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)d(2,t.length),h(t);else{var p=Object.keys(t);for(d(5,f=p.length),n=0;n<f;++n){var m=p[n];e(m),e(t[m])}}}}(e),"slice"in n)return n.slice(0,i);for(var f=new ArrayBuffer(i),p=new DataView(f),m=0;m<i;++m)p.setUint8(m,r.getUint8(m));return f},decode:function(e,t,n){var r=new DataView(e),i=0;function o(e,t){return i+=t,e}function l(t){return o(new Uint8Array(e,i,t),t)}function u(){return o(r.getUint8(i),1)}function h(){return o(r.getUint16(i),2)}function d(){return o(r.getUint32(i),4)}function f(){return 255===r.getUint8(i)&&(i+=1,!0)}function p(e){if(e<24)return e;if(24===e)return u();if(25===e)return h();if(26===e)return d();if(27===e)return d()*c+d();if(31===e)return-1;throw"Invalid length encoding"}function m(e){var t=u();if(255===t)return-1;var n=p(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function g(e,t){for(var n=0;n<t;++n){var r=u();128&r&&(r<224?(r=(31&r)<<6|63&u(),t-=1):r<240?(r=(15&r)<<12|(63&u())<<6|63&u(),t-=2):(r=(15&r)<<18|(63&u())<<12|(63&u())<<6|63&u(),t-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof n&&(n=function(){return a});var v=function e(){var c,d,v=u(),y=v>>5,b=31&v;if(7===y)switch(b){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=h(),r=32768&n,i=31744&n,o=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!==o)return o*s;return t.setUint32(0,r<<16|i<<13|o<<13),t.getFloat32(0)}();case 26:return o(r.getFloat32(i),4);case 27:return o(r.getFloat64(i),8)}if((d=p(b))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var w=[],x=0;(d=m(y))>=0;)x+=d,w.push(l(d));var _=new Uint8Array(x),E=0;for(c=0;c<w.length;++c)_.set(w[c],E),E+=w[c].length;return _}return l(d);case 3:var S=[];if(d<0)for(;(d=m(y))>=0;)g(S,d);else g(S,d);return String.fromCharCode.apply(null,S);case 4:var C;if(d<0)for(C=[];!f();)C.push(e());else for(C=new Array(d),c=0;c<d;++c)C[c]=e();return C;case 5:var A={};for(c=0;c<d||d<0&&!f();++c){A[e()]=e()}return A;case 6:return t(e(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return a;default:return n(d)}}}();if(i!==e.byteLength)throw"Remaining bytes";return v}})?r.call(t,n,t,e):r)===a||(e.exports=i)}()}});
//# sourceMappingURL=index.cc816b38a99416e5bfe1.js.map